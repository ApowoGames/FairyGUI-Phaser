{"version":3,"file":"fairygui.esm.js","sources":["../src/FieldTypes.ts","../src/tween/EaseType.ts","../src/tween/EaseManager.ts","../src/utils/ColorMatrix.ts","../src/utils/ToolSet.ts","../src/tween/GPathPoint.ts","../src/tween/GPath.ts","../src/tween/TweenValue.ts","../src/tween/GTweener.ts","../src/tween/TweenManager.ts","../src/tween/GTween.ts","../src/gears/GearBase.ts","../src/gears/GearDisplay2.ts","../src/gears/GearDisplay.ts","../src/UIConfig.ts","../src/event/DisplayObjectEvent.ts","../src/Events.ts","../src/RelationItem.ts","../src/Relations.ts","../src/gears/GearAnimation.ts","../src/gears/GearColor.ts","../src/gears/GearFontSize.ts","../src/gears/GearIcon.ts","../src/gears/GearLook.ts","../src/gears/GearSize.ts","../src/gears/GearText.ts","../src/gears/GearXY.ts","../src/GObject.ts","../src/GGroup.ts","../src/GGraph.ts","../src/display/FillUtils.ts","../src/display/Graphics.ts","../src/display/Image.ts","../src/GImage.ts","../src/GMovieClip.ts","../src/utils/DOMEventManager.ts","../src/display/UIStage.ts","../src/TranslationHelper.ts","../src/utils/HitArea.ts","../src/utils/PixelHitTest.ts","../src/utils/ChildHitArea.ts","../src/Margin.ts","../src/ScrollPane.ts","../src/utils/ByteBuffer.ts","../src/PackageItem.ts","../src/UIPackage.ts","../src/Transition.ts","../src/action/ControllerAction.ts","../src/action/PlayTransitionAction.ts","../src/action/ChangePageAction.ts","../src/Controller.ts","../src/GComponent.ts","../src/GRoot.ts","../src/GTextField.ts","../src/utils/UBBParser.ts","../src/GRichTextField.ts","../src/GTextInput.ts","../src/GObjectPool.ts","../src/AssetProxy.ts","../src/GLoader.ts","../src/GButton.ts","../src/GLabel.ts","../src/GComboBox.ts","../src/GSlider.ts","../src/GProgressBar.ts","../src/GScrollBar.ts","../src/GList.ts","../src/GTreeNode.ts","../src/GTree.ts","../src/Window.ts","../src/PopupMenu.ts","../src/UIObjectFactory.ts","../src/DragDropManager.ts","../src/AsyncOperation.ts","../src/display/MovieClip.ts","../src/event/Event.ts"],"sourcesContent":["export enum ButtonMode {\n    Common,\n    Check,\n    Radio\n}\nexport enum AutoSizeType {\n    None,\n    Both,\n    Height\n}\nexport enum AlignType {\n    Left,\n    Center,\n    Right\n}\nexport enum VertAlignType {\n    Top,\n    Middle,\n    Bottom\n}\nexport enum LoaderFillType {\n    None,\n    Scale,\n    ScaleMatchHeight,\n    ScaleMatchWidth,\n    ScaleFree,\n    ScaleNoBorder\n}\nexport enum ListLayoutType {\n    SingleColumn,\n    SingleRow,\n    FlowHorizontal,\n    FlowVertical,\n    Pagination\n}\nexport enum ListSelectionMode {\n    Single,\n    Multiple,\n    Multiple_SingleClick,\n    None\n}\nexport enum OverflowType {\n    Visible,\n    Hidden,\n    Scroll\n}\nexport enum PackageItemType {\n    Image,\n    MovieClip,\n    Sound,\n    Component,\n    Atlas,\n    Font,\n    Swf,\n    Misc,\n    Unknown,\n    Spine,\n    DragonBones\n}\nexport enum ObjectType {\n    Image,\n    MovieClip,\n    Swf,\n    Graph,\n    Loader,\n    Group,\n    Text,\n    RichText,\n    InputText,\n    Component,\n    List,\n    Label,\n    Button,\n    ComboBox,\n    ProgressBar,\n    Slider,\n    ScrollBar,\n    Tree,\n    Loader3D\n}\nexport enum ProgressTitleType {\n    Percent,\n    ValueAndMax,\n    Value,\n    Max\n}\nexport enum ScrollBarDisplayType {\n    Default,\n    Visible,\n    Auto,\n    Hidden\n}\nexport enum ScrollType {\n    Horizontal,\n    Vertical,\n    Both\n}\nexport enum FlipType {\n    None,\n    Horizontal,\n    Vertical,\n    Both\n}\nexport enum ChildrenRenderOrder {\n    Ascent,\n    Descent,\n    Arch\n}\nexport enum GroupLayoutType {\n    None,\n    Horizontal,\n    Vertical\n}\nexport enum PopupDirection {\n    Auto,\n    Up,\n    Down\n}\nexport enum RelationType {\n    Left_Left = 0,\n    Left_Center = 1,\n    Left_Right = 2,\n    Center_Center = 3,\n    Right_Left = 4,\n    Right_Center = 5,\n    Right_Right = 6,\n\n    Top_Top = 7,\n    Top_Middle = 8,\n    Top_Bottom = 9,\n    Middle_Middle = 10,\n    Bottom_Top = 11,\n    Bottom_Middle = 12,\n    Bottom_Bottom = 13,\n\n    Width = 14,\n    Height = 15,\n\n    LeftExt_Left = 16,\n    LeftExt_Right = 17,\n    RightExt_Left = 18,\n    RightExt_Right = 19,\n    TopExt_Top = 20,\n    TopExt_Bottom = 21,\n    BottomExt_Top = 22,\n    BottomExt_Bottom = 23,\n\n    Size = 24\n}\n\nexport enum FillMethod {\n    None,\n    Horizontal,\n    Vertical,\n    Radial90,\n    Radial180,\n    Radial360,\n}\n\nexport enum FillOrigin {\n    Top,\n    Bottom,\n    Left,\n    Right,\n\n    TopLeft = 0,\n    TopRight = 1,\n    BottomLeft = 2,\n    BottomRight = 3\n}\n\nexport enum FillOrigin90 {\n    TopLeft,\n    TopRight,\n    BottomLeft,\n    BottomRight\n}\n\nexport enum ObjectPropID {\n    Text,\n    Icon,\n    Color,\n    OutlineColor,\n    Playing,\n    Frame,\n    DeltaTime,\n    TimeScale,\n    FontSize,\n    Selected\n}\n","export class EaseType {\r\n    public static Linear: number = 0;\r\n    public static SineIn: number = 1;\r\n    public static SineOut: number = 2;\r\n    public static SineInOut: number = 3;\r\n    public static QuadIn: number = 4;\r\n    public static QuadOut: number = 5;\r\n    public static QuadInOut: number = 6;\r\n    public static CubicIn: number = 7;\r\n    public static CubicOut: number = 8;\r\n    public static CubicInOut: number = 9;\r\n    public static QuartIn: number = 10;\r\n    public static QuartOut: number = 11;\r\n    public static QuartInOut: number = 12;\r\n    public static QuintIn: number = 13;\r\n    public static QuintOut: number = 14;\r\n    public static QuintInOut: number = 15;\r\n    public static ExpoIn: number = 16;\r\n    public static ExpoOut: number = 17;\r\n    public static ExpoInOut: number = 18;\r\n    public static CircIn: number = 19;\r\n    public static CircOut: number = 20;\r\n    public static CircInOut: number = 21;\r\n    public static ElasticIn: number = 22;\r\n    public static ElasticOut: number = 23;\r\n    public static ElasticInOut: number = 24;\r\n    public static BackIn: number = 25;\r\n    public static BackOut: number = 26;\r\n    public static BackInOut: number = 27;\r\n    public static BounceIn: number = 28;\r\n    public static BounceOut: number = 29;\r\n    public static BounceInOut: number = 30;\r\n    public static Custom: number = 31;\r\n}","import { EaseType } from './EaseType';\r\n// Author: Daniele Giardini - http://www.demigiant.com\r\n// Created: 2014/07/19 14:11\r\n// \r\n// License Copyright (c) Daniele Giardini.\r\n// This work is subject to the terms at http://dotween.demigiant.com/license.php\r\n// \r\n// =============================================================\r\n// Contains Daniele Giardini's C# port of the easing equations created by Robert Penner\r\n// (all easing equations except for Flash, InFlash, OutFlash, InOutFlash,\r\n// which use some parts of Robert Penner's equations but were created by Daniele Giardini)\r\n// http://robertpenner.com/easing, see license below:\r\n// =============================================================\r\n//\r\n// TERMS OF USE - EASING EQUATIONS\r\n//\r\n// Open source under the BSD License.\r\n//\r\n// Copyright ? 2001 Robert Penner\r\n// All rights reserved.\r\n//\r\n// Redistribution and use in source and binary forms, with or without modification,\r\n// are permitted provided that the following conditions are met:\r\n//\r\n// - Redistributions of source code must retain the above copyright notice,\r\n// this list of conditions and the following disclaimer.\r\n// - Redistributions in binary form must reproduce the above copyright notice,\r\n// this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\r\n// - Neither the name of the author nor the names of contributors may be used to endorse\r\n// or promote products derived from this software without specific prior written permission.\r\n// - THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\r\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,\r\n// THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\r\n// IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\r\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\r\n// LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,\r\n// STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\r\n// EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n\r\nconst _PiOver2: number = Math.PI * 0.5;\r\nconst _TwoPi: number = Math.PI * 2;\r\n\r\nexport function evaluateEase(easeType: number, time: number, duration: number, overshootOrAmplitude: number, period: number): number {\r\n    switch (easeType) {\r\n        case EaseType.Linear:\r\n            return time / duration;\r\n        case EaseType.SineIn:\r\n            return -Math.cos(time / duration * _PiOver2) + 1;\r\n        case EaseType.SineOut:\r\n            return Math.sin(time / duration * _PiOver2);\r\n        case EaseType.SineInOut:\r\n            return -0.5 * (Math.cos(Math.PI * time / duration) - 1);\r\n        case EaseType.QuadIn:\r\n            return (time /= duration) * time;\r\n        case EaseType.QuadOut:\r\n            return -(time /= duration) * (time - 2);\r\n        case EaseType.QuadInOut:\r\n            if ((time /= duration * 0.5) < 1) return 0.5 * time * time;\r\n            return -0.5 * ((--time) * (time - 2) - 1);\r\n        case EaseType.CubicIn:\r\n            return (time /= duration) * time * time;\r\n        case EaseType.CubicOut:\r\n            return ((time = time / duration - 1) * time * time + 1);\r\n        case EaseType.CubicInOut:\r\n            if ((time /= duration * 0.5) < 1) return 0.5 * time * time * time;\r\n            return 0.5 * ((time -= 2) * time * time + 2);\r\n        case EaseType.QuartIn:\r\n            return (time /= duration) * time * time * time;\r\n        case EaseType.QuartOut:\r\n            return -((time = time / duration - 1) * time * time * time - 1);\r\n        case EaseType.QuartInOut:\r\n            if ((time /= duration * 0.5) < 1) return 0.5 * time * time * time * time;\r\n            return -0.5 * ((time -= 2) * time * time * time - 2);\r\n        case EaseType.QuintIn:\r\n            return (time /= duration) * time * time * time * time;\r\n        case EaseType.QuintOut:\r\n            return ((time = time / duration - 1) * time * time * time * time + 1);\r\n        case EaseType.QuintInOut:\r\n            if ((time /= duration * 0.5) < 1) return 0.5 * time * time * time * time * time;\r\n            return 0.5 * ((time -= 2) * time * time * time * time + 2);\r\n        case EaseType.ExpoIn:\r\n            return (time == 0) ? 0 : Math.pow(2, 10 * (time / duration - 1));\r\n        case EaseType.ExpoOut:\r\n            if (time == duration) return 1;\r\n            return (-Math.pow(2, -10 * time / duration) + 1);\r\n        case EaseType.ExpoInOut:\r\n            if (time == 0) return 0;\r\n            if (time == duration) return 1;\r\n            if ((time /= duration * 0.5) < 1) return 0.5 * Math.pow(2, 10 * (time - 1));\r\n            return 0.5 * (-Math.pow(2, -10 * --time) + 2);\r\n        case EaseType.CircIn:\r\n            return -(Math.sqrt(1 - (time /= duration) * time) - 1);\r\n        case EaseType.CircOut:\r\n            return Math.sqrt(1 - (time = time / duration - 1) * time);\r\n        case EaseType.CircInOut:\r\n            if ((time /= duration * 0.5) < 1) return -0.5 * (Math.sqrt(1 - time * time) - 1);\r\n            return 0.5 * (Math.sqrt(1 - (time -= 2) * time) + 1);\r\n        case EaseType.ElasticIn:\r\n            var s0: number;\r\n            if (time == 0) return 0;\r\n            if ((time /= duration) == 1) return 1;\r\n            if (period == 0) period = duration * 0.3;\r\n            if (overshootOrAmplitude < 1) {\r\n                overshootOrAmplitude = 1;\r\n                s0 = period / 4;\r\n            }\r\n            else s0 = period / _TwoPi * Math.asin(1 / overshootOrAmplitude);\r\n            return -(overshootOrAmplitude * Math.pow(2, 10 * (time -= 1)) * Math.sin((time * duration - s0) * _TwoPi / period));\r\n        case EaseType.ElasticOut:\r\n            var s1: number;\r\n            if (time == 0) return 0;\r\n            if ((time /= duration) == 1) return 1;\r\n            if (period == 0) period = duration * 0.3;\r\n            if (overshootOrAmplitude < 1) {\r\n                overshootOrAmplitude = 1;\r\n                s1 = period / 4;\r\n            }\r\n            else s1 = period / _TwoPi * Math.asin(1 / overshootOrAmplitude);\r\n            return (overshootOrAmplitude * Math.pow(2, -10 * time) * Math.sin((time * duration - s1) * _TwoPi / period) + 1);\r\n        case EaseType.ElasticInOut:\r\n            var s: number;\r\n            if (time == 0) return 0;\r\n            if ((time /= duration * 0.5) == 2) return 1;\r\n            if (period == 0) period = duration * (0.3 * 1.5);\r\n            if (overshootOrAmplitude < 1) {\r\n                overshootOrAmplitude = 1;\r\n                s = period / 4;\r\n            }\r\n            else s = period / _TwoPi * Math.asin(1 / overshootOrAmplitude);\r\n            if (time < 1) return -0.5 * (overshootOrAmplitude * Math.pow(2, 10 * (time -= 1)) * Math.sin((time * duration - s) * _TwoPi / period));\r\n            return overshootOrAmplitude * Math.pow(2, -10 * (time -= 1)) * Math.sin((time * duration - s) * _TwoPi / period) * 0.5 + 1;\r\n        case EaseType.BackIn:\r\n            return (time /= duration) * time * ((overshootOrAmplitude + 1) * time - overshootOrAmplitude);\r\n        case EaseType.BackOut:\r\n            return ((time = time / duration - 1) * time * ((overshootOrAmplitude + 1) * time + overshootOrAmplitude) + 1);\r\n        case EaseType.BackInOut:\r\n            if ((time /= duration * 0.5) < 1) return 0.5 * (time * time * (((overshootOrAmplitude *= (1.525)) + 1) * time - overshootOrAmplitude));\r\n            return 0.5 * ((time -= 2) * time * (((overshootOrAmplitude *= (1.525)) + 1) * time + overshootOrAmplitude) + 2);\r\n        case EaseType.BounceIn:\r\n            return bounce_easeIn(time, duration);\r\n        case EaseType.BounceOut:\r\n            return bounce_easeOut(time, duration);\r\n        case EaseType.BounceInOut:\r\n            return bounce_easeInOut(time, duration);\r\n\r\n        default:\r\n            return -(time /= duration) * (time - 2);\r\n    }\r\n}\r\n\r\nfunction bounce_easeIn(time: number, duration: number): number {\r\n    return 1 - bounce_easeOut(duration - time, duration);\r\n}\r\n\r\nfunction bounce_easeOut(time: number, duration: number): number {\r\n    if ((time /= duration) < (1 / 2.75)) {\r\n        return (7.5625 * time * time);\r\n    }\r\n    if (time < (2 / 2.75)) {\r\n        return (7.5625 * (time -= (1.5 / 2.75)) * time + 0.75);\r\n    }\r\n    if (time < (2.5 / 2.75)) {\r\n        return (7.5625 * (time -= (2.25 / 2.75)) * time + 0.9375);\r\n    }\r\n    return (7.5625 * (time -= (2.625 / 2.75)) * time + 0.984375);\r\n}\r\n\r\nfunction bounce_easeInOut(time: number, duration: number): number {\r\n    if (time < duration * 0.5) {\r\n        return bounce_easeIn(time * 2, duration) * 0.5;\r\n    }\r\n    return bounce_easeOut(time * 2 - duration, duration) * 0.5 + 0.5;\r\n}\r\n","export class ColorMatrix {\r\n    public readonly matrix: Array<number>;\r\n\r\n    public constructor(p_brightness?: number, p_contrast?: number, p_saturation?: number, p_hue?: number) {\r\n        this.matrix = new Array<number>(LENGTH);\r\n        this.reset();\r\n\r\n        if (p_brightness !== undefined || p_contrast !== undefined || p_saturation !== undefined || p_hue !== undefined)\r\n            this.adjustColor(p_brightness, p_contrast, p_saturation, p_hue);\r\n    }\r\n\r\n    public reset(): void {\r\n        for (var i: number = 0; i < LENGTH; i++) {\r\n            this.matrix[i] = IDENTITY_MATRIX[i];\r\n        }\r\n    }\r\n\r\n    public invert(): void {\r\n        this.multiplyMatrix([-1, 0, 0, 0, 255,\r\n            0, -1, 0, 0, 255,\r\n            0, 0, -1, 0, 255,\r\n            0, 0, 0, 1, 0]);\r\n    }\r\n\r\n    public adjustColor(p_brightness: number, p_contrast: number, p_saturation: number, p_hue: number): void {\r\n        this.adjustHue(p_hue || 0);\r\n        this.adjustContrast(p_contrast || 0);\r\n        this.adjustBrightness(p_brightness || 0);\r\n        this.adjustSaturation(p_saturation || 0);\r\n    }\r\n\r\n    public adjustBrightness(p_val: number): void {\r\n        p_val = this.cleanValue(p_val, 1) * 255;\r\n        this.multiplyMatrix([\r\n            1, 0, 0, 0, p_val,\r\n            0, 1, 0, 0, p_val,\r\n            0, 0, 1, 0, p_val,\r\n            0, 0, 0, 1, 0\r\n        ]);\r\n    }\r\n\r\n    public adjustContrast(p_val: number): void {\r\n        p_val = this.cleanValue(p_val, 1);\r\n        var s: number = p_val + 1;\r\n        var o: number = 128 * (1 - s);\r\n        this.multiplyMatrix([\r\n            s, 0, 0, 0, o,\r\n            0, s, 0, 0, o,\r\n            0, 0, s, 0, o,\r\n            0, 0, 0, 1, 0\r\n        ]);\r\n    }\r\n\r\n    public adjustSaturation(p_val: number): void {\r\n        p_val = this.cleanValue(p_val, 1);\r\n        p_val += 1;\r\n\r\n        var invSat: number = 1 - p_val;\r\n        var invLumR: number = invSat * LUMA_R;\r\n        var invLumG: number = invSat * LUMA_G;\r\n        var invLumB: number = invSat * LUMA_B;\r\n\r\n        this.multiplyMatrix([\r\n            (invLumR + p_val), invLumG, invLumB, 0, 0,\r\n            invLumR, (invLumG + p_val), invLumB, 0, 0,\r\n            invLumR, invLumG, (invLumB + p_val), 0, 0,\r\n            0, 0, 0, 1, 0\r\n        ]);\r\n    }\r\n\r\n    public adjustHue(p_val: number): void {\r\n        p_val = this.cleanValue(p_val, 1);\r\n        p_val *= Math.PI;\r\n\r\n        var cos: number = Math.cos(p_val);\r\n        var sin: number = Math.sin(p_val);\r\n\r\n        this.multiplyMatrix([\r\n            ((LUMA_R + (cos * (1 - LUMA_R))) + (sin * -(LUMA_R))), ((LUMA_G + (cos * -(LUMA_G))) + (sin * -(LUMA_G))), ((LUMA_B + (cos * -(LUMA_B))) + (sin * (1 - LUMA_B))), 0, 0,\r\n            ((LUMA_R + (cos * -(LUMA_R))) + (sin * 0.143)), ((LUMA_G + (cos * (1 - LUMA_G))) + (sin * 0.14)), ((LUMA_B + (cos * -(LUMA_B))) + (sin * -0.283)), 0, 0,\r\n            ((LUMA_R + (cos * -(LUMA_R))) + (sin * -((1 - LUMA_R)))), ((LUMA_G + (cos * -(LUMA_G))) + (sin * LUMA_G)), ((LUMA_B + (cos * (1 - LUMA_B))) + (sin * LUMA_B)), 0, 0,\r\n            0, 0, 0, 1, 0\r\n        ]);\r\n    }\r\n\r\n    public concat(p_matrix: Array<number>): void {\r\n        if (p_matrix.length != LENGTH) { return; }\r\n        this.multiplyMatrix(p_matrix);\r\n    }\r\n\r\n    public clone(): ColorMatrix {\r\n        var result: ColorMatrix = new ColorMatrix();\r\n        result.copyMatrix(this.matrix);\r\n        return result;\r\n    }\r\n\r\n    protected copyMatrix(p_matrix: Array<number>): void {\r\n        var l: number = LENGTH;\r\n        for (var i: number = 0; i < l; i++) {\r\n            this.matrix[i] = p_matrix[i];\r\n        }\r\n    }\r\n\r\n    protected multiplyMatrix(p_matrix: Array<number>): void {\r\n        var col: Array<number> = [];\r\n\r\n        var i: number = 0;\r\n\r\n        for (var y: number = 0; y < 4; ++y) {\r\n            for (var x: number = 0; x < 5; ++x) {\r\n                col[i + x] = p_matrix[i] * this.matrix[x] +\r\n                    p_matrix[i + 1] * this.matrix[x + 5] +\r\n                    p_matrix[i + 2] * this.matrix[x + 10] +\r\n                    p_matrix[i + 3] * this.matrix[x + 15] +\r\n                    (x == 4 ? p_matrix[i + 4] : 0);\r\n            }\r\n\r\n            i += 5;\r\n        }\r\n\r\n        this.copyMatrix(col);\r\n    }\r\n\r\n    protected cleanValue(p_val: number, p_limit: number): number {\r\n        return Math.min(p_limit, Math.max(-p_limit, p_val));\r\n    }\r\n}\r\n\r\n// identity matrix constant:\r\nconst IDENTITY_MATRIX: Array<number> = [\r\n    1, 0, 0, 0, 0,\r\n    0, 1, 0, 0, 0,\r\n    0, 0, 1, 0, 0,\r\n    0, 0, 0, 1, 0\r\n];\r\nconst LENGTH: number = IDENTITY_MATRIX.length;\r\n\r\nconst LUMA_R: number = 0.299;\r\nconst LUMA_G: number = 0.587;\r\nconst LUMA_B: number = 0.114;\r\n","import { ColorMatrix } from './ColorMatrix';\nimport { GObject } from './../GObject';\nexport class ToolSet {\n    public static startsWith(source: string, str: string, ignoreCase?: boolean): boolean {\n        if (!source)\n            return false;\n        else if (source.length < str.length)\n            return false;\n        else {\n            source = source.substring(0, str.length);\n            if (!ignoreCase)\n                return source == str;\n            else\n                return source.toLowerCase() == str.toLowerCase();\n        }\n    }\n\n    public static endsWith(source: string, str: string, ignoreCase?: boolean): boolean {\n        if (!source)\n            return false;\n        else if (source.length < str.length)\n            return false;\n        else {\n            source = source.substring(source.length - str.length);\n            if (!ignoreCase)\n                return source == str;\n            else\n                return source.toLowerCase() == str.toLowerCase();\n        }\n    }\n\n    public static trimRight(targetString: string): string {\n        var tempChar: string = \"\";\n        for (var i: number = targetString.length - 1; i >= 0; i--) {\n            tempChar = targetString.charAt(i);\n            if (tempChar != \" \" && tempChar != \"\\n\" && tempChar != \"\\r\") {\n                break;\n            }\n        }\n        return targetString.substring(0, i + 1);\n    }\n\n    public static convertToHtmlColor(argb: number, hasAlpha?: boolean): string {\n        var alpha: string;\n        if (hasAlpha)\n            alpha = (argb >> 24 & 0xFF).toString(16);\n        else\n            alpha = \"\";\n        var red: string = (argb >> 16 & 0xFF).toString(16);\n        var green: string = (argb >> 8 & 0xFF).toString(16);\n        var blue: string = (argb & 0xFF).toString(16);\n        if (alpha.length == 1)\n            alpha = \"0\" + alpha;\n        if (red.length == 1)\n            red = \"0\" + red;\n        if (green.length == 1)\n            green = \"0\" + green;\n        if (blue.length == 1)\n            blue = \"0\" + blue;\n        return \"#\" + alpha + red + green + blue;\n    }\n\n    public static convertFromHtmlColor(str: string, hasAlpha?: boolean): number {\n        if (str.length < 1)\n            return 0;\n\n        if (str.charAt(0) == \"#\")\n            str = str.substr(1);\n\n        if (str.length == 8)\n            return (parseInt(str.substr(0, 2), 16) << 24) + parseInt(str.substr(2), 16);\n        else if (hasAlpha)\n            return 0xFF000000 + parseInt(str, 16);\n        else\n            return parseInt(str, 16);\n    }\n\n    public static displayObjectToGObject(obj: any): GObject {\n        // public static displayObjectToGObject(obj: Laya.Node): GObject {\n        // while (obj && !(obj instanceof Laya.Stage)) {\n        //     if (obj[\"$owner\"])\n        //         return obj[\"$owner\"];\n\n        //     obj = obj.parent;\n        // }\n        // TODO\n        throw new Error(\"TODO\");\n        return null;\n    }\n\n    public static encodeHTML(str: string): string {\n        if (!str)\n            return \"\";\n        else\n            return str.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\")\n                .replace(/>/g, \"&gt;\").replace(/'/g, \"&apos;\").replace(/\"/g, \"&quot;\");\n    }\n\n    public static clamp(value: number, min: number, max: number): number {\n        if (value < min)\n            value = min;\n        else if (value > max)\n            value = max;\n        return value;\n    }\n\n    public static clamp01(value: number): number {\n        if (isNaN(value))\n            value = 0;\n        else if (value > 1)\n            value = 1;\n        else if (value < 0)\n            value = 0;\n        return value;\n    }\n\n    public static lerp(start: number, end: number, percent: number): number {\n        return (start + percent * (end - start));\n    }\n\n    public static repeat(t: number, length: number): number {\n        return t - Math.floor(t / length) * length;\n    }\n\n    public static distance(x1: number, y1: number, x2: number, y2: number): number {\n        return Math.sqrt(Math.pow(x1 - x2, 2) + Math.pow(y1 - y2, 2));\n    }\n\n    // public static setColorFilter(obj: Laya.Sprite, color?: string | number[] | boolean): void {\n    public static setColorFilter(obj: any, color?: string | number[] | boolean): void {\n        // TODO\n        console.log(\"todo color filter\");\n        // throw new Error(\"TODO\");\n        // var filter: Laya.ColorFilter = (<any>obj).$_colorFilter_; //cached instance\n        // var filters: any[] = obj.filters;\n\n        // var toApplyColor: any;\n        // var toApplyGray: boolean;\n        // var tp: string = typeof (color);\n        // if (tp == \"boolean\") //gray\n        // {\n        //     toApplyColor = filter ? (<any>filter).$_color_ : null;\n        //     toApplyGray = <boolean>color;\n        // }\n        // else {\n        //     if (tp == \"string\") {\n        //         var arr: any[] = Laya.ColorUtils.create(color).arrColor;\n        //         if (arr[0] == 1 && arr[1] == 1 && arr[2] == 1)\n        //             color = null;\n        //         else {\n        //             color = [arr[0], 0, 0, 0, 0,\n        //                 0, arr[1], 0, 0, 0,\n        //                 0, 0, arr[2], 0, 0,\n        //                 0, 0, 0, 1, 0];\n        //         }\n        //     }\n        //     toApplyColor = color;\n        //     toApplyGray = filter ? (<any>filter).$_grayed_ : false;\n        // }\n\n        // if ((!toApplyColor && toApplyColor != 0) && !toApplyGray) {\n        //     if (filters && filter) {\n        //         let i: number = filters.indexOf(filter);\n        //         if (i != -1) {\n        //             filters.splice(i, 1);\n        //             if (filters.length > 0)\n        //                 obj.filters = filters;\n        //             else\n        //                 obj.filters = null;\n        //         }\n        //     }\n        //     return;\n        // }\n\n        // if (!filter) {\n        //     filter = new Laya.ColorFilter();\n        //     (<any>obj).$_colorFilter_ = filter;\n        // }\n        // if (!filters)\n        //     filters = [filter];\n        // else {\n        //     let i: number = filters.indexOf(filter);\n        //     if (i == -1)\n        //         filters.push(filter);\n        // }\n        // obj.filters = filters;\n\n        // (<any>filter).$_color_ = toApplyColor;\n        // (<any>filter).$_grayed_ = toApplyGray;\n\n        // filter.reset();\n\n        // if (toApplyGray)\n        //     filter.gray();\n        // else if (toApplyColor.length == 20)\n        //     filter.setByMatrix(toApplyColor);\n        // else\n        //     filter.setByMatrix(getColorMatrix(toApplyColor[0], toApplyColor[1], toApplyColor[2], toApplyColor[3]));\n    }\n}\n\nlet helper: ColorMatrix = new ColorMatrix();\nfunction getColorMatrix(p_brightness: number, p_contrast: number, p_saturation: number, p_hue: number, result?: number[]): Array<number> {\n    result = result || new Array<number>(ColorMatrix.length);\n    helper.reset();\n    helper.adjustColor(p_brightness, p_contrast, p_saturation, p_hue);\n    helper.matrix.forEach((e, i) => result[i] = e);\n    return result;\n}\n","export enum CurveType {\n    CRSpline,\n    Bezier,\n    CubicBezier,\n    Straight\n}\n\nexport class GPathPoint {\n    public x: number;\n    public y: number;\n\n    public control1_x: number;\n    public control1_y: number;\n\n    public control2_x: number;\n    public control2_y: number;\n\n    public curveType: number;\n\n    constructor() {\n        this.x = 0;\n        this.y = 0;\n        this.control1_x = 0;\n        this.control1_y = 0;\n        this.control2_x = 0;\n        this.control2_y = 0;\n        this.curveType = 0;\n    }\n\n    public static newPoint(x: number = 0, y: number = 0, curveType: number = 0): GPathPoint {\n        var pt: GPathPoint = new GPathPoint();\n        pt.x = x;\n        pt.y = y;\n        pt.control1_x = 0;\n        pt.control1_y = 0;\n        pt.control2_x = 0;\n        pt.control2_y = 0;\n        pt.curveType = curveType;\n\n        return pt;\n    }\n\n    public static newBezierPoint(x: number = 0, y: number = 0,\n        control1_x: number = 0, control1_y: number = 0): GPathPoint {\n        var pt: GPathPoint = new GPathPoint();\n        pt.x = x;\n        pt.y = y;\n        pt.control1_x = control1_x;\n        pt.control1_y = control1_y;\n        pt.control2_x = 0;\n        pt.control2_y = 0;\n        pt.curveType = CurveType.Bezier;\n\n        return pt;\n    }\n\n    public static newCubicBezierPoint(x: number = 0, y: number = 0,\n        control1_x: number = 0, control1_y: number = 0,\n        control2_x: number = 0, control2_y: number = 0): GPathPoint {\n        var pt: GPathPoint = new GPathPoint();\n        pt.x = x;\n        pt.y = y;\n        pt.control1_x = control1_x;\n        pt.control1_y = control1_y;\n        pt.control2_x = control2_x;\n        pt.control2_y = control2_y;\n        pt.curveType = CurveType.CubicBezier;\n\n        return pt;\n    }\n\n    public clone(): GPathPoint {\n        var ret: GPathPoint = new GPathPoint();\n        ret.x = this.x;\n        ret.y = this.y;\n        ret.control1_x = this.control1_x;\n        ret.control1_y = this.control1_y;\n        ret.control2_x = this.control2_x;\n        ret.control2_y = this.control2_y;\n        ret.curveType = this.curveType;\n\n        return ret;\n    }\n}\n","import { ToolSet } from './../utils/ToolSet';\nimport { GPathPoint, CurveType } from './GPathPoint';\n\nexport class GPath {\n    private _segments: Array<Segment>;\n    private _points: Array<Phaser.Geom.Point>;\n    private _fullLength: number;\n\n    constructor() {\n        this._segments = new Array<Segment>();\n        this._points = new Array<Phaser.Geom.Point>();\n    }\n\n    public get length(): number {\n        return this._fullLength;\n    }\n\n    public create(pt1: Array<GPathPoint> | GPathPoint, pt2?: GPathPoint, pt3?: GPathPoint, pt4?: GPathPoint): void {\n        var points: Array<GPathPoint>;\n        if (Array.isArray(pt1))\n            points = pt1;\n        else {\n            points = new Array<GPathPoint>();\n            points.push(pt1);\n            points.push(pt2);\n            if (pt3)\n                points.push(pt3);\n            if (pt4)\n                points.push(pt4);\n        }\n\n        this._segments.length = 0;\n        this._points.length = 0;\n        this._fullLength = 0;\n\n        var cnt: number = points.length;\n        if (cnt == 0)\n            return;\n\n        var splinePoints: Array<Phaser.Geom.Point> = s_points;\n        splinePoints.length = 0;\n\n        var prev: GPathPoint = points[0];\n        if (prev.curveType == CurveType.CRSpline)\n            splinePoints.push(new Phaser.Geom.Point(prev.x, prev.y));\n\n        for (var i: number = 1; i < cnt; i++) {\n            var current: GPathPoint = points[i];\n\n            if (prev.curveType != CurveType.CRSpline) {\n                var seg: Segment = {};\n                seg.type = prev.curveType;\n                seg.ptStart = this._points.length;\n                if (prev.curveType == CurveType.Straight) {\n                    seg.ptCount = 2;\n                    this._points.push(new Phaser.Geom.Point(prev.x, prev.y));\n                    this._points.push(new Phaser.Geom.Point(current.x, current.y));\n                }\n                else if (prev.curveType == CurveType.Bezier) {\n                    seg.ptCount = 3;\n                    this._points.push(new Phaser.Geom.Point(prev.x, prev.y));\n                    this._points.push(new Phaser.Geom.Point(current.x, current.y));\n                    this._points.push(new Phaser.Geom.Point(prev.control1_x, prev.control1_y));\n                }\n                else if (prev.curveType == CurveType.CubicBezier) {\n                    seg.ptCount = 4;\n                    this._points.push(new Phaser.Geom.Point(prev.x, prev.y));\n                    this._points.push(new Phaser.Geom.Point(current.x, current.y));\n                    this._points.push(new Phaser.Geom.Point(prev.control1_x, prev.control1_y));\n                    this._points.push(new Phaser.Geom.Point(prev.control2_x, prev.control2_y));\n                }\n                seg.length = ToolSet.distance(prev.x, prev.y, current.x, current.y);\n                this._fullLength += seg.length;\n                this._segments.push(seg);\n            }\n\n            if (current.curveType != CurveType.CRSpline) {\n                if (splinePoints.length > 0) {\n                    splinePoints.push(new Phaser.Geom.Point(current.x, current.y));\n                    this.createSplineSegment();\n                }\n            }\n            else\n                splinePoints.push(new Phaser.Geom.Point(current.x, current.y));\n\n            prev = current;\n        }\n\n        if (splinePoints.length > 1)\n            this.createSplineSegment();\n    }\n\n    private createSplineSegment(): void {\n        var splinePoints: Array<Phaser.Geom.Point> = s_points;\n        var cnt: number = splinePoints.length;\n        splinePoints.splice(0, 0, splinePoints[0]);\n        splinePoints.push(splinePoints[cnt]);\n        splinePoints.push(splinePoints[cnt]);\n        cnt += 3;\n\n        var seg: Segment = {};\n        seg.type = CurveType.CRSpline;\n        seg.ptStart = this._points.length;\n        seg.ptCount = cnt;\n\n        this._points = this._points.concat(splinePoints);\n\n        seg.length = 0;\n        for (var i: number = 1; i < cnt; i++) {\n            seg.length += ToolSet.distance(splinePoints[i - 1].x, splinePoints[i - 1].y,\n                splinePoints[i].x, splinePoints[i].y);\n        }\n        this._fullLength += seg.length;\n        this._segments.push(seg);\n        splinePoints.length = 0;\n    }\n\n    public clear(): void {\n        this._segments.length = 0;\n        this._points.length = 0;\n    }\n\n    public getPointAt(t: number, result?: Phaser.Geom.Point): Phaser.Geom.Point {\n        if (!result)\n            result = new Phaser.Geom.Point();\n        else\n            result.x = result.y = 0;\n\n        t = ToolSet.clamp01(t);\n        var cnt: number = this._segments.length;\n        if (cnt == 0) {\n            return result;\n        }\n\n        var seg: Segment;\n        if (t == 1) {\n            seg = this._segments[cnt - 1];\n\n            if (seg.type == CurveType.Straight) {\n                result.x = ToolSet.lerp(this._points[seg.ptStart].x, this._points[seg.ptStart + 1].x, t);\n                result.y = ToolSet.lerp(this._points[seg.ptStart].y, this._points[seg.ptStart + 1].y, t);\n\n                return result;\n            }\n            else if (seg.type == CurveType.Bezier || seg.type == CurveType.CubicBezier)\n                return this.onBezierCurve(seg.ptStart, seg.ptCount, t, result);\n            else\n                return this.onCRSplineCurve(seg.ptStart, seg.ptCount, t, result);\n        }\n\n        var len: number = t * this._fullLength;\n        for (var i: number = 0; i < cnt; i++) {\n            seg = this._segments[i];\n\n            len -= seg.length;\n            if (len < 0) {\n                t = 1 + len / seg.length;\n\n                if (seg.type == CurveType.Straight) {\n                    result.x = ToolSet.lerp(this._points[seg.ptStart].x, this._points[seg.ptStart + 1].x, t);\n                    result.y = ToolSet.lerp(this._points[seg.ptStart].y, this._points[seg.ptStart + 1].y, t);\n                }\n                else if (seg.type == CurveType.Bezier || seg.type == CurveType.CubicBezier)\n                    result = this.onBezierCurve(seg.ptStart, seg.ptCount, t, result);\n                else\n                    result = this.onCRSplineCurve(seg.ptStart, seg.ptCount, t, result);\n\n                break;\n            }\n        }\n\n        return result;\n    }\n\n    public get segmentCount(): number {\n        return this._segments.length;\n    }\n\n    public getAnchorsInSegment(segmentIndex: number, points?: Array<Phaser.Geom.Point>): Array<Phaser.Geom.Point> {\n        if (points == null)\n            points = new Array<Phaser.Geom.Point>();\n\n        var seg: Segment = this._segments[segmentIndex];\n        for (var i: number = 0; i < seg.ptCount; i++)\n            points.push(new Phaser.Geom.Point(this._points[seg.ptStart + i].x, this._points[seg.ptStart + i].y));\n\n        return points;\n    }\n\n    public getPointsInSegment(segmentIndex: number, t0: number, t1: number, points?: Array<Phaser.Geom.Point>, ts?: Array<number>, pointDensity?: number): Array<Phaser.Geom.Point> {\n        if (points == null)\n            points = new Array<Phaser.Geom.Point>();\n        if (!pointDensity || isNaN(pointDensity))\n            pointDensity = 0.1;\n\n        if (ts)\n            ts.push(t0);\n        var seg: Segment = this._segments[segmentIndex];\n        if (seg.type == CurveType.Straight) {\n            points.push(new Phaser.Geom.Point(ToolSet.lerp(this._points[seg.ptStart].x, this._points[seg.ptStart + 1].x, t0),\n                ToolSet.lerp(this._points[seg.ptStart].y, this._points[seg.ptStart + 1].y, t0)));\n            points.push(new Phaser.Geom.Point(ToolSet.lerp(this._points[seg.ptStart].x, this._points[seg.ptStart + 1].x, t1),\n                ToolSet.lerp(this._points[seg.ptStart].y, this._points[seg.ptStart + 1].y, t1)));\n        }\n        else {\n            var func: Function;\n            if (seg.type == CurveType.Bezier || seg.type == CurveType.CubicBezier)\n                func = this.onBezierCurve;\n            else\n                func = this.onCRSplineCurve;\n\n            points.push(func.call(this, seg.ptStart, seg.ptCount, t0, new Phaser.Geom.Point()));\n            var SmoothAmount: number = Math.min(seg.length * pointDensity, 50);\n            for (var j: number = 0; j <= SmoothAmount; j++) {\n                var t: number = j / SmoothAmount;\n                if (t > t0 && t < t1) {\n                    points.push(func.call(this, seg.ptStart, seg.ptCount, t, new Phaser.Geom.Point()));\n                    if (ts)\n                        ts.push(t);\n                }\n            }\n            points.push(func.call(this, seg.ptStart, seg.ptCount, t1, new Phaser.Geom.Point()));\n        }\n\n        if (ts)\n            ts.push(t1);\n\n        return points;\n    }\n\n    public getAllPoints(points?: Array<Phaser.Geom.Point>, ts?: Array<number>, pointDensity?: number): Array<Phaser.Geom.Point> {\n        if (points == null)\n            points = new Array<Phaser.Geom.Point>();\n        if (!pointDensity || isNaN(pointDensity))\n            pointDensity = 0.1;\n\n        var cnt: number = this._segments.length;\n        for (var i: number = 0; i < cnt; i++)\n            this.getPointsInSegment(i, 0, 1, points, ts, pointDensity);\n\n        return points;\n    }\n\n    private onCRSplineCurve(ptStart: number, ptCount: number, t: number, result: Phaser.Geom.Point): Phaser.Geom.Point {\n        var adjustedIndex: number = Math.floor(t * (ptCount - 4)) + ptStart; //Since the equation works with 4 points, we adjust the starting point depending on t to return a point on the specific segment\n\n        var p0x: number = this._points[adjustedIndex].x;\n        var p0y: number = this._points[adjustedIndex].y;\n        var p1x: number = this._points[adjustedIndex + 1].x;\n        var p1y: number = this._points[adjustedIndex + 1].y;\n        var p2x: number = this._points[adjustedIndex + 2].x;\n        var p2y: number = this._points[adjustedIndex + 2].y;\n        var p3x: number = this._points[adjustedIndex + 3].x;\n        var p3y: number = this._points[adjustedIndex + 3].y;\n\n        var adjustedT: number = (t == 1) ? 1 : ToolSet.repeat(t * (ptCount - 4), 1); // Then we adjust t to be that value on that new piece of segment... for t == 1f don't use repeat (that would return 0f);\n\n        var t0: number = ((-adjustedT + 2) * adjustedT - 1) * adjustedT * 0.5;\n        var t1: number = (((3 * adjustedT - 5) * adjustedT) * adjustedT + 2) * 0.5;\n        var t2: number = ((-3 * adjustedT + 4) * adjustedT + 1) * adjustedT * 0.5;\n        var t3: number = ((adjustedT - 1) * adjustedT * adjustedT) * 0.5;\n\n        result.x = p0x * t0 + p1x * t1 + p2x * t2 + p3x * t3;\n        result.y = p0y * t0 + p1y * t1 + p2y * t2 + p3y * t3;\n\n        return result;\n    }\n\n    private onBezierCurve(ptStart: number, ptCount: number, t: number, result: Phaser.Geom.Point): Phaser.Geom.Point {\n        var t2: number = 1 - t;\n        var p0x: number = this._points[ptStart].x;\n        var p0y: number = this._points[ptStart].y;\n        var p1x: number = this._points[ptStart + 1].x;\n        var p1y: number = this._points[ptStart + 1].y;\n        var cp0x: number = this._points[ptStart + 2].x;\n        var cp0y: number = this._points[ptStart + 2].y;\n\n        if (ptCount == 4) {\n            var cp1x: number = this._points[ptStart + 3].x;\n            var cp1y: number = this._points[ptStart + 3].y;\n            result.x = t2 * t2 * t2 * p0x + 3 * t2 * t2 * t * cp0x + 3 * t2 * t * t * cp1x + t * t * t * p1x;\n            result.y = t2 * t2 * t2 * p0y + 3 * t2 * t2 * t * cp0y + 3 * t2 * t * t * cp1y + t * t * t * p1y;\n        }\n        else {\n            result.x = t2 * t2 * p0x + 2 * t2 * t * cp0x + t * t * p1x;\n            result.y = t2 * t2 * p0y + 2 * t2 * t * cp0y + t * t * p1y;\n        }\n\n        return result;\n    }\n}\n\nvar s_points: Array<Phaser.Geom.Point> = new Array<Phaser.Geom.Point>();\n\ninterface Segment {\n    type?: number;\n    length?: number;\n    ptStart?: number;\n    ptCount?: number;\n}\n","export class TweenValue {\r\n    public x: number;\r\n    public y: number;\r\n    public z: number;\r\n    public w: number;\r\n\r\n    public constructor() {\r\n        this.x = this.y = this.z = this.w = 0;\r\n    }\r\n\r\n    public get color(): number {\r\n        return (this.w << 24) + (this.x << 16) + (this.y << 8) + this.z;\r\n    }\r\n\r\n    public set color(value: number) {\r\n        this.x = (value & 0xFF0000) >> 16;\r\n        this.y = (value & 0x00FF00) >> 8;\r\n        this.z = (value & 0x0000FF);\r\n        this.w = (value & 0xFF000000) >> 24;\r\n    }\r\n\r\n    public getField(index: number): number {\r\n        switch (index) {\r\n            case 0:\r\n                return this.x;\r\n            case 1:\r\n                return this.y;\r\n            case 2:\r\n                return this.z;\r\n            case 3:\r\n                return this.w;\r\n            default:\r\n                throw new Error(\"Index out of bounds: \" + index);\r\n        }\r\n    }\r\n\r\n    public setField(index: number, value: number): void {\r\n        switch (index) {\r\n            case 0:\r\n                this.x = value;\r\n                break;\r\n            case 1:\r\n                this.y = value;\r\n                break;\r\n            case 2:\r\n                this.z = value;\r\n                break;\r\n            case 3:\r\n                this.w = value;\r\n                break;\r\n            default:\r\n                throw new Error(\"Index out of bounds: \" + index);\r\n        }\r\n    }\r\n\r\n    public setZero(): void {\r\n        this.x = this.y = this.z = this.w = 0;\r\n    }\r\n}\r\n","import { EaseType } from './EaseType';\r\nimport { TweenValue } from './TweenValue';\r\nimport { GPath } from './GPath';\r\nimport { evaluateEase } from './EaseManager';\r\nexport class GTweener {\r\n    public _target: any;\r\n    public _propType: any;\r\n    public _killed: boolean;\r\n    public _paused: boolean;\r\n\r\n    private _delay: number;\r\n    private _duration: number;\r\n    private _breakpoint: number;\r\n    private _easeType: number;\r\n    private _easeOvershootOrAmplitude: number;\r\n    private _easePeriod: number;\r\n    private _repeat: number;\r\n    private _yoyo: boolean;\r\n    private _timeScale: number;\r\n    private _snapping: boolean;\r\n    private _userData: any;\r\n    private _path: GPath;\r\n\r\n    private _onUpdate: Function;\r\n    private _onStart: Function;\r\n    private _onComplete: Function;\r\n    private _onUpdateCaller: any;\r\n    private _onStartCaller: any;\r\n    private _onCompleteCaller: any;\r\n\r\n    private _startValue: TweenValue;\r\n    private _endValue: TweenValue;\r\n    private _value: TweenValue;\r\n    private _deltaValue: TweenValue;\r\n    private _valueSize: number;\r\n\r\n    private _started: boolean;\r\n    private _ended: number;\r\n    private _elapsedTime: number;\r\n    private _normalizedTime: number;\r\n\r\n    public constructor() {\r\n        this._startValue = new TweenValue();\r\n        this._endValue = new TweenValue();\r\n        this._value = new TweenValue();\r\n        this._deltaValue = new TweenValue();\r\n\r\n        this._reset();\r\n    }\r\n\r\n    public setDelay(value: number): GTweener {\r\n        this._delay = value;\r\n        return this;\r\n    }\r\n\r\n    public get delay(): number {\r\n        return this._delay;\r\n    }\r\n\r\n    public setDuration(value: number): GTweener {\r\n        this._duration = value;\r\n        return this;\r\n    }\r\n\r\n    public get duration(): number {\r\n        return this._duration;\r\n    }\r\n\r\n    public setBreakpoint(value: number): GTweener {\r\n        this._breakpoint = value;\r\n        return this;\r\n    }\r\n\r\n    public setEase(value: number): GTweener {\r\n        this._easeType = value;\r\n        return this;\r\n    }\r\n\r\n    public setEasePeriod(value: number): GTweener {\r\n        this._easePeriod = value;\r\n        return this;\r\n    }\r\n\r\n    public setEaseOvershootOrAmplitude(value: number): GTweener {\r\n        this._easeOvershootOrAmplitude = value;\r\n        return this;\r\n    }\r\n\r\n    public setRepeat(repeat: number, yoyo: boolean = false): GTweener {\r\n        this._repeat = repeat;\r\n        this._yoyo = yoyo;\r\n        return this;\r\n    }\r\n\r\n    public get repeat(): number {\r\n        return this._repeat;\r\n    }\r\n\r\n    public setTimeScale(value: number): GTweener {\r\n        this._timeScale = value;\r\n        return this;\r\n    }\r\n\r\n    public setSnapping(value: boolean): GTweener {\r\n        this._snapping = value;\r\n        return this;\r\n    }\r\n\r\n    public setTarget(value: any, propType?: any): GTweener {\r\n        this._target = value;\r\n        this._propType = propType;\r\n        return this;\r\n    }\r\n\r\n    public get target(): any {\r\n        return this._target;\r\n    }\r\n\r\n    public setPath(value: GPath): GTweener {\r\n        this._path = value;\r\n        return this;\r\n    }\r\n\r\n    public setUserData(value: any): GTweener {\r\n        this._userData = value;\r\n        return this;\r\n    }\r\n\r\n    public get userData(): any {\r\n        return this._userData;\r\n    }\r\n\r\n    public onUpdate(callback: Function, caller?: any): GTweener {\r\n        this._onUpdate = callback;\r\n        this._onUpdateCaller = caller;\r\n        return this;\r\n    }\r\n\r\n    public onStart(callback: Function, caller?: any): GTweener {\r\n        this._onStart = callback;\r\n        this._onStartCaller = caller;\r\n        return this;\r\n    }\r\n\r\n    public onComplete(callback: Function, caller?: any): GTweener {\r\n        this._onComplete = callback;\r\n        this._onCompleteCaller = caller;\r\n        return this;\r\n    }\r\n\r\n    public get startValue(): TweenValue {\r\n        return this._startValue;\r\n    }\r\n\r\n    public get endValue(): TweenValue {\r\n        return this._endValue;\r\n    }\r\n\r\n    public get value(): TweenValue {\r\n        return this._value;\r\n    }\r\n\r\n    public get deltaValue(): TweenValue {\r\n        return this._deltaValue;\r\n    }\r\n\r\n    public get normalizedTime(): number {\r\n        return this._normalizedTime;\r\n    }\r\n\r\n    public get completed(): boolean {\r\n        return this._ended != 0;\r\n    }\r\n\r\n    public get allCompleted(): boolean {\r\n        return this._ended == 1;\r\n    }\r\n\r\n    public setPaused(paused: boolean): GTweener {\r\n        this._paused = paused;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * seek position of the tween, in seconds.\r\n     */\r\n    public seek(time: number): void {\r\n        if (this._killed)\r\n            return;\r\n\r\n        this._elapsedTime = time;\r\n        if (this._elapsedTime < this._delay) {\r\n            if (this._started)\r\n                this._elapsedTime = this._delay;\r\n            else\r\n                return;\r\n        }\r\n\r\n        this.update();\r\n    }\r\n\r\n    public kill(complete?: boolean): void {\r\n        if (this._killed)\r\n            return;\r\n\r\n        if (complete) {\r\n            if (this._ended == 0) {\r\n                if (this._breakpoint >= 0)\r\n                    this._elapsedTime = this._delay + this._breakpoint;\r\n                else if (this._repeat >= 0)\r\n                    this._elapsedTime = this._delay + this._duration * (this._repeat + 1);\r\n                else\r\n                    this._elapsedTime = this._delay + this._duration * 2;\r\n                this.update();\r\n            }\r\n\r\n            this.callCompleteCallback();\r\n        }\r\n\r\n        this._killed = true;\r\n    }\r\n\r\n    public _to(start: number, end: number, duration: number): GTweener {\r\n        this._valueSize = 1;\r\n        this._startValue.x = start;\r\n        this._endValue.x = end;\r\n        this._value.x = start;\r\n        this._duration = duration;\r\n        return this;\r\n    }\r\n\r\n    public _to2(start: number, start2: number, end: number, end2: number, duration: number): GTweener {\r\n        this._valueSize = 2;\r\n        this._startValue.x = start;\r\n        this._endValue.x = end;\r\n        this._startValue.y = start2;\r\n        this._endValue.y = end2;\r\n        this._value.x = start;\r\n        this._value.y = start2;\r\n        this._duration = duration;\r\n        return this;\r\n    }\r\n\r\n    public _to3(start: number, start2: number, start3: number,\r\n        end: number, end2: number, end3: number, duration: number): GTweener {\r\n        this._valueSize = 3;\r\n        this._startValue.x = start;\r\n        this._endValue.x = end;\r\n        this._startValue.y = start2;\r\n        this._endValue.y = end2;\r\n        this._startValue.z = start3;\r\n        this._endValue.z = end3;\r\n        this._value.x = start;\r\n        this._value.y = start2;\r\n        this._value.z = start3;\r\n        this._duration = duration;\r\n        return this;\r\n    }\r\n\r\n    public _to4(start: number, start2: number, start3: number, start4: number,\r\n        end: number, end2: number, end3: number, end4: number, duration: number): GTweener {\r\n        this._valueSize = 4;\r\n        this._startValue.x = start;\r\n        this._endValue.x = end;\r\n        this._startValue.y = start2;\r\n        this._endValue.y = end2;\r\n        this._startValue.z = start3;\r\n        this._endValue.z = end3;\r\n        this._startValue.w = start4;\r\n        this._endValue.w = end4;\r\n        this._value.x = start;\r\n        this._value.y = start2;\r\n        this._value.z = start3;\r\n        this._value.w = start4;\r\n        this._duration = duration;\r\n        return this;\r\n    }\r\n\r\n    public _toColor(start: number, end: number, duration: number): GTweener {\r\n        this._valueSize = 5;\r\n        this._startValue.color = start;\r\n        this._endValue.color = end;\r\n        this._value.color = start;\r\n        this._duration = duration;\r\n        return this;\r\n    }\r\n\r\n    public _shake(startX: number, startY: number, amplitude: number, duration: number): GTweener {\r\n        this._valueSize = 6;\r\n        this._startValue.x = startX;\r\n        this._startValue.y = startY;\r\n        this._startValue.w = amplitude;\r\n        this._duration = duration;\r\n        return this;\r\n    }\r\n\r\n    public _init(): void {\r\n        this._delay = 0;\r\n        this._duration = 0;\r\n        this._breakpoint = -1;\r\n        this._easeType = EaseType.QuadOut;\r\n        this._timeScale = 1;\r\n        this._easePeriod = 0;\r\n        this._easeOvershootOrAmplitude = 1.70158;\r\n        this._snapping = false;\r\n        this._repeat = 0;\r\n        this._yoyo = false;\r\n        this._valueSize = 0;\r\n        this._started = false;\r\n        this._paused = false;\r\n        this._killed = false;\r\n        this._elapsedTime = 0;\r\n        this._normalizedTime = 0;\r\n        this._ended = 0;\r\n    }\r\n\r\n    public _reset(): void {\r\n        this._target = null;\r\n        this._propType = null;\r\n        this._userData = null;\r\n        this._path = null;\r\n        this._onStart = this._onUpdate = this._onComplete = null;\r\n        this._onStartCaller = this._onUpdateCaller = this._onCompleteCaller = null;\r\n    }\r\n\r\n    public _update(dt: number): void {\r\n        if (this._timeScale != 1)\r\n            dt *= this._timeScale;\r\n        if (dt == 0)\r\n            return;\r\n\r\n        if (this._ended != 0) //Maybe completed by seek\r\n        {\r\n            this.callCompleteCallback();\r\n            this._killed = true;\r\n            return;\r\n        }\r\n\r\n        this._elapsedTime += dt;\r\n        this.update();\r\n\r\n        if (this._ended != 0) {\r\n            if (!this._killed) {\r\n                this.callCompleteCallback();\r\n                this._killed = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    private update(): void {\r\n        this._ended = 0;\r\n\r\n        if (this._valueSize == 0) //DelayedCall\r\n        {\r\n            if (this._elapsedTime >= this._delay + this._duration)\r\n                this._ended = 1;\r\n\r\n            return;\r\n        }\r\n\r\n        if (!this._started) {\r\n            if (this._elapsedTime < this._delay)\r\n                return;\r\n\r\n            this._started = true;\r\n            this.callStartCallback();\r\n            if (this._killed)\r\n                return;\r\n        }\r\n\r\n        var reversed: boolean = false;\r\n        var tt: number = this._elapsedTime - this._delay;\r\n        if (this._breakpoint >= 0 && tt >= this._breakpoint) {\r\n            tt = this._breakpoint;\r\n            this._ended = 2;\r\n        }\r\n\r\n        if (this._repeat != 0) {\r\n            var round: number = Math.floor(tt / this._duration);\r\n            tt -= this._duration * round;\r\n            if (this._yoyo)\r\n                reversed = round % 2 == 1;\r\n\r\n            if (this._repeat > 0 && this._repeat - round < 0) {\r\n                if (this._yoyo)\r\n                    reversed = this._repeat % 2 == 1;\r\n                tt = this._duration;\r\n                this._ended = 1;\r\n            }\r\n        }\r\n        else if (tt >= this._duration) {\r\n            tt = this._duration;\r\n            this._ended = 1;\r\n        }\r\n\r\n        this._normalizedTime = evaluateEase(this._easeType, reversed ? (this._duration - tt) : tt, this._duration,\r\n            this._easeOvershootOrAmplitude, this._easePeriod);\r\n\r\n        this._value.setZero();\r\n        this._deltaValue.setZero();\r\n\r\n        if (this._valueSize == 6) {\r\n            if (this._ended == 0) {\r\n                var r: number = this._startValue.w * (1 - this._normalizedTime);\r\n                var rx: number = r * (Math.random() > 0.5 ? 1 : -1);\r\n                var ry: number = r * (Math.random() > 0.5 ? 1 : -1);\r\n\r\n                this._deltaValue.x = rx;\r\n                this._deltaValue.y = ry;\r\n                this._value.x = this._startValue.x + rx;\r\n                this._value.y = this._startValue.y + ry;\r\n            }\r\n            else {\r\n                this._value.x = this._startValue.x;\r\n                this._value.y = this._startValue.y;\r\n            }\r\n        }\r\n        else if (this._path) {\r\n            var pt: Phaser.Geom.Point = s_vec2;\r\n            this._path.getPointAt(this._normalizedTime, pt);\r\n            if (this._snapping) {\r\n                pt.x = Math.round(pt.x);\r\n                pt.y = Math.round(pt.y);\r\n            }\r\n            this._deltaValue.x = pt.x - this._value.x;\r\n            this._deltaValue.y = pt.y - this._value.y;\r\n            this._value.x = pt.x;\r\n            this._value.y = pt.y;\r\n        }\r\n        else {\r\n            for (var i: number = 0; i < this._valueSize; i++) {\r\n                var n1: number = this._startValue.getField(i);\r\n                var n2: number = this._endValue.getField(i);\r\n                var f: number = n1 + (n2 - n1) * this._normalizedTime;\r\n                if (this._snapping)\r\n                    f = Math.round(f);\r\n                this._deltaValue.setField(i, f - this._value.getField(i));\r\n                this._value.setField(i, f);\r\n            }\r\n        }\r\n\r\n        if (this._target && this._propType) {\r\n            if (this._propType instanceof Function) {\r\n                switch (this._valueSize) {\r\n                    case 1:\r\n                        this._propType.call(this._target, this._value.x);\r\n                        break;\r\n                    case 2:\r\n                        this._propType.call(this._target, this._value.x, this._value.y);\r\n                        break;\r\n                    case 3:\r\n                        this._propType.call(this._target, this._value.x, this._value.y, this._value.z);\r\n                        break;\r\n                    case 4:\r\n                        this._propType.call(this._target, this._value.x, this._value.y, this._value.z, this._value.w);\r\n                        break;\r\n                    case 5:\r\n                        this._propType.call(this._target, this._value.color);\r\n                        break;\r\n                    case 6:\r\n                        this._propType.call(this._target, this._value.x, this._value.y);\r\n                        break;\r\n                }\r\n            }\r\n            else {\r\n                if (this._valueSize == 5)\r\n                    this._target[this._propType] = this._value.color;\r\n                else\r\n                    this._target[this._propType] = this._value.x;\r\n            }\r\n        }\r\n\r\n        this.callUpdateCallback();\r\n    }\r\n\r\n    private callStartCallback(): void {\r\n        if (this._onStart != null) {\r\n            try {\r\n                this._onStart.call(this._onStartCaller, this);\r\n            }\r\n            catch (err) {\r\n                console.log(\"FairyGUI: error in start callback > \" + err);\r\n            }\r\n        }\r\n    }\r\n\r\n    private callUpdateCallback(): void {\r\n        if (this._onUpdate != null) {\r\n            try {\r\n                this._onUpdate.call(this._onUpdateCaller, this);\r\n            }\r\n            catch (err) {\r\n                console.log(\"FairyGUI: error in update callback > \" + err);\r\n            }\r\n        }\r\n    }\r\n\r\n    private callCompleteCallback(): void {\r\n        if (this._onComplete != null) {\r\n            try {\r\n                this._onComplete.call(this._onCompleteCaller, this);\r\n            }\r\n            catch (err) {\r\n                console.log(\"FairyGUI: error in complete callback > \" + err);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nvar s_vec2: Phaser.Geom.Point = new Phaser.Geom.Point();\r\n","import { GTweener } from './GTweener';\r\nexport class TweenManager {\r\n    public static createTween(): GTweener {\r\n        if (!_inited) {\r\n            // TODO\r\n            throw new Error(\"TODO\")\r\n            // Laya.timer.frameLoop(1, null, TweenManager.update);\r\n            _inited = true;\r\n        }\r\n\r\n        var tweener: GTweener;\r\n        var cnt: number = _tweenerPool.length;\r\n        if (cnt > 0) {\r\n            tweener = _tweenerPool.pop();\r\n        }\r\n        else\r\n            tweener = new GTweener();\r\n        tweener._init();\r\n        _activeTweens[_totalActiveTweens++] = tweener;\r\n\r\n        return tweener;\r\n    }\r\n\r\n    public static isTweening(target: any, propType: any): boolean {\r\n        if (target == null)\r\n            return false;\r\n\r\n        var anyType: boolean = !propType;\r\n        for (var i: number = 0; i < _totalActiveTweens; i++) {\r\n            var tweener: GTweener = _activeTweens[i];\r\n            if (tweener && tweener.target == target && !tweener._killed\r\n                && (anyType || tweener._propType == propType))\r\n                return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    public static killTweens(target: any, completed: boolean, propType: any): boolean {\r\n        if (target == null)\r\n            return false;\r\n\r\n        var flag: boolean = false;\r\n        var cnt: number = _totalActiveTweens;\r\n        var anyType: boolean = !propType;\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            var tweener: GTweener = _activeTweens[i];\r\n            if (tweener && tweener.target == target && !tweener._killed\r\n                && (anyType || tweener._propType == propType)) {\r\n                tweener.kill(completed);\r\n                flag = true;\r\n            }\r\n        }\r\n\r\n        return flag;\r\n    }\r\n\r\n    public static getTween(target: any, propType: any): GTweener {\r\n        if (target == null)\r\n            return null;\r\n\r\n        var cnt: number = _totalActiveTweens;\r\n        var anyType: boolean = !propType;\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            var tweener: GTweener = _activeTweens[i];\r\n            if (tweener && tweener.target == target && !tweener._killed\r\n                && (anyType || tweener._propType == propType)) {\r\n                return tweener;\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    public static update(): void {\r\n        // var dt: number = Laya.timer.delta / 1000;\r\n        throw new Error(\"TODO\")\r\n\r\n        // var cnt: number = _totalActiveTweens;\r\n        // var freePosStart: number = -1;\r\n        // for (var i: number = 0; i < cnt; i++) {\r\n        //     var tweener: GTweener = _activeTweens[i];\r\n        //     if (tweener == null) {\r\n        //         if (freePosStart == -1)\r\n        //             freePosStart = i;\r\n        //     }\r\n        //     else if (tweener._killed) {\r\n        //         tweener._reset();\r\n        //         _tweenerPool.push(tweener);\r\n        //         _activeTweens[i] = null;\r\n\r\n        //         if (freePosStart == -1)\r\n        //             freePosStart = i;\r\n        //     }\r\n        //     else {\r\n        //         if ((tweener._target instanceof GObject) && tweener._target.isDisposed)\r\n        //             tweener._killed = true;\r\n        //         else if (!tweener._paused)\r\n        //             tweener._update(dt);\r\n\r\n        //         if (freePosStart != -1) {\r\n        //             _activeTweens[freePosStart] = tweener;\r\n        //             _activeTweens[i] = null;\r\n        //             freePosStart++;\r\n        //         }\r\n        //     }\r\n        // }\r\n\r\n        // if (freePosStart >= 0) {\r\n        //     if (_totalActiveTweens != cnt) //new tweens added\r\n        //     {\r\n        //         var j: number = cnt;\r\n        //         cnt = _totalActiveTweens - cnt;\r\n        //         for (i = 0; i < cnt; i++)\r\n        //             _activeTweens[freePosStart++] = _activeTweens[j++];\r\n        //     }\r\n        //     _totalActiveTweens = freePosStart;\r\n        // }\r\n    }\r\n}\r\n\r\nvar _activeTweens: GTweener[] = [];\r\nvar _tweenerPool: GTweener[] = [];\r\nvar _totalActiveTweens: number = 0;\r\nvar _inited: boolean = false;\r\n","import { GTweener } from './GTweener';\r\nimport { TweenManager } from './TweenManager';\r\nexport class GTween {\r\n    public static catchCallbackExceptions: boolean = true;\r\n\r\n    public static to(start: number, end: number, duration: number): GTweener {\r\n        return TweenManager.createTween()._to(start, end, duration);\r\n    }\r\n\r\n    public static to2(start: number, start2: number, end: number, end2: number, duration: number): GTweener {\r\n        return TweenManager.createTween()._to2(start, start2, end, end2, duration);\r\n    }\r\n\r\n    public static to3(start: number, start2: number, start3: number,\r\n        end: number, end2: number, end3: number, duration: number): GTweener {\r\n        return TweenManager.createTween()._to3(start, start2, start3, end, end2, end3, duration);\r\n    }\r\n\r\n    public static to4(start: number, start2: number, start3: number, start4: number,\r\n        end: number, end2: number, end3: number, end4: number, duration: number): GTweener {\r\n        return TweenManager.createTween()._to4(start, start2, start3, start4, end, end2, end3, end4, duration);\r\n    }\r\n\r\n    public static toColor(start: number, end: number, duration: number): GTweener {\r\n        return TweenManager.createTween()._toColor(start, end, duration);\r\n    }\r\n\r\n    public static delayedCall(delay: number): GTweener {\r\n        return TweenManager.createTween().setDelay(delay);\r\n    }\r\n\r\n    public static shake(startX: number, startY: number, amplitude: number, duration: number): GTweener {\r\n        return TweenManager.createTween()._shake(startX, startY, amplitude, duration);\r\n    }\r\n\r\n    public static isTweening(target: any, propType?: any): Boolean {\r\n        return TweenManager.isTweening(target, propType);\r\n    }\r\n\r\n    public static kill(target: any, complete?: boolean, propType?: any): void {\r\n        TweenManager.killTweens(target, complete, propType);\r\n    }\r\n\r\n    public static getTween(target: any, propType?: any): GTweener {\r\n        return TweenManager.getTween(target, propType);\r\n    }\r\n}\r\n","import { Controller } from \"../Controller\";\r\nimport { EaseType, GTweener } from \"../tween\";\r\nimport { ByteBuffer } from \"../utils\";\r\n\r\nexport class GearBase {\r\n    public static disableAllTweenEffect: boolean;\r\n\r\n    public _owner: any; //GObject 由于gobject是所有ui的基类，定义类型会导致循环引用\r\n    protected _controller: Controller;\r\n    protected _tweenConfig?: GearTweenConfig;\r\n\r\n    public dispose(): void {\r\n        if (this._tweenConfig && this._tweenConfig._tweener) {\r\n            this._tweenConfig._tweener.kill();\r\n            this._tweenConfig._tweener = null;\r\n        }\r\n    }\r\n\r\n    public get controller(): Controller {\r\n        return this._controller;\r\n    }\r\n\r\n    public set controller(val: Controller) {\r\n        if (val != this._controller) {\r\n            this._controller = val;\r\n            if (this._controller)\r\n                this.init();\r\n        }\r\n    }\r\n\r\n    public get tweenConfig(): GearTweenConfig {\r\n        if (!this._tweenConfig)\r\n            this._tweenConfig = new GearTweenConfig();\r\n        return this._tweenConfig;\r\n    }\r\n\r\n    public setup(buffer: ByteBuffer): void {\r\n        this._controller = this._owner.parent.getControllerAt(buffer.readShort());\r\n        this.init();\r\n\r\n        var i: number;\r\n        var page: string;\r\n        var cnt: number = buffer.readShort();\r\n\r\n        if (\"pages\" in this) {\r\n            (<any>this).pages = buffer.readSArray(cnt);\r\n        }\r\n        else {\r\n            for (i = 0; i < cnt; i++) {\r\n                page = buffer.readS();\r\n                if (page == null)\r\n                    continue;\r\n\r\n                this.addStatus(page, buffer);\r\n            }\r\n\r\n            if (buffer.readBool())\r\n                this.addStatus(null, buffer);\r\n        }\r\n\r\n        if (buffer.readBool()) {\r\n            this._tweenConfig = new GearTweenConfig();\r\n            this._tweenConfig.easeType = buffer.readByte();\r\n            this._tweenConfig.duration = buffer.readFloat();\r\n            this._tweenConfig.delay = buffer.readFloat();\r\n        }\r\n\r\n        if (buffer.version >= 2) {\r\n            if (\"positionsInPercent\" in this) {\r\n                if (buffer.readBool()) {\r\n                    (<any>this).positionsInPercent = true;\r\n                    for (i = 0; i < cnt; i++) {\r\n                        page = buffer.readS();\r\n                        if (page == null)\r\n                            continue;\r\n\r\n                        (<any>this).addExtStatus(page, buffer);\r\n                    }\r\n\r\n                    if (buffer.readBool())\r\n                        (<any>this).addExtStatus(null, buffer);\r\n                }\r\n            }\r\n            else if (\"condition\" in this)\r\n                (<any>this).condition = buffer.readByte();\r\n        }\r\n    }\r\n\r\n    public updateFromRelations(dx: number, dy: number): void {\r\n\r\n    }\r\n\r\n    protected addStatus(pageId: string, buffer: ByteBuffer): void {\r\n\r\n    }\r\n\r\n    protected init(): void {\r\n\r\n    }\r\n\r\n    public apply(): void {\r\n    }\r\n\r\n    public updateState(): void {\r\n    }\r\n}\r\n\r\nvar Classes: Array<typeof GearBase>;\r\n\r\nexport class GearTweenConfig {\r\n    public tween: boolean;\r\n    public easeType: number;\r\n    public duration: number;\r\n    public delay: number;\r\n\r\n    public _displayLockToken: number;\r\n    public _tweener: GTweener;\r\n\r\n    constructor() {\r\n        this.tween = true;\r\n        this.easeType = EaseType.QuadOut;\r\n        this.duration = 0.3;\r\n        this.delay = 0;\r\n    }\r\n}\r\n","import { GearBase } from './GearBase';\nexport class GearDisplay2 extends GearBase {\n    public pages: string[];\n    public condition: number;\n\n    private _visible: number = 0;\n\n    protected init(): void {\n        this.pages = null;\n    }\n\n    public apply(): void {\n        if (this.pages == null || this.pages.length == 0\n            || this.pages.indexOf(this._controller.selectedPageId) != -1)\n            this._visible = 1;\n        else\n            this._visible = 0;\n    }\n\n    public evaluate(connected: boolean): boolean {\n        var v: boolean = this._controller == null || this._visible > 0;\n        if (this.condition == 0)\n            v = v && connected;\n        else\n            v = v || connected;\n        return v;\n    }\n}","import { GearBase } from './GearBase';\nexport class GearDisplay extends GearBase {\n    public pages: string[];\n    private _visible: number;\n    private _displayLockToken: number;\n\n    protected init(): void {\n        this.pages = null;\n    }\n\n    public apply(): void {\n        this._displayLockToken++;\n        if (this._displayLockToken == 0)\n            this._displayLockToken = 1;\n\n        if (this.pages == null || this.pages.length == 0\n            || this.pages.indexOf(this._controller.selectedPageId) != -1)\n            this._visible = 1;\n        else\n            this._visible = 0;\n    }\n\n\n    public addLock(): number {\n        this._visible++;\n        return this._displayLockToken;\n    }\n\n    public releaseLock(token: number): void {\n        if (token == this._displayLockToken)\n            this._visible--;\n    }\n\n    public get connected(): boolean {\n        return this._controller == null || this._visible > 0;\n    }\n}\n","import { ScrollBarDisplayType } from './FieldTypes';\nexport class UIConfig {\n  constructor() {\n  }\n\n  //Default font name\n  public static defaultFont: string = \"SimSun\";\n\n  //Resource using in Window.ShowModalWait for locking the window.\n  public static windowModalWaiting: string;\n  //Resource using in GRoot.ShowModalWait for locking the screen.\n  public static globalModalWaiting: string;\n\n  //When a modal window is in front, the background becomes dark.\n  public static modalLayerColor: string = \"rgba(33,33,33,0.2)\";\n\n  //Default button click sound\n  public static buttonSound: string;\n  public static buttonSoundVolumeScale: number = 1;\n\n  //Default button click sound\n  public static horizontalScrollBar: string;\n  public static verticalScrollBar: string;\n  //Scrolling step in pixels\n  public static defaultScrollStep: number = 25;\n  //Deceleration ratio of scrollpane when its in touch dragging.\n  public static defaultScrollDecelerationRate: number = 0.967;\n\n  //Default scrollbar display mode. Recommened visible for Desktop and Auto for mobile.\n  public static defaultScrollBarDisplay: number = ScrollBarDisplayType.Visible;\n  //Allow dragging the content to scroll. Recommeded true for mobile.\n  public static defaultScrollTouchEffect: boolean = true;\n  //The \"rebound\" effect in the scolling container. Recommeded true for mobile.\n  public static defaultScrollBounceEffect: boolean = true;\n\n  /**\n    * 当滚动容器设置为“贴近ITEM”时，判定贴近到哪一个ITEM的滚动距离阀值。\n    */\n  public static defaultScrollSnappingThreshold: number = 0.1;\n\n  /**\n    * 当滚动容器设置为“页面模式”时，判定翻到哪一页的滚动距离阀值。\n    */\n  public static defaultScrollPagingThreshold: number = 0.3;\n\n  //Resources for PopupMenu.\n  public static popupMenu: string;\n  //Resources for seperator of PopupMenu.\n  public static popupMenu_seperator: string;\n  //In case of failure of loading content for GLoader, use this sign to indicate an error.\n  public static loaderErrorSign: string;\n  //Resources for tooltips.\n  public static tooltipsWin: string;\n\n  //Max items displayed in combobox without scrolling.\n  public static defaultComboBoxVisibleItemCount: number = 10;\n\n  // Pixel offsets of finger to trigger scrolling.\n  public static touchScrollSensitivity: number = 20;\n\n  // Pixel offsets of finger to trigger dragging.\n  public static touchDragSensitivity: number = 10;\n\n  // Pixel offsets of mouse pointer to trigger dragging.\n  public static clickDragSensitivity: number = 2;\n\n  // When click the window, brings to front automatically.\n  public static bringWindowToFrontOnClick: boolean = true;\n\n  public static frameTimeForAsyncUIConstruction: number = 2;\n\n  public static textureLinearSampling: boolean = true;\n\n  public static packageFileExtension: string = \"fui\";\n}\n","export class DisplayObjectEvent {\n    static XY_CHANGED = \"__xyChanged\";\n    static SIZE_CHANGED = \"__sizeChanged\";\n    static VISIBLE_CHANGED = \"__visibleChanged\";\n    static SIZE_DELAY_CHANGE = \"__sizeDelayChange\";\n    static MOUSE_WHEEL = \"__mouseWheel\"\n}\nexport class InteractiveEvent {\n    static POINTER_DOWN = \"pointerdown\";\n    static POINTER_UP = \"pointerup\";\n    static POINTER_OVER = \"pointerover\";\n    static POINTER_OUT = \"pointerout\";\n    static POINTER_MOVE = \"pointermove\";\n    static GAMEOBJECT_DOWN = \"gameobjectdown\";\n    static GAMEOBJECT_UP = \"gameobjectup\";\n    static GAMEOBJECT_OVER = \"gameobjectover\";\n    static GAMEOBJECT_OUT = \"gameobjectout\";\n    static GAMEOBJECT_MOVE = \"gameobjectmove\";\n}\n","import { InteractiveEvent } from \"./event/DisplayObjectEvent\";\n\nexport class Events {\n    public static STATE_CHANGED: string = \"fui_state_changed\";\n    public static XY_CHANGED: string = \"fui_xy_changed\";\n    public static SIZE_CHANGED: string = \"fui_size_changed\";\n    public static SIZE_DELAY_CHANGE: string = \"fui_size_delay_change\";\n    public static CLICK_ITEM: string = \"fui_click_item\";\n    public static SCROLL: string = \"fui_scroll\";\n    public static SCROLL_END: string = \"fui_scroll_end\";\n    public static DROP: string = \"fui_drop\";\n    public static DRAG_START: string = \"fui_drag_start\";\n    public static DRAG_MOVE: string = \"fui_drag_move\";\n    public static DRAG_END: string = \"fui_drag_end\";\n    public static PULL_DOWN_RELEASE: string = \"fui_pull_down_release\";\n    public static PULL_UP_RELEASE: string = \"fui_pull_up_release\";\n    public static GEAR_STOP: string = \"fui_gear_stop\";\n\n    public static $event: InteractiveEvent = new InteractiveEvent();\n\n    public static createEvent(type: string, target: Phaser.GameObjects.GameObject, source?: { target?: Phaser.GameObjects.Container, touchId?: number }): InteractiveEvent {\n        // this.$event.setTo(type, target, source ? (source.target || target) : target);\n        // this.$event.touchId = source ? (source.touchId || 0) : 0;\n        // this.$event.nativeEvent = source;\n        // this.$event[\"_stoped\"] = false;\n        throw new Error(\"TODO\");\n        return this.$event;\n    }\n\n    public static dispatch(type: string, target: Phaser.GameObjects.GameObject, source?: { target?: Phaser.GameObjects.GameObject, touchId?: number }): void {\n        // target.event(type, this.createEvent(type, target, source));\n        throw new Error(\"TODO\");\n    }\n}\n","import { Transition } from './Transition';\r\nimport { RelationType } from './FieldTypes';\r\nimport { GObject } from './GObject';\r\nexport class RelationItem {\r\n    private _owner: GObject;\r\n    private _target: GObject;\r\n    private _defs: Array<RelationDef>;\r\n    private _targetX: number;\r\n    private _targetY: number;\r\n    private _targetWidth: number;\r\n    private _targetHeight: number;\r\n\r\n    constructor(owner: GObject) {\r\n        this._owner = owner;\r\n        this._defs = new Array<RelationDef>();\r\n    }\r\n\r\n    public get owner(): GObject {\r\n        return this._owner;\r\n    }\r\n\r\n    public set target(value: GObject) {\r\n        if (this._target != value) {\r\n            if (this._target)\r\n                this.releaseRefTarget();\r\n            this._target = value;\r\n            if (this._target)\r\n                this.addRefTarget();\r\n        }\r\n    }\r\n\r\n    public get target(): GObject {\r\n        return this._target;\r\n    }\r\n\r\n    public add(relationType: number, usePercent: boolean): void {\r\n        if (relationType == RelationType.Size) {\r\n            this.add(RelationType.Width, usePercent);\r\n            this.add(RelationType.Height, usePercent);\r\n            return;\r\n        }\r\n\r\n        var cnt: number = this._defs.length;\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            if (this._defs[i].type == relationType)\r\n                return;\r\n        }\r\n\r\n        this.internalAdd(relationType, usePercent);\r\n    }\r\n\r\n    public internalAdd(relationType: number, usePercent: boolean): void {\r\n        if (relationType == RelationType.Size) {\r\n            this.internalAdd(RelationType.Width, usePercent);\r\n            this.internalAdd(RelationType.Height, usePercent);\r\n            return;\r\n        }\r\n\r\n        var info: RelationDef = new RelationDef();\r\n        info.percent = usePercent;\r\n        info.type = relationType;\r\n        info.axis = (relationType <= RelationType.Right_Right || relationType == RelationType.Width || relationType >= RelationType.LeftExt_Left && relationType <= RelationType.RightExt_Right) ? 0 : 1;\r\n        this._defs.push(info);\r\n    }\r\n\r\n    public remove(relationType: number): void {\r\n        if (relationType == RelationType.Size) {\r\n            this.remove(RelationType.Width);\r\n            this.remove(RelationType.Height);\r\n            return;\r\n        }\r\n\r\n        var dc: number = this._defs.length;\r\n        for (var k: number = 0; k < dc; k++) {\r\n            if (this._defs[k].type == relationType) {\r\n                this._defs.splice(k, 1);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    public copyFrom(source: RelationItem): void {\r\n        this._target = source.target;\r\n\r\n        this._defs.length = 0;\r\n        var cnt: number = source._defs.length;\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            var info: RelationDef = source._defs[i];\r\n            var info2: RelationDef = new RelationDef();\r\n            info2.copyFrom(info);\r\n            this._defs.push(info2);\r\n        }\r\n    }\r\n\r\n    public dispose(): void {\r\n        if (this._target) {\r\n            this.releaseRefTarget();\r\n            this._target = null;\r\n        }\r\n    }\r\n\r\n    public get isEmpty(): boolean {\r\n        return this._defs.length == 0;\r\n    }\r\n\r\n    public applyOnSelfResized(dWidth: number, dHeight: number, applyPivot: boolean): void {\r\n        var cnt: number = this._defs.length;\r\n        if (cnt == 0)\r\n            return;\r\n\r\n        var ox: number = this._owner.x;\r\n        var oy: number = this._owner.y;\r\n\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            var info: RelationDef = this._defs[i];\r\n            switch (info.type) {\r\n                case RelationType.Center_Center:\r\n                    this._owner.x -= (0.5 - (applyPivot ? this._owner.pivotX : 0)) * dWidth;\r\n                    break;\r\n\r\n                case RelationType.Right_Center:\r\n                case RelationType.Right_Left:\r\n                case RelationType.Right_Right:\r\n                    this._owner.x -= (1 - (applyPivot ? this._owner.pivotX : 0)) * dWidth;\r\n                    break;\r\n\r\n                case RelationType.Middle_Middle:\r\n                    this._owner.y -= (0.5 - (applyPivot ? this._owner.pivotY : 0)) * dHeight;\r\n                    break;\r\n\r\n                case RelationType.Bottom_Middle:\r\n                case RelationType.Bottom_Top:\r\n                case RelationType.Bottom_Bottom:\r\n                    this._owner.y -= (1 - (applyPivot ? this._owner.pivotY : 0)) * dHeight;\r\n                    break;\r\n            }\r\n        }\r\n\r\n        if (ox != this._owner.x || oy != this._owner.y) {\r\n            ox = this._owner.x - ox;\r\n            oy = this._owner.y - oy;\r\n\r\n            this._owner.updateGearFromRelations(1, ox, oy);\r\n\r\n            if (this._owner.parent && this._owner.parent._transitions.length > 0) {\r\n                cnt = this._owner.parent._transitions.length;\r\n                for (var j: number = 0; j < cnt; j++) {\r\n                    var trans: Transition = this._owner.parent._transitions[j];\r\n                    trans.updateFromRelations(this._owner.id, ox, oy);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private applyOnXYChanged(info: RelationDef, dx: number, dy: number): void {\r\n        var tmp: number;\r\n        switch (info.type) {\r\n            case RelationType.Left_Left:\r\n            case RelationType.Left_Center:\r\n            case RelationType.Left_Right:\r\n            case RelationType.Center_Center:\r\n            case RelationType.Right_Left:\r\n            case RelationType.Right_Center:\r\n            case RelationType.Right_Right:\r\n                this._owner.x += dx;\r\n                break;\r\n\r\n            case RelationType.Top_Top:\r\n            case RelationType.Top_Middle:\r\n            case RelationType.Top_Bottom:\r\n            case RelationType.Middle_Middle:\r\n            case RelationType.Bottom_Top:\r\n            case RelationType.Bottom_Middle:\r\n            case RelationType.Bottom_Bottom:\r\n                this._owner.y += dy;\r\n                break;\r\n\r\n            case RelationType.Width:\r\n            case RelationType.Height:\r\n                break;\r\n\r\n            case RelationType.LeftExt_Left:\r\n            case RelationType.LeftExt_Right:\r\n                if (this._owner != this._target.parent) {\r\n                    tmp = this._owner.xMin;\r\n                    this._owner.width = this._owner._rawWidth - dx;\r\n                    this._owner.xMin = tmp + dx;\r\n                }\r\n                else\r\n                    this._owner.width = this._owner._rawWidth - dx;\r\n                break;\r\n\r\n            case RelationType.RightExt_Left:\r\n            case RelationType.RightExt_Right:\r\n                if (this._owner != this._target.parent) {\r\n                    tmp = this._owner.xMin;\r\n                    this._owner.width = this._owner._rawWidth + dx;\r\n                    this._owner.xMin = tmp;\r\n                }\r\n                else\r\n                    this._owner.width = this._owner._rawWidth + dx;\r\n                break;\r\n\r\n            case RelationType.TopExt_Top:\r\n            case RelationType.TopExt_Bottom:\r\n                if (this._owner != this._target.parent) {\r\n                    tmp = this._owner.yMin;\r\n                    this._owner.height = this._owner._rawHeight - dy;\r\n                    this._owner.yMin = tmp + dy;\r\n                }\r\n                else\r\n                    this._owner.height = this._owner._rawHeight - dy;\r\n                break;\r\n\r\n            case RelationType.BottomExt_Top:\r\n            case RelationType.BottomExt_Bottom:\r\n                if (this._owner != this._target.parent) {\r\n                    tmp = this._owner.yMin;\r\n                    this._owner.height = this._owner._rawHeight + dy;\r\n                    this._owner.yMin = tmp;\r\n                }\r\n                else\r\n                    this._owner.height = this._owner._rawHeight + dy;\r\n                break;\r\n        }\r\n    }\r\n\r\n    private applyOnSizeChanged(info: RelationDef): void {\r\n        var pos: number = 0, pivot: number = 0, delta: number = 0;\r\n        var v: number, tmp: number;\r\n\r\n        if (info.axis == 0) {\r\n            if (this._target != this._owner.parent) {\r\n                pos = this._target.x;\r\n                if (this._target.pivotAsAnchor)\r\n                    pivot = this._target.pivotX;\r\n            }\r\n\r\n            if (info.percent) {\r\n                if (this._targetWidth != 0)\r\n                    delta = this._target._width / this._targetWidth;\r\n            }\r\n            else\r\n                delta = this._target._width - this._targetWidth;\r\n        }\r\n        else {\r\n            if (this._target != this._owner.parent) {\r\n                pos = this._target.y;\r\n                if (this._target.pivotAsAnchor)\r\n                    pivot = this._target.pivotY;\r\n            }\r\n\r\n            if (info.percent) {\r\n                if (this._targetHeight != 0)\r\n                    delta = this._target._height / this._targetHeight;\r\n            }\r\n            else\r\n                delta = this._target._height - this._targetHeight;\r\n        }\r\n\r\n        switch (info.type) {\r\n            case RelationType.Left_Left:\r\n                if (info.percent)\r\n                    this._owner.xMin = pos + (this._owner.xMin - pos) * delta;\r\n                else if (pivot != 0)\r\n                    this._owner.x += delta * (-pivot);\r\n                break;\r\n            case RelationType.Left_Center:\r\n                if (info.percent)\r\n                    this._owner.xMin = pos + (this._owner.xMin - pos) * delta;\r\n                else\r\n                    this._owner.x += delta * (0.5 - pivot);\r\n                break;\r\n            case RelationType.Left_Right:\r\n                if (info.percent)\r\n                    this._owner.xMin = pos + (this._owner.xMin - pos) * delta;\r\n                else\r\n                    this._owner.x += delta * (1 - pivot);\r\n                break;\r\n            case RelationType.Center_Center:\r\n                if (info.percent)\r\n                    this._owner.xMin = pos + (this._owner.xMin + this._owner._rawWidth * 0.5 - pos) * delta - this._owner._rawWidth * 0.5;\r\n                else\r\n                    this._owner.x += delta * (0.5 - pivot);\r\n                break;\r\n            case RelationType.Right_Left:\r\n                if (info.percent)\r\n                    this._owner.xMin = pos + (this._owner.xMin + this._owner._rawWidth - pos) * delta - this._owner._rawWidth;\r\n                else if (pivot != 0)\r\n                    this._owner.x += delta * (-pivot);\r\n                break;\r\n            case RelationType.Right_Center:\r\n                if (info.percent)\r\n                    this._owner.xMin = pos + (this._owner.xMin + this._owner._rawWidth - pos) * delta - this._owner._rawWidth;\r\n                else\r\n                    this._owner.x += delta * (0.5 - pivot);\r\n                break;\r\n            case RelationType.Right_Right:\r\n                if (info.percent)\r\n                    this._owner.xMin = pos + (this._owner.xMin + this._owner._rawWidth - pos) * delta - this._owner._rawWidth;\r\n                else\r\n                    this._owner.x += delta * (1 - pivot);\r\n                break;\r\n\r\n            case RelationType.Top_Top:\r\n                if (info.percent)\r\n                    this._owner.yMin = pos + (this._owner.yMin - pos) * delta;\r\n                else if (pivot != 0)\r\n                    this._owner.y += delta * (-pivot);\r\n                break;\r\n            case RelationType.Top_Middle:\r\n                if (info.percent)\r\n                    this._owner.yMin = pos + (this._owner.yMin - pos) * delta;\r\n                else\r\n                    this._owner.y += delta * (0.5 - pivot);\r\n                break;\r\n            case RelationType.Top_Bottom:\r\n                if (info.percent)\r\n                    this._owner.yMin = pos + (this._owner.yMin - pos) * delta;\r\n                else\r\n                    this._owner.y += delta * (1 - pivot);\r\n                break;\r\n            case RelationType.Middle_Middle:\r\n                if (info.percent)\r\n                    this._owner.yMin = pos + (this._owner.yMin + this._owner._rawHeight * 0.5 - pos) * delta - this._owner._rawHeight * 0.5;\r\n                else\r\n                    this._owner.y += delta * (0.5 - pivot);\r\n                break;\r\n            case RelationType.Bottom_Top:\r\n                if (info.percent)\r\n                    this._owner.yMin = pos + (this._owner.yMin + this._owner._rawHeight - pos) * delta - this._owner._rawHeight;\r\n                else if (pivot != 0)\r\n                    this._owner.y += delta * (-pivot);\r\n                break;\r\n            case RelationType.Bottom_Middle:\r\n                if (info.percent)\r\n                    this._owner.yMin = pos + (this._owner.yMin + this._owner._rawHeight - pos) * delta - this._owner._rawHeight;\r\n                else\r\n                    this._owner.y += delta * (0.5 - pivot);\r\n                break;\r\n            case RelationType.Bottom_Bottom:\r\n                if (info.percent)\r\n                    this._owner.yMin = pos + (this._owner.yMin + this._owner._rawHeight - pos) * delta - this._owner._rawHeight;\r\n                else\r\n                    this._owner.y += delta * (1 - pivot);\r\n                break;\r\n\r\n            case RelationType.Width:\r\n                if (this._owner._underConstruct && this._owner == this._target.parent)\r\n                    v = this._owner.sourceWidth - this._target.initWidth;\r\n                else\r\n                    v = this._owner._rawWidth - this._targetWidth;\r\n                if (info.percent)\r\n                    v = v * delta;\r\n                if (this._target == this._owner.parent) {\r\n                    if (this._owner.pivotAsAnchor) {\r\n                        tmp = this._owner.xMin;\r\n                        this._owner.setSize(this._target._width + v, this._owner._rawHeight, true);\r\n                        this._owner.xMin = tmp;\r\n                    }\r\n                    else\r\n                        this._owner.setSize(this._target._width + v, this._owner._rawHeight, true);\r\n                }\r\n                else\r\n                    this._owner.width = this._target._width + v;\r\n                break;\r\n            case RelationType.Height:\r\n                if (this._owner._underConstruct && this._owner == this._target.parent)\r\n                    v = this._owner.sourceHeight - this._target.initHeight;\r\n                else\r\n                    v = this._owner._rawHeight - this._targetHeight;\r\n                if (info.percent)\r\n                    v = v * delta;\r\n                if (this._target == this._owner.parent) {\r\n                    if (this._owner.pivotAsAnchor) {\r\n                        tmp = this._owner.yMin;\r\n                        this._owner.setSize(this._owner._rawWidth, this._target._height + v, true);\r\n                        this._owner.yMin = tmp;\r\n                    }\r\n                    else\r\n                        this._owner.setSize(this._owner._rawWidth, this._target._height + v, true);\r\n                }\r\n                else\r\n                    this._owner.height = this._target._height + v;\r\n                break;\r\n\r\n            case RelationType.LeftExt_Left:\r\n                tmp = this._owner.xMin;\r\n                if (info.percent)\r\n                    v = pos + (tmp - pos) * delta - tmp;\r\n                else\r\n                    v = delta * (-pivot);\r\n                this._owner.width = this._owner._rawWidth - v;\r\n                this._owner.xMin = tmp + v;\r\n                break;\r\n            case RelationType.LeftExt_Right:\r\n                tmp = this._owner.xMin;\r\n                if (info.percent)\r\n                    v = pos + (tmp - pos) * delta - tmp;\r\n                else\r\n                    v = delta * (1 - pivot);\r\n                this._owner.width = this._owner._rawWidth - v;\r\n                this._owner.xMin = tmp + v;\r\n                break;\r\n            case RelationType.RightExt_Left:\r\n                tmp = this._owner.xMin;\r\n                if (info.percent)\r\n                    v = pos + (tmp + this._owner._rawWidth - pos) * delta - (tmp + this._owner._rawWidth);\r\n                else\r\n                    v = delta * (-pivot);\r\n                this._owner.width = this._owner._rawWidth + v;\r\n                this._owner.xMin = tmp;\r\n                break;\r\n            case RelationType.RightExt_Right:\r\n                tmp = this._owner.xMin;\r\n                if (info.percent) {\r\n                    if (this._owner == this._target.parent) {\r\n                        if (this._owner._underConstruct)\r\n                            this._owner.width = pos + this._target._width - this._target._width * pivot +\r\n                                (this._owner.sourceWidth - pos - this._target.initWidth + this._target.initWidth * pivot) * delta;\r\n                        else\r\n                            this._owner.width = pos + (this._owner._rawWidth - pos) * delta;\r\n                    }\r\n                    else {\r\n                        v = pos + (tmp + this._owner._rawWidth - pos) * delta - (tmp + this._owner._rawWidth);\r\n                        this._owner.width = this._owner._rawWidth + v;\r\n                        this._owner.xMin = tmp;\r\n                    }\r\n                }\r\n                else {\r\n                    if (this._owner == this._target.parent) {\r\n                        if (this._owner._underConstruct)\r\n                            this._owner.width = this._owner.sourceWidth + (this._target._width - this._target.initWidth) * (1 - pivot);\r\n                        else\r\n                            this._owner.width = this._owner._rawWidth + delta * (1 - pivot);\r\n                    }\r\n                    else {\r\n                        v = delta * (1 - pivot);\r\n                        this._owner.width = this._owner._rawWidth + v;\r\n                        this._owner.xMin = tmp;\r\n                    }\r\n                }\r\n                break;\r\n            case RelationType.TopExt_Top:\r\n                tmp = this._owner.yMin;\r\n                if (info.percent)\r\n                    v = pos + (tmp - pos) * delta - tmp;\r\n                else\r\n                    v = delta * (-pivot);\r\n                this._owner.height = this._owner._rawHeight - v;\r\n                this._owner.yMin = tmp + v;\r\n                break;\r\n            case RelationType.TopExt_Bottom:\r\n                tmp = this._owner.yMin;\r\n                if (info.percent)\r\n                    v = pos + (tmp - pos) * delta - tmp;\r\n                else\r\n                    v = delta * (1 - pivot);\r\n                this._owner.height = this._owner._rawHeight - v;\r\n                this._owner.yMin = tmp + v;\r\n                break;\r\n            case RelationType.BottomExt_Top:\r\n                tmp = this._owner.yMin;\r\n                if (info.percent)\r\n                    v = pos + (tmp + this._owner._rawHeight - pos) * delta - (tmp + this._owner._rawHeight);\r\n                else\r\n                    v = delta * (-pivot);\r\n                this._owner.height = this._owner._rawHeight + v;\r\n                this._owner.yMin = tmp;\r\n                break;\r\n            case RelationType.BottomExt_Bottom:\r\n                tmp = this._owner.yMin;\r\n                if (info.percent) {\r\n                    if (this._owner == this._target.parent) {\r\n                        if (this._owner._underConstruct)\r\n                            this._owner.height = pos + this._target._height - this._target._height * pivot +\r\n                                (this._owner.sourceHeight - pos - this._target.initHeight + this._target.initHeight * pivot) * delta;\r\n                        else\r\n                            this._owner.height = pos + (this._owner._rawHeight - pos) * delta;\r\n                    }\r\n                    else {\r\n                        v = pos + (tmp + this._owner._rawHeight - pos) * delta - (tmp + this._owner._rawHeight);\r\n                        this._owner.height = this._owner._rawHeight + v;\r\n                        this._owner.yMin = tmp;\r\n                    }\r\n                }\r\n                else {\r\n                    if (this._owner == this._target.parent) {\r\n                        if (this._owner._underConstruct)\r\n                            this._owner.height = this._owner.sourceHeight + (this._target._height - this._target.initHeight) * (1 - pivot);\r\n                        else\r\n                            this._owner.height = this._owner._rawHeight + delta * (1 - pivot);\r\n                    }\r\n                    else {\r\n                        v = delta * (1 - pivot);\r\n                        this._owner.height = this._owner._rawHeight + v;\r\n                        this._owner.yMin = tmp;\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    private addRefTarget(): void {\r\n        throw new Error(\"TODO\");\r\n        // if (this._target != this._owner.parent)\r\n        //     this._target.on(Events.XY_CHANGED, this, this.__targetXYChanged);\r\n        // this._target.on(Events.SIZE_CHANGED, this, this.__targetSizeChanged);\r\n        // this._target.on(Events.SIZE_DELAY_CHANGE, this, this.__targetSizeWillChange);\r\n\r\n        // this._targetX = this._target.x;\r\n        // this._targetY = this._target.y;\r\n        // this._targetWidth = this._target._width;\r\n        // this._targetHeight = this._target._height;\r\n    }\r\n\r\n    private releaseRefTarget(): void {\r\n        throw new Error(\"TODO\");\r\n        // if (this._target.displayObject == null)\r\n        //     return;\r\n\r\n        // this._target.off(Events.XY_CHANGED, this, this.__targetXYChanged);\r\n        // this._target.off(Events.SIZE_CHANGED, this, this.__targetSizeChanged);\r\n        // this._target.off(Events.SIZE_DELAY_CHANGE, this, this.__targetSizeWillChange);\r\n    }\r\n\r\n    private __targetXYChanged(): void {\r\n        if (this._owner.relations.handling != null || this._owner.group != null && this._owner.group._updating) {\r\n            this._targetX = this._target.x;\r\n            this._targetY = this._target.y;\r\n            return;\r\n        }\r\n\r\n        this._owner.relations.handling = this._target;\r\n\r\n        var ox: number = this._owner.x;\r\n        var oy: number = this._owner.y;\r\n        var dx: number = this._target.x - this._targetX;\r\n        var dy: number = this._target.y - this._targetY;\r\n        var cnt: number = this._defs.length;\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            this.applyOnXYChanged(this._defs[i], dx, dy);\r\n        }\r\n        this._targetX = this._target.x;\r\n        this._targetY = this._target.y;\r\n\r\n        if (ox != this._owner.x || oy != this._owner.y) {\r\n            ox = this._owner.x - ox;\r\n            oy = this._owner.y - oy;\r\n\r\n            this._owner.updateGearFromRelations(1, ox, oy);\r\n\r\n            if (this._owner.parent && this._owner.parent._transitions.length > 0) {\r\n                cnt = this._owner.parent._transitions.length;\r\n                for (var j: number = 0; j < cnt; j++) {\r\n                    var trans: Transition = this._owner.parent._transitions[j];\r\n                    trans.updateFromRelations(this._owner.id, ox, oy);\r\n                }\r\n            }\r\n        }\r\n\r\n        this._owner.relations.handling = null;\r\n    }\r\n\r\n    private __targetSizeChanged(): void {\r\n        if (this._owner.relations.sizeDirty)\r\n            this._owner.relations.ensureRelationsSizeCorrect();\r\n\r\n        if (this._owner.relations.handling != null) {\r\n            this._targetWidth = this._target._width;\r\n            this._targetHeight = this._target._height;\r\n            return;\r\n        }\r\n\r\n        this._owner.relations.handling = this._target;\r\n\r\n        var ox: number = this._owner.x;\r\n        var oy: number = this._owner.y;\r\n        var ow: number = this._owner._rawWidth;\r\n        var oh: number = this._owner._rawHeight;\r\n        var cnt: number = this._defs.length;\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            this.applyOnSizeChanged(this._defs[i]);\r\n        }\r\n        this._targetWidth = this._target._width;\r\n        this._targetHeight = this._target._height;\r\n\r\n        if (ox != this._owner.x || oy != this._owner.y) {\r\n            ox = this._owner.x - ox;\r\n            oy = this._owner.y - oy;\r\n\r\n            this._owner.updateGearFromRelations(1, ox, oy);\r\n\r\n            if (this._owner.parent && this._owner.parent._transitions.length > 0) {\r\n                cnt = this._owner.parent._transitions.length;\r\n                for (var j: number = 0; j < cnt; j++) {\r\n                    var trans: Transition = this._owner.parent._transitions[j];\r\n                    trans.updateFromRelations(this._owner.id, ox, oy);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (ow != this._owner._rawWidth || oh != this._owner._rawHeight) {\r\n            ow = this._owner._rawWidth - ow;\r\n            oh = this._owner._rawHeight - oh;\r\n\r\n            this._owner.updateGearFromRelations(2, ow, oh);\r\n        }\r\n\r\n        this._owner.relations.handling = null;\r\n    }\r\n\r\n    private __targetSizeWillChange(): void {\r\n        this._owner.relations.sizeDirty = true;\r\n    }\r\n}\r\n\r\n\r\nclass RelationDef {\r\n    public percent: boolean;\r\n    public type: number;\r\n    public axis: number;\r\n\r\n    constructor() {\r\n    }\r\n\r\n    public copyFrom(source: RelationDef): void {\r\n        this.percent = source.percent;\r\n        this.type = source.type;\r\n        this.axis = source.axis;\r\n    }\r\n}\r\n","import { ByteBuffer } from './utils/ByteBuffer';\nimport { RelationItem } from './RelationItem';\nimport { GObject } from './GObject';\nimport { GComponent } from './GComponent';\nexport class Relations {\n    private _owner: GObject;\n    private _items: RelationItem[];\n\n    public handling: GObject;\n    public sizeDirty?: boolean;\n\n    constructor(owner: GObject) {\n        this._owner = owner;\n        this._items = [];\n    }\n\n    public add(target: GObject, relationType: number, usePercent?: boolean): void {\n        var length: number = this._items.length;\n        for (var i: number = 0; i < length; i++) {\n            var item: RelationItem = this._items[i];\n            if (item.target == target) {\n                item.add(relationType, usePercent);\n                return;\n            }\n        }\n        var newItem: RelationItem = new RelationItem(this._owner);\n        newItem.target = target;\n        newItem.add(relationType, usePercent);\n        this._items.push(newItem);\n    }\n\n    public remove(target: GObject, relationType?: number): void {\n        relationType = relationType || 0;\n        var cnt: number = this._items.length;\n        var i: number = 0;\n        while (i < cnt) {\n            var item: RelationItem = this._items[i];\n            if (item.target == target) {\n                item.remove(relationType);\n                if (item.isEmpty) {\n                    item.dispose();\n                    this._items.splice(i, 1);\n                    cnt--;\n                }\n                else\n                    i++;\n            }\n            else\n                i++;\n        }\n    }\n\n    public contains(target: GObject): boolean {\n        var length: number = this._items.length;\n        for (var i: number = 0; i < length; i++) {\n            var item: RelationItem = this._items[i];\n            if (item.target == target)\n                return true;\n        }\n        return false;\n    }\n\n    public clearFor(target: GObject): void {\n        var cnt: number = this._items.length;\n        var i: number = 0;\n        while (i < cnt) {\n            var item: RelationItem = this._items[i];\n            if (item.target == target) {\n                item.dispose();\n                this._items.splice(i, 1);\n                cnt--;\n            }\n            else\n                i++;\n        }\n    }\n\n    public clearAll(): void {\n        var length: number = this._items.length;\n        for (var i: number = 0; i < length; i++) {\n            var item: RelationItem = this._items[i];\n            item.dispose();\n        }\n        this._items.length = 0;\n    }\n\n    public copyFrom(source: Relations): void {\n        this.clearAll();\n\n        var arr: RelationItem[] = source._items;\n        var length: number = arr.length;\n        for (var i: number = 0; i < length; i++) {\n            var ri: RelationItem = arr[i];\n            var item: RelationItem = new RelationItem(this._owner);\n            item.copyFrom(ri);\n            this._items.push(item);\n        }\n    }\n\n    public dispose(): void {\n        this.clearAll();\n    }\n\n    public onOwnerSizeChanged(dWidth: number, dHeight: number, applyPivot: boolean): void {\n        if (this._items.length == 0)\n            return;\n\n        var length: number = this._items.length;\n        for (var i: number = 0; i < length; i++) {\n            var item: RelationItem = this._items[i];\n            item.applyOnSelfResized(dWidth, dHeight, applyPivot);\n        }\n    }\n\n    public ensureRelationsSizeCorrect(): void {\n        if (this._items.length == 0)\n            return;\n\n        this.sizeDirty = false;\n        var length: number = this._items.length;\n        for (var i: number = 0; i < length; i++) {\n            var item: RelationItem = this._items[i];\n            item.target.ensureSizeCorrect();\n        }\n    }\n\n    public get empty(): boolean {\n        return this._items.length == 0;\n    }\n\n    public setup(buffer: ByteBuffer, parentToChild: boolean): void {\n        var cnt: number = buffer.readByte();\n        var target: GObject;\n        for (var i: number = 0; i < cnt; i++) {\n            var targetIndex: number = buffer.readShort();\n            if (targetIndex == -1)\n                target = this._owner.parent;\n            else if (parentToChild)\n                target = (<GComponent>(this._owner)).getChildAt(targetIndex);\n            else\n                target = this._owner.parent.getChildAt(targetIndex);\n\n            var newItem: RelationItem = new RelationItem(this._owner);\n            newItem.target = target;\n            this._items.push(newItem);\n\n            var cnt2: number = buffer.readByte();\n            for (var j: number = 0; j < cnt2; j++) {\n                var rt: number = buffer.readByte();\n                var usePercent: boolean = buffer.readBool();\n                newItem.internalAdd(rt, usePercent);\n            }\n        }\n    }\n}\n","import { ByteBuffer } from './../utils/ByteBuffer';\nimport { ObjectPropID } from './../FieldTypes';\nimport { GearBase } from './GearBase';\ninterface Value {\n    playing?: boolean;\n    frame?: number;\n}\n\nexport class GearAnimation extends GearBase {\n    private _storage: { [index: string]: Value };\n    private _default: Value;\n\n    protected init(): void {\n        this._default = {\n            playing: this._owner.getProp(ObjectPropID.Playing),\n            frame: this._owner.getProp(ObjectPropID.Frame)\n        };\n        this._storage = {};\n    }\n\n    protected addStatus(pageId: string, buffer: ByteBuffer): void {\n        var gv: Value;\n        if (pageId == null)\n            gv = this._default;\n        else\n            this._storage[pageId] = gv = {};\n        gv.playing = buffer.readBool();\n        gv.frame = buffer.readInt();\n    }\n\n    public apply(): void {\n        this._owner._gearLocked = true;\n\n        var gv: Value = this._storage[this._controller.selectedPageId];\n        if (!gv)\n            gv = this._default;\n\n        this._owner.setProp(ObjectPropID.Playing, gv.playing);\n        this._owner.setProp(ObjectPropID.Frame, gv.frame);\n\n        this._owner._gearLocked = false;\n    }\n\n    public updateState(): void {\n        var gv: Value = this._storage[this._controller.selectedPageId];\n        if (!gv)\n            this._storage[this._controller.selectedPageId] = gv = {};\n\n        gv.playing = this._owner.getProp(ObjectPropID.Playing);\n        gv.frame = this._owner.getProp(ObjectPropID.Frame);\n    }\n}\n","import { ByteBuffer } from './../utils/ByteBuffer';\nimport { ObjectPropID } from './../FieldTypes';\nimport { GearBase } from './GearBase';\n\ninterface Value {\n    color?: string;\n    strokeColor?: string;\n}\n\nexport class GearColor extends GearBase {\n    private _storage: { [index: string]: Value };\n    private _default: Value;\n\n    protected init(): void {\n        this._default = {\n            color: this._owner.getProp(ObjectPropID.Color),\n            strokeColor: this._owner.getProp(ObjectPropID.OutlineColor)\n        };\n        this._storage = {};\n    }\n\n    protected addStatus(pageId: string, buffer: ByteBuffer): void {\n        var gv: Value;\n        if (pageId == null)\n            gv = this._default;\n        else\n            this._storage[pageId] = gv = {};\n        gv.color = buffer.readColorS();\n        gv.strokeColor = buffer.readColorS();\n    }\n\n    public apply(): void {\n        this._owner._gearLocked = true;\n\n        var gv: Value = this._storage[this._controller.selectedPageId];\n        if (!gv)\n            gv = this._default;\n\n        this._owner.setProp(ObjectPropID.Color, gv.color);\n        this._owner.setProp(ObjectPropID.OutlineColor, gv.strokeColor);\n\n        this._owner._gearLocked = false;\n    }\n\n    public updateState(): void {\n        var gv: Value = this._storage[this._controller.selectedPageId];\n        if (!gv)\n            this._storage[this._controller.selectedPageId] = gv = {};\n\n        gv.color = this._owner.getProp(ObjectPropID.Color);\n        gv.strokeColor = this._owner.getProp(ObjectPropID.OutlineColor);\n    }\n}\n","import { ByteBuffer } from './../utils/ByteBuffer';\nimport { ObjectPropID } from './../FieldTypes';\nimport { GearBase } from './GearBase';\nexport class GearFontSize extends GearBase {\n    private _storage: { [index: string]: number };\n    private _default: number = 0;\n\n    protected init(): void {\n        this._default = this._owner.getProp(ObjectPropID.FontSize);\n        this._storage = {};\n    }\n\n    protected addStatus(pageId: string, buffer: ByteBuffer): void {\n        if (pageId == null)\n            this._default = buffer.readInt();\n        else\n            this._storage[pageId] = buffer.readInt();\n    }\n\n    public apply(): void {\n        this._owner._gearLocked = true;\n\n        var data: any = this._storage[this._controller.selectedPageId];\n        if (data != undefined)\n            this._owner.setProp(ObjectPropID.FontSize, data);\n        else\n            this._owner.setProp(ObjectPropID.FontSize, this._default);\n\n        this._owner._gearLocked = false;\n    }\n\n    public updateState(): void {\n        this._storage[this._controller.selectedPageId] = this._owner.getProp(ObjectPropID.FontSize);\n    }\n}\n","import { GearBase } from './GearBase';\nimport { ByteBuffer } from './../utils/ByteBuffer';\nexport class GearIcon extends GearBase {\n    private _storage: { [index: string]: string };\n    private _default: string;\n\n    protected init(): void {\n        this._default = this._owner.icon;\n        this._storage = {};\n    }\n\n    protected addStatus(pageId: string, buffer: ByteBuffer): void {\n        if (pageId == null)\n            this._default = buffer.readS();\n        else\n            this._storage[pageId] = buffer.readS();\n    }\n\n    public apply(): void {\n        this._owner._gearLocked = true;\n\n        var data: any = this._storage[this._controller.selectedPageId];\n        if (data !== undefined)\n            this._owner.icon = data;\n        else\n            this._owner.icon = this._default;\n\n        this._owner._gearLocked = false;\n    }\n\n    public updateState(): void {\n        this._storage[this._controller.selectedPageId] = this._owner.icon;\n    }\n}\n","import { GTweener } from './../tween/GTweener';\nimport { ByteBuffer } from './../utils/ByteBuffer';\nimport { GearBase } from './GearBase';\nimport { GTween } from '../tween/GTween';\ninterface Value {\n    alpha?: number;\n    rotation?: number;\n    grayed?: boolean;\n    touchable?: boolean;\n}\n\nexport class GearLook extends GearBase {\n    private _storage: { [index: string]: Value };\n    private _default: Value;\n\n    protected init(): void {\n        this._default = {\n            alpha: this._owner.alpha,\n            rotation: this._owner.rotation,\n            grayed: this._owner.grayed,\n            touchable: this._owner.touchable\n        };\n        this._storage = {};\n    }\n\n    protected addStatus(pageId: string, buffer: ByteBuffer): void {\n        var gv: Value;\n        if (pageId == null)\n            gv = this._default;\n        else\n            this._storage[pageId] = gv = {};\n        gv.alpha = buffer.readFloat();\n        gv.rotation = buffer.readFloat();\n        gv.grayed = buffer.readBool();\n        gv.touchable = buffer.readBool();\n    }\n\n    public apply(): void {\n        var gv: Value = this._storage[this._controller.selectedPageId];\n        if (!gv)\n            gv = this._default;\n\n        if (this._tweenConfig && this._tweenConfig.tween && !GearBase.disableAllTweenEffect) {\n            this._owner._gearLocked = true;\n            this._owner.grayed = gv.grayed;\n            this._owner.touchable = gv.touchable;\n            this._owner._gearLocked = false;\n            if (this._tweenConfig._tweener) {\n                if (this._tweenConfig._tweener.endValue.x != gv.alpha || this._tweenConfig._tweener.endValue.y != gv.rotation) {\n                    this._tweenConfig._tweener.kill(true);\n                    this._tweenConfig._tweener = null;\n                }\n                else\n                    return;\n            }\n\n            var a: boolean = gv.alpha != this._owner.alpha;\n            var b: boolean = gv.rotation != this._owner.rotation;\n            if (a || b) {\n                if (this._owner.checkGearController(0, this._controller))\n                    this._tweenConfig._displayLockToken = this._owner.addDisplayLock();\n\n                this._tweenConfig._tweener = GTween.to2(this._owner.alpha, this._owner.rotation, gv.alpha, gv.rotation, this._tweenConfig.duration)\n                    .setDelay(this._tweenConfig.delay)\n                    .setEase(this._tweenConfig.easeType)\n                    .setUserData((a ? 1 : 0) + (b ? 2 : 0))\n                    .setTarget(this)\n                    .onUpdate(this.__tweenUpdate, this)\n                    .onComplete(this.__tweenComplete, this);\n            }\n        }\n        else {\n            this._owner._gearLocked = true;\n            this._owner.grayed = gv.grayed;\n            this._owner.touchable = gv.touchable;\n            this._owner.alpha = gv.alpha;\n            this._owner.rotation = gv.rotation;\n            this._owner._gearLocked = false;\n        }\n    }\n\n    private __tweenUpdate(tweener: GTweener): void {\n        var flag: number = tweener.userData;\n        this._owner._gearLocked = true;\n        if ((flag & 1) != 0)\n            this._owner.alpha = tweener.value.x;\n        if ((flag & 2) != 0)\n            this._owner.rotation = tweener.value.y;\n        this._owner._gearLocked = false;\n    }\n\n    private __tweenComplete(): void {\n        if (this._tweenConfig._displayLockToken != 0) {\n            this._owner.releaseDisplayLock(this._tweenConfig._displayLockToken);\n            this._tweenConfig._displayLockToken = 0;\n        }\n        this._tweenConfig._tweener = null;\n    }\n\n    public updateState(): void {\n        var gv: Value = this._storage[this._controller.selectedPageId];\n        if (!gv)\n            this._storage[this._controller.selectedPageId] = gv = {};\n\n        gv.alpha = this._owner.alpha;\n        gv.rotation = this._owner.rotation;\n        gv.grayed = this._owner.grayed;\n        gv.touchable = this._owner.touchable;\n    }\n}\n\n","import { GTweener } from './../tween/GTweener';\nimport { ByteBuffer } from './../utils/ByteBuffer';\nimport { GearBase } from './GearBase';\nimport { GTween } from '../tween/GTween';\ninterface Value {\n    width?: number;\n    height?: number;\n    scaleX?: number;\n    scaleY?: number;\n}\n\nexport class GearSize extends GearBase {\n    private _storage: { [index: string]: Value };\n    private _default: Value;\n\n    protected init(): void {\n        this._default = {\n            width: this._owner.width,\n            height: this._owner.height,\n            scaleX: this._owner.scaleX,\n            scaleY: this._owner.scaleY\n        };\n        this._storage = {};\n    }\n\n    protected addStatus(pageId: string, buffer: ByteBuffer): void {\n        var gv: Value;\n        if (pageId == null)\n            gv = this._default;\n        else\n            this._storage[pageId] = gv = {};\n\n        gv.width = buffer.readInt();\n        gv.height = buffer.readInt();\n        gv.scaleX = buffer.readFloat();\n        gv.scaleY = buffer.readFloat();\n    }\n\n    public apply(): void {\n        var gv: Value = this._storage[this._controller.selectedPageId];\n        if (!gv)\n            gv = this._default;\n\n        if (this._tweenConfig && this._tweenConfig.tween && !GearBase.disableAllTweenEffect) {\n            if (this._tweenConfig._tweener) {\n                if (this._tweenConfig._tweener.endValue.x != gv.width || this._tweenConfig._tweener.endValue.y != gv.height\n                    || this._tweenConfig._tweener.endValue.z != gv.scaleX || this._tweenConfig._tweener.endValue.w != gv.scaleY) {\n                    this._tweenConfig._tweener.kill(true);\n                    this._tweenConfig._tweener = null;\n                }\n                else\n                    return;\n            }\n\n            var a: boolean = gv.width != this._owner.width || gv.height != this._owner.height;\n            var b: boolean = gv.scaleX != this._owner.scaleX || gv.scaleY != this._owner.scaleY;\n            if (a || b) {\n                if (this._owner.checkGearController(0, this._controller))\n                    this._tweenConfig._displayLockToken = this._owner.addDisplayLock();\n\n                this._tweenConfig._tweener = GTween.to4(this._owner.width, this._owner.height, this._owner.scaleX, this._owner.scaleY, gv.width, gv.height, gv.scaleX, gv.scaleY, this._tweenConfig.duration)\n                    .setDelay(this._tweenConfig.delay)\n                    .setEase(this._tweenConfig.easeType)\n                    .setUserData((a ? 1 : 0) + (b ? 2 : 0))\n                    .setTarget(this)\n                    .onUpdate(this.__tweenUpdate, this)\n                    .onComplete(this.__tweenComplete, this);\n            }\n        }\n        else {\n            this._owner._gearLocked = true;\n            this._owner.setSize(gv.width, gv.height, this._owner.getGear(1).controller == this._controller);\n            this._owner.setScale(gv.scaleX, gv.scaleY);\n            this._owner._gearLocked = false;\n        }\n    }\n\n    private __tweenUpdate(tweener: GTweener): void {\n        var flag: number = tweener.userData;\n        this._owner._gearLocked = true;\n        if ((flag & 1) != 0)\n            this._owner.setSize(tweener.value.x, tweener.value.y, this._owner.checkGearController(1, this._controller));\n        if ((flag & 2) != 0)\n            this._owner.setScale(tweener.value.z, tweener.value.w);\n        this._owner._gearLocked = false;\n    }\n\n    private __tweenComplete(): void {\n        if (this._tweenConfig._displayLockToken != 0) {\n            this._owner.releaseDisplayLock(this._tweenConfig._displayLockToken);\n            this._tweenConfig._displayLockToken = 0;\n        }\n        this._tweenConfig._tweener = null;\n    }\n\n    public updateState(): void {\n        var gv: Value = this._storage[this._controller.selectedPageId];\n        if (!gv)\n            this._storage[this._controller.selectedPageId] = gv = {};\n        gv.width = this._owner.width;\n        gv.height = this._owner.height;\n        gv.scaleX = this._owner.scaleX;\n        gv.scaleY = this._owner.scaleY;\n    }\n\n    public updateFromRelations(dx: number, dy: number): void {\n        if (this._controller == null || this._storage == null)\n            return;\n\n        for (var key in this._storage) {\n            var gv: Value = this._storage[key];\n            gv.width += dx;\n            gv.height += dy;\n        }\n        this._default.width += dx;\n        this._default.height += dy;\n\n        this.updateState();\n    }\n}\n","import { ByteBuffer } from './../utils/ByteBuffer';\nimport { GearBase } from './GearBase';\nexport class GearText extends GearBase {\n    private _storage: { [index: string]: string };\n    private _default: string;\n\n    protected init(): void {\n        this._default = this._owner.text;\n        this._storage = {};\n    }\n\n    protected addStatus(pageId: string, buffer: ByteBuffer): void {\n        if (pageId == null)\n            this._default = buffer.readS();\n        else\n            this._storage[pageId] = buffer.readS();\n    }\n\n    public apply(): void {\n        this._owner._gearLocked = true;\n\n        var data: any = this._storage[this._controller.selectedPageId];\n        if (data !== undefined)\n            this._owner.text = data;\n        else\n            this._owner.text = this._default;\n\n        this._owner._gearLocked = false;\n    }\n\n    public updateState(): void {\n        this._storage[this._controller.selectedPageId] = this._owner.text;\n    }\n}\n","import { GTweener } from './../tween/GTweener';\nimport { ByteBuffer } from './../utils/ByteBuffer';\nimport { GearBase } from './GearBase';\nimport { GTween } from '../tween/GTween';\ninterface Value {\n    x?: number;\n    y?: number;\n    px?: number;\n    py?: number;\n}\n\nexport class GearXY extends GearBase {\n    public positionsInPercent: boolean;\n\n    private _storage: { [index: string]: Value };\n    private _default: Value;\n\n    protected init(): void {\n        this._default = {\n            x: this._owner.x,\n            y: this._owner.y,\n            px: this._owner.x / this._owner.parent.width,\n            py: this._owner.y / this._owner.parent.height\n        };\n        this._storage = {};\n    }\n\n    protected addStatus(pageId: string, buffer: ByteBuffer): void {\n        var gv: Value;\n        if (pageId == null)\n            gv = this._default;\n        else\n            this._storage[pageId] = gv = {};\n        gv.x = buffer.readInt();\n        gv.y = buffer.readInt();\n    }\n\n    public addExtStatus(pageId: string, buffer: ByteBuffer): void {\n        var gv: Value;\n        if (pageId == null)\n            gv = this._default;\n        else\n            gv = this._storage[pageId];\n        gv.px = buffer.readFloat();\n        gv.py = buffer.readFloat();\n    }\n\n    public apply(): void {\n        var gv: Value = this._storage[this._controller.selectedPageId];\n        if (!gv)\n            gv = this._default;\n\n        var ex: number;\n        var ey: number;\n\n        if (this.positionsInPercent && this._owner.parent) {\n            ex = gv.px * this._owner.parent.width;\n            ey = gv.py * this._owner.parent.height;\n        }\n        else {\n            ex = gv.x;\n            ey = gv.y;\n        }\n\n        if (this._tweenConfig && this._tweenConfig.tween && !GearBase.disableAllTweenEffect) {\n            if (this._tweenConfig._tweener) {\n                if (this._tweenConfig._tweener.endValue.x != ex || this._tweenConfig._tweener.endValue.y != ey) {\n                    this._tweenConfig._tweener.kill(true);\n                    this._tweenConfig._tweener = null;\n                }\n                else\n                    return;\n            }\n\n            var ox: number = this._owner.x;\n            var oy: number = this._owner.y;\n\n            if (ox != ex || oy != ey) {\n                if (this._owner.checkGearController(0, this._controller))\n                    this._tweenConfig._displayLockToken = this._owner.addDisplayLock();\n\n                this._tweenConfig._tweener = GTween.to2(ox, oy, ex, ey, this._tweenConfig.duration)\n                    .setDelay(this._tweenConfig.delay)\n                    .setEase(this._tweenConfig.easeType)\n                    .setTarget(this)\n                    .onUpdate(this.__tweenUpdate, this)\n                    .onComplete(this.__tweenComplete, this);\n            }\n        }\n        else {\n            this._owner._gearLocked = true;\n            this._owner.setXY(ex, ey);\n            this._owner._gearLocked = false;\n        }\n    }\n\n    private __tweenUpdate(tweener: GTweener): void {\n        this._owner._gearLocked = true;\n        this._owner.setXY(tweener.value.x, tweener.value.y);\n        this._owner._gearLocked = false;\n    }\n\n    private __tweenComplete(): void {\n        if (this._tweenConfig._displayLockToken != 0) {\n            this._owner.releaseDisplayLock(this._tweenConfig._displayLockToken);\n            this._tweenConfig._displayLockToken = 0;\n        }\n        this._tweenConfig._tweener = null;\n    }\n\n    public updateState(): void {\n        var gv: Value = this._storage[this._controller.selectedPageId];\n        if (!gv)\n            this._storage[this._controller.selectedPageId] = gv = {};\n\n        gv.x = this._owner.x;\n        gv.y = this._owner.y;\n        gv.px = this._owner.x / this._owner.parent.width;\n        gv.py = this._owner.y / this._owner.parent.height;\n    }\n\n    public updateFromRelations(dx: number, dy: number): void {\n        if (this._controller == null || this._storage == null || this.positionsInPercent)\n            return;\n\n        for (var key in this._storage) {\n            var pt: Value = this._storage[key];\n            pt.x += dx;\n            pt.y += dy;\n        }\n        this._default.x += dx;\n        this._default.y += dy;\n\n        this.updateState();\n    }\n}\n","import { GearBase } from './gears/GearBase';\nimport { GearDisplay2 } from './gears/GearDisplay2';\nimport { GearDisplay } from './gears/GearDisplay';\nimport { Controller } from './Controller';\nimport { UIConfig } from './UIConfig';\nimport { ByteBuffer } from './utils/ByteBuffer';\nimport { ToolSet } from './utils/ToolSet';\n// import { GRoot } from './GRoot';\nimport { RelationType, ObjectPropID } from './FieldTypes';\nimport { Events } from './Events';\nimport { GTreeNode } from './GTreeNode';\nimport { GGroup } from './GGroup';\nimport { Relations } from './Relations';\nimport { PackageItem } from './PackageItem';\nimport { GComponent } from './GComponent';\nimport { InteractiveEvent } from './event/DisplayObjectEvent';\nimport { GTree } from './GTree';\nimport { GearAnimation, GearColor, GearFontSize, GearIcon, GearLook, GearSize, GearText, GearXY } from './gears';\nexport class DisplayStyle {\n    static EMPTY: DisplayStyle = new DisplayStyle();\n    /**水平缩放 */\n    scaleX: number = 1;\n    /**垂直缩放 */\n    scaleY: number = 1;\n    /**水平倾斜角度 */\n    skewX: number = 0;\n    /**垂直倾斜角度 */\n    skewY: number = 0;\n    /**X轴心点 */\n    pivotX: number = 0;\n    /**Y轴心点 */\n    pivotY: number = 0;\n    /**旋转角度 */\n    rotation: number = 0;\n    /**透明度 */\n    alpha: number = 1;\n    /**滚动区域 */\n    scrollRect: Phaser.Geom.Rectangle;\n    /**视口 */\n    viewport: Phaser.Geom.Rectangle;\n    /**点击区域 */\n    hitArea: any;\n}\nexport class GObject {\n    public data: Object;\n    public packageItem: PackageItem;\n    public static draggingObject: GObject;\n\n    private _x: number = 0;\n    private _y: number = 0;\n    private _alpha: number = 1;\n    private _rotation: number = 0;\n    private _visible: boolean = true;\n    private _dpr: number = 1;\n    // 可交互默认false\n    private _touchable: boolean = false;\n    private _grayed: boolean;\n    private _draggable?: boolean;\n    private _scaleX: number = 1;\n    private _scaleY: number = 1;\n    private _skewX: number = 0;\n    private _skewY: number = 0;\n    private _pivotX: number = 0;\n    private _pivotY: number = 0;\n    private _pivotAsAnchor: boolean;\n    private _pivotOffsetX: number = 0;\n    private _pivotOffsetY: number = 0;\n    private _sortingOrder: number = 0;\n    private _internalVisible: boolean = true;\n    private _handlingController?: boolean;\n    private _tooltips?: string;\n    private _pixelSnapping?: boolean;\n\n    private _relations: Relations;\n    private _group?: GGroup;\n    private _gears: GearBase[];\n    private _dragBounds?: Phaser.Geom.Rectangle;\n    private _dragTesting?: boolean;\n    private _dragStartPos?: Phaser.Geom.Point;\n\n    private _displayStyle: DisplayStyle;\n    private _timeEvent: Phaser.Time.TimerEvent;\n\n    protected _displayObject: Phaser.GameObjects.Container;\n    protected _yOffset: number = 0;\n    protected _scene: Phaser.Scene;\n\n    public minWidth: number = 0;\n    public minHeight: number = 0;\n    public maxWidth: number = 0;\n    public maxHeight: number = 0;\n    public sourceWidth: number = 0;\n    public sourceHeight: number = 0;\n    public initWidth: number = 0;\n    public initHeight: number = 0;\n\n    public _parent: GComponent;\n    public _width: number = 0;\n    public _height: number = 0;\n    public _rawWidth: number = 0;\n    public _rawHeight: number = 0;\n    public _id: string;\n    public _name: string;\n    public _underConstruct: boolean;\n    public _gearLocked?: boolean;\n    public _sizePercentInGroup: number = 0;\n    public _treeNode?: GTreeNode;\n\n    constructor(scene?: Phaser.Scene) {\n        this._id = \"\" + _gInstanceCounter++;\n        this._name = \"\";\n        // todo 优先传入scene在创建display\n        if (scene) this.scene = scene;\n        if (this.scene) this.createDisplayObject();\n        this._displayStyle = new DisplayStyle();\n\n        this._relations = new Relations(this);\n        this._gears = new Array<GearBase>(10);\n    }\n\n    public get dpr(): number {\n        return this._dpr;\n    }\n    public set dpr(value: number) {\n        this._dpr = value;\n    }\n\n    public get id(): string {\n        return this._id;\n    }\n\n    public set id(value: string) {\n        this._id = value;\n    }\n\n    public get name(): string {\n        return this._name;\n    }\n\n    public set name(value: string) {\n        this._name = value;\n    }\n\n    public get x(): number {\n        return this._x;\n    }\n\n    public set x(value: number) {\n        this.setXY(value, this._y);\n    }\n\n    public get y(): number {\n        return this._y;\n    }\n\n    public set y(value: number) {\n        this.setXY(this._x, value);\n    }\n\n    public get scene(): Phaser.Scene {\n        return this._scene;\n    }\n    public set scene(value: Phaser.Scene) {\n        this._scene = value;\n    }\n\n    public get timeEvent(): Phaser.Time.TimerEvent {\n        return this._timeEvent;\n    }\n    public set timeEvent(value: Phaser.Time.TimerEvent) {\n        this._timeEvent = value;\n    }\n\n    public setXY(xv: number, yv: number): void {\n        if (this._x != xv || this._y != yv) {\n            var dx: number = xv - this._x;\n            var dy: number = yv - this._y;\n            this._x = xv;\n            this._y = yv;\n\n            this.handleXYChanged();\n            if (this instanceof GGroup)\n                this.moveChildren(dx, dy);\n\n            this.updateGear(1);\n\n            // if (this._parent && !(this._parent instanceof GList)) {\n            if (this._parent) {\n                this._parent.setBoundsChangedFlag();\n                if (this._group)\n                    this._group.setBoundsChangedFlag(true);\n                this.displayObject.emit(Events.XY_CHANGED);\n            }\n\n            if (GObject.draggingObject == this && !sUpdateInDragging)\n                this.localToGlobalRect(0, 0, this.width, this.height, sGlobalRect);\n        }\n    }\n\n    public get xMin(): number {\n        return this._pivotAsAnchor ? (this._x - this._width * this._pivotX) : this._x;\n    }\n\n    public set xMin(value: number) {\n        if (this._pivotAsAnchor)\n            this.setXY(value + this._width * this._pivotX, this._y);\n        else\n            this.setXY(value, this._y);\n    }\n\n    public get yMin(): number {\n        return this._pivotAsAnchor ? (this._y - this._height * this._pivotY) : this._y;\n    }\n\n    public set yMin(value: number) {\n        if (this._pivotAsAnchor)\n            this.setXY(this._x, value + this._height * this._pivotY);\n        else\n            this.setXY(this._x, value);\n    }\n\n    public get pixelSnapping(): boolean {\n        return this._pixelSnapping;\n    }\n\n    public set pixelSnapping(value: boolean) {\n        if (this._pixelSnapping != value) {\n            this._pixelSnapping = value;\n            this.handleXYChanged();\n        }\n    }\n\n    public center(restraint?: boolean): void {\n        let r: GComponent;\n        if (this._parent)\n            r = this.parent;\n        else\n            r = this.root;\n\n        this.setXY((r.width - this.width) / 2, (r.height - this.height) / 2);\n        if (restraint) {\n            this.addRelation(r, RelationType.Center_Center);\n            this.addRelation(r, RelationType.Middle_Middle);\n        }\n    }\n\n    public get width(): number {\n        this.ensureSizeCorrect();\n        if (this._relations.sizeDirty)\n            this._relations.ensureRelationsSizeCorrect();\n        return this._width;\n    }\n\n    public set width(value: number) {\n        this.setSize(value, this._rawHeight);\n    }\n\n    public get height(): number {\n        this.ensureSizeCorrect();\n        if (this._relations.sizeDirty)\n            this._relations.ensureRelationsSizeCorrect();\n        return this._height;\n    }\n\n    public set height(value: number) {\n        this.setSize(this._rawWidth, value);\n    }\n\n    public setSize(wv: number, hv: number, ignorePivot?: boolean): void {\n        if (this._rawWidth != wv || this._rawHeight != hv) {\n            this._rawWidth = wv;\n            this._rawHeight = hv;\n            if (wv < this.minWidth)\n                wv = this.minWidth;\n            if (hv < this.minHeight)\n                hv = this.minHeight;\n            if (this.maxWidth > 0 && wv > this.maxWidth)\n                wv = this.maxWidth;\n            if (this.maxHeight > 0 && hv > this.maxHeight)\n                hv = this.maxHeight;\n            var dWidth: number = wv - this._width;\n            var dHeight: number = hv - this._height;\n            this._width = wv;\n            this._height = hv;\n\n            this.handleSizeChanged();\n            if (this._pivotX != 0 || this._pivotY != 0) {\n                if (!this._pivotAsAnchor) {\n                    if (!ignorePivot)\n                        this.setXY(this.x - this._pivotX * dWidth, this.y - this._pivotY * dHeight);\n                    this.updatePivotOffset();\n                }\n                else\n                    this.applyPivot();\n            }\n\n            if (this instanceof GGroup)\n                this.resizeChildren(dWidth, dHeight);\n\n            this.updateGear(2);\n\n            if (this._parent) {\n                this._relations.onOwnerSizeChanged(dWidth, dHeight, this._pivotAsAnchor || !ignorePivot);\n                this._parent.setBoundsChangedFlag();\n                if (this._group)\n                    this._group.setBoundsChangedFlag();\n            }\n\n            this.displayObject.emit(Events.SIZE_CHANGED);\n        }\n    }\n\n    public ensureSizeCorrect(): void {\n    }\n\n    public makeFullScreen(): void {\n        // this.setSize(GRoot.inst.width, GRoot.inst.height);\n    }\n\n    public get actualWidth(): number {\n        return this.width * Math.abs(this._scaleX);\n    }\n\n    public get actualHeight(): number {\n        return this.height * Math.abs(this._scaleY);\n    }\n\n    public get scaleX(): number {\n        return this._scaleX;\n    }\n\n    public set scaleX(value: number) {\n        this.setScale(value, this._scaleY);\n    }\n\n    public get scaleY(): number {\n        return this._scaleY;\n    }\n\n    public set scaleY(value: number) {\n        this.setScale(this._scaleX, value);\n    }\n\n    public setScale(sx: number, sy: number): void {\n        if (this._scaleX != sx || this._scaleY != sy) {\n            this._scaleX = sx;\n            this._scaleY = sy;\n            this.handleScaleChanged();\n            this.applyPivot();\n\n            this.updateGear(2);\n        }\n    }\n\n    public get skewX(): number {\n        return this._skewX;\n    }\n\n    public set skewX(value: number) {\n        this.setSkew(value, this._skewY);\n    }\n\n    public get skewY(): number {\n        return this._skewY;\n    }\n\n    public set skewY(value: number) {\n        this.setSkew(this._skewX, value);\n    }\n\n    public setSkew(sx: number, sy: number): void {\n        if (this._skewX != sx || this._skewY != sy) {\n            this._skewX = sx;\n            this._skewY = sy;\n            if (this._displayObject) {\n                this._displayStyle.skewX = -sx,\n                    this._displayStyle.skewY = sy;\n                this._adjustTransform();\n                // this._displayObject.skew(-sx, sy);\n                this.applyPivot();\n            }\n        }\n    }\n\n    protected _adjustTransform(): Phaser.GameObjects.Components.TransformMatrix {\n        var sx: number = this._displayStyle.scaleX, sy: number = this._displayStyle.scaleY;\n        var sskx: number = this._displayStyle.skewX;\n        var ssky: number = this._displayStyle.skewY;\n        var rot: number = this._displayStyle.rotation;\n        const m = this._displayObject.getLocalTransformMatrix();\n        // var m: Matrix = this._transform || (this._transform = this._createTransform());\n        if (rot || sx !== 1 || sy !== 1 || sskx !== 0 || ssky !== 0) {\n            // m._bTransform = true;\n            var skx: number = (rot - sskx) * 0.0174532922222222;//laya.CONST.PI180;\n            var sky: number = (rot + ssky) * 0.0174532922222222;\n            var cx: number = Math.cos(sky);\n            var ssx: number = Math.sin(sky);\n            var cy: number = Math.sin(skx);\n            var ssy: number = Math.cos(skx);\n            m.a = sx * cx;\n            m.b = sx * ssx;\n            m.c = -sy * cy;\n            m.d = sy * ssy;\n            m.tx = m.ty = 0;\n        } else {\n            m.loadIdentity();\n            // this._renderType &= ~SpriteConst.TRANSFORM;\n            // this._setRenderType(this._renderType);\n        }\n        return m;\n    }\n\n    public get pivotX(): number {\n        return this._pivotX;\n    }\n\n    public set pivotX(value: number) {\n        this.setPivot(value, this._pivotY);\n    }\n\n    public get pivotY(): number {\n        return this._pivotY;\n    }\n\n    public set pivotY(value: number) {\n        this.setPivot(this._pivotX, value);\n    }\n\n    public setPivot(xv: number, yv: number = 0, asAnchor?: boolean): void {\n        if (this._pivotX != xv || this._pivotY != yv || this._pivotAsAnchor != asAnchor) {\n            this._pivotX = xv;\n            this._pivotY = yv;\n            this._pivotAsAnchor = asAnchor;\n\n            this.updatePivotOffset();\n            this.handleXYChanged();\n        }\n    }\n\n    public get pivotAsAnchor(): boolean {\n        return this._pivotAsAnchor;\n    }\n\n    protected internalSetPivot(xv: number, yv: number, asAnchor: boolean): void {\n        this._pivotX = xv;\n        this._pivotY = yv;\n        this._pivotAsAnchor = asAnchor;\n        if (this._pivotAsAnchor)\n            this.handleXYChanged();\n    }\n\n    private updatePivotOffset(): void {\n        if (this._displayObject) {\n            const transform = this._displayObject.getLocalTransformMatrix();\n            if (transform && (this._pivotX != 0 || this._pivotY != 0)) {\n                sHelperPoint.x = this._pivotX * this._width;\n                sHelperPoint.y = this._pivotY * this._height;\n                const pt: Phaser.Geom.Point = new Phaser.Geom.Point();\n                (<Phaser.Geom.Point>transform.transformPoint(this._pivotX * this._width, this._pivotY * this._height, pt));\n                this._pivotOffsetX = this._pivotX * this._width - pt.x;\n                this._pivotOffsetY = this._pivotY * this._height - pt.y;\n            }\n            else {\n                this._pivotOffsetX = 0;\n                this._pivotOffsetY = 0;\n            }\n        }\n    }\n\n    private applyPivot(): void {\n        if (this._pivotX != 0 || this._pivotY != 0) {\n            this.updatePivotOffset();\n            this.handleXYChanged();\n        }\n    }\n\n    public get touchable(): boolean {\n        return this._touchable;\n    }\n\n    public set touchable(value: boolean) {\n        if (this._touchable != value) {\n            this._touchable = value;\n            this.updateGear(3);\n\n            // if ((this instanceof GImage) || (this instanceof GMovieClip)\n            //     || (this instanceof GTextField) && !(this instanceof GTextInput) && !(this instanceof GRichTextField))\n            //     //Touch is not supported by GImage/GMovieClip/GTextField\n            //     return;\n\n            if (this._displayObject)\n                if (this._touchable) {\n                    this._displayObject.setInteractive(new Phaser.Geom.Rectangle(0, 0, this._width / this.scaleX, this._height / this.scaleY), Phaser.Geom.Rectangle.Contains);\n                } else {\n                    this._displayObject.disableInteractive();\n                }\n        }\n    }\n\n    public get grayed(): boolean {\n        return this._grayed;\n    }\n\n    public set grayed(value: boolean) {\n        if (this._grayed != value) {\n            this._grayed = value;\n            this.handleGrayedChanged();\n            this.updateGear(3);\n        }\n    }\n\n    public get enabled(): boolean {\n        return !this._grayed && this._touchable;\n    }\n\n    public set enabled(value: boolean) {\n        this.grayed = !value;\n        this.touchable = value;\n    }\n\n    public get rotation(): number {\n        return this._rotation;\n    }\n\n    public set rotation(value: number) {\n        if (this._rotation != value) {\n            this._rotation = value;\n            if (this._displayObject) {\n                this._displayObject.rotation = this.normalizeRotation;\n                this.applyPivot();\n            }\n            this.updateGear(3);\n        }\n    }\n\n    public get normalizeRotation(): number {\n        var rot: number = this._rotation % 360;\n        if (rot > 180)\n            rot = rot - 360;\n        else if (rot < -180)\n            rot = 360 + rot;\n        return rot;\n    }\n\n    public get alpha(): number {\n        return this._alpha;\n    }\n\n    public set alpha(value: number) {\n        if (this._alpha != value) {\n            this._alpha = value;\n            this.handleAlphaChanged();\n            this.updateGear(3);\n        }\n    }\n\n    public get visible(): boolean {\n        return this._visible;\n    }\n\n    public set visible(value: boolean) {\n        if (this._visible != value) {\n            this._visible = value;\n            this.handleVisibleChanged();\n            if (this._parent)\n                this._parent.setBoundsChangedFlag();\n            if (this._group && this._group.excludeInvisibles)\n                this._group.setBoundsChangedFlag();\n        }\n    }\n\n    public get internalVisible(): boolean {\n        return this._internalVisible && (!this._group || this._group.internalVisible)\n            && !(<any>this._displayObject)._cacheStyle.maskParent;\n    }\n\n    public get internalVisible2(): boolean {\n        return this._visible && (!this._group || this._group.internalVisible2);\n    }\n\n    public get internalVisible3(): boolean {\n        return this._internalVisible && this._visible;\n    }\n\n    public get sortingOrder(): number {\n        return this._sortingOrder;\n    }\n\n    public set sortingOrder(value: number) {\n        if (value < 0)\n            value = 0;\n        if (this._sortingOrder != value) {\n            var old: number = this._sortingOrder;\n            this._sortingOrder = value;\n            if (this._parent)\n                this._parent.childSortingOrderChanged(this, old, this._sortingOrder);\n        }\n    }\n\n    public get focused(): boolean {\n        return this.root.focus == this;\n    }\n\n    public requestFocus(): void {\n        this.root.focus = this;\n    }\n\n    public get tooltips(): string {\n        return this._tooltips;\n    }\n\n    public set tooltips(value: string) {\n        if (this._tooltips) {\n            this.off(InteractiveEvent.GAMEOBJECT_OVER, this.__rollOver);\n            this.off(InteractiveEvent.GAMEOBJECT_OUT, this.__rollOut);\n        }\n\n        this._tooltips = value;\n        if (this._tooltips) {\n            this.on(InteractiveEvent.GAMEOBJECT_OVER, this.__rollOver);\n            this.on(InteractiveEvent.GAMEOBJECT_OUT, this.__rollOut);\n        }\n    }\n\n    private __rollOver(evt: InteractiveEvent): void {\n        // this._timeEvent = GRoot.inst.addTimeEvent(new Phaser.Time.TimerEvent({ delay: 100, callback: this.__doShowTooltips }));\n        // Laya.timer.once(100, this, this.__doShowTooltips);\n    }\n\n    private __doShowTooltips(): void {\n        // var r: GRoot = this.root;\n        // if (r)\n        // this.root.showTooltips(this._tooltips);\n    }\n\n    private __rollOut(evt: InteractiveEvent): void {\n        // if (this._timeEvent) GRoot.inst.removeTimeEvent(this._timeEvent);\n        // Laya.timer.clear(this, this.__doShowTooltips);\n        // this.root.hideTooltips();\n    }\n\n    public get blendMode(): Phaser.BlendModes | string {\n        return this._displayObject.blendMode;\n    }\n\n    public set blendMode(value: Phaser.BlendModes | string) {\n        this._displayObject.blendMode = value;\n    }\n\n    public get filters(): any[] {\n        return null;// this._displayObject.filters;\n    }\n\n    public set filters(value: any[]) {\n        // this._displayObject.filters = value;\n    }\n\n    public get inContainer(): boolean {\n        return this._displayObject != null && this._displayObject.parentContainer != null;\n    }\n\n    public get onStage(): boolean {\n        return this._displayObject != null;\n        // return this._displayObject != null && this._displayObject.stage != null;\n    }\n\n    public get resourceURL(): string {\n        if (this.packageItem)\n            return \"ui://\" + this.packageItem.owner.id + this.packageItem.id;\n        else\n            return null;\n    }\n\n    public set group(value: GGroup) {\n        if (this._group != value) {\n            if (this._group)\n                this._group.setBoundsChangedFlag();\n            this._group = value;\n            if (this._group)\n                this._group.setBoundsChangedFlag();\n        }\n    }\n\n    public get group(): GGroup {\n        return this._group;\n    }\n\n    public getGear(index: number): GearBase {\n        var gear: GearBase = this._gears[index];\n        if (!gear)\n            this._gears[index] = gear = createGear(this, index);\n        return gear;\n    }\n\n    protected updateGear(index: number): void {\n        if (this._underConstruct || this._gearLocked)\n            return;\n\n        var gear: GearBase = this._gears[index];\n        if (gear && gear.controller)\n            gear.updateState();\n    }\n\n    public checkGearController(index: number, c: Controller): boolean {\n        return this._gears[index] && this._gears[index].controller == c;\n    }\n\n    public updateGearFromRelations(index: number, dx: number, dy: number): void {\n        if (this._gears[index])\n            this._gears[index].updateFromRelations(dx, dy);\n    }\n\n    public addDisplayLock(): number {\n        var gearDisplay: GearDisplay = <GearDisplay>(this._gears[0]);\n        if (gearDisplay && gearDisplay.controller) {\n            var ret: number = gearDisplay.addLock();\n            this.checkGearDisplay();\n\n            return ret;\n        }\n        else\n            return 0;\n    }\n\n    public releaseDisplayLock(token: number): void {\n        var gearDisplay: GearDisplay = <GearDisplay>(this._gears[0]);\n        if (gearDisplay && gearDisplay.controller) {\n            gearDisplay.releaseLock(token);\n            this.checkGearDisplay();\n        }\n    }\n\n    private checkGearDisplay(): void {\n        if (this._handlingController)\n            return;\n\n        var connected: boolean = !this._gears[0] || (<GearDisplay>(this._gears[0])).connected;\n        if (this._gears[8])\n            connected = (<GearDisplay2>this._gears[8]).evaluate(connected);\n\n        if (connected != this._internalVisible) {\n            this._internalVisible = connected;\n            if (this._parent) {\n                this._parent.childStateChanged(this);\n                if (this._group && this._group.excludeInvisibles)\n                    this._group.setBoundsChangedFlag();\n            }\n        }\n    }\n\n    public get relations(): Relations {\n        return this._relations;\n    }\n\n    public addRelation(target: GObject, relationType: number, usePercent?: boolean): void {\n        this._relations.add(target, relationType, usePercent);\n    }\n\n    public removeRelation(target: GObject, relationType?: number): void {\n        this._relations.remove(target, relationType);\n    }\n\n    public get displayObject(): Phaser.GameObjects.GameObject {\n        return this._displayObject;\n    }\n\n    public get parent(): GComponent {\n        return this._parent;\n    }\n\n    public set parent(val: GComponent) {\n        this._parent = val;\n    }\n\n    public removeFromParent(): void {\n        if (this._parent)\n            this._parent.removeChild(this);\n    }\n\n    public get root() {\n        // if (this instanceof GRoot)\n        //     return this;\n\n        // let p: GObject = this._parent;\n        // while (p) {\n        //     if (p instanceof GRoot)\n        //         return p;\n        //     p = p.parent;\n        // }\n        // return GRoot.inst;\n        return null;\n    }\n\n    public get asCom(): GComponent {\n        return <GComponent><any>this;\n    }\n\n    // public get asButton(): GButton {\n    //     return <GButton><any>this;\n    // }\n\n    // public get asLabel(): GLabel {\n    //     return <GLabel><any>this;\n    // }\n\n    // public get asProgress(): GProgressBar {\n    //     return <GProgressBar><any>this;\n    // }\n\n    // public get asTextField(): GTextField {\n    //     return <GTextField><any>this;\n    // }\n\n    // public get asRichTextField(): GRichTextField {\n    //     return <GRichTextField><any>this;\n    // }\n\n    // public get asTextInput(): GTextInput {\n    //     return <GTextInput><any>this;\n    // }\n\n    // public get asLoader(): GLoader {\n    //     return <GLoader><any>this;\n    // }\n\n    // public get asList(): GList {\n    //     return <GList><any>this;\n    // }\n\n    public get asTree(): GTree {\n        return <GTree><any>this;\n    }\n\n    // public get asGraph(): GGraph {\n    //     return <GGraph><any>this;\n    // }\n\n    public get asGroup(): GGroup {\n        return <GGroup><any>this;\n    }\n\n    // public get asSlider(): GSlider {\n    //     return <GSlider><any>this;\n    // }\n\n    // public get asComboBox(): GComboBox {\n    //     return <GComboBox><any>this;\n    // }\n\n    // public get asImage(): GImage {\n    //     return <GImage><any>this;\n    // }\n\n    // public get asMovieClip(): GMovieClip {\n    //     return <GMovieClip><any>this;\n    // }\n\n    public get text(): string {\n        return null;\n    }\n\n    public set text(value: string) {\n    }\n\n    public get icon(): string {\n        return null;\n    }\n\n    public set icon(value: string) {\n    }\n\n    public get treeNode(): GTreeNode {\n        return this._treeNode;\n    }\n\n    public get isDisposed(): boolean {\n        return this._displayObject == null;\n    }\n\n    public get scrollRect(): Phaser.Geom.Rectangle {\n        return this._displayStyle && this._displayStyle.scrollRect;\n    }\n\n    public set scrollRect(val: Phaser.Geom.Rectangle) {\n        this._displayStyle.scrollRect = val;\n    }\n\n    /**\n     * <p>可以设置一个Rectangle区域作为点击区域，或者设置一个<code>HitArea</code>实例作为点击区域，HitArea内可以设置可点击和不可点击区域。</p>\n     * <p>如果不设置hitArea，则根据宽高形成的区域进行碰撞。</p>\n    */\n    get hitArea(): any {\n        return this._displayStyle.hitArea;\n    }\n\n    set hitArea(value: any) {\n        this._displayStyle.hitArea = value;\n    }\n\n    public dispose(): void {\n        this.removeFromParent();\n        this._relations.dispose();\n        this._displayObject.destroy();\n        this._displayObject = null;\n        for (var i: number = 0; i < 10; i++) {\n            var gear: GearBase = this._gears[i];\n            if (gear)\n                gear.dispose();\n        }\n    }\n\n    public onClick(listener: Function): void {\n        this.on(InteractiveEvent.GAMEOBJECT_UP, listener);\n    }\n\n    public offClick(listener: Function, once: boolean = false): void {\n        this.off(InteractiveEvent.GAMEOBJECT_UP, listener, once);\n    }\n\n    public hasClickListener(): boolean {\n        return this._displayObject && this._touchable;// hasListener(InteractiveEvent.CLICK);\n    }\n\n    public on(type: string, listener: Function): void {\n        this._displayObject.on(type, listener, this);\n    }\n\n    public off(type: string, listener: Function, once: boolean = false): void {\n        this._displayObject.off(type, listener, this, once);\n    }\n\n    public get draggable(): boolean {\n        return this._draggable;\n    }\n\n    public set draggable(value: boolean) {\n        if (this._draggable != value) {\n            this._draggable = value;\n            this.initDrag();\n        }\n    }\n\n    public get dragBounds(): Phaser.Geom.Rectangle {\n        return this._dragBounds;\n    }\n\n    public set dragBounds(value: Phaser.Geom.Rectangle) {\n        this._dragBounds = value;\n    }\n\n    public startDrag(touchID?: number): void {\n        // if (this._displayObject.stage == null)\n        //     return;\n\n        this.dragBegin(touchID);\n    }\n\n    public stopDrag(): void {\n        this.dragEnd();\n    }\n\n    public get dragging(): boolean {\n        return GObject.draggingObject == this;\n    }\n\n    public localToGlobal(ax?: number, ay?: number, result?: Phaser.Geom.Point): Phaser.Geom.Point {\n        ax = ax || 0;\n        ay = ay || 0;\n\n        if (this._pivotAsAnchor) {\n            ax += this._pivotX * this._width;\n            ay += this._pivotY * this._height;\n        }\n\n        result = result || new Phaser.Geom.Point();\n        result.x = ax;\n        result.y = ay;\n        return this._localToGlobal(result, false);\n\n    }\n\n    _localToGlobal(point: Phaser.Geom.Point, createNewPoint: boolean = false): Phaser.Geom.Point {\n        if (createNewPoint === true) {\n            point = new Phaser.Geom.Point(point.x, point.y);\n        }\n        let ele: Phaser.GameObjects.Container = this._displayObject;\n        while (ele) {\n            if (!ele.parentContainer) break;\n            ele = ele.parentContainer;\n        }\n        return new Phaser.Geom.Point(ele.x, ele.y);\n    }\n\n    public globalToLocal(ax?: number, ay?: number, result?: Phaser.Geom.Point): Phaser.Geom.Point {\n        ax = ax || 0;\n        ay = ay || 0;\n        result = result || new Phaser.Geom.Point();\n        result.x = ax;\n        result.y = ay;\n        result = this._globalToLocal(result, false);\n\n        if (this._pivotAsAnchor) {\n            result.x -= this._pivotX * this._width;\n            result.y -= this._pivotY * this._height;\n        }\n        return result;\n\n        // let ele: Phaser.GameObjects.Container = this._displayObject;\n        // let list: any[] = [];\n        // while (ele) {\n        //     list.push(ele);\n        //     if (!ele.parentContainer) break;\n        //     ele = ele.parentContainer;\n        // }\n        // var i: number = list.length - 1;\n        // while (i >= 0) {\n        //     ele = list[i];\n        //     i--;\n        // }\n        // return new Phaser.Geom.Point(ele.x, ele.y);\n    }\n\n    _globalToLocal(point: Phaser.Geom.Point, createNewPoint: boolean = false): Phaser.Geom.Point {\n        if (createNewPoint) {\n            point = new Phaser.Geom.Point(point.x, point.y);\n        }\n        let ele: Phaser.GameObjects.Container = this._displayObject;\n        let list: any[] = [];\n        while (ele) {\n            list.push(ele);\n            if (!ele.parentContainer) break;\n            ele = ele.parentContainer;\n        }\n        var i: number = list.length - 1;\n        while (i >= 0) {\n            ele = list[i];\n            point = this.fromParentPoint(point);\n            i--;\n        }\n        return point;\n    }\n\n    /**\n * 将本地坐标系坐标转转换到父容器坐标系。\n * @param point 本地坐标点。\n * @return  转换后的点。\n */\n    toParentPoint(point: Phaser.Geom.Point): Phaser.Geom.Point {\n        if (!point) return point;\n        point.x -= this.pivotX;\n        point.y -= this.pivotY;\n        const tmpPoint = new Phaser.Geom.Point();\n        if (this._displayObject) {\n            const matrix = this._displayObject.getLocalTransformMatrix();\n            matrix.transformPoint(point.x, point.y, tmpPoint);\n        }\n        tmpPoint.x += this._displayObject.x;\n        tmpPoint.y += this._displayObject.y;\n        var scroll: Phaser.Geom.Rectangle = this._displayStyle.scrollRect;\n        if (scroll) {\n            point.x -= scroll.x;\n            point.y -= scroll.y;\n        }\n        return point;\n    }\n\n    /**\n     * 将父容器坐标系坐标转换到本地坐标系。\n     * @param point 父容器坐标点。\n     * @return  转换后的点。\n     */\n    fromParentPoint(point: Phaser.Geom.Point): Phaser.Geom.Point {\n        if (!point) return point;\n        point.x -= this._displayObject.x;\n        point.y -= this._displayObject.y;\n        var scroll: Phaser.Geom.Rectangle = this._displayStyle.scrollRect;\n        if (scroll) {\n            point.x += scroll.x;\n            point.y += scroll.y;\n        }\n        const matrix = this._displayObject.getLocalTransformMatrix();\n        if (matrix) {\n            //_transform.setTranslate(0,0);\n            this.invertTransformPoint(point);\n        }\n        point.x += this.pivotX;\n        point.y += this.pivotY;\n        return point;\n    }\n\n    /**\n * 对指定的点应用当前矩阵的逆转化并返回此点。\n * @param\tout 待转化的点 Point 对象。\n * @return\t返回out\n */\n    invertTransformPoint(out: Phaser.Geom.Point): Phaser.Geom.Point {\n        const matrix = this._displayObject.getLocalTransformMatrix();\n        var a1: number = matrix.a;\n        var b1: number = matrix.b;\n        var c1: number = matrix.c;\n        var d1: number = matrix.d;\n        var tx1: number = matrix.tx;\n        var n: number = a1 * d1 - b1 * c1;\n\n        var a2: number = d1 / n;\n        var b2: number = -b1 / n;\n        var c2: number = -c1 / n;\n        var d2: number = a1 / n;\n        var tx2: number = (c1 * matrix.ty - d1 * tx1) / n;\n        var ty2: number = -(a1 * matrix.ty - b1 * tx1) / n;\n        return out.setTo(a2 * out.x + c2 * out.y + tx2, b2 * out.x + d2 * out.y + ty2);\n    }\n\n    public localToGlobalRect(ax?: number, ay?: number, aw?: number, ah?: number, result?: Phaser.Geom.Rectangle): Phaser.Geom.Rectangle {\n        ax = ax || 0;\n        ay = ay || 0;\n        aw = aw || 0;\n        ah = ah || 0;\n        result = result || new Phaser.Geom.Rectangle();\n        var pt: Phaser.Geom.Point = this.localToGlobal(ax, ay);\n        result.x = pt.x;\n        result.y = pt.y;\n        pt = this.localToGlobal(ax + aw, ay + ah);\n        result.width = pt.x - result.x;\n        result.height = pt.y - result.y;\n        return result;\n    }\n\n    public globalToLocalRect(ax?: number, ay?: number, aw?: number, ah?: number, result?: Phaser.Geom.Rectangle): Phaser.Geom.Rectangle {\n        ax = ax || 0;\n        ay = ay || 0;\n        aw = aw || 0;\n        ah = ah || 0;\n        result = result || new Phaser.Geom.Rectangle();\n        var pt: Phaser.Geom.Point = this.globalToLocal(ax, ay);\n        result.x = pt.x;\n        result.y = pt.y;\n        pt = this.globalToLocal(ax + aw, ay + ah);\n        result.width = pt.x - result.x;\n        result.height = pt.y - result.y;\n        return result;\n    }\n\n    public handleControllerChanged(c: Controller): void {\n        this._handlingController = true;\n        for (var i: number = 0; i < 10; i++) {\n            var gear: GearBase = this._gears[i];\n            if (gear && gear.controller == c)\n                gear.apply();\n        }\n        this._handlingController = false;\n\n        this.checkGearDisplay();\n    }\n\n    public createDisplayObject(): void {\n        this._displayObject = new Phaser.GameObjects.Container(this.scene);\n        this._displayObject[\"$owner\"] = this;\n    }\n\n    public setDisplayObject(val) {\n        this._displayObject = val;\n        this._displayObject[\"$owner\"] = this;\n    }\n\n    protected handleXYChanged(): void {\n        var xv: number = this._x;\n        var yv: number = this._y + this._yOffset;\n        if (this._pivotAsAnchor) {\n            xv -= this._pivotX * this._width;\n            yv -= this._pivotY * this._height;\n        }\n        if (this._pixelSnapping) {\n            xv = Math.round(xv);\n            yv = Math.round(yv);\n        }\n\n        this._displayObject.setPosition(xv + this._pivotOffsetX, yv + this._pivotOffsetY);\n    }\n\n    protected handleSizeChanged(): void {\n        this._displayObject.setSize(this._width, this._height);\n    }\n\n    protected handleScaleChanged(): void {\n        this._displayObject.setScale(this._scaleX, this._scaleY);\n    }\n\n    protected handleGrayedChanged(): void {\n        ToolSet.setColorFilter(this._displayObject, this._grayed);\n    }\n\n    protected handleAlphaChanged(): void {\n        this._displayObject.alpha = this._alpha;\n    }\n\n    public handleVisibleChanged(): void {\n        this._displayObject.visible = this.internalVisible2;\n    }\n\n    public getProp(index: number): any {\n        switch (index) {\n            case ObjectPropID.Text:\n                return this.text;\n            case ObjectPropID.Icon:\n                return this.icon;\n            case ObjectPropID.Color:\n                return null;\n            case ObjectPropID.OutlineColor:\n                return null;\n            case ObjectPropID.Playing:\n                return false;\n            case ObjectPropID.Frame:\n                return 0;\n            case ObjectPropID.DeltaTime:\n                return 0;\n            case ObjectPropID.TimeScale:\n                return 1;\n            case ObjectPropID.FontSize:\n                return 0;\n            case ObjectPropID.Selected:\n                return false;\n            default:\n                return undefined;\n        }\n    }\n\n    public setProp(index: number, value: any): void {\n        switch (index) {\n            case ObjectPropID.Text:\n                this.text = value;\n                break;\n\n            case ObjectPropID.Icon:\n                this.icon = value;\n                break;\n        }\n    }\n\n    public constructFromResource(): void {\n\n    }\n\n    public setup_beforeAdd(buffer: ByteBuffer, beginPos: number): void {\n        buffer.seek(beginPos, 0);\n        buffer.skip(5);\n\n        var f1: number;\n        var f2: number;\n\n        this._id = buffer.readS();\n        this._name = buffer.readS();\n        f1 = buffer.readInt();\n        f2 = buffer.readInt();\n        this.setXY(f1, f2);\n\n        if (buffer.readBool()) {\n            this.initWidth = buffer.readInt();\n            this.initHeight = buffer.readInt();\n            this.setSize(this.initWidth, this.initHeight, true);\n        }\n\n        if (buffer.readBool()) {\n            this.minWidth = buffer.readInt();\n            this.maxWidth = buffer.readInt();\n            this.minHeight = buffer.readInt();\n            this.maxHeight = buffer.readInt();\n        }\n\n        if (buffer.readBool()) {\n            f1 = buffer.readShort();\n            f2 = buffer.readShort();\n            this.setScale(f1, f2);\n        }\n\n        if (buffer.readBool()) {\n            f1 = buffer.readShort();\n            f2 = buffer.readShort();\n            this.setSkew(f1, f2);\n        }\n\n        if (buffer.readBool()) {\n            f1 = buffer.readShort();\n            f2 = buffer.readShort();\n            this.setPivot(f1, f2, buffer.readBool());\n        }\n\n        f1 = buffer.readShort();\n        if (f1 != 1)\n            this.alpha = f1;\n\n        f1 = buffer.readShort();\n        if (f1 != 0)\n            this.rotation = f1;\n\n        if (!buffer.readBool())\n            this.visible = false;\n        if (!buffer.readBool())\n            this.touchable = false;\n        if (buffer.readBool())\n            this.grayed = true;\n        var bm: number = buffer.readByte();\n        if (BlendMode[bm])\n            this.blendMode = BlendMode[bm];\n\n        var filter: number = buffer.readByte();\n        if (filter == 1) {\n            ToolSet.setColorFilter(this._displayObject,\n                [buffer.readFloat(), buffer.readFloat(), buffer.readFloat(), buffer.readFloat()]);\n        }\n\n        var str: string = buffer.readS();\n        if (str != null)\n            this.data = str;\n    }\n\n    public setup_afterAdd(buffer: ByteBuffer, beginPos: number): void {\n        buffer.seek(beginPos, 1);\n\n        var str: string = buffer.readS();\n        if (str != null)\n            this.tooltips = str;\n\n        var groupId: number = buffer.readShort();\n        if (groupId >= 0)\n            this.group = <GGroup>this.parent.getChildAt(groupId);\n\n        buffer.seek(beginPos, 2);\n\n        var cnt: number = buffer.readShort();\n        for (var i: number = 0; i < cnt; i++) {\n            var nextPos: number = buffer.readShort();\n            nextPos += buffer.position;\n\n            var gear: GearBase = this.getGear(buffer.readByte());\n            gear.setup(buffer);\n\n            buffer.position = nextPos;\n        }\n    }\n\n    //drag support\n    //-------------------------------------------------------------------\n\n    private initDrag(): void {\n        if (this._draggable)\n            this.on(InteractiveEvent.GAMEOBJECT_DOWN, this.__begin);\n        else\n            this.off(InteractiveEvent.GAMEOBJECT_DOWN, this.__begin);\n    }\n\n    private dragBegin(touchID?: number): void {\n        if (GObject.draggingObject) {\n            let tmp: GObject = GObject.draggingObject;\n            tmp.stopDrag();\n            GObject.draggingObject = null;\n\n            Events.dispatch(Events.DRAG_END, tmp._displayObject, { touchId: touchID });\n        }\n\n        sGlobalDragStart.x = this.scene.input.activePointer.x;// Laya.stage.mouseX;\n        sGlobalDragStart.y = this.scene.input.activePointer.y;// Laya.stage.mouseY;\n\n        this.localToGlobalRect(0, 0, this.width, this.height, sGlobalRect);\n        this._dragTesting = true;\n        GObject.draggingObject = this;\n\n        this._displayObject.on(InteractiveEvent.GAMEOBJECT_MOVE, this.__moving);\n        this._displayObject.on(InteractiveEvent.GAMEOBJECT_UP, this.__end);\n    }\n\n    private dragEnd(): void {\n        if (GObject.draggingObject == this) {\n            this.reset();\n            this._dragTesting = false;\n            GObject.draggingObject = null;\n        }\n        sDraggingQuery = false;\n    }\n\n    private reset(): void {\n        this._displayObject.off(InteractiveEvent.GAMEOBJECT_MOVE, this.__moving);\n        this._displayObject.off(InteractiveEvent.GAMEOBJECT_UP, this.__end);\n    }\n\n    private __begin(): void {\n        if (!this._dragStartPos)\n            this._dragStartPos = new Phaser.Geom.Point();\n        this._dragStartPos.x = this.scene.input.activePointer.x;\n        this._dragStartPos.y = this.scene.input.activePointer.y;\n        this._dragTesting = true;\n\n        this._displayObject.on(InteractiveEvent.GAMEOBJECT_MOVE, this.__moving);\n        this._displayObject.on(InteractiveEvent.GAMEOBJECT_UP, this.__end);\n    }\n\n    private __moving(evt: InteractiveEvent): void {\n        if (GObject.draggingObject != this && this._draggable && this._dragTesting) {\n            var sensitivity: number = UIConfig.touchDragSensitivity;\n            if (this._dragStartPos\n                && Math.abs(this._dragStartPos.x - this.scene.input.activePointer.x) < sensitivity\n                && Math.abs(this._dragStartPos.y - this.scene.input.activePointer.y) < sensitivity)\n                return;\n\n            this._dragTesting = false;\n\n            sDraggingQuery = true;\n            Events.dispatch(Events.DRAG_START, this._displayObject, evt);\n            if (sDraggingQuery)\n                this.dragBegin();\n        }\n\n        if (GObject.draggingObject == this) {\n            var xx: number = this.scene.input.activePointer.x - sGlobalDragStart.x + sGlobalRect.x;\n            var yy: number = this.scene.input.activePointer.y - sGlobalDragStart.y + sGlobalRect.y;\n\n            if (this._dragBounds) {\n                var rect: Phaser.Geom.Rectangle;\n                if (xx < rect.x)\n                    xx = rect.x;\n                else if (xx + sGlobalRect.width > rect.right) {\n                    xx = rect.right - sGlobalRect.width;\n                    if (xx < rect.x)\n                        xx = rect.x;\n                }\n\n                if (yy < rect.y)\n                    yy = rect.y;\n                else if (yy + sGlobalRect.height > rect.bottom) {\n                    yy = rect.bottom - sGlobalRect.height;\n                    if (yy < rect.y)\n                        yy = rect.y;\n                }\n            }\n\n            sUpdateInDragging = true;\n            var pt: Phaser.Geom.Point = this.parent.globalToLocal(xx, yy, sHelperPoint);\n            this.setXY(Math.round(pt.x), Math.round(pt.y));\n            sUpdateInDragging = false;\n\n            Events.dispatch(Events.DRAG_MOVE, this._displayObject, evt);\n        }\n    }\n\n    private __end(evt: InteractiveEvent): void {\n        if (GObject.draggingObject == this) {\n            GObject.draggingObject = null;\n            this.reset();\n\n            Events.dispatch(Events.DRAG_END, this._displayObject, evt);\n        }\n        else if (this._dragTesting) {\n            this._dragTesting = false;\n            this.reset();\n        }\n    }\n    //-------------------------------------------------------------------\n\n    public static cast(sprite: Phaser.GameObjects.Container): GObject {\n        return <GObject>(sprite[\"$owner\"]);\n    }\n}\n\nlet GearClasses: Array<typeof GearBase> = [\n    GearDisplay, GearXY, GearSize, GearLook, GearColor,\n    GearAnimation, GearText, GearIcon, GearDisplay2, GearFontSize\n];\n\nfunction createGear(owner: GObject, index: number): GearBase {\n    let ret = new (GearClasses[index])();\n    ret._owner = owner;\n    return ret;\n}\n\nexport const BlendMode = {\n    2: Phaser.BlendModes.LIGHTER,\n    3: Phaser.BlendModes.MULTIPLY,\n    4: Phaser.BlendModes.SCREEN\n}\n\nvar _gInstanceCounter: number = 0;\nvar sGlobalDragStart: Phaser.Geom.Point = new Phaser.Geom.Point();\nvar sGlobalRect: Phaser.Geom.Rectangle = new Phaser.Geom.Rectangle();\nvar sHelperPoint: Phaser.Geom.Point = new Phaser.Geom.Point();\nvar sDragHelperRect: Phaser.Geom.Rectangle = new Phaser.Geom.Rectangle();\nvar sUpdateInDragging: boolean;\nvar sDraggingQuery: boolean;\n","import { ByteBuffer } from './utils/ByteBuffer';\nimport { GroupLayoutType } from './FieldTypes';\nimport { GObject } from './GObject';\nexport class GGroup extends GObject {\n    private _layout: number = 0;\n    private _lineGap: number = 0;\n    private _columnGap: number = 0;\n    private _excludeInvisibles: boolean;\n    private _autoSizeDisabled: boolean;\n    private _mainGridIndex: number = -1;\n    private _mainGridMinSize: number = 50;\n\n    private _boundsChanged: boolean;\n    private _percentReady: boolean;\n    private _mainChildIndex: number = -1;\n    private _totalSize: number = 0;\n    private _numChildren: number = 0;\n\n    public _updating: number = 0;\n\n    constructor(scene?: Phaser.Scene) {\n        super(scene);\n    }\n\n    public dispose(): void {\n        this._boundsChanged = false;\n\n        super.dispose();\n    }\n\n    public get layout(): number {\n        return this._layout;\n    }\n\n    public set layout(value: number) {\n        if (this._layout != value) {\n            this._layout = value;\n            this.setBoundsChangedFlag();\n        }\n    }\n\n    public get lineGap(): number {\n        return this._lineGap;\n    }\n\n    public set lineGap(value: number) {\n        if (this._lineGap != value) {\n            this._lineGap = value;\n            this.setBoundsChangedFlag(true);\n        }\n    }\n\n    public get columnGap(): number {\n        return this._columnGap;\n    }\n\n    public set columnGap(value: number) {\n        if (this._columnGap != value) {\n            this._columnGap = value;\n            this.setBoundsChangedFlag(true);\n        }\n    }\n\n    public get excludeInvisibles(): boolean {\n        return this._excludeInvisibles;\n    }\n\n    public set excludeInvisibles(value: boolean) {\n        if (this._excludeInvisibles != value) {\n            this._excludeInvisibles = value;\n            this.setBoundsChangedFlag();\n        }\n    }\n\n    public get autoSizeDisabled(): boolean {\n        return this._autoSizeDisabled;\n    }\n\n    public set autoSizeDisabled(value: boolean) {\n        this._autoSizeDisabled = value;\n    }\n\n    public get mainGridMinSize(): number {\n        return this._mainGridMinSize;\n    }\n\n    public set mainGridMinSize(value: number) {\n        if (this._mainGridMinSize != value) {\n            this._mainGridMinSize = value;\n            this.setBoundsChangedFlag();\n        }\n    }\n\n    public get mainGridIndex(): number {\n        return this._mainGridIndex;\n    }\n\n    public set mainGridIndex(value: number) {\n        if (this._mainGridIndex != value) {\n            this._mainGridIndex = value;\n            this.setBoundsChangedFlag();\n        }\n    }\n\n    public setBoundsChangedFlag(positionChangedOnly?: boolean): void {\n        if (this._updating == 0 && this._parent) {\n            if (!positionChangedOnly)\n                this._percentReady = false;\n\n            if (!this._boundsChanged) {\n                this._boundsChanged = true;\n                // if (this._layout != GroupLayoutType.None)\n                //     Laya.timer.callLater(this, this.ensureBoundsCorrect);\n            }\n        }\n    }\n\n    public ensureSizeCorrect(): void {\n        if (!this._parent || !this._boundsChanged || this._layout == 0)\n            return;\n\n        this._boundsChanged = false;\n        if (this._autoSizeDisabled)\n            this.resizeChildren(0, 0);\n        else {\n            this.handleLayout();\n            this.updateBounds();\n        }\n    }\n\n    public ensureBoundsCorrect(): void {\n        if (!this._parent || !this._boundsChanged)\n            return;\n\n        this._boundsChanged = false;\n        if (this._layout == 0)\n            this.updateBounds();\n        else {\n            if (this._autoSizeDisabled)\n                this.resizeChildren(0, 0);\n            else {\n                this.handleLayout();\n                this.updateBounds();\n            }\n        }\n    }\n\n    private updateBounds(): void {\n        // Laya.timer.clear(this, this.ensureBoundsCorrect);\n\n        var cnt: number = this._parent.numChildren;\n        var i: number;\n        var child: GObject;\n        var ax: number = Number.POSITIVE_INFINITY, ay: number = Number.POSITIVE_INFINITY;\n        var ar: number = Number.NEGATIVE_INFINITY, ab: number = Number.NEGATIVE_INFINITY;\n        var tmp: number;\n        var empty: boolean = true;\n        for (i = 0; i < cnt; i++) {\n            child = this._parent.getChildAt(i);\n            if (child.group != this || this._excludeInvisibles && !child.internalVisible3)\n                continue;\n\n            tmp = child.xMin;\n            if (tmp < ax)\n                ax = tmp;\n            tmp = child.yMin;\n            if (tmp < ay)\n                ay = tmp;\n            tmp = child.xMin + child.width;\n            if (tmp > ar)\n                ar = tmp;\n            tmp = child.yMin + child.height;\n            if (tmp > ab)\n                ab = tmp;\n            empty = false;\n        }\n\n        var w: number = 0, h: number = 0;\n        if (!empty) {\n            this._updating |= 1;\n            this.setXY(ax, ay);\n            this._updating &= 2;\n\n            w = ar - ax;\n            h = ab - ay;\n        }\n\n        if ((this._updating & 2) == 0) {\n            this._updating |= 2;\n            this.setSize(w, h);\n            this._updating &= 1;\n        }\n        else {\n            this._updating &= 1;\n            this.resizeChildren(this._width - w, this._height - h);\n        }\n    }\n\n    private handleLayout(): void {\n        this._updating |= 1;\n\n        var child: GObject;\n        var i: number;\n        var cnt: number;\n\n        if (this._layout == GroupLayoutType.Horizontal) {\n            var curX: number = this.x;\n            cnt = this._parent.numChildren;\n            for (i = 0; i < cnt; i++) {\n                child = this._parent.getChildAt(i);\n                if (child.group != this)\n                    continue;\n                if (this._excludeInvisibles && !child.internalVisible3)\n                    continue;\n\n                child.xMin = curX;\n                if (child.width != 0)\n                    curX += child.width + this._columnGap;\n            }\n        }\n        else if (this._layout == GroupLayoutType.Vertical) {\n            var curY: number = this.y;\n            cnt = this._parent.numChildren;\n            for (i = 0; i < cnt; i++) {\n                child = this._parent.getChildAt(i);\n                if (child.group != this)\n                    continue;\n                if (this._excludeInvisibles && !child.internalVisible3)\n                    continue;\n\n                child.yMin = curY;\n                if (child.height != 0)\n                    curY += child.height + this._lineGap;\n            }\n        }\n\n        this._updating &= 2;\n    }\n\n    public moveChildren(dx: number, dy: number): void {\n        if ((this._updating & 1) != 0 || !this._parent)\n            return;\n\n        this._updating |= 1;\n\n        var cnt: number = this._parent.numChildren;\n        var i: number\n        var child: GObject;\n        for (i = 0; i < cnt; i++) {\n            child = this._parent.getChildAt(i);\n            if (child.group == this) {\n                child.setXY(child.x + dx, child.y + dy);\n            }\n        }\n\n        this._updating &= 2;\n    }\n\n    public resizeChildren(dw: number, dh: number): void {\n        if (this._layout == GroupLayoutType.None || (this._updating & 2) != 0 || !this._parent)\n            return;\n\n        this._updating |= 2;\n\n        if (this._boundsChanged) {\n            this._boundsChanged = false;\n            if (!this._autoSizeDisabled) {\n                this.updateBounds();\n                return;\n            }\n        }\n\n        var cnt: number = this._parent.numChildren;\n        var i: number;\n        var child: GObject;\n\n        if (!this._percentReady) {\n            this._percentReady = true;\n            this._numChildren = 0;\n            this._totalSize = 0;\n            this._mainChildIndex = -1;\n\n            var j: number = 0;\n            for (i = 0; i < cnt; i++) {\n                child = this._parent.getChildAt(i);\n                if (child.group != this)\n                    continue;\n\n                if (!this._excludeInvisibles || child.internalVisible3) {\n                    if (j == this._mainGridIndex)\n                        this._mainChildIndex = i;\n\n                    this._numChildren++;\n\n                    if (this._layout == 1)\n                        this._totalSize += child.width;\n                    else\n                        this._totalSize += child.height;\n                }\n\n                j++;\n            }\n\n            if (this._mainChildIndex != -1) {\n                if (this._layout == 1) {\n                    child = this._parent.getChildAt(this._mainChildIndex);\n                    this._totalSize += this._mainGridMinSize - child.width;\n                    child._sizePercentInGroup = this._mainGridMinSize / this._totalSize;\n                }\n                else {\n                    child = this._parent.getChildAt(this._mainChildIndex);\n                    this._totalSize += this._mainGridMinSize - child.height;\n                    child._sizePercentInGroup = this._mainGridMinSize / this._totalSize;\n                }\n            }\n\n            for (i = 0; i < cnt; i++) {\n                child = this._parent.getChildAt(i);\n                if (child.group != this)\n                    continue;\n\n                if (i == this._mainChildIndex)\n                    continue;\n\n                if (this._totalSize > 0)\n                    child._sizePercentInGroup = (this._layout == 1 ? child.width : child.height) / this._totalSize;\n                else\n                    child._sizePercentInGroup = 0;\n            }\n        }\n\n        var remainSize: number = 0;\n        var remainPercent: number = 1;\n        var priorHandled: boolean = false;\n\n        if (this._layout == 1) {\n            remainSize = this.width - (this._numChildren - 1) * this._columnGap;\n            if (this._mainChildIndex != -1 && remainSize >= this._totalSize) {\n                child = this._parent.getChildAt(this._mainChildIndex);\n                child.setSize(remainSize - (this._totalSize - this._mainGridMinSize), child._rawHeight + dh, true);\n                remainSize -= child.width;\n                remainPercent -= child._sizePercentInGroup;\n                priorHandled = true;\n            }\n\n            var curX: number = this.x;\n            for (i = 0; i < cnt; i++) {\n                child = this._parent.getChildAt(i);\n                if (child.group != this)\n                    continue;\n\n                if (this._excludeInvisibles && !child.internalVisible3) {\n                    child.setSize(child._rawWidth, child._rawHeight + dh, true);\n                    continue;\n                }\n\n                if (!priorHandled || i != this._mainChildIndex) {\n                    child.setSize(Math.round(child._sizePercentInGroup / remainPercent * remainSize), child._rawHeight + dh, true);\n                    remainPercent -= child._sizePercentInGroup;\n                    remainSize -= child.width;\n                }\n\n                child.xMin = curX;\n                if (child.width != 0)\n                    curX += child.width + this._columnGap;\n            }\n        }\n        else {\n            remainSize = this.height - (this._numChildren - 1) * this._lineGap;\n            if (this._mainChildIndex != -1 && remainSize >= this._totalSize) {\n                child = this._parent.getChildAt(this._mainChildIndex);\n                child.setSize(child._rawWidth + dw, remainSize - (this._totalSize - this._mainGridMinSize), true);\n                remainSize -= child.height;\n                remainPercent -= child._sizePercentInGroup;\n                priorHandled = true;\n            }\n\n            var curY: number = this.y;\n            for (i = 0; i < cnt; i++) {\n                child = this._parent.getChildAt(i);\n                if (child.group != this)\n                    continue;\n\n                if (this._excludeInvisibles && !child.internalVisible3) {\n                    child.setSize(child._rawWidth + dw, child._rawHeight, true);\n                    continue;\n                }\n\n                if (!priorHandled || i != this._mainChildIndex) {\n                    child.setSize(child._rawWidth + dw, Math.round(child._sizePercentInGroup / remainPercent * remainSize), true);\n                    remainPercent -= child._sizePercentInGroup;\n                    remainSize -= child.height;\n                }\n\n                child.yMin = curY;\n                if (child.height != 0)\n                    curY += child.height + this._lineGap;\n            }\n        }\n\n        this._updating &= 1;\n    }\n\n    protected handleAlphaChanged(): void {\n        if (this._underConstruct)\n            return;\n\n        var cnt: number = this._parent.numChildren;\n        for (var i: number = 0; i < cnt; i++) {\n            var child: GObject = this._parent.getChildAt(i);\n            if (child.group == this)\n                child.alpha = this.alpha;\n        }\n    }\n\n    public handleVisibleChanged(): void {\n        if (!this._parent)\n            return;\n        var cnt: number = this._parent.numChildren;\n        for (var i: number = 0; i < cnt; i++) {\n            var child: GObject = this._parent.getChildAt(i);\n            if (child.group == this)\n                child.handleVisibleChanged();\n        }\n    }\n\n    public setup_beforeAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_beforeAdd(buffer, beginPos);\n\n        buffer.seek(beginPos, 5);\n\n        this._layout = buffer.readByte();\n        this._lineGap = buffer.readInt();\n        this._columnGap = buffer.readInt();\n        if (buffer.version >= 2) {\n            this._excludeInvisibles = buffer.readBool();\n            this._autoSizeDisabled = buffer.readBool();\n            this._mainGridIndex = buffer.readShort();\n        }\n    }\n\n    public setup_afterAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_afterAdd(buffer, beginPos);\n\n        if (!this.visible)\n            this.handleVisibleChanged();\n    }\n}\n","import { ByteBuffer } from './utils/ByteBuffer';\nimport { ObjectPropID } from './FieldTypes';\nimport { GObject } from './GObject';\nexport class GGraph extends GObject {\n    private _type: number;\n    private _lineSize: number;\n    private _lineColor: string;\n    private _fillColor: string;\n    private _cornerRadius?: number[];\n    private _hitArea?: any;\n    private _sides?: number;\n    private _startAngle?: number;\n    private _polygonPoints?: number[];\n    private _distances?: number[];\n\n    constructor() {\n        super();\n\n        this._type = 0;\n        this._lineSize = 1;\n        this._lineColor = \"#000000\"\n        this._fillColor = \"#FFFFFF\";\n    }\n\n    public drawRect(lineSize: number, lineColor: string, fillColor: string, cornerRadius?: number[]): void {\n        this._type = 1;\n        this._lineSize = lineSize;\n        this._lineColor = lineColor;\n        this._fillColor = fillColor;\n        this._cornerRadius = cornerRadius;\n        this.updateGraph();\n    }\n\n    public drawEllipse(lineSize: number, lineColor: string, fillColor: string): void {\n        this._type = 2;\n        this._lineSize = lineSize;\n        this._lineColor = lineColor;\n        this._fillColor = fillColor;\n        this.updateGraph();\n    }\n\n    public drawRegularPolygon(lineSize: number, lineColor: string, fillColor: string, sides: number, startAngle?: number, distances?: number[]): void {\n        this._type = 4;\n        this._lineSize = lineSize;\n        this._lineColor = lineColor;\n        this._fillColor = fillColor;\n        this._sides = sides;\n        this._startAngle = startAngle || 0;\n        this._distances = distances;\n        this.updateGraph();\n    }\n\n    public drawPolygon(lineSize: number, lineColor: string, fillColor: string, points: number[]): void {\n        this._type = 3;\n        this._lineSize = lineSize;\n        this._lineColor = lineColor;\n        this._fillColor = fillColor;\n        this._polygonPoints = points;\n        this.updateGraph();\n    }\n\n    public get distances(): number[] {\n        return this._distances;\n    }\n\n    public set distances(value: number[]) {\n        this._distances = value;\n        if (this._type == 3)\n            this.updateGraph();\n    }\n\n    public get color(): string {\n        return this._fillColor;\n    }\n\n    public set color(value: string) {\n        this._fillColor = value;\n        this.updateGear(4);\n        if (this._type != 0)\n            this.updateGraph();\n    }\n\n    private updateGraph(): void {\n        // TODO\n        throw new Error(\"TODO\");\n        // this._displayObject.mouseEnabled = this.touchable;\n        // var gr: Laya.Graphics = this._displayObject.graphics;\n        // gr.clear();\n\n        // var w: number = this.width;\n        // var h: number = this.height;\n        // if (w == 0 || h == 0)\n        //     return;\n\n        // var fillColor: string = this._fillColor;\n        // var lineColor: string = this._lineColor;\n        // if (/*Render.isWebGL &&*/ ToolSet.startsWith(fillColor, \"rgba\")) {\n        //     //webgl下laya未支持rgba格式\n        //     var arr: any[] = fillColor.substring(5, fillColor.lastIndexOf(\")\")).split(\",\");\n        //     var a: number = parseFloat(arr[3]);\n        //     if (a == 0)\n        //         fillColor = null;\n        //     else {\n        //         fillColor = Laya.Utils.toHexColor((parseInt(arr[0]) << 16) + (parseInt(arr[1]) << 8) + parseInt(arr[2]));\n        //         this.alpha = a;\n        //     }\n        // }\n        // if (this._type == 1) {\n        //     if (this._cornerRadius) {\n        //         var paths: any[] = [\n        //             [\"moveTo\", this._cornerRadius[0], 0],\n        //             [\"lineTo\", w - this._cornerRadius[1], 0],\n        //             [\"arcTo\", w, 0, w, this._cornerRadius[1], this._cornerRadius[1]],\n        //             [\"lineTo\", w, h - this._cornerRadius[3]],\n        //             [\"arcTo\", w, h, w - this._cornerRadius[3], h, this._cornerRadius[3]],\n        //             [\"lineTo\", this._cornerRadius[2], h],\n        //             [\"arcTo\", 0, h, 0, h - this._cornerRadius[2], this._cornerRadius[2]],\n        //             [\"lineTo\", 0, this._cornerRadius[0]],\n        //             [\"arcTo\", 0, 0, this._cornerRadius[0], 0, this._cornerRadius[0]],\n        //             [\"closePath\"]\n        //         ];\n        //         gr.drawPath(0, 0, paths, fillColor ? { fillStyle: fillColor } : null, this._lineSize > 0 ? { strokeStyle: lineColor, lineWidth: this._lineSize } : null);\n        //     }\n        //     else\n        //         gr.drawRect(0, 0, w, h, fillColor, this._lineSize > 0 ? lineColor : null, this._lineSize);\n        // } else if (this._type == 2) {\n        //     gr.drawCircle(w / 2, h / 2, w / 2, fillColor, this._lineSize > 0 ? lineColor : null, this._lineSize);\n        // }\n        // else if (this._type == 3) {\n        //     gr.drawPoly(0, 0, this._polygonPoints, fillColor, this._lineSize > 0 ? lineColor : null, this._lineSize);\n        // }\n        // else if (this._type == 4) {\n        //     if (!this._polygonPoints)\n        //         this._polygonPoints = [];\n        //     var radius: number = Math.min(this._width, this._height) / 2;\n        //     this._polygonPoints.length = 0;\n        //     var angle: number = Laya.Utils.toRadian(this._startAngle);\n        //     var deltaAngle: number = 2 * Math.PI / this._sides;\n        //     var dist: number;\n        //     for (var i: number = 0; i < this._sides; i++) {\n        //         if (this._distances) {\n        //             dist = this._distances[i];\n        //             if (isNaN(dist))\n        //                 dist = 1;\n        //         }\n        //         else\n        //             dist = 1;\n\n        //         var xv: number = radius + radius * dist * Math.cos(angle);\n        //         var yv: number = radius + radius * dist * Math.sin(angle);\n        //         this._polygonPoints.push(xv, yv);\n\n        //         angle += deltaAngle;\n        //     }\n\n        //     gr.drawPoly(0, 0, this._polygonPoints, fillColor, this._lineSize > 0 ? lineColor : null, this._lineSize);\n        // }\n\n        // this._displayObject.repaint();\n    }\n\n    public replaceMe(target: GObject): void {\n        throw new Error(\"TODO\");\n        // if (!this._parent)\n        //     throw \"parent not set\";\n\n        // target.name = this.name;\n        // target.alpha = this.alpha;\n        // target.rotation = this.rotation;\n        // target.visible = this.visible;\n        // target.touchable = this.touchable;\n        // target.grayed = this.grayed;\n        // target.setXY(this.x, this.y);\n        // target.setSize(this.width, this.height);\n\n        // var index: number = this._parent.getChildIndex(this);\n        // this._parent.addChildAt(target, index);\n        // target.relations.copyFrom(this.relations);\n\n        // this._parent.removeChild(this, true);\n    }\n\n    public addBeforeMe(target: GObject): void {\n        throw new Error(\"TODO\");\n\n        if (!this._parent)\n            throw \"parent not set\";\n\n        // var index: number = this._parent.getChildIndex(this);\n        // this._parent.addChildAt(target, index);\n    }\n\n    public addAfterMe(target: GObject): void {\n        throw new Error(\"TODO\");\n        if (!this._parent)\n            throw \"parent not set\";\n\n        // var index: number = this._parent.getChildIndex(this);\n        // index++;\n        // this._parent.addChildAt(target, index);\n    }\n\n    public setNativeObject(obj: any): void {\n        this._type = 0;\n        throw new Error(\"TODO\");\n        // this._displayObject.mouseEnabled = this.touchable;\n        // this._displayObject.graphics.clear();\n        // this._displayObject.addChild(obj);\n    }\n\n    public createDisplayObject(): void {\n        throw new Error(\"TODO\");\n        super.createDisplayObject();\n        // this._displayObject.mouseEnabled = false;\n\n        // this._hitArea = new Laya.HitArea();\n        // this._hitArea.hit = this._displayObject.graphics;\n        // this._displayObject.hitArea = this._hitArea;\n    }\n\n    public getProp(index: number): any {\n        if (index == ObjectPropID.Color)\n            return this.color;\n        else\n            return super.getProp(index);\n    }\n\n    public setProp(index: number, value: any): void {\n        if (index == ObjectPropID.Color)\n            this.color = value;\n        else\n            super.setProp(index, value);\n    }\n\n    protected handleSizeChanged(): void {\n        super.handleSizeChanged();\n\n        if (this._type != 0)\n            this.updateGraph();\n    }\n\n    public setup_beforeAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_beforeAdd(buffer, beginPos);\n\n        buffer.seek(beginPos, 5);\n\n        this._type = buffer.readByte();\n        if (this._type != 0) {\n            var i: number;\n            var cnt: number;\n\n            this._lineSize = buffer.readInt();\n            this._lineColor = buffer.readColorS(true);\n            this._fillColor = buffer.readColorS(true);\n            if (buffer.readBool()) {\n                this._cornerRadius = [];\n                for (i = 0; i < 4; i++)\n                    this._cornerRadius[i] = buffer.readFloat();\n            }\n\n            if (this._type == 3) {\n                cnt = buffer.readShort();\n                this._polygonPoints = [];\n                this._polygonPoints.length = cnt;\n                for (i = 0; i < cnt; i++)\n                    this._polygonPoints[i] = buffer.readFloat();\n            }\n            else if (this._type == 4) {\n                this._sides = buffer.readShort();\n                this._startAngle = buffer.readFloat();\n                cnt = buffer.readShort();\n                if (cnt > 0) {\n                    this._distances = [];\n                    for (i = 0; i < cnt; i++)\n                        this._distances[i] = buffer.readFloat();\n                }\n            }\n\n            this.updateGraph();\n        }\n    }\n}\n","import { FillOrigin, FillMethod } from './../FieldTypes';\nexport function fillImage(w: number, h: number, method: number, origin: number, clockwise: boolean, amount: number): number[] {\n    if (amount <= 0)\n        return null;\n    else if (amount >= 0.9999)\n        return [0, 0, w, 0, w, h, 0, h];\n\n    var points: any[];\n    switch (method) {\n        case FillMethod.Horizontal:\n            points = fillHorizontal(w, h, origin, amount);\n            break;\n\n        case FillMethod.Vertical:\n            points = fillVertical(w, h, origin, amount);\n            break;\n\n        case FillMethod.Radial90:\n            points = fillRadial90(w, h, origin, clockwise, amount);\n            break;\n\n        case FillMethod.Radial180:\n            points = fillRadial180(w, h, origin, clockwise, amount);\n            break;\n\n        case FillMethod.Radial360:\n            points = fillRadial360(w, h, origin, clockwise, amount);\n            break;\n    }\n    return points;\n}\n\nfunction fillHorizontal(w: number, h: number, origin: number, amount: number): number[] {\n    var w2: number = w * amount;\n    if (origin == FillOrigin.Left || origin == FillOrigin.Top)\n        return [0, 0, w2, 0, w2, h, 0, h];\n    else\n        return [w, 0, w, h, w - w2, h, w - w2, 0];\n}\n\nfunction fillVertical(w: number, h: number, origin: number, amount: number): number[] {\n    var h2: number = h * amount;\n    if (origin == FillOrigin.Left || origin == FillOrigin.Top)\n        return [0, 0, 0, h2, w, h2, w, 0];\n    else\n        return [0, h, w, h, w, h - h2, 0, h - h2];\n}\n\nfunction fillRadial90(w: number, h: number, origin: number, clockwise: boolean, amount: number): number[] {\n    if (clockwise && (origin == FillOrigin.TopRight || origin == FillOrigin.BottomLeft)\n        || !clockwise && (origin == FillOrigin.TopLeft || origin == FillOrigin.BottomRight)) {\n        amount = 1 - amount;\n    }\n    var v: number, v2: number, h2: number;\n    v = Math.tan(Math.PI / 2 * amount);\n    h2 = w * v;\n    v2 = (h2 - h) / h2;\n    var points: any[];\n\n    switch (origin) {\n        case FillOrigin.TopLeft:\n            if (clockwise) {\n                if (h2 <= h)\n                    points = [0, 0, w, h2, w, 0];\n                else\n                    points = [0, 0, w * (1 - v2), h, w, h, w, 0];\n            }\n            else {\n                if (h2 <= h)\n                    points = [0, 0, w, h2, w, h, 0, h];\n                else\n                    points = [0, 0, w * (1 - v2), h, 0, h];\n            }\n            break;\n\n        case FillOrigin.TopRight:\n            if (clockwise) {\n                if (h2 <= h)\n                    points = [w, 0, 0, h2, 0, h, w, h];\n                else\n                    points = [w, 0, w * v2, h, w, h];\n            }\n            else {\n                if (h2 <= h)\n                    points = [w, 0, 0, h2, 0, 0];\n                else\n                    points = [w, 0, w * v2, h, 0, h, 0, 0];\n            }\n            break;\n\n        case FillOrigin.BottomLeft:\n            if (clockwise) {\n                if (h2 <= h)\n                    points = [0, h, w, h - h2, w, 0, 0, 0];\n                else\n                    points = [0, h, w * (1 - v2), 0, 0, 0];\n            }\n            else {\n                if (h2 <= h)\n                    points = [0, h, w, h - h2, w, h];\n                else\n                    points = [0, h, w * (1 - v2), 0, w, 0, w, h];\n            }\n\n            break;\n\n        case FillOrigin.BottomRight:\n            if (clockwise) {\n                if (h2 <= h)\n                    points = [w, h, 0, h - h2, 0, h];\n                else\n                    points = [w, h, w * v2, 0, 0, 0, 0, h];\n            }\n            else {\n                if (h2 <= h)\n                    points = [w, h, 0, h - h2, 0, 0, w, 0];\n                else\n                    points = [w, h, w * v2, 0, w, 0];\n            }\n            break;\n    }\n    return points;\n}\n\nfunction movePoints(points: any[], offsetX: number, offsetY: number): void {\n    var cnt: number = points.length;\n    for (var i: number = 0; i < cnt; i += 2) {\n        points[i] += offsetX;\n        points[i + 1] += offsetY;\n    }\n}\n\nfunction fillRadial180(w: number, h: number, origin: number, clockwise: boolean, amount: number): number[] {\n    var points: any[];\n    switch (origin) {\n        case FillOrigin.Top:\n            if (amount <= 0.5) {\n                amount = amount / 0.5;\n                points = fillRadial90(w / 2, h,\n                    clockwise ? FillOrigin.TopLeft : FillOrigin.TopRight,\n                    clockwise,\n                    amount);\n                if (clockwise)\n                    movePoints(points, w / 2, 0);\n            }\n            else {\n                amount = (amount - 0.5) / 0.5;\n                points = fillRadial90(w / 2, h,\n                    clockwise ? FillOrigin.TopRight : FillOrigin.TopLeft,\n                    clockwise,\n                    amount);\n                if (clockwise)\n                    points.push(w, h, w, 0);\n                else {\n                    movePoints(points, w / 2, 0);\n                    points.push(0, h, 0, 0);\n                }\n\n            }\n            break;\n\n        case FillOrigin.Bottom:\n            if (amount <= 0.5) {\n                amount = amount / 0.5;\n                points = fillRadial90(w / 2, h,\n                    clockwise ? FillOrigin.BottomRight : FillOrigin.BottomLeft,\n                    clockwise,\n                    amount);\n                if (!clockwise)\n                    movePoints(points, w / 2, 0);\n            }\n            else {\n                amount = (amount - 0.5) / 0.5;\n                points = fillRadial90(w / 2, h,\n                    clockwise ? FillOrigin.BottomLeft : FillOrigin.BottomRight,\n                    clockwise,\n                    amount);\n                if (clockwise) {\n                    movePoints(points, w / 2, 0);\n                    points.push(0, 0, 0, h);\n                }\n                else\n                    points.push(w, 0, w, h);\n            }\n            break;\n\n        case FillOrigin.Left:\n            if (amount <= 0.5) {\n                amount = amount / 0.5;\n                points = fillRadial90(w, h / 2,\n                    clockwise ? FillOrigin.BottomLeft : FillOrigin.TopLeft,\n                    clockwise,\n                    amount);\n                if (!clockwise)\n                    movePoints(points, 0, h / 2);\n            }\n            else {\n                amount = (amount - 0.5) / 0.5;\n                points = fillRadial90(w, h / 2,\n                    clockwise ? FillOrigin.TopLeft : FillOrigin.BottomLeft,\n                    clockwise,\n                    amount);\n                if (clockwise) {\n                    movePoints(points, 0, h / 2);\n                    points.push(w, 0, 0, 0);\n                }\n                else\n                    points.push(w, h, 0, h);\n            }\n            break;\n\n        case FillOrigin.Right:\n            if (amount <= 0.5) {\n                amount = amount / 0.5;\n                points = fillRadial90(w, h / 2,\n                    clockwise ? FillOrigin.TopRight : FillOrigin.BottomRight,\n                    clockwise,\n                    amount);\n                if (clockwise)\n                    movePoints(points, 0, h / 2);\n            }\n            else {\n                amount = (amount - 0.5) / 0.5;\n                points = fillRadial90(w, h / 2,\n                    clockwise ? FillOrigin.BottomRight : FillOrigin.TopRight,\n                    clockwise,\n                    amount);\n                if (clockwise)\n                    points.push(0, h, w, h);\n                else {\n                    movePoints(points, 0, h / 2);\n                    points.push(0, 0, w, 0);\n                }\n            }\n            break;\n    }\n\n    return points;\n}\n\nfunction fillRadial360(w: number, h: number, origin: number, clockwise: boolean, amount: number): number[] {\n    var points: any[];\n    switch (origin) {\n        case FillOrigin.Top:\n            if (amount <= 0.5) {\n                amount = amount / 0.5;\n                points = fillRadial180(w / 2, h,\n                    clockwise ? FillOrigin.Left : FillOrigin.Right,\n                    clockwise,\n                    amount);\n                if (clockwise)\n                    movePoints(points, w / 2, 0);\n            }\n            else {\n                amount = (amount - 0.5) / 0.5;\n                points = fillRadial180(w / 2, h,\n                    clockwise ? FillOrigin.Right : FillOrigin.Left,\n                    clockwise,\n                    amount);\n                if (clockwise)\n                    points.push(w, h, w, 0, w / 2, 0);\n                else {\n                    movePoints(points, w / 2, 0);\n                    points.push(0, h, 0, 0, w / 2, 0);\n                }\n            }\n            break;\n\n        case FillOrigin.Bottom:\n            if (amount <= 0.5) {\n                amount = amount / 0.5;\n                points = fillRadial180(w / 2, h,\n                    clockwise ? FillOrigin.Right : FillOrigin.Left,\n                    clockwise,\n                    amount);\n                if (!clockwise)\n                    movePoints(points, w / 2, 0);\n            }\n            else {\n                amount = (amount - 0.5) / 0.5;\n                points = fillRadial180(w / 2, h,\n                    clockwise ? FillOrigin.Left : FillOrigin.Right,\n                    clockwise,\n                    amount);\n                if (clockwise) {\n                    movePoints(points, w / 2, 0);\n                    points.push(0, 0, 0, h, w / 2, h);\n                }\n                else\n                    points.push(w, 0, w, h, w / 2, h);\n            }\n            break;\n\n        case FillOrigin.Left:\n            if (amount <= 0.5) {\n                amount = amount / 0.5;\n                points = fillRadial180(w, h / 2,\n                    clockwise ? FillOrigin.Bottom : FillOrigin.Top,\n                    clockwise,\n                    amount);\n                if (!clockwise)\n                    movePoints(points, 0, h / 2);\n            }\n            else {\n                amount = (amount - 0.5) / 0.5;\n                points = fillRadial180(w, h / 2,\n                    clockwise ? FillOrigin.Top : FillOrigin.Bottom,\n                    clockwise,\n                    amount);\n                if (clockwise) {\n                    movePoints(points, 0, h / 2);\n                    points.push(w, 0, 0, 0, 0, h / 2);\n                }\n                else\n                    points.push(w, h, 0, h, 0, h / 2);\n            }\n            break;\n\n        case FillOrigin.Right:\n            if (amount <= 0.5) {\n                amount = amount / 0.5;\n                points = fillRadial180(w, h / 2,\n                    clockwise ? FillOrigin.Top : FillOrigin.Bottom,\n                    clockwise,\n                    amount);\n                if (clockwise)\n                    movePoints(points, 0, h / 2);\n            }\n            else {\n                amount = (amount - 0.5) / 0.5;\n                points = fillRadial180(w, h / 2,\n                    clockwise ? FillOrigin.Bottom : FillOrigin.Top,\n                    clockwise,\n                    amount);\n                if (clockwise)\n                    points.push(0, h, w, h, w, h / 2);\n                else {\n                    movePoints(points, 0, h / 2);\n                    points.push(0, 0, w, 0, w, h / 2);\n                }\n            }\n            break;\n    }\n\n    return points;\n}\n","\nexport enum GRAPHICSTYPE {\n    RECTANGLE = \"rectangle\",\n    CIRCLE = \"circle\",\n    POLY = \"POLY\",\n    ELLIPSE = \"ellipse\",\n}\nexport class Graphics extends Phaser.GameObjects.Graphics {\n    // 默认矩形\n    private _graphicsType: GRAPHICSTYPE = GRAPHICSTYPE.RECTANGLE;\n    private _width: number = 0;\n    private _height: number = 0;\n    private _radius: number = 0;\n    private _points: Phaser.Geom.Point[] = [];\n    constructor(scene: Phaser.Scene) {\n        super(scene);\n    }\n\n    public get width(): number {\n        return this._width;\n    }\n\n    public get height(): number {\n        return this._height;\n    }\n\n    public get radius(): number {\n        return this._radius;\n    }\n\n    public get points(): Phaser.Geom.Point[] {\n        return this._points;\n    }\n\n    public fillRect(x: number, y: number, width: number, height: number): this {\n        this._graphicsType = GRAPHICSTYPE.RECTANGLE;\n        this._width = width;\n        this._height = height;\n        return super.fillRect(x, y, width, height);\n    }\n\n    public fillCircle(x: number, y: number, radius: number): this {\n        this._graphicsType = GRAPHICSTYPE.CIRCLE;\n        this._radius = radius;\n        return super.fillCircle(x, y, radius);\n    }\n\n    public fillTriangle(x0: number, y0: number, x1: number, y1: number, x2: number, y2: number): this {\n        // 三角形是多边形\n        // todo 扩展其他正多边形\n        this._graphicsType = GRAPHICSTYPE.POLY;\n        this._points = [new Phaser.Geom.Point(x0, y0), new Phaser.Geom.Point(x1, y1), new Phaser.Geom.Point(x2, y2)];\n        return super.fillTriangle(x0, y0, x1, y1, x2, y2);\n    }\n\n    public fillEllipse(x: number, y: number, width: number, height: number, smoothness?: number): this {\n        this._graphicsType = GRAPHICSTYPE.ELLIPSE;\n        return super.fillEllipse(x, y, width, height, smoothness);\n    }\n\n    public get graphicsType(): GRAPHICSTYPE {\n        return this._graphicsType;\n    }\n    public set graphicsType(value: GRAPHICSTYPE) {\n        this._graphicsType = value;\n    }\n\n    public clear(): this {\n        this._width = 0;\n        this._height = 0;\n        this._radius = 0;\n        this._points = [];\n        return super.clear();\n    }\n\n\n\n}\n","import { ToolSet } from './../utils/ToolSet';\r\nimport { fillImage } from './FillUtils';\r\nimport { Graphics } from \"./Graphics\";\r\n\r\nexport class Image extends Phaser.GameObjects.Container {\r\n    protected _source: Phaser.Textures.Texture;\r\n    protected _scaleByTile?: boolean;\r\n    protected _scale9Grid?: Phaser.Geom.Rectangle;\r\n\r\n    private _tileGridIndice: number = 0;\r\n    private _sizeGrid: number[];\r\n    private _needRebuild: number = 0;\r\n    private _fillMethod: number = 0;\r\n    private _fillOrigin: number = 0;\r\n    private _fillAmount: number = 0;\r\n    private _fillClockwise?: boolean;\r\n    private _mask?: Graphics;\r\n    private _color: string;\r\n\r\n    constructor(scene: Phaser.Scene) {\r\n        super(scene);\r\n\r\n        // this.mouseEnabled = false;\r\n        this._color = \"#FFFFFF\";\r\n        this.width\r\n    }\r\n\r\n    // public set width(value: number) {\r\n    //     if (this[\"_width\"] !== value) {\r\n    //         super.set_width(value);\r\n    //         this.markChanged(1);\r\n    //     }\r\n    // }\r\n\r\n    // public set height(value: number) {\r\n    //     if (this[\"_height\"] !== value) {\r\n    //         super.set_height(value);\r\n    //         this.markChanged(1);\r\n    //     }\r\n    // }\r\n    public setSize(width: number, height: number): this {\r\n        this.width = width;\r\n        this.height = height;\r\n        this.markChanged(1);\r\n        return this;\r\n    }\r\n\r\n    public get texture(): Phaser.Textures.Texture {\r\n        return this._source;\r\n    }\r\n\r\n    public set texture(value: Phaser.Textures.Texture) {\r\n        if (this._source != value) {\r\n            this._source = value;\r\n            if (this[\"_width\"] == 0) {\r\n                if (this._source)\r\n                    this.setSize(this._source.source[0].width, this._source.source[0].height);\r\n                else\r\n                    this.setSize(0, 0);\r\n            }\r\n            // todo 重绘\r\n            // this.repaint();\r\n            this.markChanged(1);\r\n        }\r\n    }\r\n\r\n    public get scale9Grid(): Phaser.Geom.Rectangle {\r\n        return this._scale9Grid;\r\n    }\r\n\r\n    public set scale9Grid(value: Phaser.Geom.Rectangle) {\r\n        this._scale9Grid = value;\r\n        this._sizeGrid = null;\r\n        this.markChanged(1);\r\n    }\r\n\r\n    public get scaleByTile(): boolean {\r\n        return this._scaleByTile;\r\n    }\r\n\r\n    public set scaleByTile(value: boolean) {\r\n        if (this._scaleByTile != value) {\r\n            this._scaleByTile = value;\r\n            this.markChanged(1);\r\n        }\r\n    }\r\n\r\n    public get tileGridIndice(): number {\r\n        return this._tileGridIndice;\r\n    }\r\n\r\n    public set tileGridIndice(value: number) {\r\n        if (this._tileGridIndice != value) {\r\n            this._tileGridIndice = value;\r\n            this.markChanged(1);\r\n        }\r\n    }\r\n\r\n    public get fillMethod(): number {\r\n        return this._fillMethod;\r\n    }\r\n\r\n    public set fillMethod(value: number) {\r\n        if (this._fillMethod != value) {\r\n            this._fillMethod = value;\r\n            if (this._fillMethod != 0) {\r\n                if (!this._mask) {\r\n                    this._mask = new Graphics(this.scene);\r\n                    // this._mask.mouseEnabled = false;\r\n                }\r\n                this.mask = this._mask.createGeometryMask();\r\n                this.markChanged(2);\r\n            }\r\n            else if (this.mask) {\r\n                this._mask.clear();\r\n                this.mask = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    public get fillOrigin(): number {\r\n        return this._fillOrigin;\r\n    }\r\n\r\n    public set fillOrigin(value: number) {\r\n        if (this._fillOrigin != value) {\r\n            this._fillOrigin = value;\r\n            if (this._fillMethod != 0)\r\n                this.markChanged(2);\r\n        }\r\n    }\r\n\r\n    public get fillClockwise(): boolean {\r\n        return this._fillClockwise;\r\n    }\r\n\r\n    public set fillClockwise(value: boolean) {\r\n        if (this._fillClockwise != value) {\r\n            this._fillClockwise = value;\r\n            if (this._fillMethod != 0)\r\n                this.markChanged(2);\r\n        }\r\n    }\r\n\r\n    public get fillAmount(): number {\r\n        return this._fillAmount;\r\n    }\r\n\r\n    public set fillAmount(value: number) {\r\n        if (this._fillAmount != value) {\r\n            this._fillAmount = value;\r\n            if (this._fillMethod != 0)\r\n                this.markChanged(2);\r\n        }\r\n    }\r\n\r\n    public get color(): string {\r\n        return this._color;\r\n    }\r\n\r\n    public set color(value: string) {\r\n        if (this._color != value) {\r\n            this._color = value;\r\n\r\n            ToolSet.setColorFilter(this, value);\r\n        }\r\n    }\r\n\r\n    private markChanged(flag: number): void {\r\n        if (!this._needRebuild) {\r\n            this._needRebuild = flag;\r\n\r\n            // Laya.timer.callLater(this, this.rebuild);\r\n        }\r\n        else\r\n            this._needRebuild |= flag;\r\n    }\r\n\r\n    protected rebuild(): void {\r\n        if ((this._needRebuild & 1) != 0)\r\n            this.doDraw();\r\n        if ((this._needRebuild & 2) != 0 && this._fillMethod != 0)\r\n            this.doFill();\r\n        this._needRebuild = 0;\r\n    }\r\n\r\n    private doDraw(): void {\r\n        var w: number = this[\"_width\"];\r\n        var h: number = this[\"_height\"];\r\n        var g: Graphics = new Graphics(this.scene);\r\n        var tex: Phaser.Textures.Texture = this._source;\r\n\r\n        g.clear();\r\n\r\n        if (tex == null || w == 0 || h == 0) {\r\n            return;\r\n        }\r\n\r\n        if (this._scaleByTile) {\r\n            // todo draw texture\r\n            //  g.fillTexture(tex, 0, 0, w, h);\r\n        }\r\n        else if (this._scale9Grid) {\r\n            if (!this._sizeGrid) {\r\n                var tw: number = tex.source[0].width;\r\n                var th: number = tex.source[0].height;\r\n                var left: number = this._scale9Grid.x;\r\n                var right: number = Math.max(tw - this._scale9Grid.right, 0);\r\n                var top: number = this._scale9Grid.y;\r\n                var bottom: number = Math.max(th - this._scale9Grid.bottom, 0);\r\n                this._sizeGrid = [top, right, bottom, left, this._tileGridIndice];\r\n            }\r\n\r\n            // todo draw9Grid\r\n            //g.draw9Grid(tex, 0, 0, w, h, this._sizeGrid);\r\n        }\r\n        else {\r\n            // todo drawImage\r\n            //g.drawImage(tex, 0, 0, w, h);\r\n        }\r\n    }\r\n\r\n    private doFill(): void {\r\n        var w: number = this[\"_width\"];\r\n        var h: number = this[\"_height\"];\r\n        var g: Graphics = this._mask;\r\n        g.clear();\r\n\r\n        if (w == 0 || h == 0)\r\n            return;\r\n\r\n        var points: any[] = fillImage(w, h, this._fillMethod, this._fillOrigin, this._fillClockwise, this._fillAmount);\r\n        if (points == null) {\r\n            //不知道为什么，不这样操作一下空白的遮罩不能生效\r\n            this.mask = null;\r\n            this.mask = this._mask.createGeometryMask();\r\n            return;\r\n        }\r\n\r\n        // todo drawPoly\r\n        // g.drawPoly(0, 0, points, \"#FFFFFF\");\r\n    }\r\n}\r\n","import { ByteBuffer } from './utils/ByteBuffer';\nimport { FlipType, ObjectPropID } from './FieldTypes';\nimport { PackageItem } from './PackageItem';\nimport { Image } from './display/Image';\nimport { GObject } from './GObject';\nexport class GImage extends GObject {\n    private _image: Image;\n    private _flip: number = 0;\n    private _contentItem: PackageItem;\n\n    constructor(scene?: Phaser.Scene) {\n        super(scene);\n    }\n\n    public get image(): Image {\n        return this._image;\n    }\n\n    public get color(): string {\n        return this.image.color;\n    }\n\n    public set color(value: string) {\n        if (this.image.color != value) {\n            this.image.color = value;\n            this.updateGear(4);\n        }\n    }\n\n    public get flip(): number {\n        return this._flip;\n    }\n\n    public set flip(value: number) {\n        if (this._flip != value) {\n            this._flip = value;\n\n            var sx: number = 1, sy: number = 1;\n            if (this._flip == FlipType.Horizontal || this._flip == FlipType.Both)\n                sx = -1;\n            if (this._flip == FlipType.Vertical || this._flip == FlipType.Both)\n                sy = -1;\n            this.setScale(sx, sy);\n            this.handleXYChanged();\n        }\n    }\n\n    public get fillMethod(): number {\n        return this.image.fillMethod;\n    }\n\n    public set fillMethod(value: number) {\n        this.image.fillMethod = value;\n    }\n\n    public get fillOrigin(): number {\n        return this.image.fillOrigin;\n    }\n\n    public set fillOrigin(value: number) {\n        this.image.fillOrigin = value;\n    }\n\n    public get fillClockwise(): boolean {\n        return this.image.fillClockwise;\n    }\n\n    public set fillClockwise(value: boolean) {\n        this.image.fillClockwise = value;\n    }\n\n    public get fillAmount(): number {\n        return this.image.fillAmount;\n    }\n\n    public set fillAmount(value: number) {\n        this.image.fillAmount = value;\n    }\n\n    public createDisplayObject(): void {\n        this._displayObject = this._image = new Image(this.scene);\n        // this.image.mouseEnabled = false;\n        this._displayObject[\"$owner\"] = this;\n    }\n\n    public constructFromResource(): void {\n        this._contentItem = this.packageItem.getBranch();\n\n        this.sourceWidth = this._contentItem.width;\n        this.sourceHeight = this._contentItem.height;\n        this.initWidth = this.sourceWidth;\n        this.initHeight = this.sourceHeight;\n\n        this._contentItem = this._contentItem.getHighResolution();\n        this._contentItem.load();\n\n        this.image.scale9Grid = this._contentItem.scale9Grid;\n        this.image.scaleByTile = this._contentItem.scaleByTile;\n        this.image.tileGridIndice = this._contentItem.tileGridIndice;\n        this.image.texture = this._contentItem.texture;\n\n        this.setSize(this.sourceWidth, this.sourceHeight);\n    }\n\n    protected handleXYChanged(): void {\n        super.handleXYChanged();\n\n        if (this._flip != FlipType.None) {\n            if (this.scaleX == -1)\n                this.image.x += this.width;\n            if (this.scaleY == -1)\n                this.image.y += this.height;\n        }\n    }\n\n    public getProp(index: number): any {\n        if (index == ObjectPropID.Color)\n            return this.color;\n        else\n            return super.getProp(index);\n    }\n\n    public setProp(index: number, value: any): void {\n        if (index == ObjectPropID.Color)\n            this.color = value;\n        else\n            super.setProp(index, value);\n    }\n\n    public setup_beforeAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_beforeAdd(buffer, beginPos);\n\n        buffer.seek(beginPos, 5);\n\n        if (buffer.readBool())\n            this.color = buffer.readColorS();\n        this.flip = buffer.readByte();\n        this.image.fillMethod = buffer.readByte();\n        if (this.image.fillMethod != 0) {\n            this.image.fillOrigin = buffer.readByte();\n            this.image.fillClockwise = buffer.readBool();\n            this.image.fillAmount = buffer.readFloat();\n        }\n    }\n}\n","import { PackageItem } from './PackageItem';\nimport { ObjectPropID } from './FieldTypes';\nimport { MovieClip } from './display/MovieClip';\nimport { GObject } from './GObject';\nimport { ByteBuffer } from './utils/ByteBuffer';\nexport class GMovieClip extends GObject {\n    private _movieClip: MovieClip;\n\n    constructor() {\n        super();\n    }\n\n    public get color(): string {\n        return this._movieClip.color;\n    }\n\n    public set color(value: string) {\n        this._movieClip.color = value;\n    }\n\n    public createDisplayObject(): void {\n        throw new Error(\"TODO\");\n        // this._displayObject = this._movieClip = new MovieClip();\n        // this._movieClip.mouseEnabled = false;\n        // this._displayObject[\"$owner\"] = this;\n    }\n\n    public get playing(): boolean {\n        return this._movieClip.playing;\n    }\n\n    public set playing(value: boolean) {\n        if (this._movieClip.playing != value) {\n            this._movieClip.playing = value;\n            this.updateGear(5);\n        }\n    }\n\n    public get frame(): number {\n        return this._movieClip.frame;\n    }\n\n    public set frame(value: number) {\n        if (this._movieClip.frame != value) {\n            this._movieClip.frame = value;\n            this.updateGear(5);\n        }\n    }\n\n    public get timeScale(): number {\n        return this._movieClip.timeScale;\n    }\n\n    public set timeScale(value: number) {\n        this._movieClip.timeScale = value;\n    }\n\n    public rewind(): void {\n        this._movieClip.rewind();\n    }\n\n    public syncStatus(anotherMc: GMovieClip): void {\n        this._movieClip.syncStatus(anotherMc._movieClip);\n    }\n\n    public advance(timeInMiniseconds: number): void {\n        this._movieClip.advance(timeInMiniseconds);\n    }\n\n    //从start帧开始，播放到end帧（-1表示结尾），重复times次（0表示无限循环），循环结束后，停止在endAt帧（-1表示参数end）\n    public setPlaySettings(start?: number, end?: number, times?: number, endAt?: number, endHandler?: () => void): void {\n        this._movieClip.setPlaySettings(start, end, times, endAt, endHandler);\n    }\n\n    public getProp(index: number): any {\n        switch (index) {\n            case ObjectPropID.Color:\n                return this.color;\n            case ObjectPropID.Playing:\n                return this.playing;\n            case ObjectPropID.Frame:\n                return this.frame;\n            case ObjectPropID.TimeScale:\n                return this.timeScale;\n            default:\n                return super.getProp(index);\n        }\n    }\n\n    public setProp(index: number, value: any): void {\n        switch (index) {\n            case ObjectPropID.Color:\n                this.color = value;\n                break;\n            case ObjectPropID.Playing:\n                this.playing = value;\n                break;\n            case ObjectPropID.Frame:\n                this.frame = value;\n                break;\n            case ObjectPropID.TimeScale:\n                this.timeScale = value;\n                break;\n            case ObjectPropID.DeltaTime:\n                this.advance(value);\n                break;\n            default:\n                super.setProp(index, value);\n                break;\n        }\n    }\n\n    public constructFromResource(): void {\n        var displayItem: PackageItem = this.packageItem.getBranch();\n\n        this.sourceWidth = displayItem.width;\n        this.sourceHeight = displayItem.height;\n        this.initWidth = this.sourceWidth;\n        this.initHeight = this.sourceHeight;\n\n        this.setSize(this.sourceWidth, this.sourceHeight);\n\n        displayItem = displayItem.getHighResolution();\n        displayItem.load();\n\n        this._movieClip.interval = displayItem.interval;\n        this._movieClip.swing = displayItem.swing;\n        this._movieClip.repeatDelay = displayItem.repeatDelay;\n        this._movieClip.frames = displayItem.frames;\n    }\n\n    public setup_beforeAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_beforeAdd(buffer, beginPos);\n\n        buffer.seek(beginPos, 5);\n\n        if (buffer.readBool())\n            this.color = buffer.readColorS();\n        buffer.readByte(); //flip\n        this._movieClip.frame = buffer.readInt();\n        this._movieClip.playing = buffer.readBool();\n    }\n}\n","import { DisplayObjectEvent } from \"../event/DisplayObjectEvent\";\n\nexport class DOMEventManager extends Phaser.Events.EventEmitter {\n\n    public static inst: DOMEventManager = new DOMEventManager();\n\n    public constructor() {\n        super();\n\n        //resize\n        window.addEventListener(\"resize\", e => this.notifyResizeEvents(e), false);\n\n        //modifer keys\n        window.addEventListener('keydown', e => this.onWindowKeyDown(e), false);\n        window.addEventListener('keyup', e => this.onWindowKeyUp(e), false);\n\n        //mouse wheel\n        const toBind: string[] = ('onwheel' in document || (<any>document)[\"documentMode\"] >= 9) ?\n            ['wheel'] : ['mousewheel', 'DomMouseScroll', 'MozMousePixelScroll'];\n        for (let i: number = toBind.length; i;) {\n            window.addEventListener(toBind[--i], e => this.onMouseWheel(e), false);\n        }\n    }\n\n    //resize\n    private notifyResizeEvents(e: any): void {\n        this.emit('resize');\n    }\n\n    private onMouseWheel(event: any): void {\n        let orgEvent: any = (event || window.event),\n            delta: number = 0,\n            deltaX: number = 0,\n            deltaY: number = 0,\n            absDelta: number = 0;\n\n        if ('detail' in orgEvent) { deltaY = orgEvent.detail * -1; }\n        if ('wheelDelta' in orgEvent) { deltaY = orgEvent.wheelDelta; }\n        if ('wheelDeltaY' in orgEvent) { deltaY = orgEvent.wheelDeltaY; }\n        if ('wheelDeltaX' in orgEvent) { deltaX = orgEvent.wheelDeltaX * -1; }\n\n        //FF DOMMouseScroll\n        if ('axis' in orgEvent && orgEvent.axis === orgEvent.HORIZONTAL_AXIS) {\n            deltaX = deltaY * -1;\n            deltaY = 0;\n        }\n\n        delta = deltaY === 0 ? deltaX : deltaY;\n\n        if ('deltaY' in orgEvent) {\n            deltaY = orgEvent.deltaY * -1;\n            delta = deltaY;\n        }\n        if ('deltaX' in orgEvent) {\n            deltaX = orgEvent.deltaX;\n            if (deltaY === 0) { delta = deltaX * -1; }\n        }\n\n        if (deltaY === 0 && deltaX === 0) { return; }\n\n        // Delta modes:\n        //   * deltaMode 0 is by pixels, nothing to do\n        //   * deltaMode 1 is by lines\n        //   * deltaMode 2 is by pages\n        if (orgEvent.deltaMode === 1) {\n            const lineHeight = 16; //fontSize - line-height;\n            delta *= lineHeight;\n            deltaY *= lineHeight;\n            deltaX *= lineHeight;\n        } else if (orgEvent.deltaMode === 2) {\n            const pageHeight = 16;  //dom.clientHeight = page-height\n            delta *= pageHeight;\n            deltaY *= pageHeight;\n            deltaX *= pageHeight;\n        }\n\n        absDelta = Math.max(Math.abs(deltaY), Math.abs(deltaX));\n\n        if (!this.lowestDelta || absDelta < this.lowestDelta) {\n            this.lowestDelta = absDelta;\n\n            if (orgEvent.type === 'mousewheel' && absDelta % 120 === 0)\n                this.lowestDelta /= 40;\n        }\n\n        if (orgEvent.type === 'mousewheel' && absDelta % 120 === 0) {\n            delta /= 40;\n            deltaX /= 40;\n            deltaY /= 40;\n        }\n\n        delta = Math[delta >= 1 ? 'floor' : 'ceil'](delta / this.lowestDelta);\n        deltaX = Math[deltaX >= 1 ? 'floor' : 'ceil'](deltaX / this.lowestDelta);\n        deltaY = Math[deltaY >= 1 ? 'floor' : 'ceil'](deltaY / this.lowestDelta);\n\n        this.retEvent.delta = delta;\n        this.retEvent.deltaX = deltaX;\n        this.retEvent.deltaY = deltaY;\n        this.retEvent.deltaFactor = this.lowestDelta;\n        this.retEvent.deltaMode = 0;\n\n        if (this.nullLowestDeltaTimeout) { clearTimeout(this.nullLowestDeltaTimeout); }\n        this.nullLowestDeltaTimeout = setTimeout(() => this.nullLowestDelta(), 200);\n\n        this.emit(DisplayObjectEvent.MOUSE_WHEEL, this.retEvent);\n    }\n\n    private retEvent: any = {};\n    private lowestDelta: number;\n    private nullLowestDeltaTimeout: any = null;\n\n    private nullLowestDelta(): void {\n        this.lowestDelta = null;\n    }\n\n    /*******************keys*******************/\n    private $pressedKeys: { [key: number]: boolean } = {};\n    private $releasedKeys: { [key: number]: boolean } = {};\n    private $downKeys: number[] = [];\n\n    public isKeyDown(key: number): boolean {\n        return this.$downKeys.indexOf(key) >= 0;\n    }\n\n    public isKeyPressed(key: number): boolean {\n        return !!this.$pressedKeys[key];\n    }\n\n    public isKeyReleased(key: number): boolean {\n        return !!this.$releasedKeys[key];\n    }\n\n    private onWindowKeyDown(evt: any): void {\n        let key: number = evt.which || evt.keyCode;\n\n        if (!this.isKeyDown(key)) {\n            this.$downKeys.push(key);\n            this.$pressedKeys[key] = true;\n\n            this.emit('keyPressed', key);\n        }\n    }\n\n    private onWindowKeyUp(evt: any): void {\n        let key: number = evt.which || evt.keyCode;\n\n        if (this.isKeyDown(key)) {\n            this.$pressedKeys[key] = false;\n            this.$releasedKeys[key] = true;\n\n            let index: number = this.$downKeys.indexOf(key);\n            if (index >= 0) this.$downKeys.splice(index, 1);\n\n            this.emit('keyReleased', key);\n        }\n    }\n}\n","import { DisplayObjectEvent } from \"../event/DisplayObjectEvent\";\nimport { UISceneDisplay } from \"../GRoot\";\nimport { DOMEventManager } from \"../utils/DOMEventManager\";\n\nexport const enum StageOrientation {\n    AUTO = \"auto\",\n    PORTRAIT = \"portrait\",\n    LANDSCAPE = \"landscape\"\n}\n\nexport const enum StageScaleMode {\n    NO_SCALE = \"noScale\",\n    SHOW_ALL = \"showAll\",\n    NO_BORDER = \"noBorder\",\n    EXACT_FIT = \"exactFit\",\n    FIXED_WIDTH = \"fixedWidth\",\n    FIXED_HEIGHT = \"fixedHeight\",\n    FIXED_AUTO = \"fixedAuto\"\n}\n\nexport const enum StageAlign {\n    LEFT,\n    CENTER,\n    RIGHT,\n    TOP,\n    MIDDLE,\n    BOTTOM\n}\n\nexport interface UIStageOptions {\n    scaleMode?: StageScaleMode;\n    orientation?: StageOrientation;\n    resolution?: number;\n    designWidth: number;\n    designHeight: number;\n    alignV?: StageAlign,\n    alignH?: StageAlign,\n    fallbackWidth?: number,\n    fallbackHeight?: number\n    [key: string]: string | number;\n}\n\nexport class DefaultUIStageOptions implements UIStageOptions {\n    public scaleMode?: StageScaleMode = StageScaleMode.SHOW_ALL;\n    public orientation?: StageOrientation = StageOrientation.AUTO;\n    public resolution?: number = 1;\n    public designWidth: number = 800;\n    public designHeight: number = 600;\n    public alignV: StageAlign = StageAlign.MIDDLE;\n    public alignH: StageAlign = StageAlign.CENTER;\n    public fallbackWidth: number = 0;\n    public fallbackHeight: number = 0;\n    [key: string]: string | number;\n}\n\ntype BoundingRect = {\n    x: number,\n    y: number,\n    width: number,\n    height: number\n};\n\ninterface IBoundingRectCalculator {\n    getRect(view: HTMLCanvasElement, fallbackWidth: number, fallbackHeight: number): BoundingRect;\n}\n\nclass DefaultBoudingRectCalculator implements IBoundingRectCalculator {\n    public getRect(view: HTMLCanvasElement, fallbackWidth: number, fallbackHeight: number): BoundingRect {\n        let p = view.parentElement;\n        if (!p)\n            //this should be impossible situation unless the user forget to append the view into the DOM.\n            throw new Error(\"Your view of Phaser are still in memory but not appended to DOM yet? it's necessary that there is a parent element to wrap your view up.\");\n        let rect = p.getBoundingClientRect();\n        let ret: BoundingRect = {\n            x: 0,\n            y: 0,\n            width: 0,\n            height: 0\n        }\n        if (!rect || rect.width <= 0 || rect.height <= 0) {\n            console.warn(\"It seems that you did not set a explicit size for the parent element of your view, now fall back to window size instead.\");\n            ret.width = window.innerWidth;\n            ret.height = window.innerHeight;\n            ret.x = 0;\n            ret.y = 0;\n        }\n        else {\n            ret.x = rect.left;\n            ret.y = rect.top;\n            ret.width = rect.width;\n            ret.height = rect.height;\n        }\n\n        //consider the worst situation: window does not have size!!\n        if (ret.width <= 0 || ret.height <= 0) {\n            console.warn(\"fetch container size to initialize Phaser in all ways have failed, now use default size (fallbackWidth / fallbackHeight) specified in the options instead.\");\n            ret.width = fallbackWidth;\n            ret.height = fallbackHeight;\n        }\n\n        return ret;\n    }\n}\n\nexport class UIStage extends Phaser.Events.EventEmitter {\n    protected $appStage: Phaser.GameObjects.Container;\n\n    protected $options: UIStageOptions;\n    protected $width: number = 0;\n    protected $height: number = 0;\n    protected $scaleX: number = 1;\n    protected $scaleY: number = 1;\n\n    protected $canvasMatrix: Phaser.GameObjects.Components.TransformMatrix = new Phaser.GameObjects.Components.TransformMatrix();\n\n    public offsetX: number = 0;\n    public offsetY: number = 0;\n\n    private $sizeCalcer: DefaultBoudingRectCalculator = new DefaultBoudingRectCalculator();\n\n    constructor(private scene: Phaser.Scene) {\n        super();\n\n        UIStageInst.push(this);\n    }\n\n    public get nativeStage(): Phaser.Input.InputPlugin {\n        return this.scene.input;\n    }\n\n    public get stageWidth(): number {\n        return this.$width;\n    }\n\n    public get stageHeight(): number {\n        return this.$height;\n    }\n\n    addChild(child: Phaser.GameObjects.GameObject, type: UISceneDisplay, index: number = -1) {\n        if (index < 0) {\n            (<any>this.scene).layerManager.addToLayer(type, child);\n        } else {\n            (<any>this.scene).layerManager.addToLayer(type, child,index);\n        }\n    }\n\n    removeChild(child: Phaser.GameObjects.GameObject, type: UISceneDisplay) {\n        this.scene.sys.displayList[type].removeChild(child);\n    }\n\n    /**@internal */\n    updateScreenSize(): void {\n        // todo resize screen\n        // if (HTMLInput.isTyping) return;\n\n        // let canvas = this.$appContext.view;\n        // let canvasStyle: any = canvas.style;\n\n        // let rect = this.$sizeCalcer.getRect(canvas, this.$options.fallbackWidth, this.$options.fallbackHeight);\n\n        // let shouldRotate = false;\n        // let orientation: string = this.$options.orientation;\n        // if (orientation != StageOrientation.AUTO) {\n        //     shouldRotate = orientation != StageOrientation.PORTRAIT && rect.height > rect.width\n        //         || orientation == StageOrientation.PORTRAIT && rect.width > rect.height;\n        // }\n        // let screenWidth = shouldRotate ? rect.height : rect.width;\n        // let screenHeight = shouldRotate ? rect.width : rect.height;\n\n        // let stageSize = this.calculateStageSize(this.$options.scaleMode, screenWidth, screenHeight, this.$options.designWidth, this.$options.designHeight);\n        // let stageWidth = stageSize.stageWidth;\n        // let stageHeight = stageSize.stageHeight;\n        // let displayWidth = stageSize.displayWidth;\n        // let displayHeight = stageSize.displayHeight;\n        // if (canvas.width !== stageWidth)\n        //     canvas.width = stageWidth;\n        // if (canvas.height !== stageHeight)\n        //     canvas.height = stageHeight;\n        // canvasStyle.transformOrigin = canvasStyle.webkitTransformOrigin = canvasStyle.msTransformOrigin = canvasStyle.mozTransformOrigin = canvasStyle.oTransformOrigin = \"0px 0px 0px\";\n        // canvasStyle.width = displayWidth + \"px\";\n        // canvasStyle.height = displayHeight + \"px\";\n\n        // //kevin add\n        // this.$appContext.renderer.resize(stageWidth, stageHeight);\n\n        // let mat = this.$canvasMatrix.identity();\n\n        // let dispWidth = shouldRotate ? displayHeight : displayWidth;\n        // let dispHeight = shouldRotate ? displayWidth : displayHeight;\n\n        // let offx: number, offy: number;\n        // if (this.$options.alignH == StageAlign.LEFT) offx = 0;\n        // else if (this.$options.alignH == StageAlign.RIGHT) offx = rect.width - dispWidth;\n        // else offx = (rect.width - dispWidth) * 0.5;\n\n        // if (this.$options.alignV == StageAlign.TOP) offy = 0;\n        // else if (this.$options.alignV == StageAlign.BOTTOM) offy = rect.height - dispHeight;\n        // else offy = (rect.height - dispHeight) * 0.5;\n\n        // let rotDeg = 0;\n        // if (shouldRotate) {\n        //     if (this.$options.orientation == StageOrientation.LANDSCAPE) {\n        //         mat.rotate(Math.PI / 2);\n        //         mat.translate(screenHeight - offx, offy);\n        //         rotDeg = 90;\n        //     }\n        //     else {\n        //         mat.rotate(-Math.PI / 2);\n        //         mat.translate(offx, screenWidth - offy);\n        //         rotDeg = -90;\n        //     }\n        // }\n        // else\n        //     mat.translate(offx, offy);\n\n        // if (shouldRotate) {\n        //     mat.tx += this.offsetY;\n        //     mat.ty += this.offsetX;\n        // }\n        // else {\n        //     mat.tx += this.offsetX;\n        //     mat.ty += this.offsetY;\n        // }\n\n        // mat.a = this.formatData(mat.a), mat.d = this.formatData(mat.d),\n        //     mat.tx = this.formatData(mat.tx), mat.ty = this.formatData(mat.ty);\n\n        // canvasStyle.transformOrigin = canvasStyle.webkitTransformOrigin = canvasStyle.msTransformOrigin = canvasStyle.mozTransformOrigin = canvasStyle.oTransformOrigin = \"0px 0px 0px\";\n        // canvasStyle.transform = canvasStyle.webkitTransform = canvasStyle.msTransform = canvasStyle.mozTransform = canvasStyle.oTransform = `matrix(${mat.a},${mat.b},${mat.c},${mat.d},${mat.tx},${mat.ty})`;\n\n        // this.$width = stageWidth;\n        // this.$height = stageHeight;\n\n        // this.$scaleX = stageWidth / displayWidth\n        // this.$scaleY = stageHeight / displayHeight;\n\n        // let im = this.$appContext.renderer.plugins.interaction as PIXI.extras.InteractionManager;\n        // im.stageRotation = rotDeg;\n        // im.stageScaleX = this.$scaleX;\n        // im.stageScaleY = this.$scaleY;\n        // this.$appContext.renderer.resize(stageWidth, stageHeight);\n        // HTMLInput.inst.updateSize(displayWidth / stageWidth, displayHeight / stageHeight);\n\n        this.emit(DisplayObjectEvent.SIZE_CHANGED, this);\n    }\n\n}\n\nlet UIStageInst: UIStage[] = [];\nlet resizeCheckTimer: number = NaN;\n\nfunction resizeHandler(): void {\n    UIStageInst.forEach(stage => {\n        stage.updateScreenSize();\n    });\n}\nDOMEventManager.inst.on(\"resize\", function () {\n    clearTimeout(resizeCheckTimer);\n    resizeCheckTimer = window.setTimeout(resizeHandler, 300);\n});\n","import { ObjectType } from './FieldTypes';\r\nimport { ByteBuffer } from './utils/ByteBuffer';\r\nimport { PackageItem } from './PackageItem';\r\nexport class TranslationHelper {\r\n    public static strings: { [index: string]: { [index: string]: string } };\r\n\r\n    public static loadFromXML(source: string) {\r\n        let strings = {};\r\n        TranslationHelper.strings = strings;\r\n\r\n        const xml = Phaser.DOM.ParseXML(source);\r\n        const resNode: any = findChildNode(xml, \"resources\");\r\n        const nodes: any[] = resNode.childNodes;\r\n        const length1: number = nodes.length;\r\n        for (let i1: number = 0; i1 < length1; i1++) {\r\n            const cxml: any = nodes[i1];\r\n            if (cxml.nodeName == \"string\") {\r\n                var key: string = cxml.getAttribute(\"name\");\r\n                var text: string = cxml.textContent;\r\n                var i: number = key.indexOf(\"-\");\r\n                if (i == -1)\r\n                    continue;\r\n\r\n                var key2: string = key.substr(0, i);\r\n                var key3: string = key.substr(i + 1);\r\n                var col: Object = strings[key2];\r\n                if (!col) {\r\n                    col = {};\r\n                    strings[key2] = col;\r\n                }\r\n                col[key3] = text;\r\n            }\r\n        }\r\n    }\r\n\r\n    public static translateComponent(item: PackageItem) {\r\n        if (TranslationHelper.strings == null) {\r\n            return;\r\n        }\r\n        const compStrings: { [index: string]: string } = TranslationHelper.strings[item.owner.id + item.id];\r\n        if (compStrings == null) {\r\n            return;\r\n        }\r\n        var elementId: string, value: string;\r\n        var buffer: ByteBuffer = item.rawData;\r\n        var nextPos: number;\r\n        var itemCount: number;\r\n        var i: number, j: number, k: number;\r\n        var dataLen: number;\r\n        var curPos: number;\r\n        var valueCnt: number;\r\n        var page: string;\r\n\r\n        buffer.seek(0, 2);\r\n        var childCount: number = buffer.readShort();\r\n        for (i = 0; i < childCount; i++) {\r\n            dataLen = buffer.readShort();\r\n            curPos = buffer.position;\r\n\r\n            buffer.seek(curPos, 0);\r\n\r\n            var baseType: number = buffer.readByte();\r\n            var type: number = baseType;\r\n            buffer.skip(4);\r\n            elementId = buffer.readS();\r\n\r\n            if (type == ObjectType.Component) {\r\n                if (buffer.seek(curPos, 6))\r\n                    type = buffer.readByte();\r\n            }\r\n\r\n            buffer.seek(curPos, 1);\r\n\r\n            if ((value = compStrings[elementId + \"-tips\"]) != null)\r\n                buffer.writeS(value);\r\n\r\n            buffer.seek(curPos, 2);\r\n\r\n            var gearCnt: number = buffer.readShort();\r\n            for (j = 0; j < gearCnt; j++) {\r\n                nextPos = buffer.readShort();\r\n                nextPos += buffer.position;\r\n\r\n                if (buffer.readByte() == 6) //gearText\r\n                {\r\n                    buffer.skip(2);//controller\r\n                    valueCnt = buffer.readShort();\r\n                    for (k = 0; k < valueCnt; k++) {\r\n                        page = buffer.readS();\r\n                        if (page != null) {\r\n                            if ((value = compStrings[elementId + \"-texts_\" + k]) != null)\r\n                                buffer.writeS(value);\r\n                            else\r\n                                buffer.skip(2);\r\n                        }\r\n                    }\r\n\r\n                    if (buffer.readBool() && (value = compStrings[elementId + \"-texts_def\"]) != null)\r\n                        buffer.writeS(value);\r\n                }\r\n\r\n                buffer.position = nextPos;\r\n            }\r\n\r\n            if (baseType == ObjectType.Component && buffer.version >= 2) {\r\n                buffer.seek(curPos, 4);\r\n\r\n                buffer.skip(2); //pageController\r\n\r\n                buffer.skip(4 * buffer.readShort());\r\n\r\n                var cpCount: number = buffer.readShort();\r\n                for (var k: number = 0; k < cpCount; k++) {\r\n                    var target: string = buffer.readS();\r\n                    var propertyId: number = buffer.readShort();\r\n                    if (propertyId == 0 && (value = compStrings[elementId + \"-cp-\" + target]) != null)\r\n                        buffer.writeS(value);\r\n                    else\r\n                        buffer.skip(2);\r\n                }\r\n            }\r\n\r\n            switch (type) {\r\n                case ObjectType.Text:\r\n                case ObjectType.RichText:\r\n                case ObjectType.InputText:\r\n                    {\r\n                        if ((value = compStrings[elementId]) != null) {\r\n                            buffer.seek(curPos, 6);\r\n                            buffer.writeS(value);\r\n                        }\r\n                        if ((value = compStrings[elementId + \"-prompt\"]) != null) {\r\n                            buffer.seek(curPos, 4);\r\n                            buffer.writeS(value);\r\n                        }\r\n                        break;\r\n                    }\r\n\r\n                case ObjectType.List:\r\n                case ObjectType.Tree:\r\n                    {\r\n                        buffer.seek(curPos, 8);\r\n                        buffer.skip(2);\r\n                        itemCount = buffer.readShort();\r\n                        for (j = 0; j < itemCount; j++) {\r\n                            nextPos = buffer.readShort();\r\n                            nextPos += buffer.position;\r\n\r\n                            buffer.skip(2); //url\r\n                            if (type == ObjectType.Tree)\r\n                                buffer.skip(2);\r\n\r\n                            //title\r\n                            if ((value = compStrings[elementId + \"-\" + j]) != null)\r\n                                buffer.writeS(value);\r\n                            else\r\n                                buffer.skip(2);\r\n\r\n                            //selected title\r\n                            if ((value = compStrings[elementId + \"-\" + j + \"-0\"]) != null)\r\n                                buffer.writeS(value);\r\n                            else\r\n                                buffer.skip(2);\r\n\r\n                            if (buffer.version >= 2) {\r\n                                buffer.skip(6);\r\n                                buffer.skip(buffer.readUshort() * 4);//controllers\r\n\r\n                                var cpCount: number = buffer.readUshort();\r\n                                for (var k: number = 0; k < cpCount; k++) {\r\n                                    var target: string = buffer.readS();\r\n                                    var propertyId: number = buffer.readUshort();\r\n                                    if (propertyId == 0 && (value = compStrings[elementId + \"-\" + j + \"-\" + target]) != null)\r\n                                        buffer.writeS(value);\r\n                                    else\r\n                                        buffer.skip(2);\r\n                                }\r\n                            }\r\n\r\n                            buffer.position = nextPos;\r\n                        }\r\n                        break;\r\n                    }\r\n\r\n                case ObjectType.Label:\r\n                    {\r\n                        if (buffer.seek(curPos, 6) && buffer.readByte() == type) {\r\n                            if ((value = compStrings[elementId]) != null)\r\n                                buffer.writeS(value);\r\n                            else\r\n                                buffer.skip(2);\r\n\r\n                            buffer.skip(2);\r\n                            if (buffer.readBool())\r\n                                buffer.skip(4);\r\n                            buffer.skip(4);\r\n                            if (buffer.readBool() && (value = compStrings[elementId + \"-prompt\"]) != null)\r\n                                buffer.writeS(value);\r\n                        }\r\n                        break;\r\n                    }\r\n\r\n                case ObjectType.Button:\r\n                    {\r\n                        if (buffer.seek(curPos, 6) && buffer.readByte() == type) {\r\n                            if ((value = compStrings[elementId]) != null)\r\n                                buffer.writeS(value);\r\n                            else\r\n                                buffer.skip(2);\r\n                            if ((value = compStrings[elementId + \"-0\"]) != null)\r\n                                buffer.writeS(value);\r\n                        }\r\n                        break;\r\n                    }\r\n\r\n                case ObjectType.ComboBox:\r\n                    {\r\n                        if (buffer.seek(curPos, 6) && buffer.readByte() == type) {\r\n                            itemCount = buffer.readShort();\r\n                            for (j = 0; j < itemCount; j++) {\r\n                                nextPos = buffer.readShort();\r\n                                nextPos += buffer.position;\r\n\r\n                                if ((value = compStrings[elementId + \"-\" + j]) != null)\r\n                                    buffer.writeS(value);\r\n\r\n                                buffer.position = nextPos;\r\n                            }\r\n\r\n                            if ((value = compStrings[elementId]) != null)\r\n                                buffer.writeS(value);\r\n                        }\r\n\r\n                        break;\r\n                    }\r\n            }\r\n\r\n            buffer.position = curPos + dataLen;\r\n        }\r\n    }\r\n}\r\n\r\nfunction findChildNode(xml: any, name: string): Object {\r\n    var col: any[] = xml.childNodes;\r\n    var length1: number = col.length;\r\n    if (length1 > 0) {\r\n        for (var i1: number = 0; i1 < length1; i1++) {\r\n            var cxml: any = col[i1];\r\n            if (cxml.nodeName == name) {\r\n                return cxml;\r\n            }\r\n        }\r\n    }\r\n    return null;\r\n}\r\n","import { GRoot } from './../GRoot';\nimport { Graphics, GRAPHICSTYPE } from \"../display/Graphics\";\n\n/**\n * 鼠标点击区域，可以设置绘制一系列矢量图作为点击区域和非点击区域（目前只支持圆形，矩形，多边形）\n *\n */\nexport class HitArea {\n    /**@private */\n    private static _rect: Phaser.Geom.Rectangle = new Phaser.Geom.Rectangle();\n    /**@private */\n    private static _ptPoint: Phaser.Geom.Point = new Phaser.Geom.Point();\n    /**@private */\n    private _hit: Graphics;\n    /**@private */\n    private _unHit: Graphics;\n\n    /**\n     * 检测对象是否包含指定的点。\n     * @param\tx\t点的 X 轴坐标值（水平位置）。\n     * @param\ty\t点的 Y 轴坐标值（垂直位置）。\n     * @return\t如果包含指定的点，则值为 true；否则为 false。\n     */\n    contains(x: number, y: number): boolean {\n        if (!HitArea._isHitGraphic(x, y, this.hit)) return false;\n        return !HitArea._isHitGraphic(x, y, this.unHit);\n    }\n\n    /**\n     * @internal\n     * 是否击中Graphic\n     */\n    static _isHitGraphic(x: number, y: number, graphic: Graphics): boolean {\n        if (!graphic) return false;\n        if (HitArea._isHitCmd(x, y, graphic)) return true;\n        return false;\n    }\n\n    /**\n     * @internal\n     * 是否击中绘图指令\n     */\n    static _isHitCmd(x: number, y: number, g: Graphics): boolean {\n        let rst: boolean = false;\n        const type = g.graphicsType;\n        switch (type) {\n            case GRAPHICSTYPE.CIRCLE:\n                var d: number;\n                x -= g.x;\n                y -= g.y;\n                d = x * x + y * y;\n                rst = d < g.radius * g.radius;\n                break;\n            case GRAPHICSTYPE.POLY:\n                x -= g.x;\n                y -= g.y;\n                rst = HitArea._ptInPolygon(x, y, g.points);\n                break;\n                break;\n            case GRAPHICSTYPE.RECTANGLE:\n            default:\n                HitArea._rect.setTo(g.x, g.y, g.width, g.height);\n                rst = HitArea._rect.contains(x, y);\n                break;\n        }\n        return rst;\n    }\n\n    /**\n     * @internal\n     * 坐标是否在多边形内\n     */\n    static _ptInPolygon(x: number, y: number, areaPoints: any[]): boolean {\n        var p: Phaser.Geom.Point = HitArea._ptPoint;\n        p.setTo(x, y);\n        // 交点个数\n        var nCross: number = 0;\n        var p1x: number, p1y: number, p2x: number, p2y: number;\n        var len: number;\n        len = areaPoints.length;\n        for (var i: number = 0; i < len; i += 2) {\n            p1x = areaPoints[i];\n            p1y = areaPoints[i + 1];\n            p2x = areaPoints[(i + 2) % len];\n            p2y = areaPoints[(i + 3) % len];\n            //var p1:Point = areaPoints[i];\n            //var p2:Point = areaPoints[(i + 1) % areaPoints.length]; // 最后一个点与第一个点连线\n            if (p1y == p2y) continue;\n            if (p.y < Math.min(p1y, p2y)) continue;\n            if (p.y >= Math.max(p1y, p2y)) continue;\n            // 求交点的x坐标\n            var tx: number = (p.y - p1y) * (p2x - p1x) / (p2y - p1y) + p1x;\n            // 只统计p1p2与p向右射线的交点\n            if (tx > p.x) nCross++;\n        }\n        // 交点为偶数，点在多边形之外\n        return (nCross % 2 == 1);\n    }\n\n    /**\n     * 可点击区域，可以设置绘制一系列矢量图作为点击区域（目前只支持圆形，矩形，多边形）\n     */\n    get hit(): Graphics {\n        if (!this._hit) this._hit = new Graphics(GRoot.inst.scene);\n        return this._hit;\n    }\n\n    set hit(value: Graphics) {\n        this._hit = value;\n    }\n\n    /**\n     * 不可点击区域，可以设置绘制一系列矢量图作为非点击区域（目前只支持圆形，矩形，多边形）\n     */\n    get unHit(): Graphics {\n        if (!this._unHit) this._unHit = new Graphics(GRoot.inst.scene);\n        return this._unHit;\n    }\n\n    set unHit(value: Graphics) {\n        this._unHit = value;\n    }\n}\n\n","import { Byte } from './Byte';\r\nimport { HitArea } from './HitArea';\r\nexport class PixelHitTest extends HitArea {\r\n    private _data: PixelHitTestData;\r\n\r\n    public offsetX: number;\r\n    public offsetY: number;\r\n    public scaleX: number;\r\n    public scaleY: number;\r\n\r\n    constructor(data: PixelHitTestData, offsetX: number, offsetY: number) {\r\n        super();\r\n\r\n        this._data = data;\r\n        this.offsetX = offsetX;\r\n        this.offsetY = offsetY;\r\n\r\n        this.scaleX = 1;\r\n        this.scaleY = 1;\r\n    }\r\n\r\n    public contains(x: number, y: number): boolean {\r\n        x = Math.floor((x / this.scaleX - this.offsetX) * this._data.scale);\r\n        y = Math.floor((y / this.scaleY - this.offsetY) * this._data.scale);\r\n        if (x < 0 || y < 0 || x >= this._data.pixelWidth)\r\n            return false;\r\n\r\n        var pos: number = y * this._data.pixelWidth + x;\r\n        var pos2: number = Math.floor(pos / 8);\r\n        var pos3: number = pos % 8;\r\n\r\n        if (pos2 >= 0 && pos2 < this._data.pixels.length)\r\n            return ((this._data.pixels[pos2] >> pos3) & 0x1) == 1;\r\n        else\r\n            return false;\r\n    }\r\n}\r\n\r\nexport class PixelHitTestData {\r\n    public pixelWidth: number;\r\n    public scale: number;\r\n    public pixels: number[];\r\n\r\n    constructor() {\r\n    }\r\n\r\n    public load(ba: Byte): void {\r\n        ba.getInt32();\r\n        this.pixelWidth = ba.getInt32();\r\n        this.scale = 1 / ba.readByte();\r\n        var len: number = ba.getInt32();\r\n        this.pixels = [];\r\n        for (var i: number = 0; i < len; i++) {\r\n            var j: number = ba.readByte();\r\n            if (j < 0)\r\n                j += 256;\r\n\r\n            this.pixels[i] = j;\r\n        }\r\n    }\r\n}","import { HitArea } from './HitArea';\r\nimport { GObject } from './../GObject';\r\nlet _func: Function = HitArea[\"_isHitGraphic\"];\r\n\r\nexport class ChildHitArea extends HitArea {\r\n\r\n    private _child: GObject;\r\n    private _reversed: boolean;\r\n    private _tPos: Phaser.Geom.Point = new Phaser.Geom.Point();;\r\n\r\n    constructor(child: GObject, reversed?: boolean) {\r\n        super();\r\n\r\n        this._child = child;\r\n        this._reversed = reversed;\r\n\r\n        if (this._reversed)\r\n            this.unHit = child.hitArea.hit;\r\n        else\r\n            this.hit = child.hitArea.hit;\r\n    }\r\n\r\n    public contains(x: number, y: number): boolean {\r\n        var tPos: Phaser.Geom.Point;\r\n        tPos = this._tPos;\r\n        tPos.setTo(0, 0);\r\n        tPos = this._child.toParentPoint(tPos);\r\n        if (this._reversed)\r\n            return !_func(x - tPos.x, y - tPos.y, this.unHit);\r\n        else\r\n            return _func(x - tPos.x, y - tPos.y, this.hit);\r\n    }\r\n}\r\n","export class Margin {\n    public left: number = 0;\n    public right: number = 0;\n    public top: number = 0;\n    public bottom: number = 0;\n\n    public copy(source: Margin): void {\n        this.top = source.top;\n        this.bottom = source.bottom;\n        this.left = source.left;\n        this.right = source.right;\n    }\n}\n","import { GTweener } from './tween/GTweener';\nimport { ScrollType } from './FieldTypes';\nimport { GObject } from './GObject';\nimport { ToolSet } from './utils/ToolSet';\nimport { ByteBuffer } from './utils/ByteBuffer';\nimport { UIConfig } from './UIConfig';\nimport { Controller } from './Controller';\nimport { GScrollBar } from './GScrollBar';\nimport { Margin } from './Margin';\nimport { GComponent } from \"./GComponent\";\n\nexport class ScrollPane {\n    private _owner: GComponent;\n    private _container: Phaser.GameObjects.Sprite;\n    private _maskContainer: Phaser.GameObjects.Sprite;\n    private _alignContainer?: Phaser.GameObjects.Sprite;\n\n    private _scrollType: number;\n    private _scrollStep: number;\n    private _mouseWheelStep: number;\n    private _decelerationRate: number;\n    private _scrollBarMargin: Margin;\n    private _bouncebackEffect: boolean;\n    private _touchEffect: boolean;\n    private _scrollBarDisplayAuto?: boolean;\n    private _vScrollNone: boolean;\n    private _hScrollNone: boolean;\n    private _needRefresh: boolean;\n    private _refreshBarAxis: string;\n\n    private _displayOnLeft?: boolean;\n    private _snapToItem?: boolean;\n    public _displayInDemand?: boolean;\n    private _mouseWheelEnabled?: boolean;\n    private _pageMode?: boolean;\n    private _inertiaDisabled?: boolean;\n    private _floating?: boolean;\n    private _dontClipMargin?: boolean;\n\n    private _xPos: number;\n    private _yPos: number;\n\n    private _viewSize: Phaser.Geom.Point;\n    private _contentSize: Phaser.Geom.Point;\n    private _overlapSize: Phaser.Geom.Point;\n    private _pageSize: Phaser.Geom.Point;\n    private _containerPos: Phaser.Geom.Point;\n    private _beginTouchPos: Phaser.Geom.Point;\n    private _lastTouchPos: Phaser.Geom.Point;\n    private _lastTouchGlobalPos: Phaser.Geom.Point;\n    private _velocity: Phaser.Geom.Point;\n    private _velocityScale: number;\n    private _lastMoveTime: number;\n    private _isHoldAreaDone: boolean;\n    private _aniFlag: number;\n    public _loop: number;\n    private _headerLockedSize: number;\n    private _footerLockedSize: number;\n    private _refreshEventDispatching: boolean;\n    private _dragged: boolean;\n\n    private _tweening: number;\n    private _tweenTime: Phaser.Geom.Point;\n    private _tweenDuration: Phaser.Geom.Point;\n    private _tweenStart: Phaser.Geom.Point;\n    private _tweenChange: Phaser.Geom.Point;\n\n    private _pageController?: Controller;\n\n    private _hzScrollBar?: GScrollBar;\n    private _vtScrollBar?: GScrollBar;\n    private _header?: GComponent;\n    private _footer?: GComponent;\n\n    public static draggingPane: ScrollPane;\n\n    constructor(owner: GComponent) {\n        this._owner = owner;\n        throw new Error(\"TODO\");\n\n        // this._maskContainer = new Laya.Sprite();\n        // this._owner.displayObject.addChild(this._maskContainer);\n\n        // this._container = this._owner._container;\n        // this._container.pos(0, 0);\n        // this._maskContainer.addChild(this._container);\n\n        this._mouseWheelEnabled = true;\n        this._xPos = 0;\n        this._yPos = 0;\n        this._aniFlag = 0;\n        this._tweening = 0;\n        this._loop = 0;\n        this._footerLockedSize = 0;\n        this._headerLockedSize = 0;\n        this._scrollBarMargin = new Margin();\n        this._viewSize = new Phaser.Geom.Point();\n        this._contentSize = new Phaser.Geom.Point();\n        this._pageSize = new Phaser.Geom.Point(1, 1);\n        this._overlapSize = new Phaser.Geom.Point();\n        this._tweenTime = new Phaser.Geom.Point();\n        this._tweenStart = new Phaser.Geom.Point();\n        this._tweenDuration = new Phaser.Geom.Point();\n        this._tweenChange = new Phaser.Geom.Point();\n        this._velocity = new Phaser.Geom.Point();\n        this._containerPos = new Phaser.Geom.Point();\n        this._beginTouchPos = new Phaser.Geom.Point();\n        this._lastTouchPos = new Phaser.Geom.Point();\n        this._lastTouchGlobalPos = new Phaser.Geom.Point();\n        this._scrollStep = UIConfig.defaultScrollStep;\n        this._mouseWheelStep = this._scrollStep * 2;\n        this._decelerationRate = UIConfig.defaultScrollDecelerationRate;\n\n        // this._owner.on(Laya.Event.MOUSE_DOWN, this, this.__mouseDown);\n        // this._owner.on(Laya.Event.MOUSE_WHEEL, this, this.__mouseWheel);\n    }\n\n    public setup(buffer: ByteBuffer): void {\n        throw new Error(\"TODO\");\n        // this._scrollType = buffer.readByte();\n        // var scrollBarDisplay: number = buffer.readByte();\n        // var flags: number = buffer.readInt();\n\n        // if (buffer.readBool()) {\n        //     this._scrollBarMargin.top = buffer.readInt();\n        //     this._scrollBarMargin.bottom = buffer.readInt();\n        //     this._scrollBarMargin.left = buffer.readInt();\n        //     this._scrollBarMargin.right = buffer.readInt();\n        // }\n\n        // var vtScrollBarRes: string = buffer.readS();\n        // var hzScrollBarRes: string = buffer.readS();\n        // var headerRes: string = buffer.readS();\n        // var footerRes: string = buffer.readS();\n\n        // if ((flags & 1) != 0) this._displayOnLeft = true;\n        // if ((flags & 2) != 0) this._snapToItem = true;\n        // if ((flags & 4) != 0) this._displayInDemand = true;\n        // if ((flags & 8) != 0) this._pageMode = true;\n        // if (flags & 16)\n        //     this._touchEffect = true;\n        // else if (flags & 32)\n        //     this._touchEffect = false;\n        // else\n        //     this._touchEffect = UIConfig.defaultScrollTouchEffect;\n        // if (flags & 64)\n        //     this._bouncebackEffect = true;\n        // else if (flags & 128)\n        //     this._bouncebackEffect = false;\n        // else\n        //     this._bouncebackEffect = UIConfig.defaultScrollBounceEffect;\n        // if ((flags & 256) != 0) this._inertiaDisabled = true;\n        // if ((flags & 512) == 0) this._maskContainer.scrollRect = new Laya.Rectangle();\n        // if ((flags & 1024) != 0) this._floating = true;\n        // if ((flags & 2048) != 0) this._dontClipMargin = true;\n\n        // if (scrollBarDisplay == ScrollBarDisplayType.Default)\n        //     scrollBarDisplay = UIConfig.defaultScrollBarDisplay;\n\n        // if (scrollBarDisplay != ScrollBarDisplayType.Hidden) {\n        //     if (this._scrollType == ScrollType.Both || this._scrollType == ScrollType.Vertical) {\n        //         var res: string = vtScrollBarRes ? vtScrollBarRes : UIConfig.verticalScrollBar;\n        //         if (res) {\n        //             this._vtScrollBar = <GScrollBar>(UIPackage.createObjectFromURL(res));\n        //             if (!this._vtScrollBar)\n        //                 throw \"cannot create scrollbar from \" + res;\n        //             this._vtScrollBar.setScrollPane(this, true);\n        //             this._owner.displayObject.addChild(this._vtScrollBar.displayObject);\n        //         }\n        //     }\n        //     if (this._scrollType == ScrollType.Both || this._scrollType == ScrollType.Horizontal) {\n        //         res = hzScrollBarRes ? hzScrollBarRes : UIConfig.horizontalScrollBar;\n        //         if (res) {\n        //             this._hzScrollBar = <GScrollBar>(UIPackage.createObjectFromURL(res));\n        //             if (!this._hzScrollBar)\n        //                 throw \"cannot create scrollbar from \" + res;\n        //             this._hzScrollBar.setScrollPane(this, false);\n        //             this._owner.displayObject.addChild(this._hzScrollBar.displayObject);\n        //         }\n        //     }\n\n        //     if (scrollBarDisplay == ScrollBarDisplayType.Auto)\n        //         this._scrollBarDisplayAuto = true;\n        //     if (this._scrollBarDisplayAuto) {\n        //         if (this._vtScrollBar)\n        //             this._vtScrollBar.displayObject.visible = false;\n        //         if (this._hzScrollBar)\n        //             this._hzScrollBar.displayObject.visible = false;\n        //     }\n        // }\n        // else\n        //     this._mouseWheelEnabled = false;\n\n        // if (headerRes) {\n        //     this._header = <GComponent>UIPackage.createObjectFromURL(headerRes);\n        //     if (!this._header)\n        //         throw new Error(\"FairyGUI: cannot create scrollPane this.header from \" + headerRes);\n        // }\n\n        // if (footerRes) {\n        //     this._footer = <GComponent>UIPackage.createObjectFromURL(footerRes);\n        //     if (!this._footer)\n        //         throw new Error(\"FairyGUI: cannot create scrollPane this.footer from \" + footerRes);\n        // }\n\n        // if (this._header || this._footer)\n        //     this._refreshBarAxis = (this._scrollType == ScrollType.Both || this._scrollType == ScrollType.Vertical) ? \"y\" : \"x\";\n\n        // this.setSize(this.owner.width, this.owner.height);\n    }\n\n    public dispose(): void {\n        if (ScrollPane.draggingPane == this) {\n            ScrollPane.draggingPane = null;\n        }\n        if (this._tweening != 0)\n            throw new Error(\"TODO\");\n        // Laya.timer.clear(this, this.tweenUpdate);\n\n        this._pageController = null;\n\n        if (this._hzScrollBar)\n            this._hzScrollBar.dispose();\n        if (this._vtScrollBar)\n            this._vtScrollBar.dispose();\n        if (this._header)\n            this._header.dispose();\n        if (this._footer)\n            this._footer.dispose();\n    }\n\n    public get owner(): GComponent {\n        return this._owner;\n    }\n\n    public get hzScrollBar(): GScrollBar {\n        return this._hzScrollBar;\n    }\n\n    public get vtScrollBar(): GScrollBar {\n        return this._vtScrollBar;\n    }\n\n    public get header(): GComponent {\n        return this._header;\n    }\n\n    public get footer(): GComponent {\n        return this._footer;\n    }\n\n    public get bouncebackEffect(): boolean {\n        return this._bouncebackEffect;\n    }\n\n    public set bouncebackEffect(sc: boolean) {\n        this._bouncebackEffect = sc;\n    }\n\n    public get touchEffect(): boolean {\n        return this._touchEffect;\n    }\n\n    public set touchEffect(sc: boolean) {\n        this._touchEffect = sc;\n    }\n\n    public set scrollStep(val: number) {\n        this._scrollStep = val;\n        if (this._scrollStep == 0)\n            this._scrollStep = UIConfig.defaultScrollStep;\n        this._mouseWheelStep = this._scrollStep * 2;\n    }\n\n    public get scrollStep(): number {\n        return this._scrollStep;\n    }\n\n    public get snapToItem(): boolean {\n        return this._snapToItem;\n    }\n\n    public set snapToItem(value: boolean) {\n        this._snapToItem = value;\n    }\n\n    public get mouseWheelEnabled(): boolean {\n        return this._mouseWheelEnabled;\n    }\n\n    public set mouseWheelEnabled(value: boolean) {\n        this._mouseWheelEnabled = value;\n    }\n\n    public get decelerationRate(): number {\n        return this._decelerationRate;\n    }\n\n    public set decelerationRate(value: number) {\n        this._decelerationRate = value;\n    }\n\n    public get isDragged(): boolean {\n        return this._dragged;\n    }\n\n    public get percX(): number {\n        return this._overlapSize.x == 0 ? 0 : this._xPos / this._overlapSize.x;\n    }\n\n    public set percX(value: number) {\n        this.setPercX(value, false);\n    }\n\n    public setPercX(value: number, ani?: boolean): void {\n        this._owner.ensureBoundsCorrect();\n        this.setPosX(this._overlapSize.x * ToolSet.clamp01(value), ani);\n    }\n\n    public get percY(): number {\n        return this._overlapSize.y == 0 ? 0 : this._yPos / this._overlapSize.y;\n    }\n\n    public set percY(value: number) {\n        this.setPercY(value, false);\n    }\n\n    public setPercY(value: number, ani?: boolean): void {\n        this._owner.ensureBoundsCorrect();\n        this.setPosY(this._overlapSize.y * ToolSet.clamp01(value), ani);\n    }\n\n    public get posX(): number {\n        return this._xPos;\n    }\n\n    public set posX(value: number) {\n        this.setPosX(value, false);\n    }\n\n    public setPosX(value: number, ani?: boolean): void {\n        this._owner.ensureBoundsCorrect();\n\n        if (this._loop == 1)\n            value = this.loopCheckingNewPos(value, \"x\");\n\n        value = ToolSet.clamp(value, 0, this._overlapSize.x);\n        if (value != this._xPos) {\n            this._xPos = value;\n            this.posChanged(ani);\n        }\n    }\n\n    public get posY(): number {\n        return this._yPos;\n    }\n\n    public set posY(value: number) {\n        this.setPosY(value, false);\n    }\n\n    public setPosY(value: number, ani?: boolean): void {\n        this._owner.ensureBoundsCorrect();\n\n        if (this._loop == 1)\n            value = this.loopCheckingNewPos(value, \"y\");\n\n        value = ToolSet.clamp(value, 0, this._overlapSize.y);\n        if (value != this._yPos) {\n            this._yPos = value;\n            this.posChanged(ani);\n        }\n    }\n\n    public get contentWidth(): number {\n        return this._contentSize.x;\n    }\n\n    public get contentHeight(): number {\n        return this._contentSize.y;\n    }\n\n    public get viewWidth(): number {\n        return this._viewSize.x;\n    }\n\n    public set viewWidth(value: number) {\n        value = value + this._owner.margin.left + this._owner.margin.right;\n        if (this._vtScrollBar && !this._floating)\n            value += this._vtScrollBar.width;\n        this._owner.width = value;\n    }\n\n    public get viewHeight(): number {\n        return this._viewSize.y;\n    }\n\n    public set viewHeight(value: number) {\n        value = value + this._owner.margin.top + this._owner.margin.bottom;\n        if (this._hzScrollBar && !this._floating)\n            value += this._hzScrollBar.height;\n        this._owner.height = value;\n    }\n\n    public get currentPageX(): number {\n        if (!this._pageMode)\n            return 0;\n\n        var page: number = Math.floor(this._xPos / this._pageSize.x);\n        if (this._xPos - page * this._pageSize.x > this._pageSize.x * 0.5)\n            page++;\n\n        return page;\n    }\n\n    public set currentPageX(value: number) {\n        this.setCurrentPageX(value, false);\n    }\n\n    public get currentPageY(): number {\n        if (!this._pageMode)\n            return 0;\n\n        var page: number = Math.floor(this._yPos / this._pageSize.y);\n        if (this._yPos - page * this._pageSize.y > this._pageSize.y * 0.5)\n            page++;\n\n        return page;\n    }\n\n    public set currentPageY(value: number) {\n        this.setCurrentPageY(value, false);\n    }\n\n    public setCurrentPageX(value: number, ani?: boolean): void {\n        if (!this._pageMode)\n            return;\n\n        this._owner.ensureBoundsCorrect();\n\n        if (this._overlapSize.x > 0)\n            this.setPosX(value * this._pageSize.x, ani);\n    }\n\n    public setCurrentPageY(value: number, ani?: boolean): void {\n        if (!this._pageMode)\n            return;\n\n        this._owner.ensureBoundsCorrect();\n\n        if (this._overlapSize.y > 0)\n            this.setPosY(value * this._pageSize.y, ani);\n    }\n\n    public get isBottomMost(): boolean {\n        return this._yPos == this._overlapSize.y || this._overlapSize.y == 0;\n    }\n\n    public get isRightMost(): boolean {\n        return this._xPos == this._overlapSize.x || this._overlapSize.x == 0;\n    }\n\n    public get pageController(): Controller {\n        return this._pageController;\n    }\n\n    public set pageController(value: Controller) {\n        this._pageController = value;\n    }\n\n    public get scrollingPosX(): number {\n        return ToolSet.clamp(-this._container.x, 0, this._overlapSize.x);\n    }\n\n    public get scrollingPosY(): number {\n        return ToolSet.clamp(-this._container.y, 0, this._overlapSize.y);\n    }\n\n    public scrollTop(ani?: boolean): void {\n        this.setPercY(0, ani);\n    }\n\n    public scrollBottom(ani?: boolean): void {\n        this.setPercY(1, ani);\n    }\n\n    public scrollUp(ratio?: number, ani?: boolean): void {\n        ratio = ratio || 1;\n        if (this._pageMode)\n            this.setPosY(this._yPos - this._pageSize.y * ratio, ani);\n        else\n            this.setPosY(this._yPos - this._scrollStep * ratio, ani);;\n    }\n\n    public scrollDown(ratio?: number, ani?: boolean): void {\n        ratio = ratio || 1;\n        if (this._pageMode)\n            this.setPosY(this._yPos + this._pageSize.y * ratio, ani);\n        else\n            this.setPosY(this._yPos + this._scrollStep * ratio, ani);\n    }\n\n    public scrollLeft(ratio?: number, ani?: boolean): void {\n        ratio = ratio || 1;\n        if (this._pageMode)\n            this.setPosX(this._xPos - this._pageSize.x * ratio, ani);\n        else\n            this.setPosX(this._xPos - this._scrollStep * ratio, ani);\n    }\n\n    public scrollRight(ratio?: number, ani?: boolean): void {\n        ratio = ratio || 1;\n        if (this._pageMode)\n            this.setPosX(this._xPos + this._pageSize.x * ratio, ani);\n        else\n            this.setPosX(this._xPos + this._scrollStep * ratio, ani);\n    }\n\n    public scrollToView(target: Phaser.Geom.Rectangle | GObject, ani?: boolean, setFirst?: boolean): void {\n        this._owner.ensureBoundsCorrect();\n        if (this._needRefresh)\n            this.refresh();\n\n        var rect: Phaser.Geom.Rectangle;\n        if (target instanceof GObject) {\n            if (target.parent != this._owner) {\n                target.parent.localToGlobalRect(target.x, target.y, target.width, target.height, s_rect);\n                rect = this._owner.globalToLocalRect(s_rect.x, s_rect.y, s_rect.width, s_rect.height, s_rect);\n            }\n            else {\n                rect = s_rect;\n                rect.setTo(target.x, target.y, target.width, target.height);\n            }\n        }\n        else\n            rect = target;\n\n        if (this._overlapSize.y > 0) {\n            var bottom: number = this._yPos + this._viewSize.y;\n            if (setFirst || rect.y <= this._yPos || rect.height >= this._viewSize.y) {\n                if (this._pageMode)\n                    this.setPosY(Math.floor(rect.y / this._pageSize.y) * this._pageSize.y, ani);\n                else\n                    this.setPosY(rect.y, ani);\n            }\n            else if (rect.y + rect.height > bottom) {\n                if (this._pageMode)\n                    this.setPosY(Math.floor(rect.y / this._pageSize.y) * this._pageSize.y, ani);\n                else if (rect.height <= this._viewSize.y / 2)\n                    this.setPosY(rect.y + rect.height * 2 - this._viewSize.y, ani);\n                else\n                    this.setPosY(rect.y + rect.height - this._viewSize.y, ani);\n            }\n        }\n        if (this._overlapSize.x > 0) {\n            var right: number = this._xPos + this._viewSize.x;\n            if (setFirst || rect.x <= this._xPos || rect.width >= this._viewSize.x) {\n                if (this._pageMode)\n                    this.setPosX(Math.floor(rect.x / this._pageSize.x) * this._pageSize.x, ani);\n                else\n                    this.setPosX(rect.x, ani);\n            }\n            else if (rect.x + rect.width > right) {\n                if (this._pageMode)\n                    this.setPosX(Math.floor(rect.x / this._pageSize.x) * this._pageSize.x, ani);\n                else if (rect.width <= this._viewSize.x / 2)\n                    this.setPosX(rect.x + rect.width * 2 - this._viewSize.x, ani);\n                else\n                    this.setPosX(rect.x + rect.width - this._viewSize.x, ani);\n            }\n        }\n\n        if (!ani && this._needRefresh)\n            this.refresh();\n    }\n\n    public isChildInView(obj: GObject): boolean {\n        if (this._overlapSize.y > 0) {\n            var dist: number = obj.y + this._container.y;\n            if (dist < -obj.height || dist > this._viewSize.y)\n                return false;\n        }\n\n        if (this._overlapSize.x > 0) {\n            dist = obj.x + this._container.x;\n            if (dist < -obj.width || dist > this._viewSize.x)\n                return false;\n        }\n\n        return true;\n    }\n\n    public cancelDragging(): void {\n        throw new Error(\"TODO\");\n        // this._owner.displayObject.stage.off(Laya.Event.MOUSE_MOVE, this, this.__mouseMove);\n        // this._owner.displayObject.stage.off(Laya.Event.MOUSE_UP, this, this.__mouseUp);\n        // this._owner.displayObject.stage.off(Laya.Event.CLICK, this, this.__click);\n\n        // if (ScrollPane.draggingPane == this)\n        //     ScrollPane.draggingPane = null;\n\n        // _gestureFlag = 0;\n        // this._dragged = false;\n        // this._maskContainer.mouseEnabled = true;\n    }\n\n    public lockHeader(size: number): void {\n        if (this._headerLockedSize == size)\n            return;\n\n        this._headerLockedSize = size;\n\n        if (!this._refreshEventDispatching && this._container[this._refreshBarAxis] >= 0) {\n            this._tweenStart.setTo(this._container.x, this._container.y);\n            this._tweenChange.setTo(0, 0);\n            this._tweenChange[this._refreshBarAxis] = this._headerLockedSize - this._tweenStart[this._refreshBarAxis];\n            this._tweenDuration.setTo(TWEEN_TIME_DEFAULT, TWEEN_TIME_DEFAULT);\n            this.startTween(2);\n        }\n    }\n\n    public lockFooter(size: number): void {\n        if (this._footerLockedSize == size)\n            return;\n\n        this._footerLockedSize = size;\n\n        if (!this._refreshEventDispatching && this._container[this._refreshBarAxis] <= -this._overlapSize[this._refreshBarAxis]) {\n            this._tweenStart.setTo(this._container.x, this._container.y);\n            this._tweenChange.setTo(0, 0);\n            var max: number = this._overlapSize[this._refreshBarAxis];\n            if (max == 0)\n                max = Math.max(this._contentSize[this._refreshBarAxis] + this._footerLockedSize - this._viewSize[this._refreshBarAxis], 0);\n            else\n                max += this._footerLockedSize;\n            this._tweenChange[this._refreshBarAxis] = -max - this._tweenStart[this._refreshBarAxis];\n            this._tweenDuration.setTo(TWEEN_TIME_DEFAULT, TWEEN_TIME_DEFAULT);\n            this.startTween(2);\n        }\n    }\n\n    public onOwnerSizeChanged(): void {\n        this.setSize(this._owner.width, this._owner.height);\n        this.posChanged(false);\n    }\n\n    public handleControllerChanged(c: Controller): void {\n        if (this._pageController == c) {\n            if (this._scrollType == ScrollType.Horizontal)\n                this.setCurrentPageX(c.selectedIndex, true);\n            else\n                this.setCurrentPageY(c.selectedIndex, true);\n        }\n    }\n\n    private updatePageController(): void {\n        if (this._pageController != null && !this._pageController.changing) {\n            var index: number;\n            if (this._scrollType == ScrollType.Horizontal)\n                index = this.currentPageX;\n            else\n                index = this.currentPageY;\n            if (index < this._pageController.pageCount) {\n                var c: Controller = this._pageController;\n                this._pageController = null; //防止HandleControllerChanged的调用\n                c.selectedIndex = index;\n                this._pageController = c;\n            }\n        }\n    }\n\n    public adjustMaskContainer(): void {\n        throw new Error(\"TODO\");\n        // var mx: number = 0, my: number = 0;\n        // if (this._dontClipMargin) {\n        //     if (this._displayOnLeft && this._vtScrollBar && !this._floating)\n        //         mx = this._vtScrollBar.width;\n        // }\n        // else {\n        //     if (this._displayOnLeft && this._vtScrollBar && !this._floating)\n        //         mx = this._owner.margin.left + this._vtScrollBar.width;\n        //     else\n        //         mx = this._owner.margin.left;\n        //     my = this._owner.margin.top;\n        // }\n\n        // this._maskContainer.pos(mx, my);\n\n        // mx = this._owner._alignOffset.x;\n        // my = this._owner._alignOffset.y;\n\n        // if (mx != 0 || my != 0 || this._dontClipMargin) {\n        //     if (!this._alignContainer) {\n        //         throw new Error(\"TODO\");\n        //         // this._alignContainer = new Laya.Sprite();\n        //         // this._maskContainer.addChild(this._alignContainer);\n        //         // this._alignContainer.addChild(this._container);\n        //     }\n        // }\n\n        // if (this._alignContainer) {\n        //     if (this._dontClipMargin) {\n        //         mx += this._owner.margin.left;\n        //         my += this._owner.margin.top;\n        //     }\n        //     this._alignContainer.pos(mx, my);\n        // }\n    }\n\n    public setSize(aWidth: number, aHeight: number): void {\n        this.adjustMaskContainer();\n\n        if (this._hzScrollBar) {\n            this._hzScrollBar.y = aHeight - this._hzScrollBar.height;\n            if (this._vtScrollBar) {\n                this._hzScrollBar.width = aWidth - this._vtScrollBar.width - this._scrollBarMargin.left - this._scrollBarMargin.right;\n                if (this._displayOnLeft)\n                    this._hzScrollBar.x = this._scrollBarMargin.left + this._vtScrollBar.width;\n                else\n                    this._hzScrollBar.x = this._scrollBarMargin.left;\n            }\n            else {\n                this._hzScrollBar.width = aWidth - this._scrollBarMargin.left - this._scrollBarMargin.right;\n                this._hzScrollBar.x = this._scrollBarMargin.left;\n            }\n        }\n        if (this._vtScrollBar) {\n            if (!this._displayOnLeft)\n                this._vtScrollBar.x = aWidth - this._vtScrollBar.width;\n            if (this._hzScrollBar)\n                this._vtScrollBar.height = aHeight - this._hzScrollBar.height - this._scrollBarMargin.top - this._scrollBarMargin.bottom;\n            else\n                this._vtScrollBar.height = aHeight - this._scrollBarMargin.top - this._scrollBarMargin.bottom;\n            this._vtScrollBar.y = this._scrollBarMargin.top;\n        }\n\n        this._viewSize.x = aWidth;\n        this._viewSize.y = aHeight;\n        if (this._hzScrollBar && !this._floating)\n            this._viewSize.y -= this._hzScrollBar.height;\n        if (this._vtScrollBar && !this._floating)\n            this._viewSize.x -= this._vtScrollBar.width;\n        this._viewSize.x -= (this._owner.margin.left + this._owner.margin.right);\n        this._viewSize.y -= (this._owner.margin.top + this._owner.margin.bottom);\n\n        this._viewSize.x = Math.max(1, this._viewSize.x);\n        this._viewSize.y = Math.max(1, this._viewSize.y);\n        this._pageSize.x = this._viewSize.x;\n        this._pageSize.y = this._viewSize.y;\n\n        this.handleSizeChanged();\n    }\n\n    public setContentSize(aWidth: number, aHeight: number): void {\n        if (this._contentSize.x == aWidth && this._contentSize.y == aHeight)\n            return;\n\n        this._contentSize.x = aWidth;\n        this._contentSize.y = aHeight;\n        this.handleSizeChanged();\n    }\n\n    public changeContentSizeOnScrolling(deltaWidth: number, deltaHeight: number,\n        deltaPosX: number, deltaPosY: number): void {\n        var isRightmost: boolean = this._xPos == this._overlapSize.x;\n        var isBottom: boolean = this._yPos == this._overlapSize.y;\n\n        this._contentSize.x += deltaWidth;\n        this._contentSize.y += deltaHeight;\n        this.handleSizeChanged();\n\n        if (this._tweening == 1) {\n            //如果原来滚动位置是贴边，加入处理继续贴边。\n            if (deltaWidth != 0 && isRightmost && this._tweenChange.x < 0) {\n                this._xPos = this._overlapSize.x;\n                this._tweenChange.x = -this._xPos - this._tweenStart.x;\n            }\n\n            if (deltaHeight != 0 && isBottom && this._tweenChange.y < 0) {\n                this._yPos = this._overlapSize.y;\n                this._tweenChange.y = -this._yPos - this._tweenStart.y;\n            }\n        }\n        else if (this._tweening == 2) {\n            //重新调整起始位置，确保能够顺滑滚下去\n            if (deltaPosX != 0) {\n                this._container.x -= deltaPosX;\n                this._tweenStart.x -= deltaPosX;\n                this._xPos = -this._container.x;\n            }\n            if (deltaPosY != 0) {\n                this._container.y -= deltaPosY;\n                this._tweenStart.y -= deltaPosY;\n                this._yPos = -this._container.y;\n            }\n        }\n        else if (this._dragged) {\n            if (deltaPosX != 0) {\n                this._container.x -= deltaPosX;\n                this._containerPos.x -= deltaPosX;\n                this._xPos = -this._container.x;\n            }\n            if (deltaPosY != 0) {\n                this._container.y -= deltaPosY;\n                this._containerPos.y -= deltaPosY;\n                this._yPos = -this._container.y;\n            }\n        }\n        else {\n            //如果原来滚动位置是贴边，加入处理继续贴边。\n            if (deltaWidth != 0 && isRightmost) {\n                this._xPos = this._overlapSize.x;\n                this._container.x = -this._xPos;\n            }\n\n            if (deltaHeight != 0 && isBottom) {\n                this._yPos = this._overlapSize.y;\n                this._container.y = -this._yPos;\n            }\n        }\n\n        if (this._pageMode)\n            this.updatePageController();\n    }\n\n    private handleSizeChanged(): void {\n        throw new Error(\"TODO\");\n        // if (this._displayInDemand) {\n        //     this._vScrollNone = this._contentSize.y <= this._viewSize.y;\n        //     this._hScrollNone = this._contentSize.x <= this._viewSize.x;\n        // }\n\n        // if (this._vtScrollBar) {\n        //     if (this._contentSize.y == 0)\n        //         this._vtScrollBar.setDisplayPerc(0);\n        //     else\n        //         this._vtScrollBar.setDisplayPerc(Math.min(1, this._viewSize.y / this._contentSize.y));\n        // }\n        // if (this._hzScrollBar) {\n        //     if (this._contentSize.x == 0)\n        //         this._hzScrollBar.setDisplayPerc(0);\n        //     else\n        //         this._hzScrollBar.setDisplayPerc(Math.min(1, this._viewSize.x / this._contentSize.x));\n        // }\n\n        // this.updateScrollBarVisible();\n\n        // var rect: Phaser.Geom.Rectangle = this._maskContainer.scrollRect;\n        // if (rect) {\n        //     rect.width = this._viewSize.x;\n        //     rect.height = this._viewSize.y;\n        //     if (this._vScrollNone && this._vtScrollBar)\n        //         rect.width += this._vtScrollBar.width;\n        //     if (this._hScrollNone && this._hzScrollBar)\n        //         rect.height += this._hzScrollBar.height;\n        //     if (this._dontClipMargin) {\n        //         rect.width += (this._owner.margin.left + this._owner.margin.right);\n        //         rect.height += (this._owner.margin.top + this._owner.margin.bottom);\n        //     }\n        //     this._maskContainer.scrollRect = rect;\n        // }\n\n        // if (this._scrollType == ScrollType.Horizontal || this._scrollType == ScrollType.Both)\n        //     this._overlapSize.x = Math.ceil(Math.max(0, this._contentSize.x - this._viewSize.x));\n        // else\n        //     this._overlapSize.x = 0;\n        // if (this._scrollType == ScrollType.Vertical || this._scrollType == ScrollType.Both)\n        //     this._overlapSize.y = Math.ceil(Math.max(0, this._contentSize.y - this._viewSize.y));\n        // else\n        //     this._overlapSize.y = 0;\n\n        // //边界检查\n        // this._xPos = ToolSet.clamp(this._xPos, 0, this._overlapSize.x);\n        // this._yPos = ToolSet.clamp(this._yPos, 0, this._overlapSize.y);\n        // if (this._refreshBarAxis != null) {\n        //     var max: number = this._overlapSize[this._refreshBarAxis];\n        //     if (max == 0)\n        //         max = Math.max(this._contentSize[this._refreshBarAxis] + this._footerLockedSize - this._viewSize[this._refreshBarAxis], 0);\n        //     else\n        //         max += this._footerLockedSize;\n\n        //     if (this._refreshBarAxis == \"x\") {\n        //         this._container.pos(ToolSet.clamp(this._container.x, -max, this._headerLockedSize),\n        //             ToolSet.clamp(this._container.y, -this._overlapSize.y, 0));\n        //     }\n        //     else {\n        //         this._container.pos(ToolSet.clamp(this._container.x, -this._overlapSize.x, 0),\n        //             ToolSet.clamp(this._container.y, -max, this._headerLockedSize));\n        //     }\n\n        //     if (this._header) {\n        //         if (this._refreshBarAxis == \"x\")\n        //             this._header.height = this._viewSize.y;\n        //         else\n        //             this._header.width = this._viewSize.x;\n        //     }\n\n        //     if (this._footer) {\n        //         if (this._refreshBarAxis == \"y\")\n        //             this._footer.height = this._viewSize.y;\n        //         else\n        //             this._footer.width = this._viewSize.x;\n        //     }\n        // }\n        // else {\n        //     this._container.pos(ToolSet.clamp(this._container.x, -this._overlapSize.x, 0),\n        //         ToolSet.clamp(this._container.y, -this._overlapSize.y, 0));\n        // }\n\n        // this.updateScrollBarPos();\n        // if (this._pageMode)\n        //     this.updatePageController();\n    }\n\n    private posChanged(ani: boolean): void {\n        throw new Error(\"TODO\");\n        // if (this._aniFlag == 0)\n        //     this._aniFlag = ani ? 1 : -1;\n        // else if (this._aniFlag == 1 && !ani)\n        //     this._aniFlag = -1;\n\n        // this._needRefresh = true;\n        // Laya.timer.callLater(this, this.refresh);\n    }\n\n    private refresh(): void {\n        throw new Error(\"TODO\");\n        // if (!this._owner.displayObject) {\n        //     return;\n        // }\n        // this._needRefresh = false;\n        // Laya.timer.clear(this, this.refresh);\n\n        // if (this._pageMode || this._snapToItem) {\n        //     sEndPos.setTo(-this._xPos, -this._yPos);\n        //     this.alignPosition(sEndPos, false);\n        //     this._xPos = -sEndPos.x;\n        //     this._yPos = -sEndPos.y;\n        // }\n\n        // this.refresh2();\n\n        // Events.dispatch(Events.SCROLL, this._owner.displayObject);\n        // if (this._needRefresh) //在onScroll事件里开发者可能修改位置，这里再刷新一次，避免闪烁\n        // {\n        //     this._needRefresh = false;\n        //     Laya.timer.clear(this, this.refresh);\n\n        //     this.refresh2();\n        // }\n\n        // this.updateScrollBarPos();\n        // this._aniFlag = 0;\n    }\n\n    private refresh2(): void {\n        throw new Error(\"TODO\");\n        // if (this._aniFlag == 1 && !this._dragged) {\n        //     var posX: number;\n        //     var posY: number;\n\n        //     if (this._overlapSize.x > 0)\n        //         posX = -Math.floor(this._xPos);\n        //     else {\n        //         if (this._container.x != 0)\n        //             this._container.x = 0;\n        //         posX = 0;\n        //     }\n        //     if (this._overlapSize.y > 0)\n        //         posY = -Math.floor(this._yPos);\n        //     else {\n        //         if (this._container.y != 0)\n        //             this._container.y = 0;\n        //         posY = 0;\n        //     }\n\n        //     if (posX != this._container.x || posY != this._container.y) {\n        //         this._tweenDuration.setTo(TWEEN_TIME_GO, TWEEN_TIME_GO);\n        //         this._tweenStart.setTo(this._container.x, this._container.y);\n        //         this._tweenChange.setTo(posX - this._tweenStart.x, posY - this._tweenStart.y);\n        //         this.startTween(1);\n        //     }\n        //     else if (this._tweening != 0)\n        //         this.killTween();\n        // }\n        // else {\n        //     if (this._tweening != 0)\n        //         this.killTween();\n\n        //     this._container.pos(Math.floor(-this._xPos), Math.floor(-this._yPos));\n\n        //     this.loopCheckingCurrent();\n        // }\n\n        // if (this._pageMode)\n        //     this.updatePageController();\n    }\n\n    private __mouseDown(): void {\n        throw new Error(\"TODO\");\n        // if (!this._touchEffect)\n        //     return;\n\n        // if (this._tweening != 0) {\n        //     this.killTween();\n        //     this._dragged = true;\n        // }\n        // else\n        //     this._dragged = false;\n\n        // var pt = this._owner.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY, s_vec2);\n\n        // this._containerPos.setTo(this._container.x, this._container.y);\n        // this._beginTouchPos.setTo(pt.x, pt.y);\n        // this._lastTouchPos.setTo(pt.x, pt.y);\n        // this._lastTouchGlobalPos.setTo(Laya.stage.mouseX, Laya.stage.mouseY);\n        // this._isHoldAreaDone = false;\n        // this._velocity.setTo(0, 0);\n        // this._velocityScale = 1;\n        // this._lastMoveTime = Laya.timer.currTimer / 1000;\n\n        // this._owner.displayObject.stage.on(Laya.Event.MOUSE_MOVE, this, this.__mouseMove);\n        // this._owner.displayObject.stage.on(Laya.Event.MOUSE_UP, this, this.__mouseUp);\n        // this._owner.displayObject.stage.on(Laya.Event.CLICK, this, this.__click);\n    }\n\n    private __mouseMove(): void {\n        // if (!this._touchEffect || this.owner.isDisposed)\n        //     return;\n\n        // if (ScrollPane.draggingPane && ScrollPane.draggingPane != this || GObject.draggingObject) //已经有其他拖动\n        //     return;\n\n        // var sensitivity: number = UIConfig.touchScrollSensitivity;\n\n        // var pt: Laya.Point = this._owner.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY, s_vec2);\n\n        // var diff: number, diff2: number;\n        // var sv: boolean, sh: boolean, st: boolean;\n\n        // if (this._scrollType == ScrollType.Vertical) {\n        //     if (!this._isHoldAreaDone) {\n        //         //表示正在监测垂直方向的手势\n        //         _gestureFlag |= 1;\n\n        //         diff = Math.abs(this._beginTouchPos.y - pt.y);\n        //         if (diff < sensitivity)\n        //             return;\n\n        //         if ((_gestureFlag & 2) != 0) //已经有水平方向的手势在监测，那么我们用严格的方式检查是不是按垂直方向移动，避免冲突\n        //         {\n        //             diff2 = Math.abs(this._beginTouchPos.x - pt.x);\n        //             if (diff < diff2) //不通过则不允许滚动了\n        //                 return;\n        //         }\n        //     }\n\n        //     sv = true;\n        // }\n        // else if (this._scrollType == ScrollType.Horizontal) {\n        //     if (!this._isHoldAreaDone) {\n        //         _gestureFlag |= 2;\n\n        //         diff = Math.abs(this._beginTouchPos.x - pt.x);\n        //         if (diff < sensitivity)\n        //             return;\n\n        //         if ((_gestureFlag & 1) != 0) {\n        //             diff2 = Math.abs(this._beginTouchPos.y - pt.y);\n        //             if (diff < diff2)\n        //                 return;\n        //         }\n        //     }\n\n        //     sh = true;\n        // }\n        // else {\n        //     _gestureFlag = 3;\n\n        //     if (!this._isHoldAreaDone) {\n        //         diff = Math.abs(this._beginTouchPos.y - pt.y);\n        //         if (diff < sensitivity) {\n        //             diff = Math.abs(this._beginTouchPos.x - pt.x);\n        //             if (diff < sensitivity)\n        //                 return;\n        //         }\n        //     }\n\n        //     sv = sh = true;\n        // }\n\n        // var newPosX: number = Math.floor(this._containerPos.x + pt.x - this._beginTouchPos.x);\n        // var newPosY: number = Math.floor(this._containerPos.y + pt.y - this._beginTouchPos.y);\n\n        // if (sv) {\n        //     if (newPosY > 0) {\n        //         if (!this._bouncebackEffect)\n        //             this._container.y = 0;\n        //         else if (this._header && this._header.maxHeight != 0)\n        //             this._container.y = Math.floor(Math.min(newPosY * 0.5, this._header.maxHeight));\n        //         else\n        //             this._container.y = Math.floor(Math.min(newPosY * 0.5, this._viewSize.y * PULL_RATIO));\n        //     }\n        //     else if (newPosY < -this._overlapSize.y) {\n        //         if (!this._bouncebackEffect)\n        //             this._container.y = -this._overlapSize.y;\n        //         else if (this._footer && this._footer.maxHeight > 0)\n        //             this._container.y = Math.floor(Math.max((newPosY + this._overlapSize.y) * 0.5, -this._footer.maxHeight) - this._overlapSize.y);\n        //         else\n        //             this._container.y = Math.floor(Math.max((newPosY + this._overlapSize.y) * 0.5, -this._viewSize.y * PULL_RATIO) - this._overlapSize.y);\n        //     }\n        //     else\n        //         this._container.y = newPosY;\n        // }\n\n        // if (sh) {\n        //     if (newPosX > 0) {\n        //         if (!this._bouncebackEffect)\n        //             this._container.x = 0;\n        //         else if (this._header && this._header.maxWidth != 0)\n        //             this._container.x = Math.floor(Math.min(newPosX * 0.5, this._header.maxWidth));\n        //         else\n        //             this._container.x = Math.floor(Math.min(newPosX * 0.5, this._viewSize.x * PULL_RATIO));\n        //     }\n        //     else if (newPosX < 0 - this._overlapSize.x) {\n        //         if (!this._bouncebackEffect)\n        //             this._container.x = -this._overlapSize.x;\n        //         else if (this._footer && this._footer.maxWidth > 0)\n        //             this._container.x = Math.floor(Math.max((newPosX + this._overlapSize.x) * 0.5, -this._footer.maxWidth) - this._overlapSize.x);\n        //         else\n        //             this._container.x = Math.floor(Math.max((newPosX + this._overlapSize.x) * 0.5, -this._viewSize.x * PULL_RATIO) - this._overlapSize.x);\n        //     }\n        //     else\n        //         this._container.x = newPosX;\n        // }\n\n\n        // //更新速度\n        // var frameRate: number = Laya.stage.frameRate == Laya.Stage.FRAME_SLOW ? 30 : 60;\n        // var now: number = Laya.timer.currTimer / 1000;\n        // var deltaTime: number = Math.max(now - this._lastMoveTime, 1 / frameRate);\n        // var deltaPositionX: number = pt.x - this._lastTouchPos.x;\n        // var deltaPositionY: number = pt.y - this._lastTouchPos.y;\n        // if (!sh)\n        //     deltaPositionX = 0;\n        // if (!sv)\n        //     deltaPositionY = 0;\n        // if (deltaTime != 0) {\n        //     var elapsed: number = deltaTime * frameRate - 1;\n        //     if (elapsed > 1) //速度衰减\n        //     {\n        //         var factor: number = Math.pow(0.833, elapsed);\n        //         this._velocity.x = this._velocity.x * factor;\n        //         this._velocity.y = this._velocity.y * factor;\n        //     }\n        //     this._velocity.x = ToolSet.lerp(this._velocity.x, deltaPositionX * 60 / frameRate / deltaTime, deltaTime * 10);\n        //     this._velocity.y = ToolSet.lerp(this._velocity.y, deltaPositionY * 60 / frameRate / deltaTime, deltaTime * 10);\n        // }\n\n        // /*速度计算使用的是本地位移，但在后续的惯性滚动判断中需要用到屏幕位移，所以这里要记录一个位移的比例。\n        // */\n        // var deltaGlobalPositionX: number = this._lastTouchGlobalPos.x - Laya.stage.mouseX;\n        // var deltaGlobalPositionY: number = this._lastTouchGlobalPos.y - Laya.stage.mouseY;\n        // if (deltaPositionX != 0)\n        //     this._velocityScale = Math.abs(deltaGlobalPositionX / deltaPositionX);\n        // else if (deltaPositionY != 0)\n        //     this._velocityScale = Math.abs(deltaGlobalPositionY / deltaPositionY);\n\n        // this._lastTouchPos.setTo(pt.x, pt.y);\n        // this._lastTouchGlobalPos.setTo(Laya.stage.mouseX, Laya.stage.mouseY);\n        // this._lastMoveTime = now;\n\n        // //同步更新pos值\n        // if (this._overlapSize.x > 0)\n        //     this._xPos = ToolSet.clamp(-this._container.x, 0, this._overlapSize.x);\n        // if (this._overlapSize.y > 0)\n        //     this._yPos = ToolSet.clamp(-this._container.y, 0, this._overlapSize.y);\n\n        // //循环滚动特别检查\n        // if (this._loop != 0) {\n        //     newPosX = this._container.x;\n        //     newPosY = this._container.y;\n        //     if (this.loopCheckingCurrent()) {\n        //         this._containerPos.x += this._container.x - newPosX;\n        //         this._containerPos.y += this._container.y - newPosY;\n        //     }\n        // }\n\n        // ScrollPane.draggingPane = this;\n        // this._isHoldAreaDone = true;\n        // this._dragged = true;\n        // this._maskContainer.mouseEnabled = false;\n\n        // this.updateScrollBarPos();\n        // this.updateScrollBarVisible();\n        // if (this._pageMode)\n        //     this.updatePageController();\n\n        // Events.dispatch(Events.SCROLL, this._owner.displayObject);\n    }\n\n    private __mouseUp(): void {\n        throw new Error(\"TODO\");\n        // if (this._owner.isDisposed)\n        //     return;\n\n        // this._owner.displayObject.stage.off(Laya.Event.MOUSE_MOVE, this, this.__mouseMove);\n        // this._owner.displayObject.stage.off(Laya.Event.MOUSE_UP, this, this.__mouseUp);\n        // this._owner.displayObject.stage.off(Laya.Event.CLICK, this, this.__click);\n\n        // if (ScrollPane.draggingPane == this)\n        //     ScrollPane.draggingPane = null;\n\n        // _gestureFlag = 0;\n\n        // if (!this._dragged || !this._touchEffect) {\n        //     this._dragged = false;\n        //     this._maskContainer.mouseEnabled = true;\n        //     return;\n        // }\n\n        // this._dragged = false;\n        // this._maskContainer.mouseEnabled = true;\n\n        // this._tweenStart.setTo(this._container.x, this._container.y);\n\n        // sEndPos.setTo(this._tweenStart.x, this._tweenStart.y);\n        // var flag: boolean = false;\n        // if (this._container.x > 0) {\n        //     sEndPos.x = 0;\n        //     flag = true;\n        // }\n        // else if (this._container.x < -this._overlapSize.x) {\n        //     sEndPos.x = -this._overlapSize.x;\n        //     flag = true;\n        // }\n        // if (this._container.y > 0) {\n        //     sEndPos.y = 0;\n        //     flag = true;\n        // }\n        // else if (this._container.y < -this._overlapSize.y) {\n        //     sEndPos.y = -this._overlapSize.y;\n        //     flag = true;\n        // }\n        // if (flag) {\n        //     this._tweenChange.setTo(sEndPos.x - this._tweenStart.x, sEndPos.y - this._tweenStart.y);\n        //     if (this._tweenChange.x < -UIConfig.touchDragSensitivity || this._tweenChange.y < -UIConfig.touchDragSensitivity) {\n        //         this._refreshEventDispatching = true;\n        //         Events.dispatch(Events.PULL_DOWN_RELEASE, this._owner.displayObject);\n        //         this._refreshEventDispatching = false;\n        //     }\n        //     else if (this._tweenChange.x > UIConfig.touchDragSensitivity || this._tweenChange.y > UIConfig.touchDragSensitivity) {\n        //         this._refreshEventDispatching = true;\n        //         Events.dispatch(Events.PULL_UP_RELEASE, this._owner.displayObject);\n        //         this._refreshEventDispatching = false;\n        //     }\n\n        //     if (this._headerLockedSize > 0 && sEndPos[this._refreshBarAxis] == 0) {\n        //         sEndPos[this._refreshBarAxis] = this._headerLockedSize;\n        //         this._tweenChange.x = sEndPos.x - this._tweenStart.x;\n        //         this._tweenChange.y = sEndPos.y - this._tweenStart.y;\n        //     }\n        //     else if (this._footerLockedSize > 0 && sEndPos[this._refreshBarAxis] == -this._overlapSize[this._refreshBarAxis]) {\n        //         var max: number = this._overlapSize[this._refreshBarAxis];\n        //         if (max == 0)\n        //             max = Math.max(this._contentSize[this._refreshBarAxis] + this._footerLockedSize - this._viewSize[this._refreshBarAxis], 0);\n        //         else\n        //             max += this._footerLockedSize;\n        //         sEndPos[this._refreshBarAxis] = -max;\n        //         this._tweenChange.x = sEndPos.x - this._tweenStart.x;\n        //         this._tweenChange.y = sEndPos.y - this._tweenStart.y;\n        //     }\n\n        //     this._tweenDuration.setTo(TWEEN_TIME_DEFAULT, TWEEN_TIME_DEFAULT);\n        // }\n        // else {\n        //     //更新速度\n        //     if (!this._inertiaDisabled) {\n        //         var frameRate: number = Laya.stage.frameRate == Laya.Stage.FRAME_SLOW ? 30 : 60;\n        //         var elapsed: number = (Laya.timer.currTimer / 1000 - this._lastMoveTime) * frameRate - 1;\n        //         if (elapsed > 1) {\n        //             var factor: number = Math.pow(0.833, elapsed);\n        //             this._velocity.x = this._velocity.x * factor;\n        //             this._velocity.y = this._velocity.y * factor;\n        //         }\n        //         //根据速度计算目标位置和需要时间\n        //         this.updateTargetAndDuration(this._tweenStart, sEndPos);\n        //     }\n        //     else\n        //         this._tweenDuration.setTo(TWEEN_TIME_DEFAULT, TWEEN_TIME_DEFAULT);\n        //     sOldChange.setTo(sEndPos.x - this._tweenStart.x, sEndPos.y - this._tweenStart.y);\n\n        //     //调整目标位置\n        //     this.loopCheckingTarget(sEndPos);\n        //     if (this._pageMode || this._snapToItem)\n        //         this.alignPosition(sEndPos, true);\n\n        //     this._tweenChange.x = sEndPos.x - this._tweenStart.x;\n        //     this._tweenChange.y = sEndPos.y - this._tweenStart.y;\n        //     if (this._tweenChange.x == 0 && this._tweenChange.y == 0) {\n        //         this.updateScrollBarVisible();\n        //         return;\n        //     }\n\n        //     //如果目标位置已调整，随之调整需要时间\n        //     if (this._pageMode || this._snapToItem) {\n        //         this.fixDuration(\"x\", sOldChange.x);\n        //         this.fixDuration(\"y\", sOldChange.y);\n        //     }\n        // }\n\n        // this.startTween(2);\n    }\n\n    private __click(): void {\n        this._dragged = false;\n    }\n\n    private __mouseWheel(evt: any): void {\n        throw new Error(\"TODO\");\n        if (!this._mouseWheelEnabled)\n            return;\n\n        var delta: number = evt[\"delta\"];\n        delta = delta > 0 ? -1 : (delta < 0 ? 1 : 0);\n        if (this._overlapSize.x > 0 && this._overlapSize.y == 0) {\n            if (this._pageMode)\n                this.setPosX(this._xPos + this._pageSize.x * delta, false);\n            else\n                this.setPosX(this._xPos + this._mouseWheelStep * delta, false);\n        }\n        else {\n            if (this._pageMode)\n                this.setPosY(this._yPos + this._pageSize.y * delta, false);\n            else\n                this.setPosY(this._yPos + this._mouseWheelStep * delta, false);\n        }\n    }\n\n    private updateScrollBarPos(): void {\n        if (this._vtScrollBar)\n            this._vtScrollBar.setScrollPerc(this._overlapSize.y == 0 ? 0 : ToolSet.clamp(-this._container.y, 0, this._overlapSize.y) / this._overlapSize.y);\n\n        if (this._hzScrollBar)\n            this._hzScrollBar.setScrollPerc(this._overlapSize.x == 0 ? 0 : ToolSet.clamp(-this._container.x, 0, this._overlapSize.x) / this._overlapSize.x);\n\n        this.checkRefreshBar();\n    }\n\n    public updateScrollBarVisible(): void {\n        throw new Error(\"TODO\");\n        // if (this._vtScrollBar) {\n        //     if (this._viewSize.y <= this._vtScrollBar.minSize || this._vScrollNone)\n        //         this._vtScrollBar.displayObject.visible = false;\n        //     else\n        //         this.updateScrollBarVisible2(this._vtScrollBar);\n        // }\n\n        // if (this._hzScrollBar) {\n        //     if (this._viewSize.x <= this._hzScrollBar.minSize || this._hScrollNone)\n        //         this._hzScrollBar.displayObject.visible = false;\n        //     else\n        //         this.updateScrollBarVisible2(this._hzScrollBar);\n        // }\n    }\n\n    private updateScrollBarVisible2(bar: GScrollBar): void {\n        throw new Error(\"TODO\");\n        // if (this._scrollBarDisplayAuto)\n        //     GTween.kill(bar, false, \"alpha\");\n\n        // if (this._scrollBarDisplayAuto && this._tweening == 0 && !this._dragged && !bar.gripDragging) {\n        //     if (bar.displayObject.visible)\n        //         GTween.to(1, 0, 0.5).setDelay(0.5).onComplete(this.__barTweenComplete, this).setTarget(bar, \"alpha\");\n        // }\n        // else {\n        //     bar.alpha = 1;\n        //     bar.displayObject.visible = true;\n        // }\n    }\n\n    private __barTweenComplete(tweener: GTweener): void {\n        throw new Error(\"TODO\");\n        // var bar: GObject = <GObject>(tweener.target);\n        // bar.alpha = 1;\n        // bar.displayObject.visible = false;\n    }\n\n    private getLoopPartSize(division: number, axis: string): number {\n        // return (this._contentSize[axis] + (axis == \"x\" ? (<GList>(this._owner)).columnGap : (<GList>(this._owner)).lineGap)) / division;\n        return 0;\n    }\n\n    private loopCheckingCurrent(): boolean {\n        throw new Error(\"TODO\");\n        return false;\n        // var changed: boolean = false;\n        // if (this._loop == 1 && this._overlapSize.x > 0) {\n        //     if (this._xPos < 0.001) {\n        //         this._xPos += this.getLoopPartSize(2, \"x\");\n        //         changed = true;\n        //     }\n        //     else if (this._xPos >= this._overlapSize.x) {\n        //         this._xPos -= this.getLoopPartSize(2, \"x\");\n        //         changed = true;\n        //     }\n        // }\n        // else if (this._loop == 2 && this._overlapSize.y > 0) {\n        //     if (this._yPos < 0.001) {\n        //         this._yPos += this.getLoopPartSize(2, \"y\");\n        //         changed = true;\n        //     }\n        //     else if (this._yPos >= this._overlapSize.y) {\n        //         this._yPos -= this.getLoopPartSize(2, \"y\");\n        //         changed = true;\n        //     }\n        // }\n\n        // if (changed)\n        //     this._container.pos(Math.floor(-this._xPos), Math.floor(-this._yPos));\n\n        // return changed;\n    }\n\n    private loopCheckingTarget(endPos: Phaser.Geom.Point): void {\n        if (this._loop == 1)\n            this.loopCheckingTarget2(endPos, \"x\");\n\n        if (this._loop == 2)\n            this.loopCheckingTarget2(endPos, \"y\");\n    }\n\n    private loopCheckingTarget2(endPos: Phaser.Geom.Point, axis: string): void {\n        var halfSize: number;\n        var tmp: number;\n        if (endPos[axis] > 0) {\n            halfSize = this.getLoopPartSize(2, axis);\n            tmp = this._tweenStart[axis] - halfSize;\n            if (tmp <= 0 && tmp >= -this._overlapSize[axis]) {\n                endPos[axis] -= halfSize;\n                this._tweenStart[axis] = tmp;\n            }\n        }\n        else if (endPos[axis] < -this._overlapSize[axis]) {\n            halfSize = this.getLoopPartSize(2, axis);\n            tmp = this._tweenStart[axis] + halfSize;\n            if (tmp <= 0 && tmp >= -this._overlapSize[axis]) {\n                endPos[axis] += halfSize;\n                this._tweenStart[axis] = tmp;\n            }\n        }\n    }\n\n    private loopCheckingNewPos(value: number, axis: string): number {\n        if (this._overlapSize[axis] == 0)\n            return value;\n\n        var pos: number = axis == \"x\" ? this._xPos : this._yPos;\n        var changed: boolean = false;\n        var v: number;\n        if (value < 0.001) {\n            value += this.getLoopPartSize(2, axis);\n            if (value > pos) {\n                v = this.getLoopPartSize(6, axis);\n                v = Math.ceil((value - pos) / v) * v;\n                pos = ToolSet.clamp(pos + v, 0, this._overlapSize[axis]);\n                changed = true;\n            }\n        }\n        else if (value >= this._overlapSize[axis]) {\n            value -= this.getLoopPartSize(2, axis);\n            if (value < pos) {\n                v = this.getLoopPartSize(6, axis);\n                v = Math.ceil((pos - value) / v) * v;\n                pos = ToolSet.clamp(pos - v, 0, this._overlapSize[axis]);\n                changed = true;\n            }\n        }\n\n        if (changed) {\n            if (axis == \"x\")\n                this._container.x = -Math.floor(pos);\n            else\n                this._container.y = -Math.floor(pos);\n        }\n\n        return value;\n    }\n\n    private alignPosition(pos: Phaser.Geom.Point, inertialScrolling: boolean): void {\n        if (this._pageMode) {\n            pos.x = this.alignByPage(pos.x, \"x\", inertialScrolling);\n            pos.y = this.alignByPage(pos.y, \"y\", inertialScrolling);\n        }\n        else if (this._snapToItem) {\n            var xDir: number = 0;\n            var yDir: number = 0;\n            if (inertialScrolling) {\n                xDir = pos.x - this._containerPos.x;\n                yDir = pos.y - this._containerPos.y;\n            }\n\n            var pt = this._owner.getSnappingPositionWithDir(-pos.x, -pos.y, xDir, yDir, s_vec2);\n            if (pos.x < 0 && pos.x > -this._overlapSize.x)\n                pos.x = -pt.x;\n            if (pos.y < 0 && pos.y > -this._overlapSize.y)\n                pos.y = -pt.y;\n        }\n    }\n\n    private alignByPage(pos: number, axis: string, inertialScrolling: boolean): number {\n        var page: number;\n\n        if (pos > 0)\n            page = 0;\n        else if (pos < -this._overlapSize[axis])\n            page = Math.ceil(this._contentSize[axis] / this._pageSize[axis]) - 1;\n        else {\n            page = Math.floor(-pos / this._pageSize[axis]);\n            var change: number = inertialScrolling ? (pos - this._containerPos[axis]) : (pos - this._container[axis]);\n            var testPageSize: number = Math.min(this._pageSize[axis], this._contentSize[axis] - (page + 1) * this._pageSize[axis]);\n            var delta: number = -pos - page * this._pageSize[axis];\n\n            //页面吸附策略\n            if (Math.abs(change) > this._pageSize[axis])//如果滚动距离超过1页,则需要超过页面的一半，才能到更下一页\n            {\n                if (delta > testPageSize * 0.5)\n                    page++;\n            }\n            else //否则只需要页面的1/3，当然，需要考虑到左移和右移的情况\n            {\n                if (delta > testPageSize * (change < 0 ? UIConfig.defaultScrollPagingThreshold : (1 - UIConfig.defaultScrollPagingThreshold)))\n                    page++;\n            }\n\n            //重新计算终点\n            pos = -page * this._pageSize[axis];\n            if (pos < -this._overlapSize[axis]) //最后一页未必有pageSize那么大\n                pos = -this._overlapSize[axis];\n        }\n\n        //惯性滚动模式下，会增加判断尽量不要滚动超过一页\n        if (inertialScrolling) {\n            var oldPos: number = this._tweenStart[axis];\n            var oldPage: number;\n            if (oldPos > 0)\n                oldPage = 0;\n            else if (oldPos < -this._overlapSize[axis])\n                oldPage = Math.ceil(this._contentSize[axis] / this._pageSize[axis]) - 1;\n            else\n                oldPage = Math.floor(-oldPos / this._pageSize[axis]);\n            var startPage: number = Math.floor(-this._containerPos[axis] / this._pageSize[axis]);\n            if (Math.abs(page - startPage) > 1 && Math.abs(oldPage - startPage) <= 1) {\n                if (page > startPage)\n                    page = startPage + 1;\n                else\n                    page = startPage - 1;\n                pos = -page * this._pageSize[axis];\n            }\n        }\n\n        return pos;\n    }\n\n    private updateTargetAndDuration(orignPos: Phaser.Geom.Point, resultPos: Phaser.Geom.Point): void {\n        resultPos.x = this.updateTargetAndDuration2(orignPos.x, \"x\");\n        resultPos.y = this.updateTargetAndDuration2(orignPos.y, \"y\");\n    }\n\n    private updateTargetAndDuration2(pos: number, axis: string): number {\n        var v: number = this._velocity[axis];\n        var duration: number = 0;\n        if (pos > 0)\n            pos = 0;\n        else if (pos < -this._overlapSize[axis])\n            pos = -this._overlapSize[axis];\n        else {\n            throw new Error(\"TODO\");\n            // //以屏幕像素为基准\n            // var v2: number = Math.abs(v) * this._velocityScale;\n            // //在移动设备上，需要对不同分辨率做一个适配，我们的速度判断以1136分辨率为基准\n            // if (Laya.Browser.onMobile)\n            //     v2 *= 1136 / Math.max(Laya.stage.width, Laya.stage.height);\n            // //这里有一些阈值的处理，因为在低速内，不希望产生较大的滚动（甚至不滚动）\n            // var ratio: number = 0;\n            // if (this._pageMode || !Laya.Browser.onMobile) {\n            //     if (v2 > 500)\n            //         ratio = Math.pow((v2 - 500) / 500, 2);\n            // }\n            // else {\n            //     if (v2 > 1000)\n            //         ratio = Math.pow((v2 - 1000) / 1000, 2);\n            // }\n            // if (ratio != 0) {\n            //     if (ratio > 1)\n            //         ratio = 1;\n\n            //     v2 *= ratio;\n            //     v *= ratio;\n            //     this._velocity[axis] = v;\n\n            //     //算法：v*（_decelerationRate的n次幂）= 60，即在n帧后速度降为60（假设每秒60帧）。\n            //     duration = Math.log(60 / v2) / Math.log(this._decelerationRate) / 60;\n\n            //     //计算距离要使用本地速度\n            //     //理论公式貌似滚动的距离不够，改为经验公式\n            //     //var change:number = (v/ 60 - 1) / (1 - this._decelerationRate);\n            //     var change: number = Math.floor(v * duration * 0.4);\n            //     pos += change;\n            // }\n        }\n\n        if (duration < TWEEN_TIME_DEFAULT)\n            duration = TWEEN_TIME_DEFAULT;\n        this._tweenDuration[axis] = duration;\n\n        return pos;\n    }\n\n    private fixDuration(axis: string, oldChange: number): void {\n        if (this._tweenChange[axis] == 0 || Math.abs(this._tweenChange[axis]) >= Math.abs(oldChange))\n            return;\n\n        var newDuration: number = Math.abs(this._tweenChange[axis] / oldChange) * this._tweenDuration[axis];\n        if (newDuration < TWEEN_TIME_DEFAULT)\n            newDuration = TWEEN_TIME_DEFAULT;\n\n        this._tweenDuration[axis] = newDuration;\n    }\n\n    private startTween(type: number): void {\n        throw new Error(\"TODO\");\n        // this._tweenTime.setTo(0, 0);\n        // this._tweening = type;\n        // Laya.timer.frameLoop(1, this, this.tweenUpdate);\n\n        // this.updateScrollBarVisible();\n    }\n\n    private killTween(): void {\n        throw new Error(\"TODO\");\n        // if (this._tweening == 1) //取消类型为1的tween需立刻设置到终点\n        // {\n        //     this._container.pos(this._tweenStart.x + this._tweenChange.x, this._tweenStart.y + this._tweenChange.y);\n        //     Events.dispatch(Events.SCROLL, this._owner.displayObject);\n        // }\n\n        // this._tweening = 0;\n        // Laya.timer.clear(this, this.tweenUpdate);\n\n        // this.updateScrollBarVisible();\n\n        // Events.dispatch(Events.SCROLL_END, this._owner.displayObject);\n    }\n\n    private checkRefreshBar(): void {\n        throw new Error(\"TODO\");\n        // if (!this._header && !this._footer)\n        //     return;\n\n        // var pos: number = this._container[this._refreshBarAxis];\n        // if (this._header) {\n        //     if (pos > 0) {\n        //         if (!this._header.displayObject.parent)\n        //             this._maskContainer.addChildAt(this._header.displayObject, 0);\n        //         var pt: Phaser.Geom.Point = s_vec2;\n        //         pt.setTo(this._header.width, this._header.height);\n        //         pt[this._refreshBarAxis] = pos;\n        //         this._header.setSize(pt.x, pt.y);\n        //     }\n        //     else {\n        //         if (this._header.displayObject.parent)\n        //             this._maskContainer.removeChild(this._header.displayObject);\n        //     }\n        // }\n\n        // if (this._footer) {\n        //     var max: number = this._overlapSize[this._refreshBarAxis];\n        //     if (pos < -max || max == 0 && this._footerLockedSize > 0) {\n        //         if (!this._footer.displayObject.parent)\n        //             this._maskContainer.addChildAt(this._footer.displayObject, 0);\n\n        //         pt = s_vec2;\n        //         pt.setTo(this._footer.x, this._footer.y);\n        //         if (max > 0)\n        //             pt[this._refreshBarAxis] = pos + this._contentSize[this._refreshBarAxis];\n        //         else\n        //             pt[this._refreshBarAxis] = Math.max(Math.min(pos + this._viewSize[this._refreshBarAxis], this._viewSize[this._refreshBarAxis] - this._footerLockedSize),\n        //                 this._viewSize[this._refreshBarAxis] - this._contentSize[this._refreshBarAxis]);\n        //         this._footer.setXY(pt.x, pt.y);\n\n        //         pt.setTo(this._footer.width, this._footer.height);\n        //         if (max > 0)\n        //             pt[this._refreshBarAxis] = -max - pos;\n        //         else\n        //             pt[this._refreshBarAxis] = this._viewSize[this._refreshBarAxis] - this._footer[this._refreshBarAxis];\n        //         this._footer.setSize(pt.x, pt.y);\n        //     }\n        //     else {\n        //         if (this._footer.displayObject.parent)\n        //             this._maskContainer.removeChild(this._footer.displayObject);\n        //     }\n        // }\n    }\n\n    private tweenUpdate(): void {\n        throw new Error(\"TODO\");\n        // var nx: number = this.runTween(\"x\");\n        // var ny: number = this.runTween(\"y\");\n\n        // this._container.pos(nx, ny);\n\n        // if (this._tweening == 2) {\n        //     if (this._overlapSize.x > 0)\n        //         this._xPos = ToolSet.clamp(-nx, 0, this._overlapSize.x);\n        //     if (this._overlapSize.y > 0)\n        //         this._yPos = ToolSet.clamp(-ny, 0, this._overlapSize.y);\n\n        //     if (this._pageMode)\n        //         this.updatePageController();\n        // }\n\n        // if (this._tweenChange.x == 0 && this._tweenChange.y == 0) {\n        //     throw new Error(\"TODO\");\n        //     // this._tweening = 0;\n        //     // Laya.timer.clear(this, this.tweenUpdate);\n\n        //     // this.loopCheckingCurrent();\n        //     // this.updateScrollBarPos();\n        //     // this.updateScrollBarVisible();\n\n        //     // Events.dispatch(Events.SCROLL, this._owner.displayObject);\n        //     // Events.dispatch(Events.SCROLL_END, this._owner.displayObject);\n\n        // }\n        // else {\n        //     this.updateScrollBarPos();\n        //     Events.dispatch(Events.SCROLL, this._owner.displayObject);\n        // }\n    }\n\n    private runTween(axis: string): number {\n        var newValue: number;\n        if (this._tweenChange[axis] != 0) {\n            throw new Error(\"TODO\")\n            // this._tweenTime[axis] += Laya.timer.delta / 1000;\n            if (this._tweenTime[axis] >= this._tweenDuration[axis]) {\n                newValue = this._tweenStart[axis] + this._tweenChange[axis];\n                this._tweenChange[axis] = 0;\n            }\n            else {\n                var ratio: number = easeFunc(this._tweenTime[axis], this._tweenDuration[axis]);\n                newValue = this._tweenStart[axis] + Math.floor(this._tweenChange[axis] * ratio);\n            }\n\n            var threshold1: number = 0;\n            var threshold2: number = -this._overlapSize[axis];\n            if (this._headerLockedSize > 0 && this._refreshBarAxis == axis)\n                threshold1 = this._headerLockedSize;\n            if (this._footerLockedSize > 0 && this._refreshBarAxis == axis) {\n                var max: number = this._overlapSize[this._refreshBarAxis];\n                if (max == 0)\n                    max = Math.max(this._contentSize[this._refreshBarAxis] + this._footerLockedSize - this._viewSize[this._refreshBarAxis], 0);\n                else\n                    max += this._footerLockedSize;\n                threshold2 = -max;\n            }\n\n            if (this._tweening == 2 && this._bouncebackEffect) {\n                if (newValue > 20 + threshold1 && this._tweenChange[axis] > 0\n                    || newValue > threshold1 && this._tweenChange[axis] == 0)//开始回弹\n                {\n                    this._tweenTime[axis] = 0;\n                    this._tweenDuration[axis] = TWEEN_TIME_DEFAULT;\n                    this._tweenChange[axis] = -newValue + threshold1;\n                    this._tweenStart[axis] = newValue;\n                }\n                else if (newValue < threshold2 - 20 && this._tweenChange[axis] < 0\n                    || newValue < threshold2 && this._tweenChange[axis] == 0)//开始回弹\n                {\n                    this._tweenTime[axis] = 0;\n                    this._tweenDuration[axis] = TWEEN_TIME_DEFAULT;\n                    this._tweenChange[axis] = threshold2 - newValue;\n                    this._tweenStart[axis] = newValue;\n                }\n            }\n            else {\n                if (newValue > threshold1) {\n                    newValue = threshold1;\n                    this._tweenChange[axis] = 0;\n                }\n                else if (newValue < threshold2) {\n                    newValue = threshold2;\n                    this._tweenChange[axis] = 0;\n                }\n            }\n        }\n        else\n            newValue = this._container[axis];\n\n        return newValue;\n    }\n}\n\nvar _gestureFlag: number = 0;\n\nconst TWEEN_TIME_GO: number = 0.5; //调用SetPos(ani)时使用的缓动时间\nconst TWEEN_TIME_DEFAULT: number = 0.3; //惯性滚动的最小缓动时间\nconst PULL_RATIO: number = 0.5; //下拉过顶或者上拉过底时允许超过的距离占显示区域的比例\n\nvar s_vec2 = new Phaser.Geom.Point();\nvar s_rect = new Phaser.Geom.Rectangle();\nvar sEndPos = new Phaser.Geom.Point();\nvar sOldChange = new Phaser.Geom.Point();\n\nfunction easeFunc(t: number, d: number): number {\n    return (t = t / d - 1) * t * t + 1;//cubicOut\n}\n","export class ByteBuffer {\n    public stringTable: Array<string>;\n    public version: number = 0;\n    public littleEndian: boolean;\n\n    protected _view: DataView;\n    protected _bytes: Uint8Array;\n    protected _pos: number;\n    protected _length: number;\n\n    public constructor(buffer: ArrayBuffer, offset: number = 0, length: number = -1) {\n        if (length == -1)\n            length = buffer.byteLength - offset;\n\n        this._bytes = new Uint8Array(buffer, offset, length);\n        this._view = new DataView(this._bytes.buffer, offset, length);\n        this._pos = 0;\n        this._length = length;\n    }\n\n    public get data(): Uint8Array {\n        return this._bytes;\n    }\n\n    public get position(): number {\n        return this._pos;\n    }\n\n    public set position(value: number) {\n        if (value > this._length) throw \"Out of bounds\";\n        this._pos = value;\n    }\n\n    public skip(count: number): void {\n        this._pos += count;\n    }\n\n    private validate(forward: number): void {\n        if (this._pos + forward > this._length) throw \"Out of bounds\";\n    }\n\n    public readByte(): number {\n        this.validate(1);\n        return this._view.getInt8(this._pos++);\n    }\n\n    public readUbyte(): number {\n        return this._bytes[this._pos++];\n    }\n\n    public readBool(): boolean {\n        return this.readByte() == 1;\n    }\n\n    public readShort(): number {\n        this.validate(2);\n        let ret: number = this._view.getInt16(this._pos, this.littleEndian);\n        this._pos += 2;\n        return ret;\n    }\n\n    public readUshort(): number {\n        this.validate(2);\n        let ret: number = this._view.getUint16(this._pos, this.littleEndian);\n        this._pos += 2;\n        return ret;\n    }\n\n    public readInt(): number {\n        this.validate(4);\n        let ret: number = this._view.getInt32(this._pos, this.littleEndian);\n        this._pos += 4;\n        return ret;\n    }\n\n    public readUint(): number {\n        this.validate(4);\n        let ret: number = this._view.getUint32(this._pos, this.littleEndian);\n        this._pos += 4;\n        return ret;\n    }\n\n    public readFloat(): number {\n        this.validate(4);\n        let ret: number = this._view.getFloat32(this._pos, this.littleEndian);\n        this._pos += 4;\n        return ret;\n    }\n\n    public readString(len?: number): string {\n        if (len == undefined) len = this.readUshort();\n        this.validate(len);\n\n        let v: string = \"\", max: number = this._pos + len, c: number = 0, c2: number = 0, c3: number = 0, f: Function = String.fromCharCode;\n        let u: Uint8Array = this._bytes, i: number = 0;\n        let pos = this._pos;\n        while (pos < max) {\n            c = u[pos++];\n            if (c < 0x80) {\n                if (c != 0) {\n                    v += f(c);\n                }\n            } else if (c < 0xE0) {\n                v += f(((c & 0x3F) << 6) | (u[pos++] & 0x7F));\n            } else if (c < 0xF0) {\n                c2 = u[pos++];\n                v += f(((c & 0x1F) << 12) | ((c2 & 0x7F) << 6) | (u[pos++] & 0x7F));\n            } else {\n                c2 = u[pos++];\n                c3 = u[pos++];\n                v += f(((c & 0x0F) << 18) | ((c2 & 0x7F) << 12) | ((c3 << 6) & 0x7F) | (u[pos++] & 0x7F));\n            }\n            i++;\n        }\n        this._pos += len;\n\n        return v;\n    }\n\n    public readS(): string {\n        var index: number = this.readUshort();\n        if (index == 65534) //null\n            return null;\n        else if (index == 65533)\n            return \"\"\n        else\n            return this.stringTable[index];\n    }\n\n    public readSArray(cnt: number): Array<string> {\n        var ret: Array<string> = new Array<string>(cnt);\n        for (var i: number = 0; i < cnt; i++)\n            ret[i] = this.readS();\n\n        return ret;\n    }\n\n    public writeS(value: string): void {\n        var index: number = this.readUshort();\n        if (index != 65534 && index != 65533)\n            this.stringTable[index] = value;\n    }\n\n    public readColor(hasAlpha?: boolean): number {\n        const r: number = this.readUbyte();\n        const g: number = this.readUbyte();\n        const b: number = this.readUbyte();\n        const a: number = this.readUbyte();\n\n        return (hasAlpha ? (a << 24) : 0) + (r << 16) + (g << 8) + b;\n    }\n\n    public readColorS(hasAlpha?: boolean): string {\n        const r: number = this.readUbyte();\n        const g: number = this.readUbyte();\n        const b: number = this.readUbyte();\n        const a: number = this.readUbyte();\n\n        if (hasAlpha && a != 255)\n            return \"rgba(\" + r + \",\" + g + \",\" + b + \",\" + (a / 255) + \")\";\n        else {\n            var sr: string = r.toString(16);\n            var sg: string = g.toString(16);\n            var sb: string = b.toString(16);\n            if (sr.length == 1)\n                sr = \"0\" + sr;\n            if (sg.length == 1)\n                sg = \"0\" + sg;\n            if (sb.length == 1)\n                sb = \"0\" + sb;\n            return \"#\" + sr + sg + sb;\n        }\n    }\n\n    public readChar(): string {\n        var i: number = this.readUshort();\n        return String.fromCharCode(i);\n    }\n\n    public readBuffer(): ByteBuffer {\n        var count: number = this.readUint();\n        this.validate(count);\n        var ba: ByteBuffer = new ByteBuffer(this._bytes.buffer, this._bytes.byteOffset + this._pos, count);\n        ba.stringTable = this.stringTable;\n        ba.version = this.version;\n        this._pos += count;\n        return ba;\n    }\n\n    public seek(indexTablePos: number, blockIndex: number): boolean {\n        var tmp: number = this._pos;\n        this._pos = indexTablePos;\n        var segCount: number = this.readByte();\n        if (blockIndex < segCount) {\n            var useShort: boolean = this.readByte() == 1;\n            var newPos: number;\n            if (useShort) {\n                this._pos += 2 * blockIndex;\n                newPos = this.readUshort();\n            }\n            else {\n                this._pos += 4 * blockIndex;\n                newPos = this.readUint();\n            }\n\n            if (newPos > 0) {\n                this._pos = indexTablePos + newPos;\n                return true;\n            }\n            else {\n                this._pos = tmp;\n                return false;\n            }\n        }\n        else {\n            this._pos = tmp;\n            return false;\n        }\n    }\n}\n","import { BitmapFont } from './display/BitmapFont';\nimport { Frame } from './display/MovieClip';\nimport { PixelHitTestData } from './utils/PixelHitTest';\nimport { ByteBuffer } from './utils/ByteBuffer';\nimport { UIPackage } from './UIPackage';\nimport { GRoot } from './GRoot';\nexport class PackageItem {\n    public owner: UIPackage;\n\n    public type: number;\n    public objectType?: number;\n\n    public id: string;\n    public name: string;\n    public width: number = 0;\n    public height: number = 0;\n    public file: string;\n    public decoded?: boolean;\n    public loading?: Array<Function>;\n    public rawData?: ByteBuffer;\n\n    public highResolution?: Array<string>;\n    public branches?: Array<string>;\n\n    //image\n    public scale9Grid?: Phaser.Geom.Rectangle;\n    public scaleByTile?: boolean;\n    public tileGridIndice?: number;\n    public smoothing?: boolean;\n    public texture?: Phaser.Textures.Texture;\n    public pixelHitTestData?: PixelHitTestData;\n\n    //movieclip\n    public interval?: number;\n    public repeatDelay?: number;\n    public swing?: boolean;\n    public frames?: Frame[];\n\n    //componenet\n    public extensionType?: any;\n\n    //font \n    public bitmapFont?: BitmapFont;\n\n    //skeleton\n    // public templet?: Laya.Templet;\n    public skeletonAnchor?: Phaser.Geom.Point;\n\n    constructor() {\n    }\n\n    public getBranch(): PackageItem {\n        if (this.branches && this.owner._branchIndex != -1) {\n            var itemId: string = this.branches[this.owner._branchIndex];\n            if (itemId)\n                return this.owner.getItemById(itemId);\n        }\n\n        return this;\n    }\n\n    public getHighResolution(): PackageItem {\n        if (this.highResolution && GRoot.contentScaleLevel > 0) {\n            var itemId: string = this.highResolution[GRoot.contentScaleLevel - 1];\n            if (itemId)\n                return this.owner.getItemById(itemId);\n        }\n        return this;\n    }\n\n    public toString(): string {\n        return this.name;\n    }\n\n    public load(): Object {\n        return this.owner.getItemAsset(this);\n    }\n}\n","import { TranslationHelper } from './TranslationHelper';\nimport { PackageItemType, ObjectType } from './FieldTypes';\nimport { GObject } from './GObject';\nimport { GRoot } from './GRoot';\nimport { UIConfig } from './UIConfig';\nimport { ByteBuffer } from './utils/ByteBuffer';\nimport { PackageItem } from './PackageItem';\ntype PackageDependency = { id: string, name: string };\nexport class UIPackage {\n    private _id: string;\n    private _name: string;\n    private _items: PackageItem[];\n    private _itemsById: { [index: string]: PackageItem };\n    private _itemsByName: { [index: string]: PackageItem };\n    private _resKey: string;\n    private _customId: string;\n    private _sprites: Object;\n    private _dependencies: Array<PackageDependency>;\n    private _branches: Array<string>;\n    public _branchIndex: number;\n\n    public static _constructing: number = 0;\n\n    private static _instById: { [index: string]: UIPackage } = {};\n    private static _instByName: { [index: string]: UIPackage } = {};\n    private static _branch: string = \"\";\n    private static _vars: { [index: string]: string } = {};\n\n    constructor() {\n        this._items = [];\n        this._itemsById = {};\n        this._itemsByName = {};\n        this._sprites = {};\n        this._dependencies = [];\n        this._branches = [];\n        this._branchIndex = -1;\n    }\n\n    public static get branch(): string {\n        return UIPackage._branch;\n    }\n\n    public static set branch(value: string) {\n        UIPackage._branch = value;\n        for (const pkgId in UIPackage._instById) {\n            const pkg = UIPackage._instById[pkgId];\n            if (pkg._branches) {\n                pkg._branchIndex = pkg._branches.indexOf(value);\n            }\n        }\n    }\n\n    public static getVar(key: string): string {\n        return UIPackage._vars[key];\n    }\n\n    public static setVar(key: string, value: string) {\n        UIPackage._vars[key] = value;\n    }\n\n    public static getById(id: string): UIPackage {\n        return UIPackage._instById[id];\n    }\n\n    public static getByName(name: string): UIPackage {\n        return UIPackage._instByName[name];\n    }\n\n    public static addPackage(resKey: string, descData?: ArrayBuffer): UIPackage {\n        if (!descData) {\n            // TODO\n        }\n\n        const buffer: ByteBuffer = new ByteBuffer(descData);\n        const pkg = new UIPackage();\n        pkg._resKey = resKey;\n        pkg.loadPackage(buffer);\n        UIPackage._instById[pkg.id] = pkg;\n        UIPackage._instByName[pkg.name] = pkg;\n        UIPackage._instById[resKey] = pkg;\n        return pkg;\n    }\n\n    public static loadPackage(resKey: string, onProgress?: (event: ProgressEvent) => void): Promise<UIPackage> {\n        return new Promise((resolve) => {\n            let pkg = this._instById[resKey];\n            if (pkg) {\n                resolve(pkg);\n            }\n            let url = resKey;\n            const extension = `.${UIConfig.packageFileExtension}`;\n            if (!resKey.endsWith(extension)) {\n                url += extension;\n            }\n            const scene = GRoot.inst.scene;\n            scene.load.binary(resKey, url);\n            scene.load.once(\"complete\", () => {\n                pkg = new UIPackage();\n                pkg._resKey = resKey;\n                pkg.loadPackage(new ByteBuffer(<ArrayBuffer>scene.cache.binary.get(resKey)));\n                const promises = [];\n                for (const item of pkg._items) {\n                    if (item.type === PackageItemType.Atlas) {\n                        // TODO loadTexture\n                        promises.push()\n                    } else if (item.type === PackageItemType.Sound) {\n                        // TODO loadSound\n                        promises.push()\n                    }\n                }\n\n                let resolve2 = () => {\n                    UIPackage._instById[pkg.id] = pkg;\n                    UIPackage._instByName[pkg.name] = pkg;\n                    UIPackage._instById[pkg._resKey] = pkg;\n\n                    resolve(pkg);\n                };\n\n                if (promises.length > 0)\n                    Promise.all(promises).then(resolve2);\n                else\n                    resolve2();\n            });\n            scene.load.start();\n        });\n    }\n\n    public static removePackage(packageIdOrName: string) {\n        let pkg = UIPackage._instById[packageIdOrName];\n        if (!pkg) {\n            pkg = UIPackage._instByName[packageIdOrName];\n        }\n        if (!pkg) {\n            throw new Error(`unknown package: ${packageIdOrName}`);\n        }\n        pkg.dispose();\n        delete UIPackage._instById[pkg.id];\n        delete UIPackage._instByName[pkg.name];\n        delete UIPackage._instById[pkg._resKey];\n        if (pkg._customId) {\n            delete UIPackage._instById[pkg._customId];\n        }\n    }\n\n    public static createObject(pkgName: string, resName: string, userClass?: new () => GObject): GObject {\n        const pkg: UIPackage = UIPackage.getByName(pkgName);\n        if (pkg) {\n            return pkg.createObject(resName, userClass);\n        }\n        return null;\n    }\n\n    public static createObjectFromURL(url: string, userClass?: new () => GObject): GObject {\n        var pi: PackageItem = UIPackage.getItemByURL(url);\n        if (pi) {\n            return pi.owner.internalCreateObject(pi, userClass);\n        }\n        return null;\n    }\n\n    public static getItemURL(pkgName: string, resName: string): string {\n        var pkg: UIPackage = UIPackage.getByName(pkgName);\n        if (!pkg)\n            return null;\n\n        var pi: PackageItem = pkg._itemsByName[resName];\n        if (!pi)\n            return null;\n\n        return \"ui://\" + pkg.id + pi.id;\n    }\n\n    public static getItemByURL(url: string): PackageItem {\n        var pos1: number = url.indexOf(\"//\");\n        if (pos1 == -1)\n            return null;\n\n        var pos2: number = url.indexOf(\"/\", pos1 + 2);\n        if (pos2 == -1) {\n            if (url.length > 13) {\n                var pkgId: string = url.substr(5, 8);\n                var pkg: UIPackage = UIPackage.getById(pkgId);\n                if (pkg) {\n                    var srcId: string = url.substr(13);\n                    return pkg.getItemById(srcId);\n                }\n            }\n        }\n        else {\n            var pkgName: string = url.substr(pos1 + 2, pos2 - pos1 - 2);\n            pkg = UIPackage.getByName(pkgName);\n            if (pkg) {\n                var srcName: string = url.substr(pos2 + 1);\n                return pkg.getItemByName(srcName);\n            }\n        }\n\n        return null;\n    }\n\n    public static getItemAssetByURL(url: string): Object {\n        var item: PackageItem = UIPackage.getItemByURL(url);\n        if (item == null)\n            return null;\n\n        return item.owner.getItemAsset(item);\n    }\n\n    public static normalizeURL(url: string): string {\n        if (url == null)\n            return null;\n\n        var pos1: number = url.indexOf(\"//\");\n        if (pos1 == -1)\n            return null;\n\n        var pos2: number = url.indexOf(\"/\", pos1 + 2);\n        if (pos2 == -1)\n            return url;\n\n        var pkgName: string = url.substr(pos1 + 2, pos2 - pos1 - 2);\n        var srcName: string = url.substr(pos2 + 1);\n        return UIPackage.getItemURL(pkgName, srcName);\n    }\n\n    public static setStringsSource(source: string): void {\n        TranslationHelper.loadFromXML(source);\n    }\n\n    private loadPackage(buffer: ByteBuffer) {\n        if (buffer.readUint() != 0x46475549)\n            throw new Error(\"FairyGUI: old package format found in '\" + this._resKey + \"'\");\n\n        buffer.version = buffer.readInt();\n        var compressed: boolean = buffer.readBool();\n        this._id = buffer.readString();\n        this._name = buffer.readString();\n        buffer.skip(20);\n\n        if (compressed) {\n            // todo uncompress\n            // var buf: Uint8Array = new Uint8Array(buffer.buffer, buffer.position, buffer.length - buffer.position);\n            // var inflater = new Zlib.RawInflate(buf);\n            // buf = inflater.decompress();\n\n            // let buffer2: ByteBuffer = new ByteBuffer(buf);\n            // buffer2.version = buffer.version;\n            // buffer = buffer2;\n        }\n\n        var ver2: boolean = buffer.version >= 2;\n        var indexTablePos: number = buffer.position;\n        var cnt: number;\n        var i: number;\n        var j: number;\n        var nextPos: number;\n        var str: string;\n        var branchIncluded: boolean;\n\n        buffer.seek(indexTablePos, 4);\n\n        cnt = buffer.readInt();\n        var stringTable: string[] = [];\n        for (i = 0; i < cnt; i++)\n            stringTable[i] = buffer.readString();\n        buffer.stringTable = stringTable;\n\n        buffer.seek(indexTablePos, 0);\n        cnt = buffer.readShort();\n        for (i = 0; i < cnt; i++)\n            this._dependencies.push({ id: buffer.readS(), name: buffer.readS() });\n\n        if (ver2) {\n            cnt = buffer.readShort();\n            if (cnt > 0) {\n                this._branches = buffer.readSArray(cnt);\n                if (UIPackage._branch)\n                    this._branchIndex = this._branches.indexOf(UIPackage._branch);\n            }\n\n            branchIncluded = cnt > 0;\n        }\n\n        buffer.seek(indexTablePos, 1);\n\n        var pi: PackageItem;\n        var path: string = this._resKey;\n        let pos = path.lastIndexOf('/');\n        let shortPath = pos == -1 ? \"\" : path.substr(0, pos + 1);\n        path = path + \"_\";\n\n        cnt = buffer.readShort();\n        for (i = 0; i < cnt; i++) {\n            nextPos = buffer.readInt();\n            nextPos += buffer.position;\n\n            pi = new PackageItem();\n            pi.owner = this;\n            pi.type = buffer.readByte();\n            pi.id = buffer.readS();\n            pi.name = buffer.readS();\n            buffer.readS(); //path\n            str = buffer.readS();\n            if (str)\n                pi.file = str;\n            buffer.readBool();//exported\n            pi.width = buffer.readInt();\n            pi.height = buffer.readInt();\n\n            switch (pi.type) {\n                case PackageItemType.Image:\n                    {\n                        pi.objectType = ObjectType.Image;\n                        var scaleOption: number = buffer.readByte();\n                        if (scaleOption == 1) {\n                        pi.scale9Grid = new Phaser.Geom.Rectangle();\n                        pi.scale9Grid.x = buffer.readInt();\n                        pi.scale9Grid.y = buffer.readInt();\n                        pi.scale9Grid.width = buffer.readInt();\n                        pi.scale9Grid.height = buffer.readInt();\n\n                        pi.tileGridIndice = buffer.readInt();\n                        }\n                        else if (scaleOption == 2)\n                            pi.scaleByTile = true;\n\n                        pi.smoothing = buffer.readBool();\n                        break;\n                    }\n\n                case PackageItemType.MovieClip:\n                    {\n                        pi.smoothing = buffer.readBool();\n                        pi.objectType = ObjectType.MovieClip;\n                        pi.rawData = buffer.readBuffer();\n                        break;\n                    }\n\n                case PackageItemType.Font:\n                    {\n                        pi.rawData = buffer.readBuffer();\n                        break;\n                    }\n\n                case PackageItemType.Component:\n                    {\n                        var extension: number = buffer.readByte();\n                        if (extension > 0)\n                            pi.objectType = extension;\n                        else\n                            pi.objectType = ObjectType.Component;\n                        pi.rawData = buffer.readBuffer();\n\n                        // Decls.UIObjectFactory.resolvePackageItemExtension(pi);\n                        Decls.UIObjectFactory.resolveExtension(pi);\n                        break;\n                    }\n\n                case PackageItemType.Atlas:\n                case PackageItemType.Sound:\n                case PackageItemType.Misc:\n                    {\n                        pi.file = path + pi.file;\n                        break;\n                    }\n\n                case PackageItemType.Spine:\n                case PackageItemType.DragonBones:\n                    {\n                        pi.file = shortPath + pi.file;\n                        // pi.skeletonAnchor = new Laya.Point();\n                        // pi.skeletonAnchor.x = buffer.getFloat32();\n                        // pi.skeletonAnchor.y = buffer.getFloat32();\n                        break;\n                    }\n            }\n\n            if (ver2) {\n                str = buffer.readS();//branch\n                if (str)\n                    pi.name = str + \"/\" + pi.name;\n\n                var branchCnt: number = buffer.readByte();\n                if (branchCnt > 0) {\n                    if (branchIncluded)\n                        pi.branches = buffer.readSArray(branchCnt);\n                    else\n                        this._itemsById[buffer.readS()] = pi;\n                }\n\n                var highResCnt: number = buffer.readByte();\n                if (highResCnt > 0)\n                    pi.highResolution = buffer.readSArray(highResCnt);\n            }\n\n            this._items.push(pi);\n            this._itemsById[pi.id] = pi;\n            if (pi.name != null)\n                this._itemsByName[pi.name] = pi;\n\n            buffer.position = nextPos;\n        }\n\n        buffer.seek(indexTablePos, 2);\n\n        cnt = buffer.readShort();\n        for (i = 0; i < cnt; i++) {\n            nextPos = buffer.readShort();\n            nextPos += buffer.position;\n\n            var itemId: string = buffer.readS();\n            pi = this._itemsById[buffer.readS()];\n\n            let sprite: AtlasSprite = { atlas: pi, rect: new Phaser.Geom.Rectangle(), offset: new Phaser.Geom.Point(), originalSize: new Phaser.Geom.Point() };\n            sprite.atlas = pi;\n            sprite.rect.x = buffer.readInt();\n            sprite.rect.y = buffer.readInt();\n            sprite.rect.width = buffer.readInt();\n            sprite.rect.height = buffer.readInt();\n            sprite.rotated = buffer.readBool();\n            if (ver2 && buffer.readBool()) {\n                sprite.offset.x = buffer.readInt();\n                sprite.offset.y = buffer.readInt();\n                sprite.originalSize.x = buffer.readInt();\n                sprite.originalSize.y = buffer.readInt();\n            }\n            else {\n                sprite.originalSize.x = sprite.rect.width;\n                sprite.originalSize.y = sprite.rect.height;\n            }\n            this._sprites[itemId] = sprite;\n\n            buffer.position = nextPos;\n        }\n\n        if (buffer.seek(indexTablePos, 3)) {\n            cnt = buffer.readShort();\n            for (i = 0; i < cnt; i++) {\n                nextPos = buffer.readInt();\n                nextPos += buffer.position;\n\n                pi = this._itemsById[buffer.readS()];\n                // if (pi && pi.type == PackageItemType.Image) {\n                //     pi.pixelHitTestData = new PixelHitTestData();\n                //     pi.pixelHitTestData.load(buffer);\n                // }\n\n                buffer.position = nextPos;\n            }\n        }\n    }\n\n    public loadAllAssets() {\n        const cnt = this._items.length;\n        for (const item of this._items) {\n            this.getItemAsset(item);\n        }\n    }\n\n    public unloadAssets() {\n        for (const item of this._items) {\n            if (item.type === PackageItemType.Atlas) {\n                // if (item.texture)\n                throw new Error(\"TODO\");\n            }\n        }\n    }\n\n    public dispose() {\n        for (const item of this._items) {\n            throw new Error(\"TODO\");\n        }\n    }\n\n    public get id() {\n        return this._id;\n    }\n\n    public get name() {\n        return this._name;\n    }\n\n    public get customId() {\n        return this._customId;\n    }\n\n    public set customId(value: string) {\n        if (this._customId) {\n            delete UIPackage._instById[this._customId];\n        }\n        this._customId = value;\n        if (this._customId) {\n            UIPackage._instById[this._customId] = this;\n        }\n    }\n\n    public createObject(resName: string, userClass?: new () => GObject): GObject {\n        const pi = this._itemsByName[resName];\n        if (pi) {\n            return this.internalCreateObject(pi, userClass);\n        } else {\n            return null;\n        }\n    }\n\n    public internalCreateObject(item: PackageItem, userClass?: new () => GObject): GObject {\n        const g = Decls.UIObjectFactory.newObject(item, userClass);\n        if (g == null) {\n            return null;\n        }\n        UIPackage._constructing++;\n        g.constructFromResource();\n        UIPackage._constructing--;\n        return g;\n    }\n\n    public getItemById(itemId: string): PackageItem {\n        return this._itemsById[itemId];\n    }\n\n    public getItemByName(resName: string): PackageItem {\n        return this._itemsByName[resName];\n    }\n\n    public getItemAssetByName(resName: string): Object {\n        var pi: PackageItem = this._itemsByName[resName];\n        if (pi == null) {\n            throw \"Resource not found -\" + resName;\n        }\n\n        return this.getItemAsset(pi);\n    }\n\n    public getItemAsset(item: PackageItem): Object {\n        switch (item.type) {\n            case PackageItemType.Image:\n            // if (!item.decoded) {\n            //     item.decoded = true;\n            //     var sprite: AtlasSprite = this._sprites[item.id];\n            //     if (sprite) {\n            //         var atlasTexture: Laya.Texture = <Laya.Texture>(this.getItemAsset(sprite.atlas));\n            //         if (atlasTexture) {\n            //             item.texture = Laya.Texture.create(atlasTexture,\n            //                 sprite.rect.x, sprite.rect.y, sprite.rect.width, sprite.rect.height,\n            //                 sprite.offset.x, sprite.offset.y,\n            //                 sprite.originalSize.x, sprite.originalSize.y);\n            //         } else {\n            //             item.texture = null;\n            //         }\n            //     }\n            //     else\n            //         item.texture = null;\n            // }\n            // return item.texture;\n\n            case PackageItemType.Atlas:\n                if (!item.decoded) {\n                    item.decoded = true;\n                    // item.texture = AssetProxy.inst.getRes(item.file);\n                    //if(!fgui.UIConfig.textureLinearSampling)\n                    //item.texture.isLinearSampling = false;\n                }\n            // return item.texture;\n\n            case PackageItemType.Font:\n            // if (!item.decoded) {\n            //     item.decoded = true;\n            // this.loadFont(item);\n            // }\n            // return item.bitmapFont;\n\n            case PackageItemType.MovieClip:\n            // if (!item.decoded) {\n            //     item.decoded = true;\n            //     this.loadMovieClip(item);\n            // }\n            // return item.frames;\n\n            case PackageItemType.Component:\n                return item.rawData;\n\n            case PackageItemType.Misc:\n            // if (item.file)\n            //     return AssetProxy.inst.getRes(item.file);\n            // else\n            //     return null;\n            default:\n                return null;\n        }\n    }\n\n    public getItemAssetAsync(item: PackageItem, onComplete?: (err: any, item: PackageItem) => void): void {\n        if (item.decoded) {\n            onComplete(null, item);\n            return;\n        }\n\n        if (item.loading) {\n            item.loading.push(onComplete);\n            return;\n        }\n\n        switch (item.type) {\n            case PackageItemType.Spine:\n            case PackageItemType.DragonBones:\n            // \n            default:\n                this.getItemAsset(item);\n                onComplete(null, item);\n                break;\n        }\n    }\n\n    private loadMovieClip(item: PackageItem): void {\n\n    }\n\n    private loadFont(item: PackageItem): void {\n\n    }\n\n    private loadSpine() {\n        // TODO\n    }\n\n    private loadDragonBones() {\n        // TODO\n    }\n}\n\ninterface AtlasSprite {\n    atlas: PackageItem;\n    rect: Phaser.Geom.Rectangle;\n    offset: Phaser.Geom.Point;\n    originalSize: Phaser.Geom.Point;\n    rotated?: boolean;\n}\n\nexport interface IObjectFactoryType {\n    resolveExtension(pi: PackageItem): void;\n    newObject(type: number | PackageItem, userClass?: new () => GObject): GObject;\n}\n\nexport var Decls: { UIObjectFactory?: IObjectFactoryType } = {};","import { EaseType } from './tween/EaseType';\r\nimport { GPathPoint, CurveType } from './tween/GPathPoint';\r\nimport { ByteBuffer } from './utils/ByteBuffer';\r\nimport { GRoot } from './GRoot';\r\nimport { UIPackage } from './UIPackage';\r\nimport { PackageItem } from './PackageItem';\r\nimport { ToolSet } from './utils/ToolSet';\r\nimport { GObject } from './GObject';\r\nimport { ObjectPropID } from './FieldTypes';\r\nimport { GTweener } from './tween/GTweener';\r\nimport { GComponent } from \"./GComponent\";\r\nimport { GTween } from \"./tween/GTween\";\r\nimport { GPath } from './tween/GPath';\r\n\r\nexport class Transition {\r\n    public name: string;\r\n\r\n    private _owner: GComponent;\r\n    private _ownerBaseX: number;\r\n    private _ownerBaseY: number;\r\n    private _items: Array<Item>;\r\n    private _totalTimes: number;\r\n    private _totalTasks: number;\r\n    private _playing: boolean;\r\n    private _paused: boolean;\r\n    private _onComplete: () => void;\r\n    private _options: number;\r\n    private _reversed: boolean;\r\n    private _totalDuration: number;\r\n    private _autoPlay: boolean;\r\n    private _autoPlayTimes: number;\r\n    private _autoPlayDelay: number;\r\n    private _timeScale: number;\r\n    private _startTime: number;\r\n    private _endTime: number;\r\n\r\n    constructor(owner: GComponent) {\r\n        this._owner = owner;\r\n        this._items = new Array<Item>();\r\n        this._totalDuration = 0;\r\n        this._autoPlayTimes = 1;\r\n        this._autoPlayDelay = 0;\r\n        this._timeScale = 1;\r\n        this._startTime = 0;\r\n        this._endTime = 0;\r\n    }\r\n\r\n    public play(onComplete?: () => void, times?: number, delay?: number, startTime?: number, endTime?: number): void {\r\n        this._play(onComplete, times, delay, startTime, endTime, false);\r\n    }\r\n\r\n    public playReverse(onComplete?: () => void, times?: number, delay?: number, startTime?: number, endTime?: number): void {\r\n        this._play(onComplete, 1, delay, startTime, endTime, true);\r\n    }\r\n\r\n    public changePlayTimes(value: number): void {\r\n        this._totalTimes = value;\r\n    }\r\n\r\n    public setAutoPlay(value: boolean, times?: number, delay?: number): void {\r\n        if (times == undefined) times = -1;\r\n        if (delay == undefined) delay = 0;\r\n        if (this._autoPlay != value) {\r\n            this._autoPlay = value;\r\n            this._autoPlayTimes = times;\r\n            this._autoPlayDelay = delay;\r\n\r\n            if (this._autoPlay) {\r\n                if (this._owner.onStage)\r\n                    this.play(null, null, this._autoPlayTimes, this._autoPlayDelay);\r\n            }\r\n            else {\r\n                if (!this._owner.onStage)\r\n                    this.stop(false, true);\r\n            }\r\n        }\r\n    }\r\n\r\n    private _play(onComplete: () => void, times: number, delay: number, startTime: number, endTime: number, reversed: boolean): void {\r\n        if (times == undefined) times = 1;\r\n        if (delay == undefined) delay = 0;\r\n        if (startTime == undefined) startTime = 0;\r\n        if (endTime == undefined) endTime = -1;\r\n\r\n        this.stop(true, true);\r\n\r\n        this._totalTimes = times;\r\n        this._reversed = reversed;\r\n        this._startTime = startTime;\r\n        this._endTime = endTime;\r\n        this._playing = true;\r\n        this._paused = false;\r\n        this._onComplete = onComplete;\r\n\r\n        var cnt: number = this._items.length;\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            var item: Item = this._items[i];\r\n            if (item.target == null) {\r\n                if (item.targetId)\r\n                    item.target = this._owner.getChildById(item.targetId);\r\n                else\r\n                    item.target = this._owner;\r\n            }\r\n            else if (item.target != this._owner && item.target.parent != this._owner)\r\n                item.target = null;\r\n\r\n            if (item.target && item.type == ActionType.Transition) {\r\n                var trans: Transition = (<GComponent>item.target).getTransition(item.value.transName);\r\n                if (trans == this)\r\n                    trans = null;\r\n                if (trans) {\r\n                    if (item.value.playTimes == 0) //this.stop\r\n                    {\r\n                        var j: number;\r\n                        for (j = i - 1; j >= 0; j--) {\r\n                            var item2: Item = this._items[j];\r\n                            if (item2.type == ActionType.Transition) {\r\n                                if (item2.value.trans == trans) {\r\n                                    item2.value.stopTime = item.time - item2.time;\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                        if (j < 0)\r\n                            item.value.stopTime = 0;\r\n                        else\r\n                            trans = null;//no need to handle this.stop anymore\r\n                    }\r\n                    else\r\n                        item.value.stopTime = -1;\r\n                }\r\n                item.value.trans = trans;\r\n            }\r\n        }\r\n\r\n        if (delay == 0)\r\n            this.onDelayedPlay();\r\n        else\r\n            GTween.delayedCall(delay).setTarget(this).onComplete(this.onDelayedPlay, this);\r\n    }\r\n\r\n    public stop(setToComplete?: boolean, processCallback?: boolean): void {\r\n        if (!this._playing)\r\n            return;\r\n\r\n        if (setToComplete == undefined) setToComplete = true;\r\n        this._playing = false;\r\n        this._totalTasks = 0;\r\n        this._totalTimes = 0;\r\n        var handler = this._onComplete;\r\n        this._onComplete = null;\r\n\r\n        GTween.kill(this);//delay start\r\n\r\n        var cnt: number = this._items.length;\r\n        if (this._reversed) {\r\n            for (var i: number = cnt - 1; i >= 0; i--) {\r\n                var item: Item = this._items[i];\r\n                if (item.target == null)\r\n                    continue;\r\n\r\n                this.stopItem(item, setToComplete);\r\n            }\r\n        }\r\n        else {\r\n            for (i = 0; i < cnt; i++) {\r\n                item = this._items[i];\r\n                if (item.target == null)\r\n                    continue;\r\n\r\n                this.stopItem(item, setToComplete);\r\n            }\r\n        }\r\n\r\n        if (processCallback && handler) {\r\n            handler();\r\n        }\r\n    }\r\n\r\n    private stopItem(item: Item, setToComplete: boolean): void {\r\n        if (item.displayLockToken != 0) {\r\n            item.target.releaseDisplayLock(item.displayLockToken);\r\n            item.displayLockToken = 0;\r\n        }\r\n\r\n        if (item.tweener) {\r\n            item.tweener.kill(setToComplete);\r\n            item.tweener = null;\r\n\r\n            if (item.type == ActionType.Shake && !setToComplete) //震动必须归位，否则下次就越震越远了。\r\n            {\r\n                item.target._gearLocked = true;\r\n                item.target.setXY(item.target.x - item.value.lastOffsetX, item.target.y - item.value.lastOffsetY);\r\n                item.target._gearLocked = false;\r\n            }\r\n        }\r\n\r\n        if (item.type == ActionType.Transition) {\r\n            var trans: Transition = item.value.trans;\r\n            if (trans)\r\n                trans.stop(setToComplete, false);\r\n        }\r\n    }\r\n\r\n    public setPaused(paused: boolean): void {\r\n        if (!this._playing || this._paused == paused)\r\n            return;\r\n\r\n        this._paused = paused;\r\n        var tweener: GTweener = GTween.getTween(this);\r\n        if (tweener)\r\n            tweener.setPaused(paused);\r\n\r\n        var cnt: number = this._items.length;\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            var item: Item = this._items[i];\r\n            if (item.target == null)\r\n                continue;\r\n\r\n            if (item.type == ActionType.Transition) {\r\n                if (item.value.trans)\r\n                    item.value.trans.setPaused(paused);\r\n            }\r\n            else if (item.type == ActionType.Animation) {\r\n                if (paused) {\r\n                    item.value.flag = item.target.getProp(ObjectPropID.Playing);\r\n                    item.target.setProp(ObjectPropID.Playing, false);\r\n                }\r\n                else\r\n                    item.target.setProp(ObjectPropID.Playing, item.value.flag);\r\n            }\r\n\r\n            if (item.tweener)\r\n                item.tweener.setPaused(paused);\r\n        }\r\n    }\r\n\r\n    public dispose(): void {\r\n        if (this._playing)\r\n            GTween.kill(this);//delay start\r\n\r\n        var cnt: number = this._items.length;\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            var item: Item = this._items[i];\r\n            if (item.tweener) {\r\n                item.tweener.kill();\r\n                item.tweener = null;\r\n            }\r\n\r\n            item.target = null;\r\n            item.hook = null;\r\n            if (item.tweenConfig)\r\n                item.tweenConfig.endHook = null;\r\n        }\r\n\r\n        this._items.length = 0;\r\n        this._playing = false;\r\n        this._onComplete = null;\r\n    }\r\n\r\n    public get playing(): boolean {\r\n        return this._playing;\r\n    }\r\n\r\n    public setValue(label: string, ...args): void {\r\n        var cnt: number = this._items.length;\r\n        var found: boolean = false;\r\n        var value: any;\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            var item: Item = this._items[i];\r\n            if (item.label == label) {\r\n                if (item.tweenConfig)\r\n                    value = item.tweenConfig.startValue;\r\n                else\r\n                    value = item.value;\r\n                found = true;\r\n            }\r\n            else if (item.tweenConfig && item.tweenConfig.endLabel == label) {\r\n                value = item.tweenConfig.endValue;\r\n                found = true;\r\n            }\r\n            else\r\n                continue;\r\n\r\n            switch (item.type) {\r\n                case ActionType.XY:\r\n                case ActionType.Size:\r\n                case ActionType.Pivot:\r\n                case ActionType.Scale:\r\n                case ActionType.Skew:\r\n                    value.b1 = true;\r\n                    value.b2 = true;\r\n                    value.f1 = parseFloat(args[0]);\r\n                    value.f2 = parseFloat(args[1]);\r\n                    break;\r\n\r\n                case ActionType.Alpha:\r\n                    value.f1 = parseFloat(args[0]);\r\n                    break;\r\n\r\n                case ActionType.Rotation:\r\n                    value.f1 = parseFloat(args[0]);\r\n                    break;\r\n\r\n                case ActionType.Color:\r\n                    value.f1 = parseFloat(args[0]);\r\n                    break;\r\n\r\n                case ActionType.Animation:\r\n                    value.frame = parseInt(args[0]);\r\n                    if (args.length > 1)\r\n                        value.playing = args[1];\r\n                    break;\r\n\r\n                case ActionType.Visible:\r\n                    value.visible = args[0];\r\n                    break;\r\n\r\n                case ActionType.Sound:\r\n                    value.sound = args[0];\r\n                    if (args.length > 1)\r\n                        value.volume = parseFloat(args[1]);\r\n                    break;\r\n\r\n                case ActionType.Transition:\r\n                    value.transName = args[0];\r\n                    if (args.length > 1)\r\n                        value.playTimes = parseInt(args[1]);\r\n                    break;\r\n\r\n                case ActionType.Shake:\r\n                    value.amplitude = parseFloat(args[0]);\r\n                    if (args.length > 1)\r\n                        value.duration = parseFloat(args[1]);\r\n                    break;\r\n\r\n                case ActionType.ColorFilter:\r\n                    value.f1 = parseFloat(args[0]);\r\n                    value.f2 = parseFloat(args[1]);\r\n                    value.f3 = parseFloat(args[2]);\r\n                    value.f4 = parseFloat(args[3]);\r\n                    break;\r\n\r\n                case ActionType.Text:\r\n                case ActionType.Icon:\r\n                    value.text = args[0];\r\n                    break;\r\n            }\r\n        }\r\n\r\n        if (!found)\r\n            throw new Error(\"this.label not exists\");\r\n    }\r\n\r\n    public setHook(label: string, callback: (label?: string) => void): void {\r\n        var cnt: number = this._items.length;\r\n        var found: boolean = false;\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            var item: Item = this._items[i];\r\n            if (item.label == label) {\r\n                item.hook = callback;\r\n                found = true;\r\n                break;\r\n            }\r\n            else if (item.tweenConfig && item.tweenConfig.endLabel == label) {\r\n                item.tweenConfig.endHook = callback;\r\n                found = true;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (!found)\r\n            throw new Error(\"this.label not exists\");\r\n    }\r\n\r\n    public clearHooks(): void {\r\n        var cnt: number = this._items.length;\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            var item: Item = this._items[i];\r\n            item.hook = null;\r\n            if (item.tweenConfig)\r\n                item.tweenConfig.endHook = null;\r\n        }\r\n    }\r\n\r\n    public setTarget(label: string, newTarget: GObject): void {\r\n        var cnt: number = this._items.length;\r\n        var found: boolean = false;\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            var item: Item = this._items[i];\r\n            if (item.label == label) {\r\n                item.targetId = (newTarget == this._owner || newTarget == null) ? \"\" : newTarget.id;\r\n                if (this._playing) {\r\n                    if (item.targetId.length > 0)\r\n                        item.target = this._owner.getChildById(item.targetId);\r\n                    else\r\n                        item.target = this._owner;\r\n                }\r\n                else\r\n                    item.target = null;\r\n                found = true;\r\n            }\r\n        }\r\n\r\n        if (!found)\r\n            throw new Error(\"this.label not exists\");\r\n    }\r\n\r\n    public setDuration(label: string, value: number): void {\r\n        var cnt: number = this._items.length;\r\n        var found: boolean = false;\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            var item: Item = this._items[i];\r\n            if (item.tweenConfig && item.label == label) {\r\n                item.tweenConfig.duration = value;\r\n                found = true;\r\n            }\r\n        }\r\n\r\n        if (!found)\r\n            throw new Error(\"this.label not exists\");\r\n    }\r\n\r\n    public getLabelTime(label: string): number {\r\n        var cnt: number = this._items.length;\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            var item: Item = this._items[i];\r\n            if (item.label == label)\r\n                return item.time;\r\n            else if (item.tweenConfig && item.tweenConfig.endLabel == label)\r\n                return item.time + item.tweenConfig.duration;\r\n        }\r\n\r\n        return NaN;\r\n    }\r\n\r\n    public get timeScale(): number {\r\n        return this._timeScale;\r\n    }\r\n\r\n    public set timeScale(value: number) {\r\n        if (this._timeScale != value) {\r\n            this._timeScale = value;\r\n            if (this._playing) {\r\n                var cnt: number = this._items.length;\r\n                for (var i: number = 0; i < cnt; i++) {\r\n                    var item: Item = this._items[i];\r\n                    if (item.tweener)\r\n                        item.tweener.setTimeScale(value);\r\n                    else if (item.type == ActionType.Transition) {\r\n                        if (item.value.trans)\r\n                            item.value.trans.timeScale = value;\r\n                    }\r\n                    else if (item.type == ActionType.Animation) {\r\n                        if (item.target)\r\n                            item.target.setProp(ObjectPropID.TimeScale, value);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public updateFromRelations(targetId: string, dx: number, dy: number): void {\r\n        var cnt: number = this._items.length;\r\n        if (cnt == 0)\r\n            return;\r\n\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            var item: Item = this._items[i];\r\n            if (item.type == ActionType.XY && item.targetId == targetId) {\r\n                if (item.tweenConfig) {\r\n                    if (!item.tweenConfig.startValue.b3) {\r\n                        item.tweenConfig.startValue.f1 += dx;\r\n                        item.tweenConfig.startValue.f2 += dy;\r\n                    }\r\n                    if (!item.tweenConfig.endValue.b3) {\r\n                        item.tweenConfig.endValue.f1 += dx;\r\n                        item.tweenConfig.endValue.f2 += dy;\r\n                    }\r\n                }\r\n                else {\r\n                    if (!item.value.b3) {\r\n                        item.value.f1 += dx;\r\n                        item.value.f2 += dy;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public onOwnerAddedToStage(): void {\r\n        if (this._autoPlay && !this._playing)\r\n            this.play(null, this._autoPlayTimes, this._autoPlayDelay);\r\n    }\r\n\r\n    public onOwnerRemovedFromStage(): void {\r\n        if ((this._options & OPTION_AUTO_STOP_DISABLED) == 0)\r\n            this.stop((this._options & OPTION_AUTO_STOP_AT_END) != 0 ? true : false, false);\r\n    }\r\n\r\n    private onDelayedPlay(): void {\r\n        this.internalPlay();\r\n\r\n        this._playing = this._totalTasks > 0;\r\n        if (this._playing) {\r\n            if ((this._options & OPTION_IGNORE_DISPLAY_CONTROLLER) != 0) {\r\n                var cnt: number = this._items.length;\r\n                for (var i: number = 0; i < cnt; i++) {\r\n                    var item: Item = this._items[i];\r\n                    if (item.target && item.target != this._owner)\r\n                        item.displayLockToken = item.target.addDisplayLock();\r\n                }\r\n            }\r\n        }\r\n        else if (this._onComplete) {\r\n            var handler = this._onComplete;\r\n            this._onComplete = null;\r\n            handler();\r\n        }\r\n    }\r\n\r\n    private internalPlay(): void {\r\n        this._ownerBaseX = this._owner.x;\r\n        this._ownerBaseY = this._owner.y;\r\n\r\n        this._totalTasks = 1;\r\n\r\n        var cnt: number = this._items.length;\r\n        var item: Item;\r\n        var needSkipAnimations: boolean = false;\r\n\r\n        if (!this._reversed) {\r\n            for (var i: number = 0; i < cnt; i++) {\r\n                item = this._items[i];\r\n                if (item.target == null)\r\n                    continue;\r\n\r\n                if (item.type == ActionType.Animation && this._startTime != 0 && item.time <= this._startTime) {\r\n                    needSkipAnimations = true;\r\n                    item.value.flag = false;\r\n                }\r\n                else\r\n                    this.playItem(item);\r\n            }\r\n        }\r\n        else {\r\n            for (i = cnt - 1; i >= 0; i--) {\r\n                item = this._items[i];\r\n                if (item.target == null)\r\n                    continue;\r\n\r\n                this.playItem(item);\r\n            }\r\n        }\r\n\r\n        if (needSkipAnimations)\r\n            this.skipAnimations();\r\n\r\n        this._totalTasks--;\r\n    }\r\n\r\n    private playItem(item: Item): void {\r\n        var time: number;\r\n        if (item.tweenConfig) {\r\n            if (this._reversed)\r\n                time = (this._totalDuration - item.time - item.tweenConfig.duration);\r\n            else\r\n                time = item.time;\r\n            if (this._endTime == -1 || time <= this._endTime) {\r\n                var startValue: TValue;\r\n                var endValue: TValue;\r\n                if (this._reversed) {\r\n                    startValue = item.tweenConfig.endValue;\r\n                    endValue = item.tweenConfig.startValue;\r\n                }\r\n                else {\r\n                    startValue = item.tweenConfig.startValue;\r\n                    endValue = item.tweenConfig.endValue;\r\n                }\r\n\r\n                item.value.b1 = startValue.b1 || endValue.b1;\r\n                item.value.b2 = startValue.b2 || endValue.b2;\r\n\r\n                switch (item.type) {\r\n                    case ActionType.XY:\r\n                    case ActionType.Size:\r\n                    case ActionType.Scale:\r\n                    case ActionType.Skew:\r\n                        item.tweener = GTween.to2(startValue.f1, startValue.f2, endValue.f1, endValue.f2, item.tweenConfig.duration);\r\n                        break;\r\n\r\n                    case ActionType.Alpha:\r\n                    case ActionType.Rotation:\r\n                        item.tweener = GTween.to(startValue.f1, endValue.f1, item.tweenConfig.duration);\r\n                        break;\r\n\r\n                    case ActionType.Color:\r\n                        item.tweener = GTween.toColor(startValue.f1, endValue.f1, item.tweenConfig.duration);\r\n                        break;\r\n\r\n                    case ActionType.ColorFilter:\r\n                        item.tweener = GTween.to4(startValue.f1, startValue.f2, startValue.f3, startValue.f4,\r\n                            endValue.f1, endValue.f2, endValue.f3, endValue.f4, item.tweenConfig.duration);\r\n                        break;\r\n                }\r\n\r\n                item.tweener.setDelay(time)\r\n                    .setEase(item.tweenConfig.easeType)\r\n                    .setRepeat(item.tweenConfig.repeat, item.tweenConfig.yoyo)\r\n                    .setTimeScale(this._timeScale)\r\n                    .setTarget(item)\r\n                    .onStart(this.onTweenStart, this)\r\n                    .onUpdate(this.onTweenUpdate, this)\r\n                    .onComplete(this.onTweenComplete, this);\r\n\r\n                if (this._endTime >= 0)\r\n                    item.tweener.setBreakpoint(this._endTime - time);\r\n\r\n                this._totalTasks++;\r\n            }\r\n        }\r\n        else if (item.type == ActionType.Shake) {\r\n            if (this._reversed)\r\n                time = (this._totalDuration - item.time - item.value.duration);\r\n            else\r\n                time = item.time;\r\n\r\n            item.value.offsetX = item.value.offsetY = 0;\r\n            item.value.lastOffsetX = item.value.lastOffsetY = 0;\r\n            item.tweener = GTween.shake(0, 0, item.value.amplitude, item.value.duration)\r\n                .setDelay(time)\r\n                .setTimeScale(this._timeScale)\r\n                .setTarget(item)\r\n                .onUpdate(this.onTweenUpdate, this)\r\n                .onComplete(this.onTweenComplete, this);\r\n\r\n            if (this._endTime >= 0)\r\n                item.tweener.setBreakpoint(this._endTime - item.time);\r\n\r\n            this._totalTasks++;\r\n        }\r\n        else {\r\n            if (this._reversed)\r\n                time = (this._totalDuration - item.time);\r\n            else\r\n                time = item.time;\r\n\r\n            if (time <= this._startTime) {\r\n                this.applyValue(item);\r\n                this.callHook(item, false);\r\n            }\r\n            else if (this._endTime == -1 || time <= this._endTime) {\r\n                this._totalTasks++;\r\n                item.tweener = GTween.delayedCall(time)\r\n                    .setTimeScale(this._timeScale)\r\n                    .setTarget(item)\r\n                    .onComplete(this.onDelayedPlayItem, this);\r\n            }\r\n        }\r\n\r\n        if (item.tweener)\r\n            item.tweener.seek(this._startTime);\r\n    }\r\n\r\n    private skipAnimations(): void {\r\n        var frame: number;\r\n        var playStartTime: number;\r\n        var playTotalTime: number;\r\n        var value: any;\r\n        var target: GObject;\r\n        var item: Item;\r\n\r\n        var cnt: number = this._items.length;\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            item = this._items[i];\r\n            if (item.type != ActionType.Animation || item.time > this._startTime)\r\n                continue;\r\n\r\n            value = item.value;\r\n            if (value.flag)\r\n                continue;\r\n\r\n            target = item.target;\r\n            frame = target.getProp(ObjectPropID.Frame);\r\n            playStartTime = target.getProp(ObjectPropID.Playing) ? 0 : -1;\r\n            playTotalTime = 0;\r\n\r\n            for (var j: number = i; j < cnt; j++) {\r\n                item = this._items[j];\r\n                if (item.type != ActionType.Animation || item.target != target || item.time > this._startTime)\r\n                    continue;\r\n\r\n                value = item.value;\r\n                value.flag = true;\r\n\r\n                if (value.frame != -1) {\r\n                    frame = value.frame;\r\n                    if (value.playing)\r\n                        playStartTime = item.time;\r\n                    else\r\n                        playStartTime = -1;\r\n                    playTotalTime = 0;\r\n                }\r\n                else {\r\n                    if (value.playing) {\r\n                        if (playStartTime < 0)\r\n                            playStartTime = item.time;\r\n                    }\r\n                    else {\r\n                        if (playStartTime >= 0)\r\n                            playTotalTime += (item.time - playStartTime);\r\n                        playStartTime = -1;\r\n                    }\r\n                }\r\n\r\n                this.callHook(item, false);\r\n            }\r\n\r\n            if (playStartTime >= 0)\r\n                playTotalTime += (this._startTime - playStartTime);\r\n\r\n            target.setProp(ObjectPropID.Playing, playStartTime >= 0);\r\n            target.setProp(ObjectPropID.Frame, frame);\r\n            if (playTotalTime > 0)\r\n                target.setProp(ObjectPropID.DeltaTime, playTotalTime * 1000);\r\n        }\r\n    }\r\n\r\n    private onDelayedPlayItem(tweener: GTweener): void {\r\n        var item: Item = <Item>tweener.target;\r\n        item.tweener = null;\r\n        this._totalTasks--;\r\n\r\n        this.applyValue(item);\r\n        this.callHook(item, false);\r\n\r\n        this.checkAllComplete();\r\n    }\r\n\r\n    private onTweenStart(tweener: GTweener): void {\r\n        var item: Item = <Item>tweener.target;\r\n\r\n        if (item.type == ActionType.XY || item.type == ActionType.Size) //位置和大小要到start才最终确认起始值\r\n        {\r\n            var startValue: TValue;\r\n            var endValue: TValue;\r\n\r\n            if (this._reversed) {\r\n                startValue = item.tweenConfig.endValue;\r\n                endValue = item.tweenConfig.startValue;\r\n            }\r\n            else {\r\n                startValue = item.tweenConfig.startValue;\r\n                endValue = item.tweenConfig.endValue;\r\n            }\r\n\r\n            if (item.type == ActionType.XY) {\r\n                if (item.target != this._owner) {\r\n                    if (!startValue.b1)\r\n                        tweener.startValue.x = item.target.x;\r\n                    else if (startValue.b3) //percent\r\n                        tweener.startValue.x = startValue.f1 * this._owner.width;\r\n\r\n                    if (!startValue.b2)\r\n                        tweener.startValue.y = item.target.y;\r\n                    else if (startValue.b3) //percent\r\n                        tweener.startValue.y = startValue.f2 * this._owner.height;\r\n\r\n                    if (!endValue.b1)\r\n                        tweener.endValue.x = tweener.startValue.x;\r\n                    else if (endValue.b3)\r\n                        tweener.endValue.x = endValue.f1 * this._owner.width;\r\n\r\n                    if (!endValue.b2)\r\n                        tweener.endValue.y = tweener.startValue.y;\r\n                    else if (endValue.b3)\r\n                        tweener.endValue.y = endValue.f2 * this._owner.height;\r\n                }\r\n                else {\r\n                    if (!startValue.b1)\r\n                        tweener.startValue.x = item.target.x - this._ownerBaseX;\r\n                    if (!startValue.b2)\r\n                        tweener.startValue.y = item.target.y - this._ownerBaseY;\r\n\r\n                    if (!endValue.b1)\r\n                        tweener.endValue.x = tweener.startValue.x;\r\n                    if (!endValue.b2)\r\n                        tweener.endValue.y = tweener.startValue.y;\r\n                }\r\n            }\r\n            else {\r\n                if (!startValue.b1)\r\n                    tweener.startValue.x = item.target.width;\r\n                if (!startValue.b2)\r\n                    tweener.startValue.y = item.target.height;\r\n\r\n                if (!endValue.b1)\r\n                    tweener.endValue.x = tweener.startValue.x;\r\n                if (!endValue.b2)\r\n                    tweener.endValue.y = tweener.startValue.y;\r\n            }\r\n\r\n            if (item.tweenConfig.path) {\r\n                item.value.b1 = item.value.b2 = true;\r\n                tweener.setPath(item.tweenConfig.path);\r\n            }\r\n        }\r\n\r\n        this.callHook(item, false);\r\n    }\r\n\r\n    private onTweenUpdate(tweener: GTweener): void {\r\n        var item: Item = <Item>tweener.target;\r\n        switch (item.type) {\r\n            case ActionType.XY:\r\n            case ActionType.Size:\r\n            case ActionType.Scale:\r\n            case ActionType.Skew:\r\n                item.value.f1 = tweener.value.x;\r\n                item.value.f2 = tweener.value.y;\r\n                if (item.tweenConfig.path) {\r\n                    item.value.f1 += tweener.startValue.x;\r\n                    item.value.f2 += tweener.startValue.y;\r\n                }\r\n                break;\r\n\r\n            case ActionType.Alpha:\r\n            case ActionType.Rotation:\r\n                item.value.f1 = tweener.value.x;\r\n                break;\r\n\r\n            case ActionType.Color:\r\n                item.value.f1 = tweener.value.color;\r\n                break;\r\n\r\n            case ActionType.ColorFilter:\r\n                item.value.f1 = tweener.value.x;\r\n                item.value.f2 = tweener.value.y;\r\n                item.value.f3 = tweener.value.z;\r\n                item.value.f4 = tweener.value.w;\r\n                break;\r\n\r\n            case ActionType.Shake:\r\n                item.value.offsetX = tweener.deltaValue.x;\r\n                item.value.offsetY = tweener.deltaValue.y;\r\n                break;\r\n        }\r\n\r\n        this.applyValue(item);\r\n    }\r\n\r\n    private onTweenComplete(tweener: GTweener): void {\r\n        var item: Item = <Item>tweener.target;\r\n        item.tweener = null;\r\n        this._totalTasks--;\r\n\r\n        if (tweener.allCompleted) //当整体播放结束时间在这个tween的中间时不应该调用结尾钩子\r\n            this.callHook(item, true);\r\n\r\n        this.checkAllComplete();\r\n    }\r\n\r\n    private onPlayTransCompleted(item: Item): void {\r\n        this._totalTasks--;\r\n\r\n        this.checkAllComplete();\r\n    }\r\n\r\n    private callHook(item: Item, tweenEnd: boolean): void {\r\n        if (tweenEnd) {\r\n            if (item.tweenConfig && item.tweenConfig.endHook)\r\n                item.tweenConfig.endHook();\r\n        }\r\n        else {\r\n            if (item.time >= this._startTime && item.hook)\r\n                item.hook();\r\n        }\r\n    }\r\n\r\n    private checkAllComplete(): void {\r\n        if (this._playing && this._totalTasks == 0) {\r\n            if (this._totalTimes < 0) {\r\n                this.internalPlay();\r\n                if (this._totalTasks == 0)\r\n                    GTween.delayedCall(0).setTarget(this).onComplete(this.checkAllComplete, this);\r\n            }\r\n            else {\r\n                this._totalTimes--;\r\n                if (this._totalTimes > 0) {\r\n                    this.internalPlay();\r\n                    if (this._totalTasks == 0)\r\n                        GTween.delayedCall(0).setTarget(this).onComplete(this.checkAllComplete, this);\r\n                }\r\n                else {\r\n                    this._playing = false;\r\n\r\n                    var cnt: number = this._items.length;\r\n                    for (var i: number = 0; i < cnt; i++) {\r\n                        var item: Item = this._items[i];\r\n                        if (item.target && item.displayLockToken != 0) {\r\n                            item.target.releaseDisplayLock(item.displayLockToken);\r\n                            item.displayLockToken = 0;\r\n                        }\r\n                    }\r\n\r\n                    if (this._onComplete) {\r\n                        var handler = this._onComplete;\r\n                        this._onComplete = null;\r\n                        handler();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private applyValue(item: Item): void {\r\n        item.target._gearLocked = true;\r\n        var value: any = item.value;\r\n\r\n        switch (item.type) {\r\n            case ActionType.XY:\r\n                if (item.target == this._owner) {\r\n                    if (value.b1 && value.b2)\r\n                        item.target.setXY(value.f1 + this._ownerBaseX, value.f2 + this._ownerBaseY);\r\n                    else if (value.b1)\r\n                        item.target.x = value.f1 + this._ownerBaseX;\r\n                    else\r\n                        item.target.y = value.f2 + this._ownerBaseY;\r\n                }\r\n                else {\r\n                    if (value.b3) //position in percent\r\n                    {\r\n                        if (value.b1 && value.b2)\r\n                            item.target.setXY(value.f1 * this._owner.width, value.f2 * this._owner.height);\r\n                        else if (value.b1)\r\n                            item.target.x = value.f1 * this._owner.width;\r\n                        else if (value.b2)\r\n                            item.target.y = value.f2 * this._owner.height;\r\n                    }\r\n                    else {\r\n                        if (value.b1 && value.b2)\r\n                            item.target.setXY(value.f1, value.f2);\r\n                        else if (value.b1)\r\n                            item.target.x = value.f1;\r\n                        else if (value.b2)\r\n                            item.target.y = value.f2;\r\n                    }\r\n                }\r\n                break;\r\n\r\n            case ActionType.Size:\r\n                if (!value.b1)\r\n                    value.f1 = item.target.width;\r\n                if (!value.b2)\r\n                    value.f2 = item.target.height;\r\n                item.target.setSize(value.f1, value.f2);\r\n                break;\r\n\r\n            case ActionType.Pivot:\r\n                item.target.setPivot(value.f1, value.f2, item.target.pivotAsAnchor);\r\n                break;\r\n\r\n            case ActionType.Alpha:\r\n                item.target.alpha = value.f1;\r\n                break;\r\n\r\n            case ActionType.Rotation:\r\n                item.target.rotation = value.f1;\r\n                break;\r\n\r\n            case ActionType.Scale:\r\n                item.target.setScale(value.f1, value.f2);\r\n                break;\r\n\r\n            case ActionType.Skew:\r\n                item.target.setSkew(value.f1, value.f2);\r\n                break;\r\n\r\n            case ActionType.Color:\r\n                item.target.setProp(ObjectPropID.Color, ToolSet.convertToHtmlColor(value.f1, false));\r\n                break;\r\n\r\n            case ActionType.Animation:\r\n                if (value.frame >= 0)\r\n                    item.target.setProp(ObjectPropID.Frame, value.frame);\r\n                item.target.setProp(ObjectPropID.Playing, value.playing);\r\n                item.target.setProp(ObjectPropID.TimeScale, this._timeScale);\r\n                break;\r\n\r\n            case ActionType.Visible:\r\n                item.target.visible = value.visible;\r\n                break;\r\n\r\n            case ActionType.Transition:\r\n                if (this._playing) {\r\n                    var trans: Transition = value.trans;\r\n                    if (trans) {\r\n                        this._totalTasks++;\r\n                        var startTime: number = this._startTime > item.time ? (this._startTime - item.time) : 0;\r\n                        var endTime: number = this._endTime >= 0 ? (this._endTime - item.time) : -1;\r\n                        if (value.stopTime >= 0 && (endTime < 0 || endTime > value.stopTime))\r\n                            endTime = value.stopTime;\r\n                        trans.timeScale = this._timeScale;\r\n                        trans._play(() => this.onPlayTransCompleted(item), value.playTimes, 0, startTime, endTime, this._reversed);\r\n                    }\r\n                }\r\n                break;\r\n\r\n            case ActionType.Sound:\r\n                if (this._playing && item.time >= this._startTime) {\r\n                    if (value.audioClip == null) {\r\n                        var pi: PackageItem = UIPackage.getItemByURL(value.sound);\r\n                        if (pi)\r\n                            value.audioClip = pi.file;\r\n                        else\r\n                            value.audioClip = value.sound;\r\n                    }\r\n                    if (value.audioClip)\r\n                        GRoot.inst.playOneShotSound(value.audioClip, value.volume);\r\n                }\r\n                break;\r\n\r\n            case ActionType.Shake:\r\n                item.target.setXY(item.target.x - value.lastOffsetX + value.offsetX, item.target.y - value.lastOffsetY + value.offsetY);\r\n                value.lastOffsetX = value.offsetX;\r\n                value.lastOffsetY = value.offsetY;\r\n                break;\r\n\r\n            case ActionType.ColorFilter:\r\n                {\r\n                    ToolSet.setColorFilter(item.target.displayObject, [value.f1, value.f2, value.f3, value.f4]);\r\n                    break;\r\n                }\r\n\r\n            case ActionType.Text:\r\n                item.target.text = value.text;\r\n                break;\r\n\r\n            case ActionType.Icon:\r\n                item.target.icon = value.text;\r\n                break;\r\n        }\r\n\r\n        item.target._gearLocked = false;\r\n    }\r\n\r\n    public setup(buffer: ByteBuffer): void {\r\n        this.name = buffer.readS();\r\n        this._options = buffer.readInt();\r\n        this._autoPlay = buffer.readBool();\r\n        this._autoPlayTimes = buffer.readInt();\r\n        this._autoPlayDelay = buffer.readFloat();\r\n\r\n        var cnt: number = buffer.readShort();\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            var dataLen: number = buffer.readShort();\r\n            var curPos: number = buffer.position;\r\n\r\n            buffer.seek(curPos, 0);\r\n\r\n            var item: Item = new Item(buffer.readByte());\r\n            this._items[i] = item;\r\n\r\n            item.time = buffer.readFloat();\r\n            var targetId: number = buffer.readShort();\r\n            if (targetId < 0)\r\n                item.targetId = \"\";\r\n            else\r\n                item.targetId = this._owner.getChildAt(targetId).id;\r\n            item.label = buffer.readS();\r\n\r\n            if (buffer.readBool()) {\r\n                buffer.seek(curPos, 1);\r\n\r\n                item.tweenConfig = new TweenConfig();\r\n                item.tweenConfig.duration = buffer.readFloat();\r\n                if (item.time + item.tweenConfig.duration > this._totalDuration)\r\n                    this._totalDuration = item.time + item.tweenConfig.duration;\r\n                item.tweenConfig.easeType = buffer.readByte();\r\n                item.tweenConfig.repeat = buffer.readInt();\r\n                item.tweenConfig.yoyo = buffer.readBool();\r\n                item.tweenConfig.endLabel = buffer.readS();\r\n\r\n                buffer.seek(curPos, 2);\r\n\r\n                this.decodeValue(item, buffer, item.tweenConfig.startValue);\r\n\r\n                buffer.seek(curPos, 3);\r\n\r\n                this.decodeValue(item, buffer, item.tweenConfig.endValue);\r\n\r\n                if (buffer.version >= 2) {\r\n                    var pathLen: number = buffer.readInt();\r\n                    if (pathLen > 0) {\r\n                        item.tweenConfig.path = new GPath();\r\n                        var pts: Array<GPathPoint> = new Array<GPathPoint>();\r\n\r\n                        for (var j: number = 0; j < pathLen; j++) {\r\n                            var curveType: number = buffer.readByte();\r\n                            switch (curveType) {\r\n                                case CurveType.Bezier:\r\n                                    pts.push(GPathPoint.newBezierPoint(buffer.readFloat(), buffer.readFloat(),\r\n                                        buffer.readFloat(), buffer.readFloat()));\r\n                                    break;\r\n\r\n                                case CurveType.CubicBezier:\r\n                                    pts.push(GPathPoint.newCubicBezierPoint(buffer.readFloat(), buffer.readFloat(),\r\n                                        buffer.readFloat(), buffer.readFloat(),\r\n                                        buffer.readFloat(), buffer.readFloat()));\r\n                                    break;\r\n\r\n                                default:\r\n                                    pts.push(GPathPoint.newPoint(buffer.readFloat(), buffer.readFloat(), curveType));\r\n                                    break;\r\n                            }\r\n                        }\r\n\r\n                        item.tweenConfig.path.create(pts);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                if (item.time > this._totalDuration)\r\n                    this._totalDuration = item.time;\r\n\r\n                buffer.seek(curPos, 2);\r\n\r\n                this.decodeValue(item, buffer, item.value);\r\n            }\r\n\r\n            buffer.position = curPos + dataLen;\r\n        }\r\n    }\r\n\r\n    private decodeValue(item: Item, buffer: ByteBuffer, value: any): void {\r\n        switch (item.type) {\r\n            case ActionType.XY:\r\n            case ActionType.Size:\r\n            case ActionType.Pivot:\r\n            case ActionType.Skew:\r\n                value.b1 = buffer.readBool();\r\n                value.b2 = buffer.readBool();\r\n                value.f1 = buffer.readFloat();\r\n                value.f2 = buffer.readFloat();\r\n\r\n                if (buffer.version >= 2 && item.type == ActionType.XY)\r\n                    value.b3 = buffer.readBool(); //percent\r\n                break;\r\n\r\n            case ActionType.Alpha:\r\n            case ActionType.Rotation:\r\n                value.f1 = buffer.readFloat();\r\n                break;\r\n\r\n            case ActionType.Scale:\r\n                value.f1 = buffer.readFloat();\r\n                value.f2 = buffer.readFloat();\r\n                break;\r\n\r\n            case ActionType.Color:\r\n                value.f1 = buffer.readColor();\r\n                break;\r\n\r\n            case ActionType.Animation:\r\n                value.playing = buffer.readBool();\r\n                value.frame = buffer.readInt();\r\n                break;\r\n\r\n            case ActionType.Visible:\r\n                value.visible = buffer.readBool();\r\n                break;\r\n\r\n            case ActionType.Sound:\r\n                value.sound = buffer.readS();\r\n                value.volume = buffer.readFloat();\r\n                break;\r\n\r\n            case ActionType.Transition:\r\n                value.transName = buffer.readS();\r\n                value.playTimes = buffer.readInt();\r\n                break;\r\n\r\n            case ActionType.Shake:\r\n                value.amplitude = buffer.readFloat();\r\n                value.duration = buffer.readFloat();\r\n                break;\r\n\r\n            case ActionType.ColorFilter:\r\n                value.f1 = buffer.readFloat();\r\n                value.f2 = buffer.readFloat();\r\n                value.f3 = buffer.readFloat();\r\n                value.f4 = buffer.readFloat();\r\n                break;\r\n\r\n            case ActionType.Text:\r\n            case ActionType.Icon:\r\n                value.text = buffer.readS();\r\n                break;\r\n        }\r\n    }\r\n}\r\n\r\nclass ActionType {\r\n    public static XY: number = 0;\r\n    public static Size: number = 1;\r\n    public static Scale: number = 2;\r\n    public static Pivot: number = 3;\r\n    public static Alpha: number = 4;\r\n    public static Rotation: number = 5;\r\n    public static Color: number = 6;\r\n    public static Animation: number = 7;\r\n    public static Visible: number = 8;\r\n    public static Sound: number = 9;\r\n    public static Transition: number = 10;\r\n    public static Shake: number = 11;\r\n    public static ColorFilter: number = 12;\r\n    public static Skew: number = 13;\r\n    public static Text: number = 14;\r\n    public static Icon: number = 15;\r\n    public static Unknown: number = 16;\r\n}\r\n\r\nclass Item {\r\n    public time: number;\r\n    public targetId: string;\r\n    public type: number;\r\n    public tweenConfig?: TweenConfig;\r\n    public label?: string;\r\n    public value: TValue;\r\n    public hook?: Function;\r\n\r\n    public tweener?: GTweener;\r\n    public target: GObject;\r\n    public displayLockToken: number;\r\n\r\n    public constructor(type: number) {\r\n        this.type = type;\r\n        this.value = {};\r\n        this.displayLockToken = 0;\r\n    }\r\n}\r\n\r\nclass TweenConfig {\r\n    public duration: number;\r\n    public easeType: number;\r\n    public repeat: number;\r\n    public yoyo?: boolean;\r\n    public startValue: TValue;\r\n    public endValue: TValue;\r\n    public endLabel: string;\r\n    public endHook?: Function;\r\n    public path?: GPath;\r\n\r\n    constructor() {\r\n        this.easeType = EaseType.QuadOut;\r\n        this.startValue = { b1: true, b2: true };\r\n        this.endValue = { b1: true, b2: true };\r\n    }\r\n}\r\n\r\ninterface TValue {\r\n    visible?: boolean;\r\n\r\n    frame?: number;\r\n    playing?: boolean;\r\n    flag?: boolean;\r\n\r\n    sound?: string;\r\n    volume?: number;\r\n    audioClip?: string;\r\n\r\n    transName?: string;\r\n    playTimes?: number;\r\n    trans?: Transition;\r\n    stopTime?: number;\r\n\r\n    amplitude?: number;\r\n    duration?: number;\r\n    offsetX?: number;\r\n    offsetY?: number;\r\n    lastOffsetX?: number;\r\n    lastOffsetY?: number;\r\n\r\n    text?: string;\r\n\r\n    f1?: number;\r\n    f2?: number;\r\n    f3?: number;\r\n    f4?: number;\r\n\r\n    b1?: boolean;\r\n    b2?: boolean;\r\n    b3?: boolean;\r\n}\r\n\r\nconst OPTION_IGNORE_DISPLAY_CONTROLLER: number = 1;\r\nconst OPTION_AUTO_STOP_DISABLED: number = 2;\r\nconst OPTION_AUTO_STOP_AT_END: number = 4;\r\n","import { ByteBuffer } from './../utils/ByteBuffer';\r\nimport { Controller } from './../Controller';\r\nexport class ControllerAction {\r\n    public fromPage: string[];\r\n    public toPage: string[];\r\n\r\n    constructor() {\r\n    }\r\n\r\n    public run(controller: Controller, prevPage: string, curPage: string): void {\r\n        if ((this.fromPage == null || this.fromPage.length == 0 || this.fromPage.indexOf(prevPage) != -1)\r\n            && (this.toPage == null || this.toPage.length == 0 || this.toPage.indexOf(curPage) != -1))\r\n            this.enter(controller);\r\n        else\r\n            this.leave(controller);\r\n    }\r\n\r\n    protected enter(controller: Controller): void {\r\n\r\n    }\r\n\r\n    protected leave(controller: Controller): void {\r\n\r\n    }\r\n\r\n    public setup(buffer: ByteBuffer): void {\r\n        var cnt: number;\r\n        var i: number;\r\n\r\n        cnt = buffer.readShort();\r\n        this.fromPage = [];\r\n        for (i = 0; i < cnt; i++)\r\n            this.fromPage[i] = buffer.readS();\r\n\r\n        cnt = buffer.readShort();\r\n        this.toPage = [];\r\n        for (i = 0; i < cnt; i++)\r\n            this.toPage[i] = buffer.readS();\r\n    }\r\n}\r\n","import { ByteBuffer } from './../utils/ByteBuffer';\r\nimport { Controller } from './../Controller';\r\nimport { Transition } from './../Transition';\r\nimport { ControllerAction } from './ControllerAction';\r\nexport class PlayTransitionAction extends ControllerAction {\r\n    public transitionName: string;\r\n    public playTimes: number;\r\n    public delay: number;\r\n    public stopOnExit: boolean;\r\n\r\n    private _currentTransition?: Transition;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    protected enter(controller: Controller): void {\r\n        var trans: Transition = controller.parent.getTransition(this.transitionName);\r\n        if (trans) {\r\n            if (this._currentTransition && this._currentTransition.playing)\r\n                trans.changePlayTimes(this.playTimes);\r\n            else\r\n                trans.play(null, this.playTimes, this.delay);\r\n            this._currentTransition = trans;\r\n        }\r\n    }\r\n\r\n    protected leave(controller: Controller): void {\r\n        if (this.stopOnExit && this._currentTransition) {\r\n            this._currentTransition.stop();\r\n            this._currentTransition = null;\r\n        }\r\n    }\r\n\r\n    public setup(buffer: ByteBuffer): void {\r\n        super.setup(buffer);\r\n\r\n        this.transitionName = buffer.readS();\r\n        this.playTimes = buffer.readInt();\r\n        this.delay = buffer.readFloat();\r\n        this.stopOnExit = buffer.readBool();\r\n    }\r\n}\r\n","import { GComponent } from '../GComponent';\r\nimport { Controller } from './../Controller';\r\nimport { ByteBuffer } from './../utils/ByteBuffer';\r\nimport { ControllerAction } from './ControllerAction';\r\nexport class ChangePageAction extends ControllerAction {\r\n    public objectId: string;\r\n    public controllerName: string;\r\n    public targetPage: string;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    protected enter(controller: Controller): void {\r\n        if (!this.controllerName)\r\n            return;\r\n\r\n        var gcom: GComponent;\r\n        if (this.objectId)\r\n            gcom = <GComponent>controller.parent.getChildById(this.objectId);\r\n        else\r\n            gcom = controller.parent;\r\n        if (gcom) {\r\n            var cc: Controller = gcom.getController(this.controllerName);\r\n            if (cc && cc != controller && !cc.changing) {\r\n                if (this.targetPage == \"~1\") {\r\n                    if (controller.selectedIndex < cc.pageCount)\r\n                        cc.selectedIndex = controller.selectedIndex;\r\n                }\r\n                else if (this.targetPage == \"~2\")\r\n                    cc.selectedPage = controller.selectedPage;\r\n                else\r\n                    cc.selectedPageId = this.targetPage;\r\n            }\r\n        }\r\n    }\r\n\r\n    public setup(buffer: ByteBuffer): void {\r\n        super.setup(buffer);\r\n\r\n        this.objectId = buffer.readS();\r\n        this.controllerName = buffer.readS();\r\n        this.targetPage = buffer.readS();\r\n    }\r\n}\r\n","import { UIPackage } from './UIPackage';\nimport { ByteBuffer } from './utils/ByteBuffer';\nimport { Events } from './Events';\nimport { ControllerAction } from './action/ControllerAction';\nimport { GComponent } from \"./GComponent\";\n\nvar _nextPageId: number = 0;\n\nexport class Controller extends Phaser.Events.EventEmitter {\n    private _selectedIndex: number;\n    private _previousIndex: number;\n    private _pageIds: string[];\n    private _pageNames: string[];\n    private _actions?: ControllerAction[];\n\n    public name: string;\n    public parent: GComponent;\n    public autoRadioGroupDepth?: boolean;\n\n    public changing: boolean;\n\n    constructor() {\n        super();\n        this._pageIds = [];\n        this._pageNames = [];\n        this._selectedIndex = -1;\n        this._previousIndex = -1;\n    }\n\n    public dispose(): void {\n        throw new Error(\"TODO\");\n        // this.offAll();\n    }\n\n    public get selectedIndex(): number {\n        return this._selectedIndex;\n    }\n\n    public set selectedIndex(value: number) {\n        if (this._selectedIndex != value) {\n            if (value > this._pageIds.length - 1)\n                throw \"index out of bounds: \" + value;\n\n            this.changing = true;\n            this._previousIndex = this._selectedIndex;\n            this._selectedIndex = value;\n            this.parent.applyController(this);\n\n            this.emit(Events.STATE_CHANGED, this);\n\n            this.changing = false;\n        }\n    }\n\n    /**\n     * 功能和设置selectedIndex一样，但不会触发事件\n     */\n    public setSelectedIndex(value: number): void {\n        if (this._selectedIndex != value) {\n            if (value > this._pageIds.length - 1)\n                throw \"index out of bounds: \" + value;\n\n            this.changing = true;\n            this._previousIndex = this._selectedIndex;\n            this._selectedIndex = value;\n            this.parent.applyController(this);\n            this.changing = false;\n        }\n    }\n\n    public get previsousIndex(): number {\n        return this._previousIndex;\n    }\n\n    public get selectedPage(): string {\n        if (this._selectedIndex == -1)\n            return null;\n        else\n            return this._pageNames[this._selectedIndex];\n    }\n\n    public set selectedPage(val: string) {\n        var i: number = this._pageNames.indexOf(val);\n        if (i == -1)\n            i = 0;\n        this.selectedIndex = i;\n    }\n\n    /**\n     * 功能和设置selectedPage一样，但不会触发事件\n     */\n    public setSelectedPage(value: string): void {\n        var i: number = this._pageNames.indexOf(value);\n        if (i == -1)\n            i = 0;\n        this.setSelectedIndex(i);\n    }\n\n    public get previousPage(): string {\n        if (this._previousIndex == -1)\n            return null;\n        else\n            return this._pageNames[this._previousIndex];\n    }\n\n    public get pageCount(): number {\n        return this._pageIds.length;\n    }\n\n    public getPageName(index: number): string {\n        return this._pageNames[index];\n    }\n\n    public addPage(name: string): void {\n        this.addPageAt(name, this._pageIds.length);\n    }\n\n    public addPageAt(name: string, index: number): void {\n        var nid: string = \"\" + (_nextPageId++);\n        if (index == this._pageIds.length) {\n            this._pageIds.push(nid);\n            this._pageNames.push(name);\n        }\n        else {\n            this._pageIds.splice(index, 0, nid);\n            this._pageNames.splice(index, 0, name);\n        }\n    }\n\n    public removePage(name: string): void {\n        var i: number = this._pageNames.indexOf(name);\n        if (i != -1) {\n            this._pageIds.splice(i, 1);\n            this._pageNames.splice(i, 1);\n            if (this._selectedIndex >= this._pageIds.length)\n                this.selectedIndex = this._selectedIndex - 1;\n            else\n                this.parent.applyController(this);\n        }\n    }\n\n    public removePageAt(index: number): void {\n        this._pageIds.splice(index, 1);\n        this._pageNames.splice(index, 1);\n        if (this._selectedIndex >= this._pageIds.length)\n            this.selectedIndex = this._selectedIndex - 1;\n        else\n            this.parent.applyController(this);\n    }\n\n    public clearPages(): void {\n        this._pageIds.length = 0;\n        this._pageNames.length = 0;\n        if (this._selectedIndex != -1)\n            this.selectedIndex = -1;\n        else\n            this.parent.applyController(this);\n    }\n\n    public hasPage(aName: string): boolean {\n        return this._pageNames.indexOf(aName) != -1;\n    }\n\n    public getPageIndexById(aId: string): number {\n        return this._pageIds.indexOf(aId);\n    }\n\n    public getPageIdByName(aName: string): string {\n        var i: number = this._pageNames.indexOf(aName);\n        if (i != -1)\n            return this._pageIds[i];\n        else\n            return null;\n    }\n\n    public getPageNameById(aId: string): string {\n        var i: number = this._pageIds.indexOf(aId);\n        if (i != -1)\n            return this._pageNames[i];\n        else\n            return null;\n    }\n\n    public getPageId(index: number): string {\n        return this._pageIds[index];\n    }\n\n    public get selectedPageId(): string {\n        if (this._selectedIndex == -1)\n            return null;\n        else\n            return this._pageIds[this._selectedIndex];\n    }\n\n    public set selectedPageId(val: string) {\n        var i: number = this._pageIds.indexOf(val);\n        this.selectedIndex = i;\n    }\n\n    public set oppositePageId(val: string) {\n        var i: number = this._pageIds.indexOf(val);\n        if (i > 0)\n            this.selectedIndex = 0;\n        else if (this._pageIds.length > 1)\n            this.selectedIndex = 1;\n    }\n\n    public get previousPageId(): string {\n        if (this._previousIndex == -1)\n            return null;\n        else\n            return this._pageIds[this._previousIndex];\n    }\n\n    public runActions(): void {\n        if (this._actions) {\n            var cnt: number = this._actions.length;\n            for (var i: number = 0; i < cnt; i++) {\n                this._actions[i].run(this, this.previousPageId, this.selectedPageId);\n            }\n        }\n    }\n\n    public setup(buffer: ByteBuffer): void {\n        var beginPos: number = buffer.position;\n        buffer.seek(beginPos, 0);\n\n        this.name = buffer.readS();\n        if (buffer.readBool())\n            this.autoRadioGroupDepth = true;\n\n        buffer.seek(beginPos, 1);\n\n        var i: number;\n        var nextPos: number;\n        var cnt: number = buffer.readShort();\n\n        for (i = 0; i < cnt; i++) {\n            this._pageIds.push(buffer.readS());\n            this._pageNames.push(buffer.readS());\n        }\n\n        var homePageIndex: number = 0;\n        if (buffer.version >= 2) {\n            var homePageType: number = buffer.readByte();\n            switch (homePageType) {\n                case 1:\n                    homePageIndex = buffer.readShort();\n                    break;\n\n                case 2:\n                    homePageIndex = this._pageNames.indexOf(UIPackage.branch);\n                    if (homePageIndex == -1)\n                        homePageIndex = 0;\n                    break;\n\n                case 3:\n                    homePageIndex = this._pageNames.indexOf(UIPackage.getVar(buffer.readS()));\n                    if (homePageIndex == -1)\n                        homePageIndex = 0;\n                    break;\n            }\n        }\n\n        buffer.seek(beginPos, 2);\n\n        cnt = buffer.readShort();\n        if (cnt > 0) {\n            if (!this._actions)\n                this._actions = [];\n\n            for (i = 0; i < cnt; i++) {\n                nextPos = buffer.readShort();\n                nextPos += buffer.position;\n\n                var action: ControllerAction = createAction(buffer.readByte());\n                action.setup(buffer);\n                this._actions.push(action);\n\n                buffer.position = nextPos;\n            }\n        }\n\n        if (this.parent && this._pageIds.length > 0)\n            this._selectedIndex = homePageIndex;\n        else\n            this._selectedIndex = -1;\n    }\n}\n\nimport { PlayTransitionAction } from \"./action/PlayTransitionAction\"\nimport { ChangePageAction } from \"./action/ChangePageAction\"\n\nfunction createAction(type: number): ControllerAction {\n    switch (type) {\n        case 0:\n            return new PlayTransitionAction();\n\n        case 1:\n            return new ChangePageAction();\n    }\n    return null;\n}","import { HitArea } from './utils/HitArea';\nimport { TranslationHelper } from './TranslationHelper';\nimport { PackageItem } from './PackageItem';\nimport { PixelHitTest } from './utils/PixelHitTest';\nimport { ByteBuffer } from './utils/ByteBuffer';\nimport { ChildHitArea } from './utils/ChildHitArea';\nimport { ToolSet } from './utils/ToolSet';\nimport { ChildrenRenderOrder, OverflowType, ObjectType } from './FieldTypes';\nimport { GGroup } from './GGroup';\nimport { ScrollPane } from './ScrollPane';\nimport { Transition } from './Transition';\nimport { Margin } from './Margin';\nimport { Controller } from './Controller';\nimport { Graphics } from './display/Graphics';\nimport { GObject } from './GObject';\nimport { Decls, UIPackage } from './UIPackage';\nexport class GComponent extends GObject {\n    private _sortingChildCount: number = 0;\n    private _opaque: boolean;\n    private _applyingController?: Controller;\n    private _mask?: Graphics;\n\n    protected _margin: Margin;\n    protected _trackBounds: boolean;\n    protected _boundsChanged: boolean;\n    protected _childrenRenderOrder: number;\n    protected _apexIndex: number;\n\n    public _buildingDisplayList: boolean;\n    public _children: GObject[];\n    public _controllers: Controller[];\n    public _transitions: Transition[];\n    public _container: Phaser.GameObjects.Container;\n    public _scrollPane?: ScrollPane;\n    public _alignOffset: Phaser.Geom.Point;\n\n    constructor(scene?: Phaser.Scene) {\n        super(scene);\n        this._children = [];\n        this._controllers = [];\n        this._transitions = [];\n        this._margin = new Margin();\n        this._alignOffset = new Phaser.Geom.Point();\n        this._opaque = false;\n        this._childrenRenderOrder = 0;\n        this._apexIndex = 0;\n    }\n\n    public createDisplayObject(): void {\n        super.createDisplayObject();\n        this._displayObject.setInteractive(true);\n        this._container = this._displayObject;\n    }\n\n    public dispose(): void {\n        var i: number;\n        var cnt: number;\n\n        cnt = this._transitions.length;\n        for (i = 0; i < cnt; ++i) {\n            var trans: Transition = this._transitions[i];\n            trans.dispose();\n        }\n\n        cnt = this._controllers.length;\n        for (i = 0; i < cnt; ++i) {\n            var cc: Controller = this._controllers[i];\n            cc.dispose();\n        }\n\n        if (this.scrollPane)\n            this.scrollPane.dispose();\n\n        cnt = this._children.length;\n        for (i = cnt - 1; i >= 0; --i) {\n            var obj: GObject = this._children[i];\n            obj.parent = null;//avoid removeFromParent call\n            obj.dispose();\n        }\n\n        this._boundsChanged = false;\n        super.dispose();\n    }\n\n    public get displayListContainer(): Phaser.GameObjects.Container {\n        return this._container;\n    }\n\n    public add(child: GObject): GObject {\n        this.addChildAt(child, this._children.length);\n        return child;\n    }\n\n    public addChildAt(child: GObject, index: number): GObject {\n        if (!child)\n            throw \"child is null\";\n\n        if (index >= 0 && index <= this._children.length) {\n            if (child.parent == this) {\n                this.setChildIndex(child, index);\n            }\n            else {\n                child.removeFromParent();\n                child.parent = this;\n\n                var cnt: number = this._children.length;\n                if (child.sortingOrder != 0) {\n                    this._sortingChildCount++;\n                    index = this.getInsertPosForSortingChild(child);\n                }\n                else if (this._sortingChildCount > 0) {\n                    if (index > (cnt - this._sortingChildCount))\n                        index = cnt - this._sortingChildCount;\n                }\n\n                if (index == cnt)\n                    this._children.push(child);\n                else\n                    this._children.splice(index, 0, child);\n\n                this.childStateChanged(child);\n                this.setBoundsChangedFlag();\n            }\n\n            return child;\n        }\n        else {\n            throw \"Invalid child index\";\n        }\n    }\n\n    private getInsertPosForSortingChild(target: GObject): number {\n        var cnt: number = this._children.length;\n        var i: number = 0;\n        for (i = 0; i < cnt; i++) {\n            var child: GObject = this._children[i];\n            if (child == target)\n                continue;\n\n            if (target.sortingOrder < child.sortingOrder)\n                break;\n        }\n        return i;\n    }\n\n    public removeChild(child: GObject, dispose?: boolean): GObject {\n        var childIndex: number = this._children.indexOf(child);\n        if (childIndex != -1) {\n            this.removeChildAt(childIndex, dispose);\n        }\n        return child;\n    }\n\n    public removeChildAt(index: number, dispose?: boolean): GObject {\n        if (index >= 0 && index < this._children.length) {\n            var child: GObject = this._children[index];\n            child.parent = null;\n\n            if (child.sortingOrder != 0)\n                this._sortingChildCount--;\n\n            this._children.splice(index, 1);\n            child.group = null;\n            if (child.inContainer) {\n                this._container.remove(child.displayObject);\n                // if (this._childrenRenderOrder == ChildrenRenderOrder.Arch)\n                //     Laya.timer.callLater(this, this.buildNativeDisplayList);\n            }\n\n            if (dispose)\n                child.dispose();\n\n            this.setBoundsChangedFlag();\n\n            return child;\n        }\n        else {\n            throw \"Invalid child index\";\n        }\n    }\n\n    public removeChildren(beginIndex?: number, endIndex?: number, dispose?: boolean): void {\n        if (beginIndex == undefined) beginIndex = 0;\n        if (endIndex == undefined) endIndex = -1;\n\n        if (endIndex < 0 || endIndex >= this._children.length)\n            endIndex = this._children.length - 1;\n\n        for (var i: number = beginIndex; i <= endIndex; ++i)\n            this.removeChildAt(beginIndex, dispose);\n    }\n\n    public getChildAt(index: number): GObject {\n        if (index >= 0 && index < this._children.length)\n            return this._children[index];\n        else\n            throw \"Invalid child index\";\n    }\n\n    public getChild(name: string): GObject {\n        var cnt: number = this._children.length;\n        for (var i: number = 0; i < cnt; ++i) {\n            if (this._children[i].name == name)\n                return this._children[i];\n        }\n\n        return null;\n    }\n\n    public getChildByPath(path: String): GObject {\n        var arr: string[] = path.split(\".\");\n        var cnt: number = arr.length;\n        var gcom: GComponent = this;\n        var obj: GObject;\n        for (var i: number = 0; i < cnt; ++i) {\n            obj = gcom.getChild(arr[i]);\n            if (!obj)\n                break;\n\n            if (i != cnt - 1) {\n                if (!(obj instanceof GComponent)) {\n                    obj = null;\n                    break;\n                }\n                else\n                    gcom = obj;\n            }\n        }\n\n        return obj;\n    }\n\n    public getVisibleChild(name: string): GObject {\n        var cnt: number = this._children.length;\n        for (var i: number = 0; i < cnt; ++i) {\n            var child: GObject = this._children[i];\n            if (child.internalVisible && child.internalVisible2 && child.name == name)\n                return child;\n        }\n\n        return null;\n    }\n\n    public getChildInGroup(name: string, group: GGroup): GObject {\n        var cnt: number = this._children.length;\n        for (var i: number = 0; i < cnt; ++i) {\n            var child: GObject = this._children[i];\n            if (child.group == group && child.name == name)\n                return child;\n        }\n\n        return null;\n    }\n\n    public getChildById(id: string): GObject {\n        var cnt: number = this._children.length;\n        for (var i: number = 0; i < cnt; ++i) {\n            if (this._children[i]._id == id)\n                return this._children[i];\n        }\n\n        return null;\n    }\n\n    public getChildIndex(child: GObject): number {\n        return this._children.indexOf(child);\n    }\n\n    public setChildIndex(child: GObject, index: number): void {\n        var oldIndex: number = this._children.indexOf(child);\n        if (oldIndex == -1)\n            throw \"Not a child of this container\";\n\n        if (child.sortingOrder != 0) //no effect\n            return;\n\n        var cnt: number = this._children.length;\n        if (this._sortingChildCount > 0) {\n            if (index > (cnt - this._sortingChildCount - 1))\n                index = cnt - this._sortingChildCount - 1;\n        }\n\n        this._setChildIndex(child, oldIndex, index);\n    }\n\n    public setChildIndexBefore(child: GObject, index: number): number {\n        var oldIndex: number = this._children.indexOf(child);\n        if (oldIndex == -1)\n            throw \"Not a child of this container\";\n\n        if (child.sortingOrder != 0) //no effect\n            return oldIndex;\n\n        var cnt: number = this._children.length;\n        if (this._sortingChildCount > 0) {\n            if (index > (cnt - this._sortingChildCount - 1))\n                index = cnt - this._sortingChildCount - 1;\n        }\n\n        if (oldIndex < index)\n            return this._setChildIndex(child, oldIndex, index - 1);\n        else\n            return this._setChildIndex(child, oldIndex, index);\n    }\n\n    private _setChildIndex(child: GObject, oldIndex: number, index: number): number {\n        var cnt: number = this._children.length;\n        if (index > cnt)\n            index = cnt;\n\n        if (oldIndex == index)\n            return oldIndex;\n\n        this._children.splice(oldIndex, 1);\n        this._children.splice(index, 0, child);\n\n        if (child.inContainer) {\n\n            var displayIndex: number = 0;\n            var g: GObject;\n            var i: number;\n\n            if (this._childrenRenderOrder == ChildrenRenderOrder.Ascent) {\n                for (i = 0; i < index; i++) {\n                    g = this._children[i];\n                    if (g.inContainer)\n                        displayIndex++;\n                }\n                if (displayIndex === this._container.displayList.length)\n                    displayIndex--;\n                this._container.addAt(child.displayObject, displayIndex);\n            }\n            else if (this._childrenRenderOrder == ChildrenRenderOrder.Descent) {\n                for (i = cnt - 1; i > index; i--) {\n                    g = this._children[i];\n                    if (g.inContainer)\n                        displayIndex++;\n                }\n                if (displayIndex === this._container.displayList.length)\n                    displayIndex--;\n                this._container.addAt(child.displayObject, displayIndex);\n            }\n            // else {\n            //     Laya.timer.callLater(this, this.buildNativeDisplayList);\n            // }\n\n            this.setBoundsChangedFlag();\n        }\n\n        return index;\n    }\n\n    public swapChildren(child1: GObject, child2: GObject): void {\n        var index1: number = this._children.indexOf(child1);\n        var index2: number = this._children.indexOf(child2);\n        if (index1 == -1 || index2 == -1)\n            throw \"Not a child of this container\";\n        this.swapChildrenAt(index1, index2);\n    }\n\n    public swapChildrenAt(index1: number, index2: number): void {\n        var child1: GObject = this._children[index1];\n        var child2: GObject = this._children[index2];\n\n        this.setChildIndex(child1, index2);\n        this.setChildIndex(child2, index1);\n    }\n\n    public get numChildren(): number {\n        return this._children.length;\n    }\n\n    public isAncestorOf(child: GObject): boolean {\n        if (!child)\n            return false;\n\n        var p: GComponent = child.parent;\n        while (p) {\n            if (p == this)\n                return true;\n\n            p = p.parent;\n        }\n        return false;\n    }\n\n    public addController(controller: Controller): void {\n        this._controllers.push(controller);\n        controller.parent = this;\n        this.applyController(controller);\n    }\n\n    public getControllerAt(index: number): Controller {\n        return this._controllers[index];\n    }\n\n    public getController(name: string): Controller {\n        var cnt: number = this._controllers.length;\n        for (var i: number = 0; i < cnt; ++i) {\n            var c: Controller = this._controllers[i];\n            if (c.name == name)\n                return c;\n        }\n\n        return null;\n    }\n\n    public removeController(c: Controller): void {\n        var index: number = this._controllers.indexOf(c);\n        if (index == -1)\n            throw new Error(\"controller not exists\");\n\n        c.parent = null;\n        this._controllers.splice(index, 1);\n\n        var length: number = this._children.length;\n        for (var i: number = 0; i < length; i++) {\n            var child: GObject = this._children[i];\n            child.handleControllerChanged(c);\n        }\n    }\n\n    public get controllers(): Controller[] {\n        return this._controllers;\n    }\n\n    public childStateChanged(child: GObject): void {\n        if (this._buildingDisplayList)\n            return;\n\n        var cnt: number = this._children.length;\n        if (child instanceof GGroup) {\n            for (var i: number = 0; i < cnt; i++) {\n                var g: GObject = this._children[i];\n                if (g.group == child)\n                    this.childStateChanged(g);\n            }\n            return;\n        }\n\n        if (!child.displayObject)\n            return;\n\n        if (child.internalVisible) { // && child.displayObject !== this._displayObject.mask) {\n            if (!child.displayObject.parentContainer) {\n                var index: number = 0\n                if (this._childrenRenderOrder == ChildrenRenderOrder.Ascent) {\n                    for (i = 0; i < cnt; i++) {\n                        g = this._children[i];\n                        if (g == child)\n                            break;\n\n                        if (g.displayObject && g.displayObject.parentContainer)\n                            index++;\n                    }\n                    this._container.addAt(child.displayObject, index);\n                }\n                else if (this._childrenRenderOrder == ChildrenRenderOrder.Descent) {\n                    for (i = cnt - 1; i >= 0; i--) {\n                        g = this._children[i];\n                        if (g == child)\n                            break;\n\n                        if (g.displayObject && g.displayObject.parentContainer)\n                            index++;\n                    }\n                    this._container.addAt(child.displayObject, index);\n                }\n                else {\n                    this._container.add(child.displayObject);\n\n                    // Laya.timer.callLater(this, this.buildNativeDisplayList);\n                }\n            }\n        }\n        else {\n            if (child.displayObject.parentContainer) {\n                this._container.remove(child.displayObject);\n\n                //     if (this._childrenRenderOrder == ChildrenRenderOrder.Arch)\n                //         Laya.timer.callLater(this, this.buildNativeDisplayList);\n            }\n        }\n    }\n\n    private buildNativeDisplayList(): void {\n        if (!this._displayObject)\n            return;\n        var cnt: number = this._children.length;\n        if (cnt == 0)\n            return;\n\n        var i: number;\n        var child: GObject;\n        switch (this._childrenRenderOrder) {\n            case ChildrenRenderOrder.Ascent:\n                {\n                    for (i = 0; i < cnt; i++) {\n                        child = this._children[i];\n                        if (child.displayObject && child.internalVisible)\n                            this._container.add(child.displayObject);\n                    }\n                }\n                break;\n            case ChildrenRenderOrder.Descent:\n                {\n                    for (i = cnt - 1; i >= 0; i--) {\n                        child = this._children[i];\n                        if (child.displayObject && child.internalVisible)\n                            this._container.add(child.displayObject);\n                    }\n                }\n                break;\n\n            case ChildrenRenderOrder.Arch:\n                {\n                    var apex: number = ToolSet.clamp(this._apexIndex, 0, cnt);\n                    for (i = 0; i < apex; i++) {\n                        child = this._children[i];\n                        if (child.displayObject && child.internalVisible)\n                            this._container.add(child.displayObject);\n                    }\n                    for (i = cnt - 1; i >= apex; i--) {\n                        child = this._children[i];\n                        if (child.displayObject && child.internalVisible)\n                            this._container.add(child.displayObject);\n                    }\n                }\n                break;\n        }\n    }\n\n    public applyController(c: Controller): void {\n        this._applyingController = c;\n        var child: GObject;\n        var length: number = this._children.length;\n        for (var i: number = 0; i < length; i++) {\n            child = this._children[i];\n            child.handleControllerChanged(c);\n        }\n        this._applyingController = null;\n        c.runActions();\n    }\n\n    public applyAllControllers(): void {\n        var cnt: number = this._controllers.length;\n        for (var i: number = 0; i < cnt; ++i) {\n            this.applyController(this._controllers[i]);\n        }\n    }\n\n    public adjustRadioGroupDepth(obj: GObject, c: Controller): void {\n        var cnt: number = this._children.length;\n        var i: number;\n        var child: GObject;\n        var myIndex: number = -1, maxIndex: number = -1;\n        for (i = 0; i < cnt; i++) {\n            child = this._children[i];\n            if (child == obj) {\n                myIndex = i;\n            }\n            else if ((\"relatedController\" in child)/*is button*/ && (<any>child).relatedController == c) {\n                if (i > maxIndex)\n                    maxIndex = i;\n            }\n        }\n        if (myIndex < maxIndex) {\n            //如果正在applyingController，此时修改显示列表是危险的，但真正排除危险只能用显示列表的副本去做，这样性能可能损耗较大，\n            //这里取个巧，让可能漏过的child补一下handleControllerChanged，反正重复执行是无害的。\n            if (this._applyingController)\n                this._children[maxIndex].handleControllerChanged(this._applyingController);\n            this.swapChildrenAt(myIndex, maxIndex);\n        }\n    }\n\n    public getTransitionAt(index: number): Transition {\n        return this._transitions[index];\n    }\n\n    public getTransition(transName: string): Transition {\n        var cnt: number = this._transitions.length;\n        for (var i: number = 0; i < cnt; ++i) {\n            var trans: Transition = this._transitions[i];\n            if (trans.name == transName)\n                return trans;\n        }\n\n        return null;\n    }\n\n    public isChildInView(child: GObject): boolean {\n        if (this.scrollRect) {\n            return child.x + child.width >= 0 && child.x <= this.width\n                && child.y + child.height >= 0 && child.y <= this.height;\n        }\n        else if (this._scrollPane) {\n            return this._scrollPane.isChildInView(child);\n        }\n        else\n            return true;\n    }\n\n    public getFirstChildInView(): number {\n        var cnt: number = this._children.length;\n        for (var i: number = 0; i < cnt; ++i) {\n            var child: GObject = this._children[i];\n            if (this.isChildInView(child))\n                return i;\n        }\n        return -1;\n    }\n\n    public get scrollPane(): ScrollPane {\n        return this._scrollPane;\n    }\n\n    public get opaque(): boolean {\n        return this._opaque;\n    }\n\n    public set opaque(value: boolean) {\n        if (this._opaque != value) {\n            this._opaque = value;\n            if (this._opaque) {\n                if (!this.hitArea)\n                    this.hitArea = new Phaser.Geom.Rectangle();\n\n                if (this.hitArea instanceof Phaser.Geom.Rectangle)\n                    this.hitArea.setTo(0, 0, this._width, this._height);\n\n                this._displayObject.setInteractive(new Phaser.Geom.Rectangle(0, 0, this._width, this._height), Phaser.Geom.Rectangle.Contains);\n            }\n            else {\n                if (this.hitArea instanceof Phaser.Geom.Rectangle)\n                    this.hitArea = null;\n\n                this._displayObject.disableInteractive();\n                // this._displayObject.mouseThrough = true;\n            }\n        }\n    }\n\n    public get margin(): Margin {\n        return this._margin;\n    }\n\n    public set margin(value: Margin) {\n        this._margin.copy(value);\n        if (this.scrollRect) {\n            this._container.setPosition(this._margin.left + this._alignOffset.x, this._margin.top + this._alignOffset.y);\n        }\n        this.handleSizeChanged();\n    }\n\n    public get childrenRenderOrder(): number {\n        return this._childrenRenderOrder;\n    }\n\n    public set childrenRenderOrder(value: number) {\n        if (this._childrenRenderOrder != value) {\n            this._childrenRenderOrder = value;\n            this.buildNativeDisplayList();\n        }\n    }\n\n    public get apexIndex(): number {\n        return this._apexIndex;\n    }\n\n    public set apexIndex(value: number) {\n        if (this._apexIndex != value) {\n            this._apexIndex = value;\n\n            if (this._childrenRenderOrder == ChildrenRenderOrder.Arch)\n                this.buildNativeDisplayList();\n        }\n    }\n\n    public get mask(): Graphics {\n        return this._mask;\n    }\n\n    public set mask(value: Graphics) {\n        this.setMask(value, false);\n    }\n\n    public setMask(value: Graphics, reversed: boolean): void {\n        if (this._mask && this._mask != value) {\n            if (this._mask.blendMode == \"destination-out\")\n                this._mask.blendMode = null;\n        }\n\n        this._mask = value;\n        if (!this._mask) {\n            this._displayObject.mask = null;\n            if (this.hitArea instanceof ChildHitArea)\n                this.hitArea = null;\n            return;\n        }\n\n        // if (this._mask.displayObject.input.hitArea) {\n        // this.hitArea = new ChildHitArea(this._mask, reversed);\n        // this._displayObject.mouseThrough = false;\n        // this._displayObject.hitTestPrior = true;\n        // }\n        const maskObj = new GObject();\n        maskObj.scene = this.scene;\n        maskObj.setDisplayObject(this._mask);\n        this.hitArea = new ChildHitArea(maskObj, reversed);\n        if (reversed) {\n            this._displayObject.mask = null;\n            // this._displayObject.cacheAs = \"bitmap\";\n            this._mask.blendMode = \"destination-out\";\n        }\n        else\n            this._displayObject.mask = this._mask.createGeometryMask();\n    }\n\n    public get baseUserData(): string {\n        var buffer: ByteBuffer = this.packageItem.rawData;\n        buffer.seek(0, 4);\n        return buffer.readS();\n    }\n\n    protected updateHitArea(): void {\n        if (this.hitArea instanceof PixelHitTest) {\n            var hitTest: PixelHitTest = <PixelHitTest>(this.hitArea);\n            if (this.sourceWidth != 0)\n                hitTest.scaleX = this._width / this.sourceWidth;\n            if (this.sourceHeight != 0)\n                hitTest.scaleY = this._height / this.sourceHeight;\n        }\n        else if (this.hitArea instanceof Phaser.Geom.Rectangle) {\n            this.hitArea.setTo(0, 0, this._width, this._height);\n        }\n    }\n\n    protected updateMask(): void {\n        var rect: Phaser.Geom.Rectangle = this.scrollRect;\n        if (!rect)\n            rect = new Phaser.Geom.Rectangle();\n\n        rect.x = this._margin.left;\n        rect.y = this._margin.top;\n        rect.width = this._width - this._margin.right;\n        rect.height = this._height - this._margin.bottom;\n\n        this.scrollRect = rect;\n    }\n\n    protected setupScroll(buffer: ByteBuffer): void {\n        if (this._displayObject == this._container) {\n            this._container = new Phaser.GameObjects.Container(this.scene);\n            this._displayObject.add(this._container);\n        }\n        this._scrollPane = new ScrollPane(this);\n        this._scrollPane.setup(buffer);\n    }\n\n    protected setupOverflow(overflow: number): void {\n        if (overflow == OverflowType.Hidden) {\n            if (this._displayObject == this._container) {\n                this._container = new Phaser.GameObjects.Container(this.scene);\n                this._displayObject.add(this._container);\n            }\n            this.updateMask();\n            this._container.setPosition(this._margin.left, this._margin.top);\n        }\n        else if (this._margin.left != 0 || this._margin.top != 0) {\n            if (this._displayObject == this._container) {\n                this._container = new Phaser.GameObjects.Container(this.scene);\n                this._displayObject.add(this._container);\n            }\n            this._container.setPosition(this._margin.left, this._margin.top);\n        }\n    }\n\n    protected handleSizeChanged(): void {\n        super.handleSizeChanged();\n\n        if (this._scrollPane)\n            this._scrollPane.onOwnerSizeChanged();\n        else if (this.scrollRect)\n            this.updateMask();\n\n        if (this.hitArea)\n            this.updateHitArea();\n    }\n\n    protected handleGrayedChanged(): void {\n        var c: Controller = this.getController(\"grayed\");\n        if (c) {\n            c.selectedIndex = this.grayed ? 1 : 0;\n            return;\n        }\n\n        var v: boolean = this.grayed;\n        var cnt: number = this._children.length;\n        for (var i: number = 0; i < cnt; ++i) {\n            this._children[i].grayed = v;\n        }\n    }\n\n    public handleControllerChanged(c: Controller): void {\n        super.handleControllerChanged(c);\n\n        if (this._scrollPane)\n            this._scrollPane.handleControllerChanged(c);\n    }\n\n    public setBoundsChangedFlag(): void {\n        if (!this._scrollPane && !this._trackBounds)\n            return;\n\n        if (!this._boundsChanged) {\n            this._boundsChanged = true;\n\n            //Laya.timer.callLater(this, this.__render);\n        }\n    }\n\n    private __render(): void {\n        if (this._boundsChanged) {\n            var i1: number = 0;\n            var len: number = this._children.length;\n            var child: GObject\n            for (i1 = 0; i1 < len; i1++) {\n                child = this._children[i1];\n                child.ensureSizeCorrect();\n            }\n            this.updateBounds();\n        }\n    }\n\n    public ensureBoundsCorrect(): void {\n        var i1: number = 0;\n        var len: number = this._children.length;\n        var child: GObject\n        for (i1 = 0; i1 < len; i1++) {\n            child = this._children[i1];\n            child.ensureSizeCorrect();\n        }\n\n        if (this._boundsChanged)\n            this.updateBounds();\n    }\n\n    protected updateBounds(): void {\n        var ax: number = 0, ay: number = 0, aw: number = 0, ah: number = 0;\n        var len: number = this._children.length;\n        if (len > 0) {\n            ax = Number.POSITIVE_INFINITY, ay = Number.POSITIVE_INFINITY;\n            var ar: number = Number.NEGATIVE_INFINITY, ab: number = Number.NEGATIVE_INFINITY;\n            var tmp: number = 0;\n            var i1: number = 0;\n\n            for (i1 = 0; i1 < len; i1++) {\n                var child: GObject = this._children[i1];\n                tmp = child.x;\n                if (tmp < ax)\n                    ax = tmp;\n                tmp = child.y;\n                if (tmp < ay)\n                    ay = tmp;\n                tmp = child.x + child.actualWidth;\n                if (tmp > ar)\n                    ar = tmp;\n                tmp = child.y + child.actualHeight;\n                if (tmp > ab)\n                    ab = tmp;\n            }\n            aw = ar - ax;\n            ah = ab - ay;\n        }\n        this.setBounds(ax, ay, aw, ah);\n    }\n\n    public setBounds(ax: number, ay: number, aw: number, ah: number): void {\n        this._boundsChanged = false;\n\n        if (this._scrollPane)\n            this._scrollPane.setContentSize(Math.round(ax + aw), Math.round(ay + ah));\n    }\n\n    public get viewWidth(): number {\n        if (this._scrollPane)\n            return this._scrollPane.viewWidth;\n        else\n            return this.width - this._margin.left - this._margin.right;\n    }\n\n    public set viewWidth(value: number) {\n        if (this._scrollPane)\n            this._scrollPane.viewWidth = value;\n        else\n            this.width = value + this._margin.left + this._margin.right;\n    }\n\n    public get viewHeight(): number {\n        if (this._scrollPane)\n            return this._scrollPane.viewHeight;\n        else\n            return this.height - this._margin.top - this._margin.bottom;\n    }\n\n    public set viewHeight(value: number) {\n        if (this._scrollPane)\n            this._scrollPane.viewHeight = value;\n        else\n            this.height = value + this._margin.top + this._margin.bottom;\n    }\n\n    public getSnappingPosition(xValue: number, yValue: number, result?: Phaser.Geom.Point): Phaser.Geom.Point {\n        return this.getSnappingPositionWithDir(xValue, yValue, 0, 0, result);\n    }\n\n    /**\n     * dir正数表示右移或者下移，负数表示左移或者上移\n     */\n    public getSnappingPositionWithDir(xValue: number, yValue: number, xDir: number, yDir: number, result?: Phaser.Geom.Point): Phaser.Geom.Point {\n        if (!result)\n            result = new Phaser.Geom.Point();\n\n        var cnt: number = this._children.length;\n        if (cnt == 0) {\n            result.x = 0;\n            result.y = 0;\n            return result;\n        }\n\n        this.ensureBoundsCorrect();\n\n        var obj: GObject = null;\n        var prev: GObject = null;\n        var i: number = 0;\n        if (yValue != 0) {\n            for (; i < cnt; i++) {\n                obj = this._children[i];\n                if (yValue < obj.y) {\n                    if (i == 0) {\n                        yValue = 0;\n                        break;\n                    }\n                    else {\n                        prev = this._children[i - 1];\n                        if (yValue < prev.y + prev.actualHeight / 2) //top half part\n                            yValue = prev.y;\n                        else //bottom half part\n                            yValue = obj.y;\n                        break;\n                    }\n                }\n            }\n\n            if (i == cnt)\n                yValue = obj.y;\n        }\n\n        if (xValue != 0) {\n            if (i > 0)\n                i--;\n            for (; i < cnt; i++) {\n                obj = this._children[i];\n                if (xValue < obj.x) {\n                    if (i == 0) {\n                        xValue = 0;\n                        break;\n                    }\n                    else {\n                        prev = this._children[i - 1];\n                        if (xValue < prev.x + prev.actualWidth / 2) //top half part\n                            xValue = prev.x;\n                        else //bottom half part\n                            xValue = obj.x;\n                        break;\n                    }\n                }\n            }\n\n            if (i == cnt)\n                xValue = obj.x;\n        }\n\n        result.x = xValue;\n        result.y = yValue;\n        return result;\n    }\n\n    public childSortingOrderChanged(child: GObject, oldValue: number, newValue: number): void {\n        if (newValue == 0) {\n            this._sortingChildCount--;\n            this.setChildIndex(child, this._children.length);\n        }\n        else {\n            if (oldValue == 0)\n                this._sortingChildCount++;\n\n            var oldIndex: number = this._children.indexOf(child);\n            var index: number = this.getInsertPosForSortingChild(child);\n            if (oldIndex < index)\n                this._setChildIndex(child, oldIndex, index - 1);\n            else\n                this._setChildIndex(child, oldIndex, index);\n        }\n    }\n\n    public constructFromResource(): void {\n        this.constructFromResource2(null, 0);\n    }\n\n    public constructFromResource2(objectPool: GObject[], poolIndex: number): void {\n        var contentItem: PackageItem = this.packageItem.getBranch();\n\n        if (!contentItem.decoded) {\n            contentItem.decoded = true;\n            TranslationHelper.translateComponent(contentItem);\n        }\n\n        var i: number;\n        var dataLen: number;\n        var curPos: number;\n        var nextPos: number;\n        var f1: number;\n        var f2: number;\n        var i1: number;\n        var i2: number;\n\n        var buffer: ByteBuffer = contentItem.rawData;\n        buffer.seek(0, 0);\n\n        this._underConstruct = true;\n\n        this.sourceWidth = buffer.readInt();\n        this.sourceHeight = buffer.readInt();\n        this.initWidth = this.sourceWidth;\n        this.initHeight = this.sourceHeight;\n\n        if (!this.displayObject) this.createDisplayObject();\n        this.setSize(this.sourceWidth, this.sourceHeight);\n\n        if (buffer.readBool()) {\n            this.minWidth = buffer.readInt();\n            this.maxWidth = buffer.readInt();\n            this.minHeight = buffer.readInt();\n            this.maxHeight = buffer.readInt();\n        }\n\n        if (buffer.readBool()) {\n            f1 = buffer.readFloat();\n            f2 = buffer.readFloat();\n            this.internalSetPivot(f1, f2, buffer.readBool());\n        }\n\n        if (buffer.readBool()) {\n            this._margin.top = buffer.readInt();\n            this._margin.bottom = buffer.readInt();\n            this._margin.left = buffer.readInt();\n            this._margin.right = buffer.readInt();\n        }\n\n        var overflow: number = buffer.readByte();\n        if (overflow == OverflowType.Scroll) {\n            var savedPos: number = buffer.position;\n            buffer.seek(0, 7);\n            this.setupScroll(buffer);\n            buffer.position = savedPos;\n        }\n        else\n            this.setupOverflow(overflow);\n\n        if (buffer.readBool())\n            buffer.skip(8);\n\n        this._buildingDisplayList = true;\n\n        buffer.seek(0, 1);\n\n        var controllerCount: number = buffer.readShort();\n        for (i = 0; i < controllerCount; i++) {\n            nextPos = buffer.readShort();\n            nextPos += buffer.position;\n\n            var controller: Controller = new Controller();\n            this._controllers.push(controller);\n            controller.parent = this;\n            controller.setup(buffer);\n\n            buffer.position = nextPos;\n        }\n\n        buffer.seek(0, 2);\n\n        var child: GObject;\n        var childCount: number = buffer.readShort();\n        for (i = 0; i < childCount; i++) {\n            dataLen = buffer.readShort();\n            curPos = buffer.position;\n\n            if (objectPool)\n                child = objectPool[poolIndex + i];\n            else {\n                buffer.seek(curPos, 0);\n\n                var type: number = buffer.readByte();\n                var src: string = buffer.readS();\n                var pkgId: string = buffer.readS();\n\n                var pi: PackageItem = null;\n                if (src != null) {\n                    var pkg: UIPackage;\n                    if (pkgId != null)\n                        pkg = UIPackage.getById(pkgId);\n                    else\n                        pkg = contentItem.owner;\n\n                    pi = pkg ? pkg.getItemById(src) : null;\n                }\n                if (pi) {\n                    child = Decls.UIObjectFactory.newObject(pi);\n                    child.constructFromResource();\n                }\n                else\n                    child = Decls.UIObjectFactory.newObject(type);\n            }\n\n            child._underConstruct = true;\n            child.setup_beforeAdd(buffer, curPos);\n            child.parent = this;\n            this._children.push(child);\n\n            buffer.position = curPos + dataLen;\n        }\n\n        buffer.seek(0, 3);\n        this.relations.setup(buffer, true);\n\n        buffer.seek(0, 2);\n        buffer.skip(2);\n\n        for (i = 0; i < childCount; i++) {\n            nextPos = buffer.readShort();\n            nextPos += buffer.position;\n\n            buffer.seek(buffer.position, 3);\n            this._children[i].relations.setup(buffer, false);\n\n            buffer.position = nextPos;\n        }\n\n        buffer.seek(0, 2);\n        buffer.skip(2);\n\n        for (i = 0; i < childCount; i++) {\n            nextPos = buffer.readShort();\n            nextPos += buffer.position;\n\n            child = this._children[i];\n            child.setup_afterAdd(buffer, buffer.position);\n            child._underConstruct = false;\n\n            buffer.position = nextPos;\n        }\n\n        buffer.seek(0, 4);\n\n        buffer.skip(2); //customData\n        this.opaque = buffer.readBool();\n        var maskId: number = buffer.readShort();\n        if (maskId != -1) {\n            this.setMask((<Graphics>this.getChildAt(maskId).displayObject), buffer.readBool());\n        }\n\n        var hitTestId: string = buffer.readS();\n        i1 = buffer.readInt();\n        i2 = buffer.readInt();\n        var hitArea: HitArea;\n\n        if (hitTestId) {\n            pi = contentItem.owner.getItemById(hitTestId);\n            if (pi && pi.pixelHitTestData)\n                hitArea = new PixelHitTest(pi.pixelHitTestData, i1, i2);\n        }\n        else if (i1 != 0 && i2 != -1) {\n            // hitArea = new ChildHitArea(this.getChildAt(i2));\n        }\n\n        if (hitArea) {\n            // this._displayObject.setInteractive(hitArea,Phaser.Geom.Rectangle.Contains);\n            this.hitArea = hitArea;\n            // this._displayObject.mouseThrough = false;\n            // this._displayObject.hitTestPrior = true;\n        }\n\n        buffer.seek(0, 5);\n\n        var transitionCount: number = buffer.readShort();\n        for (i = 0; i < transitionCount; i++) {\n            nextPos = buffer.readShort();\n            nextPos += buffer.position;\n\n            var trans: Transition = new Transition(this);\n            trans.setup(buffer);\n            this._transitions.push(trans);\n\n            buffer.position = nextPos;\n        }\n\n        if (this._transitions.length > 0) {\n            this.displayObject.on(Phaser.GameObjects.Events.ADDED_TO_SCENE, this.___added);\n            this.displayObject.on(Phaser.GameObjects.Events.REMOVED_FROM_SCENE, this.___removed);\n        }\n\n        this.applyAllControllers();\n\n        this._buildingDisplayList = false;\n        this._underConstruct = false;\n\n        this.buildNativeDisplayList();\n        this.setBoundsChangedFlag();\n\n        if (contentItem.objectType != ObjectType.Component)\n            this.constructExtension(buffer);\n\n        this.onConstruct();\n    }\n\n    protected constructExtension(buffer: ByteBuffer): void {\n    }\n\n    protected onConstruct(): void {\n        this.constructFromXML(null); //old version\n    }\n\n    protected constructFromXML(xml: Object): void {\n    }\n\n    public setup_afterAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_afterAdd(buffer, beginPos);\n\n        buffer.seek(beginPos, 4);\n\n        var pageController: number = buffer.readShort();\n        if (pageController != -1 && this._scrollPane)\n            this._scrollPane.pageController = this._parent.getControllerAt(pageController);\n\n        var cnt: number;\n        var i: number;\n\n        cnt = buffer.readShort();\n        for (i = 0; i < cnt; i++) {\n            var cc: Controller = this.getController(buffer.readS());\n            var pageId: string = buffer.readS();\n            if (cc)\n                cc.selectedPageId = pageId;\n        }\n\n        if (buffer.version >= 2) {\n            cnt = buffer.readShort();\n            for (i = 0; i < cnt; i++) {\n                var target: string = buffer.readS();\n                var propertyId: number = buffer.readShort();\n                var value: String = buffer.readS();\n                var obj: GObject = this.getChildByPath(target);\n                if (obj)\n                    obj.setProp(propertyId, value);\n            }\n        }\n    }\n\n    private ___added(): void {\n        var cnt: number = this._transitions.length;\n        for (var i: number = 0; i < cnt; ++i) {\n            this._transitions[i].onOwnerAddedToStage();\n        }\n    }\n\n    private ___removed(): void {\n        var cnt: number = this._transitions.length;\n        for (var i: number = 0; i < cnt; ++i) {\n            this._transitions[i].onOwnerRemovedFromStage();\n        }\n    }\n}\n","import { ToolSet } from './utils/ToolSet';\nimport { GObject } from './GObject';\nimport { GGraph } from './GGraph';\nimport { UIStage, UIStageOptions } from './display/UIStage';\nimport { GComponent } from \"./GComponent\";\nimport { DisplayObjectEvent } from './event/DisplayObjectEvent';\nimport { UIConfig } from './UIConfig';\nimport { UIPackage } from './UIPackage';\n\nexport class GRootMouseStatus {\n    public touchDown: boolean = false;\n    public mouseX: number = 0;\n    public mouseY: number = 0;\n}\n\nexport enum UISceneDisplay {\n    LAYER_ROOT,\n    LAYER_UI,\n    LAYER_DIALOG,\n    LAYER_TOOLTIPS,\n    LAYER_MASK\n}\n\n/**\n * gui根对象（逻辑对象）\n */\nexport class GRoot extends GComponent {\n\n    private static _inst: GRoot;\n    public static contentScaleLevel: number = 0;\n    private static _gmStatus = new GRootMouseStatus();\n    private _uiStage: UIStage;\n    private _modalLayer: GGraph;\n    private _popupStack: GObject[];\n    private _justClosedPopups: GObject[];\n    private _modalWaitPane: GObject;\n    private _tooltipWin: GObject;\n    private _defaultTooltipWin: GObject;\n    private _checkPopups: boolean;\n    constructor() {\n        super();\n    }\n\n    public get displayObject(): Phaser.GameObjects.Container {\n        return this._container;\n    }\n\n    public static get inst(): GRoot {\n        if (GRoot._inst == null)\n            GRoot._inst = new GRoot();\n        return GRoot._inst;\n    }\n\n    /**\n    * the current mouse/pointer data\n    */\n    public static get globalMouseStatus(): GRootMouseStatus {\n        return GRoot._gmStatus;\n    }\n\n    public get focus(): GObject {\n        return null;\n    }\n\n    public set focus(value: GObject) {\n        this.setFocus(value);\n    }\n\n    private setFocus(value: GObject): void {\n    }\n\n    /**\n     * 游戏/编辑器启动ui入口,注入uiScene\n     * @param scene \n     * @param stageOptions \n     */\n    public attachTo(scene: Phaser.Scene, stageOptions?: UIStageOptions): void {\n\n        this._scene = scene;\n        this.createDisplayObject();\n        // todo deal stageoptions\n        if (this._uiStage) {\n            this.removeListen();\n            this._uiStage.removeChild(this._container, UISceneDisplay.LAYER_ROOT);\n            this._uiStage.destroy();\n        }\n\n        this._uiStage = new UIStage(scene);\n        this._uiStage.addChild(this._container, UISceneDisplay.LAYER_ROOT);\n        this.addListen();\n    }\n\n    public addListen() {\n        this.removeListen();\n        this._uiStage.on(DisplayObjectEvent.SIZE_CHANGED, this.$winResize, this);\n        this._uiStage.nativeStage.on(\"pointerdown\", this.onStageDown, this);\n        this._uiStage.nativeStage.on(\"pointerup\", this.onStageUp, this);\n        this._uiStage.nativeStage.on(\"pointermove\", this.onStageMove, this);\n    }\n\n    public removeListen() {\n        this._uiStage.off(DisplayObjectEvent.SIZE_CHANGED, this.$winResize, this);\n        this._uiStage.nativeStage.off(\"pointerdown\", this.onStageDown, this);\n        this._uiStage.nativeStage.off(\"pointerup\", this.onStageUp, this);\n        this._uiStage.nativeStage.off(\"pointermove\", this.onStageMove, this);\n    }\n\n    public addTimeEvent(timeEvent: Phaser.Time.TimerEvent): Phaser.Time.TimerEvent {\n        return this.scene.time.addEvent(timeEvent);\n    }\n\n    public removeTimeEvent(timeEvent: Phaser.Time.TimerEvent) {\n        if (timeEvent) timeEvent.remove();\n    }\n\n    public playOneShotSound(url: string, volumeScale?: number): void {\n        if (ToolSet.startsWith(url, \"ui://\"))\n            return;\n\n        this.scene.sound.play(url);\n    }\n\n    public showTooltips(msg: string): void {\n        if (this._defaultTooltipWin == null) {\n            var resourceURL: string = UIConfig.tooltipsWin;\n            if (!resourceURL) {\n                console.warn(\"UIConfig.tooltipsWin not defined\");\n                return;\n            }\n\n            this._defaultTooltipWin = UIPackage.createObjectFromURL(resourceURL);\n        }\n\n        this._defaultTooltipWin.text = msg;\n        this.showTooltipsWin(this._defaultTooltipWin);\n    }\n\n    public showTooltipsWin(tooltipWin: GObject, xx?: number, yy?: number): void {\n        // this.hideTooltips();\n\n        // this._tooltipWin = tooltipWin;\n        // if (xx == null || yy == null) {\n        //     xx = Stage.touchPos.x + 10;\n        //     yy = Stage.touchPos.y + 20;\n        // }\n        // var pt: Vector2 = this.globalToLocal(xx, yy);\n        // xx = pt.x;\n        // yy = pt.y;\n\n        // if (xx + this._tooltipWin.width > this.width) {\n        //     xx = xx - this._tooltipWin.width - 1;\n        //     if (xx < 0)\n        //         xx = 10;\n        // }\n        // if (yy + this._tooltipWin.height > this.height) {\n        //     yy = yy - this._tooltipWin.height - 1;\n        //     if (xx - this._tooltipWin.width - 1 > 0)\n        //         xx = xx - this._tooltipWin.width - 1;\n        //     if (yy < 0)\n        //         yy = 10;\n        // }\n\n        // this._tooltipWin.x = xx;\n        // this._tooltipWin.y = yy;\n        // this.addChild(this._tooltipWin);\n    }\n\n    public createDisplayObject() {\n        this._container = this._scene.add.container(0, 0);\n    }\n\n    private onStageDown(pointer: Phaser.Input.Pointer) {\n        GRoot._gmStatus.mouseX = pointer.worldX;\n        GRoot._gmStatus.mouseY = pointer.worldY;\n        GRoot._gmStatus.touchDown = true;\n    }\n\n    private onStageUp(pointer: Phaser.Input.Pointer) {\n        GRoot._gmStatus.touchDown = false;\n    }\n\n    private onStageMove(pointer: Phaser.Input.Pointer) {\n        GRoot._gmStatus.mouseX = pointer.worldX;\n        GRoot._gmStatus.mouseY = pointer.worldY;\n    }\n\n    private $winResize(stage: UIStage): void {\n        this._container.setSize(stage.stageWidth, stage.stageHeight);\n        this.updateContentScaleLevel();\n    }\n\n    private updateContentScaleLevel(): void {\n        GRoot.contentScaleLevel = (<any>this.scene).render.scaleRatio;\n        // var mat: Phaser.GameObjects.Components.TransformMatrix = <Phaser.GameObjects.Components.TransformMatrix>(<any>Laya.stage)._canvasTransform;\n        // var ss: number = Math.max(mat.getScaleX(), mat.getScaleY());\n        // if (ss >= 3.5)\n        //     GRoot.contentScaleLevel = 3; //x4\n        // else if (ss >= 2.5)\n        //     GRoot.contentScaleLevel = 2; //x3\n        // else if (ss >= 1.5)\n        //     GRoot.contentScaleLevel = 1; //x2\n        // else\n        //     GRoot.contentScaleLevel = 0;\n    }\n}\n","import { ByteBuffer } from './utils/ByteBuffer';\nimport { AutoSizeType, ObjectPropID } from './FieldTypes';\nimport { GObject } from './GObject';\nexport class GTextField extends GObject {\n    protected _templateVars: { [index: string]: string };\n    protected _text: string;\n    protected _autoSize: number;\n    protected _widthAutoSize: boolean;\n    protected _heightAutoSize: boolean;\n    protected _ubbEnabled: boolean;\n    protected _updatingSize: boolean;\n\n    constructor() {\n        super();\n    }\n\n    public get font(): string {\n        return null;\n    }\n\n    public set font(value: string) {\n    }\n\n    public get fontSize(): number {\n        return 0;\n    }\n\n    public set fontSize(value: number) {\n    }\n\n    public get color(): string {\n        return null;\n    }\n\n    public set color(value: string) {\n    }\n\n    public get align(): string {\n        return null;\n    }\n\n    public set align(value: string) {\n    }\n\n    public get valign(): string {\n        return null;\n    }\n\n    public set valign(value: string) {\n    }\n\n    public get leading(): number {\n        return 0;\n    }\n\n    public set leading(value: number) {\n    }\n\n    public get letterSpacing(): number {\n        return 0;\n    }\n\n    public set letterSpacing(value: number) {\n    }\n\n    public get bold(): boolean {\n        return false;\n    }\n\n    public set bold(value: boolean) {\n    }\n\n    public get italic(): boolean {\n        return false;\n    }\n\n    public set italic(value: boolean) {\n    }\n\n    public get underline(): boolean {\n        return false;\n    }\n\n    public set underline(value: boolean) {\n    }\n\n    public get singleLine(): boolean {\n        return false;\n    }\n\n    public set singleLine(value: boolean) {\n    }\n\n    public get stroke(): number {\n        return 0;\n    }\n\n    public set stroke(value: number) {\n    }\n\n    public get strokeColor(): string {\n        return null;\n    }\n\n    public set strokeColor(value: string) {\n    }\n\n    public set ubbEnabled(value: boolean) {\n        this._ubbEnabled = value;\n    }\n\n    public get ubbEnabled(): boolean {\n        return this._ubbEnabled;\n    }\n\n    public get autoSize(): number {\n        return this._autoSize;\n    }\n\n    public set autoSize(value: number) {\n        if (this._autoSize != value) {\n            this._autoSize = value;\n            this._widthAutoSize = this._autoSize == AutoSizeType.Both;\n            this._heightAutoSize = this._autoSize == AutoSizeType.Both || this._autoSize == AutoSizeType.Height;\n\n            this.updateAutoSize();\n        }\n    }\n\n    protected updateAutoSize(): void {\n    }\n\n    public get textWidth(): number {\n        return 0;\n    }\n\n    protected parseTemplate(template: string): string {\n        var pos1: number = 0, pos2: number, pos3: number;\n        var tag: string;\n        var value: string;\n        var result: string = \"\";\n        while ((pos2 = template.indexOf(\"{\", pos1)) != -1) {\n            if (pos2 > 0 && template.charCodeAt(pos2 - 1) == 92)//\\\n            {\n                result += template.substring(pos1, pos2 - 1);\n                result += \"{\";\n                pos1 = pos2 + 1;\n                continue;\n            }\n\n            result += template.substring(pos1, pos2);\n            pos1 = pos2;\n            pos2 = template.indexOf(\"}\", pos1);\n            if (pos2 == -1)\n                break;\n\n            if (pos2 == pos1 + 1) {\n                result += template.substr(pos1, 2);\n                pos1 = pos2 + 1;\n                continue;\n            }\n\n            tag = template.substring(pos1 + 1, pos2);\n            pos3 = tag.indexOf(\"=\");\n            if (pos3 != -1) {\n                value = this._templateVars[tag.substring(0, pos3)];\n                if (value == null)\n                    result += tag.substring(pos3 + 1);\n                else\n                    result += value;\n            }\n            else {\n                value = this._templateVars[tag];\n                if (value != null)\n                    result += value;\n            }\n            pos1 = pos2 + 1;\n        }\n\n        if (pos1 < template.length)\n            result += template.substr(pos1);\n\n        return result;\n    }\n\n    public get templateVars(): { [index: string]: string } {\n        return this._templateVars;\n    }\n\n    public set templateVars(value: { [index: string]: string }) {\n        if (!this._templateVars && !value)\n            return;\n\n        this._templateVars = value;\n        this.flushVars();\n    }\n\n    public setVar(name: string, value: string): GTextField {\n        if (!this._templateVars)\n            this._templateVars = {};\n        this._templateVars[name] = value;\n\n        return this;\n    }\n\n    public flushVars(): void {\n        this.text = this._text;\n    }\n\n    public getProp(index: number): any {\n        switch (index) {\n            case ObjectPropID.Color:\n                return this.color;\n            case ObjectPropID.OutlineColor:\n                return this.strokeColor;\n            case ObjectPropID.FontSize:\n                return this.fontSize;\n            default:\n                return super.getProp(index);\n        }\n    }\n\n    public setProp(index: number, value: any): void {\n        switch (index) {\n            case ObjectPropID.Color:\n                this.color = value;\n                break;\n            case ObjectPropID.OutlineColor:\n                this.strokeColor = value;\n                break;\n            case ObjectPropID.FontSize:\n                this.fontSize = value;\n                break;\n            default:\n                super.setProp(index, value);\n                break;\n        }\n    }\n\n    public setup_beforeAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_beforeAdd(buffer, beginPos);\n\n        buffer.seek(beginPos, 5);\n\n        var iv: number;\n\n        this.font = buffer.readS();\n        this.fontSize = buffer.readShort();\n        this.color = buffer.readColorS();\n        iv = buffer.readByte();\n        this.align = iv == 0 ? \"left\" : (iv == 1 ? \"center\" : \"right\");\n        iv = buffer.readByte();\n        this.valign = iv == 0 ? \"top\" : (iv == 1 ? \"middle\" : \"bottom\");\n        this.leading = buffer.readShort();\n        this.letterSpacing = buffer.readShort();\n        this.ubbEnabled = buffer.readBool();\n        this.autoSize = buffer.readByte();\n        this.underline = buffer.readBool();\n        this.italic = buffer.readBool();\n        this.bold = buffer.readBool();\n        this.singleLine = buffer.readBool();\n        if (buffer.readBool()) {\n            this.strokeColor = buffer.readColorS();\n            this.stroke = buffer.readFloat() + 1;\n        }\n\n        if (buffer.readBool()) //shadow\n            buffer.skip(12);\n\n        if (buffer.readBool())\n            this._templateVars = {};\n    }\n\n    public setup_afterAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_afterAdd(buffer, beginPos);\n\n        buffer.seek(beginPos, 6);\n\n        var str: string = buffer.readS();\n        if (str != null)\n            this.text = str;\n    }\n}\n","export class UBBParser {\n    private _text: string;\n    private _readPos: number = 0;\n\n    protected _handlers: { [index: string]: (tagName: string, end: boolean, attr: string) => string };\n\n    public defaultImgWidth: number = 0;\n    public defaultImgHeight: number = 0;\n    public lastColor: string;\n    public lastSize: string;\n\n    public static inst: UBBParser = new UBBParser();\n\n    constructor() {\n        this._handlers = {};\n        this._handlers[\"url\"] = this.onTag_URL;\n        this._handlers[\"img\"] = this.onTag_IMG;\n        this._handlers[\"b\"] = this.onTag_B;\n        this._handlers[\"i\"] = this.onTag_I;\n        this._handlers[\"u\"] = this.onTag_U;\n        this._handlers[\"sup\"] = this.onTag_Simple;\n        this._handlers[\"sub\"] = this.onTag_Simple;\n        this._handlers[\"color\"] = this.onTag_COLOR;\n        this._handlers[\"font\"] = this.onTag_FONT;\n        this._handlers[\"size\"] = this.onTag_SIZE;\n    }\n\n    protected onTag_URL(tagName: string, end: boolean, attr: string): string {\n        if (!end) {\n            if (attr != null)\n                return \"<a href=\\\"\" + attr + \"\\\" target=\\\"_blank\\\">\";\n            else {\n                var href: string = this.getTagText();\n                return \"<a href=\\\"\" + href + \"\\\" target=\\\"_blank\\\">\";\n            }\n        }\n        else\n            return \"</a>\";\n    }\n\n    protected onTag_IMG(tagName: string, end: boolean, attr: string): string {\n        if (!end) {\n            var src: string = this.getTagText(true);\n            if (!src)\n                return null;\n\n            if (this.defaultImgWidth)\n                return \"<img src=\\\"\" + src + \"\\\" width=\\\"\" + this.defaultImgWidth + \"\\\" height=\\\"\" + this.defaultImgHeight + \"\\\"/>\";\n            else\n                return \"<img src=\\\"\" + src + \"\\\"/>\";\n        }\n        else\n            return null;\n    }\n\n    protected onTag_B(tagName: string, end: boolean, attr: string): string {\n        return end ? (\"</span>\") : (\"<span style='font-weight:bold'>\");\n    }\n\n    protected onTag_I(tagName: string, end: boolean, attr: string): string {\n        return end ? (\"</span>\") : (\"<span style='font-style:italic'>\");\n    }\n\n    protected onTag_U(tagName: string, end: boolean, attr: string): string {\n        return end ? (\"</span>\") : (\"<span style='text-decoration:underline'>\");\n    }\n\n    protected onTag_Simple(tagName: string, end: boolean, attr: string): string {\n        return end ? (\"</\" + tagName + \">\") : (\"<\" + tagName + \">\");\n    }\n\n    protected onTag_COLOR(tagName: string, end: boolean, attr: string): string {\n        if (!end) {\n            this.lastColor = attr;\n            return \"<span style=\\\"color:\" + attr + \"\\\">\";\n        }\n        else\n            return \"</span>\";\n    }\n\n    protected onTag_FONT(tagName: string, end: boolean, attr: string): string {\n        if (!end)\n            return \"<span style=\\\"font-family:\" + attr + \"\\\">\";\n        else\n            return \"</span>\";\n    }\n\n    protected onTag_SIZE(tagName: string, end: boolean, attr: string): string {\n        if (!end) {\n            this.lastSize = attr;\n            return \"<span style=\\\"font-size:\" + attr + \"\\\">\";\n        }\n        else\n            return \"</span>\";\n    }\n\n    protected getTagText(remove?: boolean): string {\n        var pos1: number = this._readPos;\n        var pos2: number;\n        var result: string = \"\";\n        while ((pos2 = this._text.indexOf(\"[\", pos1)) != -1) {\n            if (this._text.charCodeAt(pos2 - 1) == 92)//\\\n            {\n                result += this._text.substring(pos1, pos2 - 1);\n                result += \"[\";\n                pos1 = pos2 + 1;\n            }\n            else {\n                result += this._text.substring(pos1, pos2);\n                break;\n            }\n        }\n        if (pos2 == -1)\n            return null;\n\n        if (remove)\n            this._readPos = pos2;\n\n        return result;\n    }\n\n    public parse(text: string, remove?: boolean): string {\n        this._text = text;\n        this.lastColor = null;\n        this.lastSize = null;\n\n        var pos1: number = 0, pos2: number, pos3: number;\n        var end: boolean;\n        var tag: string, attr: string;\n        var repl: string;\n        var func: Function;\n        var result: string = \"\";\n        while ((pos2 = this._text.indexOf(\"[\", pos1)) != -1) {\n            if (pos2 > 0 && this._text.charCodeAt(pos2 - 1) == 92)//\\\n            {\n                result += this._text.substring(pos1, pos2 - 1);\n                result += \"[\";\n                pos1 = pos2 + 1;\n                continue;\n            }\n\n            result += this._text.substring(pos1, pos2);\n            pos1 = pos2;\n            pos2 = this._text.indexOf(\"]\", pos1);\n            if (pos2 == -1)\n                break;\n\n            end = this._text.charAt(pos1 + 1) == '/';\n            tag = this._text.substring(end ? pos1 + 2 : pos1 + 1, pos2);\n            this._readPos = pos2 + 1;\n            attr = null;\n            repl = null;\n            pos3 = tag.indexOf(\"=\");\n            if (pos3 != -1) {\n                attr = tag.substring(pos3 + 1);\n                tag = tag.substring(0, pos3);\n            }\n            tag = tag.toLowerCase();\n            func = this._handlers[tag];\n            if (func != null) {\n                if (!remove) {\n                    repl = func.call(this, tag, end, attr);\n                    if (repl != null)\n                        result += repl;\n                }\n            }\n            else\n                result += this._text.substring(pos1, this._readPos);\n            pos1 = this._readPos;\n        }\n\n        if (pos1 < this._text.length)\n            result += this._text.substr(pos1);\n\n        this._text = null;\n\n        return result;\n    }\n}\n","import { UIConfig } from './UIConfig';\nimport { UBBParser } from './utils/UBBParser';\nimport { GTextField } from './GTextField';\nexport class GRichTextField extends GTextField {\n    private _div: any;\n\n    constructor() {\n        super();\n        this._text = \"\";\n    }\n\n    public createDisplayObject(): void {\n        // this._displayObject = this._div = new Laya.HTMLDivElement();\n        // this._displayObject.mouseEnabled = true;\n        // this._displayObject[\"$owner\"] = this;\n        throw new Error(\"TODO\");\n    }\n\n    public get div(): any {\n        throw new Error(\"TODO\");\n        return this._div;\n    }\n\n    public set text(value: string) {\n        this._text = value;\n        var text2: string = this._text;\n        if (this._templateVars)\n            text2 = this.parseTemplate(text2);\n        try {\n            this._div.size(this._width, this._height);\n            if (this._ubbEnabled)\n                this._div.innerHTML = UBBParser.inst.parse(text2);\n            else\n                this._div.innerHTML = text2;\n\n            if (this._widthAutoSize || this._heightAutoSize) {\n                var w: number, h: number = 0;\n                if (this._widthAutoSize) {\n                    w = this._div.contextWidth;\n                    if (w > 0)\n                        w += 8;\n                }\n                else\n                    w = this._width;\n\n                if (this._heightAutoSize)\n                    h = this._div.contextHeight;\n                else\n                    h = this._height;\n\n                this._updatingSize = true;\n                this.setSize(w, h);\n                this._updatingSize = false;\n            }\n        }\n        catch (err) {\n            console.log(\"laya reports html error:\" + err);\n        }\n    }\n\n    public get text(): string {\n        return this._text;\n    }\n\n    public get font(): string {\n        return this._div.style.font;\n    }\n\n    public set font(value: string) {\n        if (value)\n            this._div.style.font = value;\n        else\n            this._div.style.font = UIConfig.defaultFont;\n    }\n\n    public get fontSize(): number {\n        return this._div.style.fontSize;\n    }\n\n    public set fontSize(value: number) {\n        this._div.style.fontSize = value;\n    }\n\n    public get color(): string {\n        return this._div.style.color;\n    }\n\n    public set color(value: string) {\n        if (this._div.style.color != value) {\n            this._div.style.color = value;\n            this.refresh();\n            this.updateGear(4);\n        }\n    }\n\n    public get align(): string {\n        return this._div.style.align;\n    }\n\n    public set align(value: string) {\n        if (this._div.style.align != value) {\n            this._div.style.align = value;\n            this.refresh();\n        }\n    }\n\n    public get valign(): string {\n        return this._div.style.valign;\n    }\n\n    public set valign(value: string) {\n        if (this._div.style.valign != value) {\n            this._div.style.valign = value;\n            this.refresh();\n        }\n    }\n\n    public get leading(): number {\n        return this._div.style.leading;\n    }\n\n    public set leading(value: number) {\n        if (this._div.style.leading != value) {\n            this._div.style.leading = value;\n            this.refresh();\n        }\n    }\n\n    public get bold(): boolean {\n        return this._div.style.bold;\n    }\n\n    public set bold(value: boolean) {\n        if (this._div.style.bold != value) {\n            this._div.style.bold = value;\n            this.refresh();\n        }\n    }\n\n    public get italic(): boolean {\n        return this._div.style.italic;\n    }\n\n    public set italic(value: boolean) {\n        if (this._div.style.italic != value) {\n            this._div.style.italic = value;\n            this.refresh();\n        }\n    }\n\n    public get stroke(): number {\n        return this._div.style.stroke;\n    }\n\n    public set stroke(value: number) {\n        if (this._div.style.stroke != value) {\n            this._div.style.stroke = value;\n            this.refresh();\n        }\n    }\n\n    public get strokeColor(): string {\n        return this._div.style.strokeColor;\n    }\n\n    public set strokeColor(value: string) {\n        if (this._div.style.strokeColor != value) {\n            this._div.style.strokeColor = value;\n            this.refresh();\n            this.updateGear(4);\n        }\n    }\n\n    public set ubbEnabled(value: boolean) {\n        this._ubbEnabled = value;\n    }\n\n    public get ubbEnabled(): boolean {\n        return this._ubbEnabled;\n    }\n\n    public get textWidth(): number {\n        var w: number = this._div.contextWidth;\n        if (w > 0)\n            w += 8;\n        return w;\n    }\n\n    private refresh(): void {\n        if (this._text.length > 0 && (<any>this._div)._refresh)\n            (<any>this._div)._refresh();\n    }\n\n    protected updateAutoSize(): void {\n        this._div.style.wordWrap = !this._widthAutoSize;\n    }\n\n    protected handleSizeChanged(): void {\n        if (this._updatingSize)\n            return;\n\n        this._div.size(this._width, this._height);\n        this._div.style.width = this._width;\n        this._div.style.height = this._height;\n    }\n}","import { ByteBuffer } from './utils/ByteBuffer';\nimport { UIConfig } from './UIConfig';\nimport { GTextField } from './GTextField';\nexport class GTextInput extends GTextField {\n    private _input: any;\n    private _prompt: string;\n\n    constructor() {\n        super();\n    }\n\n    public createDisplayObject(): void {\n        throw new Error(\"TODO\");\n        // this._displayObject = this._input = new Laya.Input();\n        // this._displayObject.mouseEnabled = true;\n        // this._displayObject[\"$owner\"] = this;\n    }\n\n    public get nativeInput(): any {\n        return this._input;\n    }\n\n    public set text(value: string) {\n        this._input.text = value;\n    }\n\n    public get text(): string {\n        return this._input.text;\n    }\n\n    public get font(): string {\n        return this._input.font;\n    }\n\n    public set font(value: string) {\n        if (value)\n            this._input.font = value;\n        else\n            this._input.font = UIConfig.defaultFont;\n    }\n\n    public get fontSize(): number {\n        return this._input.fontSize;\n    }\n\n    public set fontSize(value: number) {\n        this._input.fontSize = value;\n    }\n\n    public get color(): string {\n        return this._input.color;\n    }\n\n    public set color(value: string) {\n        this._input.color = value;\n    }\n\n    public get align(): string {\n        return this._input.align;\n    }\n\n    public set align(value: string) {\n        this._input.align = value;\n    }\n\n    public get valign(): string {\n        return this._input.valign;\n    }\n\n    public set valign(value: string) {\n        this._input.valign = value;\n    }\n\n    public get leading(): number {\n        return this._input.leading;\n    }\n\n    public set leading(value: number) {\n        this._input.leading = value;\n    }\n\n    public get bold(): boolean {\n        return this._input.bold;\n    }\n\n    public set bold(value: boolean) {\n        this._input.bold = value;\n    }\n\n    public get italic(): boolean {\n        return this._input.italic;\n    }\n\n    public set italic(value: boolean) {\n        this._input.italic = value;\n    }\n\n    public get singleLine(): boolean {\n        return !this._input.multiline;\n    }\n\n    public set singleLine(value: boolean) {\n        this._input.multiline = !value;\n    }\n\n    public get stroke(): number {\n        return this._input.stroke;\n    }\n\n    public set stroke(value: number) {\n        this._input.stroke = value;\n    }\n\n    public get strokeColor(): string {\n        return this._input.strokeColor;\n    }\n\n    public set strokeColor(value: string) {\n        this._input.strokeColor = value;\n        this.updateGear(4);\n    }\n\n    public get password(): boolean {\n        return this._input.type == \"password\";\n    }\n\n    public set password(value: boolean) {\n        if (value)\n            this._input.type = \"password\";\n        else\n            this._input.type = \"text\";\n    }\n\n    public get keyboardType(): string {\n        return this._input.type;\n    }\n\n    public set keyboardType(value: string) {\n        this._input.type = value;\n    }\n\n    public set editable(value: boolean) {\n        this._input.editable = value;\n    }\n\n    public get editable(): boolean {\n        return this._input.editable;\n    }\n\n    public set maxLength(value: number) {\n        this._input.maxChars = value;\n    }\n\n    public get maxLength(): number {\n        return this._input.maxChars;\n    }\n\n    public set promptText(value: string) {\n        throw \"TODO\";\n        // this._prompt = value;\n        // var str: string = UBBParser.inst.parse(value, true);\n        // this._input.prompt = str;\n        // if (UBBParser.inst.lastColor)\n        //     this._input.promptColor = UBBParser.inst.lastColor;\n    }\n\n    public get promptText(): string {\n        return this._prompt;\n    }\n\n    public set restrict(value: string) {\n        this._input.restrict = value;\n    }\n\n    public get restrict(): string {\n        return this._input.restrict;\n    }\n\n    public get textWidth(): number {\n        return this._input.textWidth;\n    }\n\n    public requestFocus(): void {\n        this._input.focus = true;\n\n        super.requestFocus();\n    }\n\n    protected handleSizeChanged(): void {\n        this._input.size(this._width, this._height);\n    }\n\n    public setup_beforeAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_beforeAdd(buffer, beginPos);\n\n        buffer.seek(beginPos, 4);\n\n        var str: string = buffer.readS();\n        if (str != null)\n            this.promptText = str;\n\n        str = buffer.readS();\n        if (str != null)\n            this._input.restrict = str;\n\n        var iv: number = buffer.readInt();\n        if (iv != 0)\n            this._input.maxChars = iv;\n        iv = buffer.readInt();\n        if (iv != 0) {\n            // TODO keyboardType\n            throw new Error(\"TODO\");\n            // if (iv == 4)\n            //     this.keyboardType = Laya.Input.TYPE_NUMBER;\n            // else if (iv == 3)\n            //     this.keyboardType = Laya.Input.TYPE_URL;\n        }\n        if (buffer.readBool())\n            this.password = true;\n    }\n}","import { UIPackage } from './UIPackage';\r\nimport { GObject } from './GObject';\r\nexport class GObjectPool {\r\n    private _pool: { [index: string]: Array<GObject> };\r\n    private _count: number = 0;\r\n\r\n    constructor() {\r\n        this._pool = {};\r\n    }\r\n\r\n    public clear(): void {\r\n        for (var i1 in this._pool) {\r\n            var arr: Array<GObject> = this._pool[i1];\r\n            var cnt: number = arr.length;\r\n            for (var i: number = 0; i < cnt; i++)\r\n                arr[i].dispose();\r\n        }\r\n        this._pool = {};\r\n        this._count = 0;\r\n    }\r\n\r\n    public get count(): number {\r\n        return this._count;\r\n    }\r\n\r\n    public getObject(url: string): GObject {\r\n        url = UIPackage.normalizeURL(url);\r\n        if (url == null)\r\n            return null;\r\n\r\n        var arr: Array<GObject> = this._pool[url];\r\n        if (arr && arr.length > 0) {\r\n            this._count--;\r\n            return arr.shift();\r\n        }\r\n\r\n        var child: GObject = UIPackage.createObjectFromURL(url);\r\n        return child;\r\n    }\r\n\r\n    public returnObject(obj: GObject): void {\r\n        var url: string = obj.resourceURL;\r\n        if (!url)\r\n            return;\r\n\r\n        var arr: Array<GObject> = this._pool[url];\r\n        if (arr == null) {\r\n            arr = [];\r\n            this._pool[url] = arr;\r\n        }\r\n\r\n        this._count++;\r\n        arr.push(obj);\r\n    }\r\n}\r\n","import { GRoot } from './GRoot';\r\nexport enum LoaderType {\r\n    IMAGE = \"image\",\r\n    ATLAS = \"atlas\",\r\n    AUDIO = \"audio\",\r\n    VIDEO = \"video\",\r\n    JSON = \"json\",\r\n    SCRIPT = \"script\",\r\n    GLSL = \"glsl\",\r\n    BITMAPFONT = \"bitmapFont\",\r\n    SPRITESHEET = \"spritesheet\",\r\n\r\n}\r\nexport class AssetProxy {\r\n    private _resMap: Map<string, string>;\r\n    private _completeCallBack: Function;\r\n    private _errorCallBack: Function;\r\n    constructor() {\r\n        this._resMap = new Map();\r\n    }\r\n\r\n    private static _inst: AssetProxy;\r\n\r\n    public static get inst(): AssetProxy {\r\n        if (!AssetProxy._inst)\r\n            AssetProxy._inst = new AssetProxy();\r\n        return AssetProxy._inst;\r\n    }\r\n\r\n    public getRes(key: string): string {\r\n        return this._resMap.get(key);\r\n    }\r\n\r\n    public load(key: string, url: any, type: string, completeCallBack: Function, _errorCallBack?: Function): void {\r\n        this._resMap.set(key, url);\r\n        this._completeCallBack = completeCallBack;\r\n        this._errorCallBack = _errorCallBack;\r\n        if (GRoot.inst.scene.cache.obj.has(key)) {\r\n            if (this._completeCallBack) {\r\n                return this._completeCallBack();\r\n            }\r\n        }\r\n        switch (type) {\r\n            case LoaderType.IMAGE:\r\n                GRoot.inst.scene.load.image(key, url);\r\n                break;\r\n            case LoaderType.ATLAS:\r\n                GRoot.inst.scene.load.atlas(key, url);\r\n                break;\r\n            case LoaderType.AUDIO:\r\n                GRoot.inst.scene.load.audio(key, url);\r\n                break;\r\n            case LoaderType.VIDEO:\r\n                GRoot.inst.scene.load.video(key, url);\r\n                break;\r\n            case LoaderType.JSON:\r\n                GRoot.inst.scene.load.json(key, url);\r\n                break;\r\n            case LoaderType.SCRIPT:\r\n                GRoot.inst.scene.load.script(key, url);\r\n                break;\r\n            case LoaderType.GLSL:\r\n                GRoot.inst.scene.load.glsl(key, url);\r\n                break;\r\n            case LoaderType.BITMAPFONT:\r\n                GRoot.inst.scene.load.bitmapFont(key, url);\r\n                break;\r\n            case LoaderType.SPRITESHEET:\r\n                GRoot.inst.scene.load.spritesheet(key, url);\r\n                break;\r\n            default:\r\n                GRoot.inst.scene.load.image(key, url);\r\n                break;\r\n        }\r\n    }\r\n\r\n    public startLoad() {\r\n        GRoot.inst.scene.load.on(Phaser.Loader.Events.FILE_COMPLETE, this.onLoadComplete, this);\r\n        GRoot.inst.scene.load.on(Phaser.Loader.Events.FILE_LOAD_ERROR, this.onLoadError, this);\r\n        GRoot.inst.scene.load.start();\r\n    }\r\n\r\n    private onLoadComplete() {\r\n        if (this._completeCallBack) this._completeCallBack();\r\n    }\r\n\r\n    private onLoadError() {\r\n        if (this._errorCallBack) this._errorCallBack();\r\n    }\r\n}\r\n","import { ByteBuffer } from './utils/ByteBuffer';\nimport { UIConfig } from './UIConfig';\nimport { ToolSet } from './utils/ToolSet';\nimport { UIPackage } from './UIPackage';\nimport { LoaderFillType, PackageItemType, ObjectPropID } from './FieldTypes';\nimport { GObjectPool } from './GObjectPool';\nimport { MovieClip } from './display/MovieClip';\nimport { PackageItem } from './PackageItem';\nimport { GObject } from './GObject';\nimport { GComponent } from './GComponent';\nimport { AssetProxy, LoaderType } from './AssetProxy';\nexport class GLoader extends GObject {\n    private _url: string;\n    private _align: string;\n    private _valign: string;\n    private _autoSize: boolean;\n    private _fill: number;\n    private _shrinkOnly: boolean;\n    private _showErrorSign: boolean;\n    private _contentItem: PackageItem;\n    private _content: MovieClip;\n    private _errorSign?: GObject;\n    private _content2?: GComponent;\n\n    private _updatingLayout: boolean;\n\n    private static _errorSignPool: GObjectPool = new GObjectPool();\n\n    constructor() {\n        super();\n        this._url = \"\";\n        this._fill = LoaderFillType.None;\n        this._align = \"left\";\n        this._valign = \"top\";\n        this._showErrorSign = true;\n    }\n\n    public createDisplayObject(): void {\n        super.createDisplayObject();\n        throw new Error(\"TODO\");\n        // this._content = new MovieClip();\n        // this._displayObject.addChild(this._content);\n        // this._displayObject.mouseEnabled = true;\n    }\n\n    public dispose(): void {\n        if (!this._contentItem && this._content.texture) {\n            this.freeExternal(this._content.texture);\n        }\n\n        if (this._content2)\n            this._content2.dispose();\n\n        super.dispose();\n    }\n\n    public get url(): string {\n        return this._url;\n    }\n\n    public set url(value: string) {\n        if (this._url == value)\n            return;\n\n        this._url = value;\n        this.loadContent();\n        this.updateGear(7);\n    }\n\n    public get icon(): string {\n        return this._url;\n    }\n\n    public set icon(value: string) {\n        this.url = value;\n    }\n\n    public get align(): string {\n        return this._align;\n    }\n\n    public set align(value: string) {\n        if (this._align != value) {\n            this._align = value;\n            this.updateLayout();\n        }\n    }\n\n    public get verticalAlign(): string {\n        return this._valign;\n    }\n\n    public set verticalAlign(value: string) {\n        if (this._valign != value) {\n            this._valign = value;\n            this.updateLayout();\n        }\n    }\n\n    public get fill(): number {\n        return this._fill;\n    }\n\n    public set fill(value: number) {\n        if (this._fill != value) {\n            this._fill = value;\n            this.updateLayout();\n        }\n    }\n\n    public get shrinkOnly(): boolean {\n        return this._shrinkOnly;\n    }\n\n    public set shrinkOnly(value: boolean) {\n        if (this._shrinkOnly != value) {\n            this._shrinkOnly = value;\n            this.updateLayout();\n        }\n    }\n\n    public get autoSize(): boolean {\n        return this._autoSize;\n    }\n\n    public set autoSize(value: boolean) {\n        if (this._autoSize != value) {\n            this._autoSize = value;\n            this.updateLayout();\n        }\n    }\n\n    public get playing(): boolean {\n        return this._content.playing;\n    }\n\n    public set playing(value: boolean) {\n        if (this._content.playing != value) {\n            this._content.playing = value;\n            this.updateGear(5);\n        }\n    }\n\n    public get frame(): number {\n        return this._content.frame;\n    }\n\n    public set frame(value: number) {\n        if (this._content.frame != value) {\n            this._content.frame = value;\n            this.updateGear(5);\n        }\n    }\n\n    public get color(): string {\n        return this._content.color;\n    }\n\n    public set color(value: string) {\n        if (this._content.color != value) {\n            this._content.color = value;\n            this.updateGear(4);\n        }\n    }\n\n    public get fillMethod(): number {\n        return this._content.fillMethod;\n    }\n\n    public set fillMethod(value: number) {\n        this._content.fillMethod = value;\n    }\n\n    public get fillOrigin(): number {\n        return this._content.fillOrigin;\n    }\n\n    public set fillOrigin(value: number) {\n        this._content.fillOrigin = value;\n    }\n\n    public get fillClockwise(): boolean {\n        return this._content.fillClockwise;\n    }\n\n    public set fillClockwise(value: boolean) {\n        this._content.fillClockwise = value;\n    }\n\n    public get fillAmount(): number {\n        return this._content.fillAmount;\n    }\n\n    public set fillAmount(value: number) {\n        this._content.fillAmount = value;\n    }\n\n    public get showErrorSign(): boolean {\n        return this._showErrorSign;\n    }\n\n    public set showErrorSign(value: boolean) {\n        this._showErrorSign = value;\n    }\n\n    public get content(): MovieClip {\n        return this._content;\n    }\n\n    public get component(): GComponent {\n        return this._content2;\n    }\n\n    protected loadContent(): void {\n        this.clearContent();\n\n        if (!this._url)\n            return;\n\n        if (ToolSet.startsWith(this._url, \"ui://\"))\n            this.loadFromPackage(this._url);\n        else\n            this.loadExternal();\n    }\n\n    protected loadFromPackage(itemURL: string): void {\n        this._contentItem = UIPackage.getItemByURL(itemURL);\n        if (this._contentItem) {\n            this._contentItem = this._contentItem.getBranch();\n            this.sourceWidth = this._contentItem.width;\n            this.sourceHeight = this._contentItem.height;\n            this._contentItem = this._contentItem.getHighResolution();\n            this._contentItem.load();\n\n            if (this._autoSize)\n                this.setSize(this.sourceWidth, this.sourceHeight);\n\n            if (this._contentItem.type == PackageItemType.Image) {\n                if (!this._contentItem.texture) {\n                    this.setErrorState();\n                }\n                else {\n                    this._content.texture = this._contentItem.texture;\n                    this._content.scale9Grid = this._contentItem.scale9Grid;\n                    this._content.scaleByTile = this._contentItem.scaleByTile;\n                    this._content.tileGridIndice = this._contentItem.tileGridIndice;\n                    this.sourceWidth = this._contentItem.width;\n                    this.sourceHeight = this._contentItem.height;\n                    this.updateLayout();\n                }\n            }\n            else if (this._contentItem.type == PackageItemType.MovieClip) {\n                this.sourceWidth = this._contentItem.width;\n                this.sourceHeight = this._contentItem.height;\n                this._content.interval = this._contentItem.interval;\n                this._content.swing = this._contentItem.swing;\n                this._content.repeatDelay = this._contentItem.repeatDelay;\n                this._content.frames = this._contentItem.frames;\n                this.updateLayout();\n            }\n            else if (this._contentItem.type == PackageItemType.Component) {\n                var obj: GObject = UIPackage.createObjectFromURL(itemURL);\n                if (!obj)\n                    this.setErrorState();\n                else if (!(obj instanceof GComponent)) {\n                    obj.dispose();\n                    this.setErrorState();\n                }\n                else {\n                    this._content2 = obj.asCom;\n                    this._displayObject.add(this._content2.displayObject);\n                    this.updateLayout();\n                }\n            }\n            else\n                this.setErrorState();\n        }\n        else\n            this.setErrorState();\n    }\n\n    protected loadExternal(): void {\n        AssetProxy.inst.load(this._url, this._url, LoaderType.IMAGE, this.__getResCompleted);\n        AssetProxy.inst.startLoad();\n        // AssetProxy.inst.load(this._url, Laya.Handler.create(this, this.__getResCompleted), null, Laya.Loader.IMAGE);\n    }\n\n    protected freeExternal(texture: Phaser.Textures.Texture): void {\n    }\n\n    protected onExternalLoadSuccess(texture: Phaser.Textures.Texture): void {\n        throw new Error(\"TODO\");\n        // this._content.texture = texture;\n        // this._content.scale9Grid = null;\n        // this._content.scaleByTile = false;\n        // this.sourceWidth = texture.width;\n        // this.sourceHeight = texture.height;\n        // this.updateLayout();\n    }\n\n    protected onExternalLoadFailed(): void {\n        this.setErrorState();\n    }\n\n    private __getResCompleted(tex: Phaser.Textures.Texture): void {\n        if (tex != null)\n            this.onExternalLoadSuccess(tex);\n        else\n            this.onExternalLoadFailed();\n    }\n\n    private setErrorState(): void {\n        if (!this._showErrorSign)\n            return;\n\n        if (!this._errorSign) {\n            if (UIConfig.loaderErrorSign != null) {\n                this._errorSign = GLoader._errorSignPool.getObject(UIConfig.loaderErrorSign);\n            }\n        }\n\n        if (this._errorSign) {\n            this._errorSign.setSize(this.width, this.height);\n            throw new Error(\"TODO\");\n            // this._displayObject.addChild(this._errorSign.displayObject);\n        }\n    }\n\n    private clearErrorState(): void {\n        if (this._errorSign) {\n            throw new Error(\"TODO\");\n            // this._displayObject.removeChild(this._errorSign.displayObject);\n            GLoader._errorSignPool.returnObject(this._errorSign);\n            this._errorSign = null;\n        }\n    }\n\n    private updateLayout(): void {\n        throw new Error(\"TODO\");\n        // if (!this._content2 && !this._content.texture && !this._content.frames) {\n        //     if (this._autoSize) {\n        //         this._updatingLayout = true;\n        //         this.setSize(50, 30);\n        //         this._updatingLayout = false;\n        //     }\n        //     return;\n        // }\n\n        // let cw = this.sourceWidth;\n        // let ch = this.sourceHeight;\n\n        // if (this._autoSize) {\n        //     this._updatingLayout = true;\n        //     if (cw == 0)\n        //         cw = 50;\n        //     if (ch == 0)\n        //         ch = 30;\n        //     this.setSize(cw, ch);\n        //     this._updatingLayout = false;\n\n        //     if (cw == this._width && ch == this._height) {\n        //         if (this._content2) {\n        //             this._content2.setXY(0, 0);\n        //             this._content2.setScale(1, 1);\n        //         }\n        //         else {\n        //             this._content.size(cw, ch);\n        //             this._content.pos(0, 0);\n        //         }\n        //         return;\n        //     }\n        // }\n\n        // var sx: number = 1, sy: number = 1;\n        // if (this._fill != LoaderFillType.None) {\n        //     sx = this.width / this.sourceWidth;\n        //     sy = this.height / this.sourceHeight;\n\n        //     if (sx != 1 || sy != 1) {\n        //         if (this._fill == LoaderFillType.ScaleMatchHeight)\n        //             sx = sy;\n        //         else if (this._fill == LoaderFillType.ScaleMatchWidth)\n        //             sy = sx;\n        //         else if (this._fill == LoaderFillType.Scale) {\n        //             if (sx > sy)\n        //                 sx = sy;\n        //             else\n        //                 sy = sx;\n        //         }\n        //         else if (this._fill == LoaderFillType.ScaleNoBorder) {\n        //             if (sx > sy)\n        //                 sy = sx;\n        //             else\n        //                 sx = sy;\n        //         }\n\n        //         if (this._shrinkOnly) {\n        //             if (sx > 1)\n        //                 sx = 1;\n        //             if (sy > 1)\n        //                 sy = 1;\n        //         }\n\n        //         cw = this.sourceWidth * sx;\n        //         ch = this.sourceHeight * sy;\n        //     }\n        // }\n\n        // if (this._content2)\n        //     this._content2.setScale(sx, sy);\n        // else\n        //     this._content.size(cw, ch);\n\n        // var nx: number, ny: number;\n        // if (this._align == \"center\")\n        //     nx = Math.floor((this.width - cw) / 2);\n        // else if (this._align == \"right\")\n        //     nx = this.width - cw;\n        // else\n        //     nx = 0;\n        // if (this._valign == \"middle\")\n        //     ny = Math.floor((this.height - ch) / 2);\n        // else if (this._valign == \"bottom\")\n        //     ny = this.height - ch;\n        // else\n        //     ny = 0;\n\n        // if (this._content2)\n        //     this._content2.setXY(nx, ny);\n        // else\n        //     this._content.pos(nx, ny);\n    }\n\n    private clearContent(): void {\n        this.clearErrorState();\n\n        if (!this._contentItem && this._content.texture) {\n            this.freeExternal(this._content.texture);\n        }\n        this._content.texture = null;\n        this._content.frames = null;\n\n        if (this._content2) {\n            this._content2.dispose();\n            this._content2 = null;\n        }\n\n        this._contentItem = null;\n    }\n\n    protected handleSizeChanged(): void {\n        super.handleSizeChanged();\n\n        if (!this._updatingLayout)\n            this.updateLayout();\n    }\n\n    public getProp(index: number): any {\n        switch (index) {\n            case ObjectPropID.Color:\n                return this.color;\n            case ObjectPropID.Playing:\n                return this.playing;\n            case ObjectPropID.Frame:\n                return this.frame;\n            case ObjectPropID.TimeScale:\n                return this._content.timeScale;\n            default:\n                return super.getProp(index);\n        }\n    }\n\n    public setProp(index: number, value: any): void {\n        switch (index) {\n            case ObjectPropID.Color:\n                this.color = value;\n                break;\n            case ObjectPropID.Playing:\n                this.playing = value;\n                break;\n            case ObjectPropID.Frame:\n                this.frame = value;\n                break;\n            case ObjectPropID.TimeScale:\n                this._content.timeScale = value;\n                break;\n            case ObjectPropID.DeltaTime:\n                this._content.advance(value);\n                break;\n            default:\n                super.setProp(index, value);\n                break;\n        }\n    }\n\n    public setup_beforeAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_beforeAdd(buffer, beginPos);\n\n        buffer.seek(beginPos, 5);\n\n        var iv: number;\n\n        this._url = buffer.readS();\n        iv = buffer.readByte();\n        this._align = iv == 0 ? \"left\" : (iv == 1 ? \"center\" : \"right\");\n        iv = buffer.readByte();\n        this._valign = iv == 0 ? \"top\" : (iv == 1 ? \"middle\" : \"bottom\");\n        this._fill = buffer.readByte();\n        this._shrinkOnly = buffer.readBool();\n        this._autoSize = buffer.readBool();\n        this._showErrorSign = buffer.readBool();\n        this._content.playing = buffer.readBool();\n        this._content.frame = buffer.readInt();\n\n        if (buffer.readBool())\n            this.color = buffer.readColorS();\n\n        this._content.fillMethod = buffer.readByte();\n        if (this._content.fillMethod != 0) {\n            this._content.fillOrigin = buffer.readByte();\n            this._content.fillClockwise = buffer.readBool();\n            this._content.fillAmount = buffer.readFloat();\n        }\n\n        if (this._url)\n            this.loadContent();\n    }\n}\n","import { GRoot } from './GRoot';\nimport { PackageItem } from './PackageItem';\nimport { UIPackage } from './UIPackage';\nimport { ByteBuffer } from './utils/ByteBuffer';\nimport { GTextField } from './GTextField';\nimport { UIConfig } from './UIConfig';\nimport { ButtonMode, ObjectPropID } from './FieldTypes';\nimport { Controller } from './Controller';\nimport { GObject } from './GObject';\nimport { GComponent } from \"./GComponent\";\nimport { DisplayObjectEvent, InteractiveEvent } from './event/DisplayObjectEvent';\n\nexport class GButton extends GComponent {\n    protected _titleObject: GObject;\n    protected _iconObject: GObject;\n\n    private _mode: number;\n    private _selected: boolean;\n    private _title: string;\n    private _selectedTitle: string;\n    private _icon: string;\n    private _selectedIcon: string;\n    private _sound: string;\n    private _soundVolumeScale: number = 0;\n    private _buttonController: Controller;\n    private _relatedController: Controller;\n    private _relatedPageId: string;\n    private _changeStateOnClick: boolean;\n    private _linkedPopup?: GObject;\n    private _downEffect: number = 0;\n    private _downEffectValue: number;\n    private _downScaled?: boolean;\n\n    private _down: boolean;\n    private _over: boolean;\n    // private _downTimeEvent: Phaser.Time.TimerEvent;\n    // private _upTimeEvent: Phaser.Time.TimerEvent;\n\n    public static UP: string = \"up\";\n    public static DOWN: string = \"down\";\n    public static OVER: string = \"over\";\n    public static SELECTED_OVER: string = \"selectedOver\";\n    public static DISABLED: string = \"disabled\";\n    public static SELECTED_DISABLED: string = \"selectedDisabled\";\n\n    constructor(scene?: Phaser.Scene) {\n        super(scene);\n\n        this._mode = ButtonMode.Common;\n        this._title = \"\";\n        this._icon = \"\";\n        this._sound = UIConfig.buttonSound;\n        this._soundVolumeScale = UIConfig.buttonSoundVolumeScale;\n        this._changeStateOnClick = true;\n        this._downEffectValue = 0.8;\n    }\n\n    public get icon(): string {\n        return this._icon;\n    }\n\n    public set icon(value: string) {\n        this._icon = value;\n        value = (this._selected && this._selectedIcon) ? this._selectedIcon : this._icon;\n        if (this._iconObject)\n            this._iconObject.icon = value;\n        this.updateGear(7);\n    }\n\n    public get selectedIcon(): string {\n        return this._selectedIcon;\n    }\n\n    public set selectedIcon(value: string) {\n        this._selectedIcon = value;\n        value = (this._selected && this._selectedIcon) ? this._selectedIcon : this._icon;\n        if (this._iconObject)\n            this._iconObject.icon = value;\n    }\n\n    public get title(): string {\n        return this._title;\n    }\n\n    public set title(value: string) {\n        this._title = value;\n        if (this._titleObject)\n            this._titleObject.text = (this._selected && this._selectedTitle) ? this._selectedTitle : this._title;\n        this.updateGear(6);\n    }\n\n    public get text(): string {\n        return this.title;\n    }\n\n    public set text(value: string) {\n        this.title = value;\n    }\n\n    public get selectedTitle(): string {\n        return this._selectedTitle;\n    }\n\n    public set selectedTitle(value: string) {\n        this._selectedTitle = value;\n        if (this._titleObject)\n            this._titleObject.text = (this._selected && this._selectedTitle) ? this._selectedTitle : this._title;\n    }\n\n    public get titleColor(): string {\n        var tf: GTextField = this.getTextField();\n        if (tf)\n            return tf.color;\n        else\n            return \"#000000\";\n    }\n\n    public set titleColor(value: string) {\n        var tf: GTextField = this.getTextField();\n        if (tf)\n            tf.color = value;\n        this.updateGear(4);\n    }\n\n    public get titleFontSize(): number {\n        var tf: GTextField = this.getTextField();\n        if (tf)\n            return tf.fontSize;\n        else\n            return 0;\n    }\n\n    public set titleFontSize(value: number) {\n        var tf: GTextField = this.getTextField();\n        if (tf)\n            tf.fontSize = value;\n    }\n\n    public get sound(): string {\n        return this._sound;\n    }\n\n    public set sound(val: string) {\n        this._sound = val;\n    }\n\n    public get soundVolumeScale(): number {\n        return this._soundVolumeScale;\n    }\n\n    public set soundVolumeScale(value: number) {\n        this._soundVolumeScale = value;\n    }\n\n    public set selected(val: boolean) {\n        if (this._mode == ButtonMode.Common)\n            return;\n\n        if (this._selected != val) {\n            this._selected = val;\n            if (this.grayed && this._buttonController && this._buttonController.hasPage(GButton.DISABLED)) {\n                if (this._selected)\n                    this.setState(GButton.SELECTED_DISABLED);\n                else\n                    this.setState(GButton.DISABLED);\n            }\n            else {\n                if (this._selected)\n                    this.setState(this._over ? GButton.SELECTED_OVER : GButton.DOWN);\n                else\n                    this.setState(this._over ? GButton.OVER : GButton.UP);\n            }\n            if (this._selectedTitle && this._titleObject)\n                this._titleObject.text = this._selected ? this._selectedTitle : this._title;\n            if (this._selectedIcon) {\n                var str: string = this._selected ? this._selectedIcon : this._icon;\n                if (this._iconObject)\n                    this._iconObject.icon = str;\n            }\n            if (this._relatedController\n                && this._parent\n                && !this._parent._buildingDisplayList) {\n                if (this._selected) {\n                    this._relatedController.selectedPageId = this._relatedPageId;\n                    if (this._relatedController.autoRadioGroupDepth)\n                        this._parent.adjustRadioGroupDepth(this, this._relatedController);\n                }\n                else if (this._mode == ButtonMode.Check && this._relatedController.selectedPageId == this._relatedPageId)\n                    this._relatedController.oppositePageId = this._relatedPageId;\n            }\n        }\n    }\n\n    public get selected(): boolean {\n        return this._selected;\n    }\n\n    public get mode(): number {\n        return this._mode;\n    }\n\n    public set mode(value: number) {\n        if (this._mode != value) {\n            if (value == ButtonMode.Common)\n                this.selected = false;\n            this._mode = value;\n        }\n    }\n\n    public get relatedController(): Controller {\n        return this._relatedController;\n    }\n\n    public set relatedController(val: Controller) {\n        if (val != this._relatedController) {\n            this._relatedController = val;\n            this._relatedPageId = null;\n        }\n    }\n\n    public get relatedPageId(): string {\n        return this._relatedPageId;\n    }\n\n    public set relatedPageId(val: string) {\n        this._relatedPageId = val;\n    }\n\n    public get changeStateOnClick(): boolean {\n        return this._changeStateOnClick;\n    }\n\n    public set changeStateOnClick(value: boolean) {\n        this._changeStateOnClick = value;\n    }\n\n    public get linkedPopup(): GObject {\n        return this._linkedPopup;\n    }\n\n    public set linkedPopup(value: GObject) {\n        this._linkedPopup = value;\n    }\n\n    public getTextField(): GTextField {\n        if (this._titleObject instanceof GTextField)\n            return this._titleObject;\n        else if ('getTextField' in this._titleObject)\n            return (<any>this._titleObject).getTextField();\n        else\n            return null;\n    }\n\n    // public fireClick(downEffect?: boolean): void {\n    //     if (downEffect == null) downEffect = true;\n    //     if (downEffect && this._mode == ButtonMode.Common) {\n    //         this.setState(GButton.OVER);\n    //         this._downTimeEvent = GRoot.inst.addTimeEvent(new Phaser.Time.TimerEvent({ delay: 100, callback: this.setState, callbackScope: [GButton.DOWN] }));\n    //         this._upTimeEvent = GRoot.inst.addTimeEvent(new Phaser.Time.TimerEvent({ delay: 200, callback: this.setState, callbackScope: [GButton.UP] }));\n    //         // Laya.timer.once(100, this, this.setState, [GButton.DOWN], false);\n    //         // Laya.timer.once(200, this, this.setState, [GButton.UP], false);\n    //     }\n    //     this.__click(Events.createEvent(InteractiveEvent.GAMEOBJECT_DOWN, this.displayObject));\n    // }\n\n    protected setState(val: string): void {\n        if (this._buttonController)\n            this._buttonController.selectedPage = val;\n\n        // if (this._downEffect == 1) {\n        //     var cnt: number = this.numChildren;\n        //     if (val == GButton.DOWN || val == GButton.SELECTED_OVER || val == GButton.SELECTED_DISABLED) {\n        //         var r: number = this._downEffectValue * 255;\n        //         var color: string = Laya.Utils.toHexColor((r << 16) + (r << 8) + r);\n        //         for (var i: number = 0; i < cnt; i++) {\n        //             var obj: GObject = this.getChildAt(i);\n        //             if (!(obj instanceof GTextField))\n        //                 obj.setProp(ObjectPropID.Color, color);\n        //         }\n        //     }\n        //     else {\n        //         for (i = 0; i < cnt; i++) {\n        //             obj = this.getChildAt(i);\n        //             if (!(obj instanceof GTextField))\n        //                 obj.setProp(ObjectPropID.Color, \"#FFFFFF\");\n        //         }\n        //     }\n        // }\n        // else if (this._downEffect == 2) {\n        //     if (val == GButton.DOWN || val == GButton.SELECTED_OVER || val == GButton.SELECTED_DISABLED) {\n        //         if (!this._downScaled) {\n        //             this.setScale(this.scaleX * this._downEffectValue, this.scaleY * this._downEffectValue);\n        //             this._downScaled = true;\n        //         }\n        //     }\n        //     else {\n        //         if (this._downScaled) {\n        //             this.setScale(this.scaleX / this._downEffectValue, this.scaleY / this._downEffectValue);\n        //             this._downScaled = false;\n        //         }\n        //     }\n        // }\n    }\n\n    public handleControllerChanged(c: Controller): void {\n        super.handleControllerChanged(c);\n\n        if (this._relatedController == c)\n            this.selected = this._relatedPageId == c.selectedPageId;\n    }\n\n    protected handleGrayedChanged(): void {\n        if (this._buttonController && this._buttonController.hasPage(GButton.DISABLED)) {\n            if (this.grayed) {\n                if (this._selected && this._buttonController.hasPage(GButton.SELECTED_DISABLED))\n                    this.setState(GButton.SELECTED_DISABLED);\n                else\n                    this.setState(GButton.DISABLED);\n            }\n            else if (this._selected)\n                this.setState(GButton.DOWN);\n            else\n                this.setState(GButton.UP);\n        }\n        else\n            super.handleGrayedChanged();\n    }\n\n    public getProp(index: number): any {\n        switch (index) {\n            case ObjectPropID.Color:\n                return this.titleColor;\n            case ObjectPropID.OutlineColor:\n                {\n                    var tf: GTextField = this.getTextField();\n                    if (tf)\n                        return tf.strokeColor;\n                    else\n                        return 0;\n                }\n            case ObjectPropID.FontSize:\n                return this.titleFontSize;\n            case ObjectPropID.Selected:\n                return this.selected;\n            default:\n                return super.getProp(index);\n        }\n    }\n\n    public setProp(index: number, value: any): void {\n        switch (index) {\n            case ObjectPropID.Color:\n                this.titleColor = value;\n                break;\n            case ObjectPropID.OutlineColor:\n                {\n                    var tf: GTextField = this.getTextField();\n                    if (tf)\n                        tf.strokeColor = value;\n                }\n                break;\n            case ObjectPropID.FontSize:\n                this.titleFontSize = value;\n                break;\n            case ObjectPropID.Selected:\n                this.selected = value;\n                break;\n            default:\n                super.setProp(index, value);\n                break;\n        }\n    }\n\n    protected constructExtension(buffer: ByteBuffer): void {\n        buffer.seek(0, 6);\n\n        this._mode = buffer.readByte();\n        var str: string = buffer.readS();\n        if (str)\n            this._sound = str;\n        this._soundVolumeScale = buffer.readFloat();\n        this._downEffect = buffer.readByte();\n        this._downEffectValue = buffer.readFloat();\n        if (this._downEffect == 2)\n            this.setPivot(0.5, 0.5, this.pivotAsAnchor);\n\n        this._buttonController = this.getController(\"button\");\n        this._titleObject = this.getChild(\"title\");\n        this._iconObject = this.getChild(\"icon\");\n        if (this._titleObject)\n            this._title = this._titleObject.text;\n        if (this._iconObject)\n            this._icon = this._iconObject.icon;\n\n        if (this._mode == ButtonMode.Common)\n            this.setState(GButton.UP);\n\n        this.on(InteractiveEvent.GAMEOBJECT_OVER, this.__rollover);\n        this.on(InteractiveEvent.GAMEOBJECT_OUT, this.__rollout);\n        this.on(InteractiveEvent.GAMEOBJECT_DOWN, this.__mousedown);\n        this.on(InteractiveEvent.GAMEOBJECT_UP, this.__click);\n    }\n\n    public setup_afterAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_afterAdd(buffer, beginPos);\n\n        if (!buffer.seek(beginPos, 6))\n            return;\n\n        if (buffer.readByte() != this.packageItem.objectType)\n            return;\n\n        var str: string;\n        var iv: number;\n\n        str = buffer.readS();\n        if (str != null)\n            this.title = str;\n        str = buffer.readS();\n        if (str != null)\n            this.selectedTitle = str;\n        str = buffer.readS();\n        if (str != null)\n            this.icon = str;\n        str = buffer.readS();\n        if (str != null)\n            this.selectedIcon = str;\n        if (buffer.readBool())\n            this.titleColor = buffer.readColorS();\n        iv = buffer.readInt();\n        if (iv != 0)\n            this.titleFontSize = iv;\n        iv = buffer.readShort();\n        if (iv >= 0)\n            this._relatedController = this.parent.getControllerAt(iv);\n        this._relatedPageId = buffer.readS();\n\n        str = buffer.readS();\n        if (str != null)\n            this._sound = str;\n        if (buffer.readBool())\n            this._soundVolumeScale = buffer.readFloat();\n\n        this.selected = buffer.readBool();\n    }\n\n    private __rollover(): void {\n        if (!this._buttonController || !this._buttonController.hasPage(GButton.OVER))\n            return;\n\n        this._over = true;\n        if (this._down)\n            return;\n\n        if (this.grayed && this._buttonController.hasPage(GButton.DISABLED))\n            return;\n\n        this.setState(this._selected ? GButton.SELECTED_OVER : GButton.OVER);\n    }\n\n    private __rollout(): void {\n        if (!this._buttonController || !this._buttonController.hasPage(GButton.OVER))\n            return;\n\n        this._over = false;\n        if (this._down)\n            return;\n\n        if (this.grayed && this._buttonController.hasPage(GButton.DISABLED))\n            return;\n\n        this.setState(this._selected ? GButton.DOWN : GButton.UP);\n    }\n\n    private __mousedown(pointer: Phaser.Input.Pointer): void {\n        this._down = true;\n        // GRoot.inst.checkPopups(evt.target);\n\n        this.scene.input.on(InteractiveEvent.POINTER_UP, this.__mouseup);\n\n        if (this._mode == ButtonMode.Common) {\n            if (this.grayed && this._buttonController && this._buttonController.hasPage(GButton.DISABLED))\n                this.setState(GButton.SELECTED_DISABLED);\n            else\n                this.setState(GButton.DOWN);\n        }\n\n        // if (this._linkedPopup) {\n        //     if (this._linkedPopup instanceof Window)\n        //         this._linkedPopup.toggleStatus();\n        //     else\n        //         this.root.togglePopup(this._linkedPopup, this);\n        // }\n    }\n\n    private __mouseup(): void {\n        if (this._down) {\n            this.scene.input.off(InteractiveEvent.POINTER_UP, this.__mouseup);\n            this._down = false;\n\n            if (this._displayObject == null)\n                return;\n\n            if (this._mode == ButtonMode.Common) {\n                if (this.grayed && this._buttonController && this._buttonController.hasPage(GButton.DISABLED))\n                    this.setState(GButton.DISABLED);\n                else if (this._over)\n                    this.setState(GButton.OVER);\n                else\n                    this.setState(GButton.UP);\n            }\n        }\n    }\n\n    private __click(evt: DisplayObjectEvent): void {\n        if (this._sound) {\n            var pi: PackageItem = UIPackage.getItemByURL(this._sound);\n            if (pi)\n                GRoot.inst.playOneShotSound(pi.file);\n            else\n                GRoot.inst.playOneShotSound(this._sound);\n        }\n\n        if (this._mode == ButtonMode.Check) {\n            if (this._changeStateOnClick) {\n                this.selected = !this._selected;\n                // Events.dispatch(Events.STATE_CHANGED, this.displayObject, evt);\n            }\n        }\n        else if (this._mode == ButtonMode.Radio) {\n            if (this._changeStateOnClick && !this._selected) {\n                this.selected = true;\n                // Events.dispatch(Events.STATE_CHANGED, this.displayObject, evt);\n            }\n        }\n        else {\n            if (this._relatedController)\n                this._relatedController.selectedPageId = this._relatedPageId;\n        }\n    }\n}\n","import { GTextInput } from './GTextInput';\nimport { ByteBuffer } from './utils/ByteBuffer';\nimport { ObjectPropID } from './FieldTypes';\nimport { GButton } from './GButton';\nimport { GTextField } from './GTextField';\nimport { GObject } from './GObject';\nimport { GComponent } from \"./GComponent\";\n\nexport class GLabel extends GComponent {\n    protected _titleObject: GObject;\n    protected _iconObject: GObject;\n\n    constructor(scene?: Phaser.Scene) {\n        super(scene);\n    }\n\n    public get icon(): string {\n        if (this._iconObject)\n            return this._iconObject.icon;\n        else\n            return null;\n    }\n\n    public set icon(value: string) {\n        if (this._iconObject)\n            this._iconObject.icon = value;\n        this.updateGear(7);\n    }\n\n    public get title(): string {\n        if (this._titleObject)\n            return this._titleObject.text;\n        else\n            return null;\n    }\n\n    public set title(value: string) {\n        if (this._titleObject)\n            this._titleObject.text = value;\n        this.updateGear(6);\n    }\n\n    public get text(): string {\n        return this.title;\n    }\n\n    public set text(value: string) {\n        this.title = value;\n    }\n\n    public get titleColor(): string {\n        var tf: GTextField = this.getTextField();\n        if (tf)\n            return tf.color;\n        else\n            return \"#000000\";\n    }\n\n    public set titleColor(value: string) {\n        var tf: GTextField = this.getTextField();\n        if (tf)\n            tf.color = value;\n        this.updateGear(4);\n    }\n\n    public get titleFontSize(): number {\n        var tf: GTextField = this.getTextField();\n        if (tf)\n            return tf.fontSize;\n        else\n            return 0;\n    }\n\n    public set titleFontSize(value: number) {\n        var tf: GTextField = this.getTextField();\n        if (tf)\n            tf.fontSize = value;\n    }\n\n    public get color(): string {\n        return this.titleColor;\n    }\n\n    public set color(value: string) {\n        this.titleColor = value;\n    }\n\n    public set editable(val: boolean) {\n        if (this._titleObject instanceof GTextInput)\n            this._titleObject.editable = val;\n    }\n\n    public get editable(): boolean {\n        if (this._titleObject instanceof GTextInput)\n            return this._titleObject.editable;\n        else\n            return false;\n    }\n\n    public getTextField(): GTextField {\n        if (this._titleObject instanceof GTextField)\n            return this._titleObject;\n        else if ((this._titleObject instanceof GLabel) || (this._titleObject instanceof GButton))\n            return this._titleObject.getTextField();\n        else\n            return null;\n    }\n\n    public getProp(index: number): any {\n        switch (index) {\n            case ObjectPropID.Color:\n                return this.titleColor;\n            case ObjectPropID.OutlineColor:\n                {\n                    var tf: GTextField = this.getTextField();\n                    if (tf)\n                        return tf.strokeColor;\n                    else\n                        return 0;\n                }\n            case ObjectPropID.FontSize:\n                return this.titleFontSize;\n            default:\n                return super.getProp(index);\n        }\n    }\n\n    public setProp(index: number, value: any): void {\n        switch (index) {\n            case ObjectPropID.Color:\n                this.titleColor = value;\n                break;\n            case ObjectPropID.OutlineColor:\n                {\n                    var tf: GTextField = this.getTextField();\n                    if (tf)\n                        tf.strokeColor = value;\n                }\n                break;\n            case ObjectPropID.FontSize:\n                this.titleFontSize = value;\n                break;\n            default:\n                super.setProp(index, value);\n                break;\n        }\n    }\n\n    protected constructExtension(buffer: ByteBuffer): void {\n        this._titleObject = this.getChild(\"title\");\n        this._iconObject = this.getChild(\"icon\");\n    }\n\n    public setup_afterAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_afterAdd(buffer, beginPos);\n\n        if (!buffer.seek(beginPos, 6))\n            return;\n\n        if (buffer.readByte() != this.packageItem.objectType)\n            return;\n\n        var str: string;\n        str = buffer.readS();\n        if (str != null)\n            this.title = str;\n        str = buffer.readS();\n        if (str != null)\n            this.icon = str;\n        if (buffer.readBool())\n            this.titleColor = buffer.readColorS();\n        var iv: number = buffer.readInt();\n        if (iv != 0)\n            this.titleFontSize = iv;\n\n        if (buffer.readBool()) {\n            var input: GTextField = this.getTextField();\n            if (input instanceof GTextInput) {\n                str = buffer.readS();\n                if (str != null)\n                    input.promptText = str;\n\n                str = buffer.readS();\n                if (str != null)\n                    input.restrict = str;\n\n                iv = buffer.readInt();\n                if (iv != 0)\n                    input.maxLength = iv;\n                iv = buffer.readInt();\n                if (iv != 0) {\n                    // TODO\n                    // if (iv == 4)\n                    // input.keyboardType = Laya.Input.TYPE_NUMBER;\n                    // else if (iv == 3)\n                    // input.keyboardType = Laya.Input.TYPE_URL;\n                }\n                if (buffer.readBool())\n                    input.password = true;\n            }\n            else\n                buffer.skip(13);\n        }\n    }\n}\n","import { ByteBuffer } from './utils/ByteBuffer';\nimport { GButton } from './GButton';\nimport { GLabel } from './GLabel';\nimport { GTextField } from './GTextField';\nimport { UIConfig } from './UIConfig';\nimport { Controller } from './Controller';\nimport { PopupDirection, ObjectPropID } from './FieldTypes';\nimport { GList } from './GList';\nimport { GObject } from './GObject';\nimport { GComponent } from \"./GComponent\";\n\nexport class GComboBox extends GComponent {\n    public dropdown: GComponent;\n\n    protected _titleObject: GObject;\n    protected _iconObject: GObject;\n    protected _list: GList;\n\n    protected _items: string[];\n    protected _icons?: string[];\n    protected _values: string[];\n    protected _popupDirection: PopupDirection;\n\n    private _visibleItemCount: number;\n    private _itemsUpdated: boolean;\n    private _selectedIndex: number;\n    private _buttonController: Controller;\n    private _selectionController?: Controller;\n\n    private _down: boolean;\n    private _over: boolean;\n\n    constructor(scene?: Phaser.Scene) {\n        super(scene);\n        this._visibleItemCount = UIConfig.defaultComboBoxVisibleItemCount;\n        this._itemsUpdated = true;\n        this._selectedIndex = -1;\n        this._popupDirection = 0;\n        this._items = [];\n        this._values = [];\n    }\n\n    public get text(): string {\n        if (this._titleObject)\n            return this._titleObject.text;\n        else\n            return null;\n    }\n\n    public set text(value: string) {\n        if (this._titleObject)\n            this._titleObject.text = value;\n        this.updateGear(6);\n    }\n\n    public get titleColor(): string {\n        var tf: GTextField = this.getTextField();\n        if (tf)\n            return tf.color;\n        else\n            return \"#000000\";\n    }\n\n    public set titleColor(value: string) {\n        var tf: GTextField = this.getTextField();\n        if (tf)\n            tf.color = value;\n        this.updateGear(4);\n    }\n\n    public get titleFontSize(): number {\n        var tf: GTextField = this.getTextField();\n        if (tf)\n            return tf.fontSize;\n        else\n            return 0;\n    }\n\n    public set titleFontSize(value: number) {\n        var tf: GTextField = this.getTextField();\n        if (tf)\n            tf.fontSize = value;\n    }\n\n    public get icon(): string {\n        if (this._iconObject)\n            return this._iconObject.icon;\n        else\n            return null;\n    }\n\n    public set icon(value: string) {\n        if (this._iconObject)\n            this._iconObject.icon = value;\n        this.updateGear(7);\n    }\n\n    public get visibleItemCount(): number {\n        return this._visibleItemCount;\n    }\n\n    public set visibleItemCount(value: number) {\n        this._visibleItemCount = value;\n    }\n\n    public get popupDirection(): number {\n        return this._popupDirection;\n    }\n\n    public set popupDirection(value: number) {\n        this._popupDirection = value;\n    }\n\n    public get items(): string[] {\n        return this._items;\n    }\n\n    public set items(value: string[]) {\n        if (!value)\n            this._items.length = 0;\n        else\n            this._items = value.concat();\n        if (this._items.length > 0) {\n            if (this._selectedIndex >= this._items.length)\n                this._selectedIndex = this._items.length - 1;\n            else if (this._selectedIndex == -1)\n                this._selectedIndex = 0;\n\n            this.text = this._items[this._selectedIndex];\n            if (this._icons && this._selectedIndex < this._icons.length)\n                this.icon = this._icons[this._selectedIndex];\n        }\n        else {\n            this.text = \"\";\n            if (this._icons)\n                this.icon = null;\n            this._selectedIndex = -1;\n        }\n        this._itemsUpdated = true;\n    }\n\n    public get icons(): string[] {\n        return this._icons;\n    }\n\n    public set icons(value: string[]) {\n        this._icons = value;\n        if (this._icons && this._selectedIndex != -1 && this._selectedIndex < this._icons.length)\n            this.icon = this._icons[this._selectedIndex];\n    }\n\n    public get values(): string[] {\n        return this._values;\n    }\n\n    public set values(value: string[]) {\n        if (!value)\n            this._values.length = 0;\n        else\n            this._values = value.concat();\n    }\n\n    public get selectedIndex(): number {\n        return this._selectedIndex;\n    }\n\n    public set selectedIndex(val: number) {\n        if (this._selectedIndex == val)\n            return;\n\n        this._selectedIndex = val;\n        if (this._selectedIndex >= 0 && this._selectedIndex < this._items.length) {\n            this.text = this._items[this._selectedIndex];\n            if (this._icons && this._selectedIndex < this._icons.length)\n                this.icon = this._icons[this._selectedIndex];\n        }\n        else {\n            this.text = \"\";\n            if (this._icons)\n                this.icon = null;\n        }\n\n        this.updateSelectionController();\n    }\n\n    public get value(): string {\n        return this._values[this._selectedIndex];\n    }\n\n    public set value(val: string) {\n        var index: number = this._values.indexOf(val);\n        if (index == -1 && val == null)\n            index = this._values.indexOf(\"\");\n        this.selectedIndex = index;\n    }\n\n    public getTextField(): GTextField {\n        if (this._titleObject instanceof GTextField)\n            return this._titleObject;\n        else if ((this._titleObject instanceof GLabel) || (this._titleObject instanceof GButton))\n            return this._titleObject.getTextField();\n        else\n            return null;\n    }\n\n    protected setState(val: string): void {\n        if (this._buttonController)\n            this._buttonController.selectedPage = val;\n    }\n\n    public get selectionController(): Controller {\n        return this._selectionController;\n    }\n\n    public set selectionController(value: Controller) {\n        this._selectionController = value;\n    }\n\n    public handleControllerChanged(c: Controller): void {\n        super.handleControllerChanged(c);\n\n        if (this._selectionController == c)\n            this.selectedIndex = c.selectedIndex;\n    }\n\n    private updateSelectionController(): void {\n        if (this._selectionController && !this._selectionController.changing\n            && this._selectedIndex < this._selectionController.pageCount) {\n            var c: Controller = this._selectionController;\n            this._selectionController = null;\n            c.selectedIndex = this._selectedIndex;\n            this._selectionController = c;\n        }\n    }\n\n    public dispose(): void {\n        if (this.dropdown) {\n            this.dropdown.dispose();\n            this.dropdown = null;\n        }\n\n        this._selectionController = null;\n\n        super.dispose();\n    }\n\n    public getProp(index: number): any {\n        switch (index) {\n            case ObjectPropID.Color:\n                return this.titleColor;\n            case ObjectPropID.OutlineColor:\n                {\n                    var tf: GTextField = this.getTextField();\n                    if (tf)\n                        return tf.strokeColor;\n                    else\n                        return 0;\n                }\n            case ObjectPropID.FontSize:\n                {\n                    tf = this.getTextField();\n                    if (tf)\n                        return tf.fontSize;\n                    else\n                        return 0;\n                }\n            default:\n                return super.getProp(index);\n        }\n    }\n\n    public setProp(index: number, value: any): void {\n        switch (index) {\n            case ObjectPropID.Color:\n                this.titleColor = value;\n                break;\n            case ObjectPropID.OutlineColor:\n                {\n                    var tf: GTextField = this.getTextField();\n                    if (tf)\n                        tf.strokeColor = value;\n                }\n                break;\n            case ObjectPropID.FontSize:\n                {\n                    tf = this.getTextField();\n                    if (tf)\n                        tf.fontSize = value;\n                }\n                break;\n            default:\n                super.setProp(index, value);\n                break;\n        }\n    }\n\n    protected constructExtension(buffer: ByteBuffer): void {\n        throw new Error(\"TODO\");\n\n        // var str: string;\n\n        // this._buttonController = this.getController(\"button\");\n        // this._titleObject = this.getChild(\"title\");\n        // this._iconObject = this.getChild(\"icon\");\n\n        // str = buffer.readS();\n        // if (str) {\n        //     this.dropdown = <GComponent>(UIPackage.createObjectFromURL(str));\n        //     if (!this.dropdown) {\n        //         Laya.Log.print(\"下拉框必须为元件\");\n        //         return;\n        //     }\n        //     this.dropdown.name = \"this._dropdownObject\";\n        //     this._list = <GList>this.dropdown.getChild(\"list\");\n        //     if (!this._list) {\n        //         Laya.Log.print(this.resourceURL + \": 下拉框的弹出元件里必须包含名为list的列表\");\n        //         return;\n        //     }\n        //     this._list.on(Events.CLICK_ITEM, this, this.__clickItem);\n\n        //     this._list.addRelation(this.dropdown, RelationType.Width);\n        //     this._list.removeRelation(this.dropdown, RelationType.Height);\n\n        //     this.dropdown.addRelation(this._list, RelationType.Height);\n        //     this.dropdown.removeRelation(this._list, RelationType.Width);\n\n        //     this.dropdown.displayObject.on(Laya.Event.UNDISPLAY, this, this.__popupWinClosed);\n        // }\n\n        // this.on(Laya.Event.ROLL_OVER, this, this.__rollover);\n        // this.on(Laya.Event.ROLL_OUT, this, this.__rollout);\n        // this.on(Laya.Event.MOUSE_DOWN, this, this.__mousedown);\n    }\n\n    public setup_afterAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_afterAdd(buffer, beginPos);\n\n        if (!buffer.seek(beginPos, 6))\n            return;\n\n        if (buffer.readByte() != this.packageItem.objectType)\n            return;\n\n        var i: number;\n        var iv: number;\n        var nextPos: number;\n        var str: string;\n        var itemCount: number = buffer.readShort();\n        for (i = 0; i < itemCount; i++) {\n            nextPos = buffer.readShort();\n            nextPos += buffer.position;\n\n            this._items[i] = buffer.readS();\n            this._values[i] = buffer.readS();\n            str = buffer.readS();\n            if (str != null) {\n                if (!this._icons)\n                    this._icons = [];\n                this._icons[i] = str;\n            }\n\n            buffer.position = nextPos;\n        }\n\n        str = buffer.readS();\n        if (str != null) {\n            this.text = str;\n            this._selectedIndex = this._items.indexOf(str);\n        }\n        else if (this._items.length > 0) {\n            this._selectedIndex = 0;\n            this.text = this._items[0];\n        }\n        else\n            this._selectedIndex = -1;\n\n        str = buffer.readS();\n        if (str != null)\n            this.icon = str;\n\n        if (buffer.readBool())\n            this.titleColor = buffer.readColorS();\n        iv = buffer.readInt();\n        if (iv > 0)\n            this._visibleItemCount = iv;\n        this._popupDirection = buffer.readByte();\n\n        iv = buffer.readShort();\n        if (iv >= 0)\n            this._selectionController = this.parent.getControllerAt(iv);\n    }\n\n    protected showDropdown(): void {\n        throw new Error(\"TODO\");\n        // if (this._itemsUpdated) {\n        //     this._itemsUpdated = false;\n\n        //     this._list.removeChildrenToPool();\n        //     var cnt: number = this._items.length;\n        //     for (var i: number = 0; i < cnt; i++) {\n        //         var item: GObject = this._list.addItemFromPool();\n        //         item.name = i < this._values.length ? this._values[i] : \"\";\n        //         item.text = this._items[i];\n        //         item.icon = (this._icons && i < this._icons.length) ? this._icons[i] : null;\n        //     }\n        //     this._list.resizeToFit(this._visibleItemCount);\n        // }\n        // this._list.selectedIndex = -1;\n        // this.dropdown.width = this.width;\n        // this._list.ensureBoundsCorrect();\n\n        // var downward: any = null;\n        // if (this._popupDirection == PopupDirection.Down)\n        //     downward = true;\n        // else if (this._popupDirection == PopupDirection.Up)\n        //     downward = false;\n\n        // this.root.togglePopup(this.dropdown, this, downward);\n        // if (this.dropdown.parent)\n        //     this.setState(GButton.DOWN);\n    }\n\n    private __popupWinClosed(): void {\n        if (this._over)\n            this.setState(GButton.OVER);\n        else\n            this.setState(GButton.UP);\n    }\n\n    private __clickItem(itemObject: GObject, evt: any): void {\n        // Laya.timer.callLater(this, this.__clickItem2, [this._list.getChildIndex(itemObject), evt])\n    }\n\n    private __clickItem2(index: number, evt: any): void {\n        throw new Error(\"TODO\");\n        // if (this.dropdown.parent instanceof GRoot)\n        //     this.dropdown.parent.hidePopup();\n\n        // this._selectedIndex = -1;\n        // this.selectedIndex = index;\n        // Events.dispatch(Events.STATE_CHANGED, this.displayObject, evt);\n    }\n\n    private __rollover(): void {\n        this._over = true;\n        if (this._down || this.dropdown && this.dropdown.parent)\n            return;\n\n        this.setState(GButton.OVER);\n    }\n\n    private __rollout(): void {\n        this._over = false;\n        if (this._down || this.dropdown && this.dropdown.parent)\n            return;\n\n        this.setState(GButton.UP);\n    }\n\n    private __mousedown(evt: any): void {\n        throw new Error(\"TODO\");\n\n        // if (evt.target instanceof Laya.Input)\n        //     return;\n\n        // this._down = true;\n        // GRoot.inst.checkPopups(evt.target);\n\n        // Laya.stage.on(Laya.Event.MOUSE_UP, this, this.__mouseup);\n\n        // if (this.dropdown)\n        //     this.showDropdown();\n    }\n\n    private __mouseup(): void {\n        throw new Error(\"TODO\");\n        // if (this._down) {\n        //     this._down = false;\n        //     Laya.stage.off(Laya.Event.MOUSE_UP, this, this.__mouseup);\n\n        //     if (this.dropdown && !this.dropdown.parent) {\n        //         if (this._over)\n        //             this.setState(GButton.OVER);\n        //         else\n        //             this.setState(GButton.UP);\n        //     }\n        // }\n    }\n}\n","import { ByteBuffer } from './utils/ByteBuffer';\nimport { Events } from './Events';\nimport { ToolSet } from './utils/ToolSet';\nimport { ProgressTitleType } from './FieldTypes';\nimport { GObject } from './GObject';\nimport { GComponent } from \"./GComponent\";\n\nexport class GSlider extends GComponent {\n    private _min: number = 0;\n    private _max: number = 0;\n    private _value: number = 0;\n    private _titleType: number;\n    private _reverse: boolean;\n    private _wholeNumbers: boolean;\n\n    private _titleObject: GObject;\n    private _barObjectH: GObject;\n    private _barObjectV: GObject;\n    private _barMaxWidth: number = 0;\n    private _barMaxHeight: number = 0;\n    private _barMaxWidthDelta: number = 0;\n    private _barMaxHeightDelta: number = 0;\n    private _gripObject: GObject;\n    private _clickPos: Phaser.Geom.Point;\n    private _clickPercent: number = 0;\n    private _barStartX: number = 0;\n    private _barStartY: number = 0;\n\n    public changeOnClick: boolean = true;\n\n    /**是否可拖动开关**/\n    public canDrag: boolean = true;\n\n    constructor(scene?: Phaser.Scene) {\n        super(scene);\n\n        this._titleType = ProgressTitleType.Percent;\n        this._value = 50;\n        this._max = 100;\n        this._clickPos = new Phaser.Geom.Point();\n    }\n\n    public get titleType(): number {\n        return this._titleType;\n    }\n\n    public set titleType(value: number) {\n        this._titleType = value;\n    }\n\n    public get wholeNumbers(): boolean {\n        return this._wholeNumbers;\n    }\n\n    public set wholeNumbers(value: boolean) {\n        if (this._wholeNumbers != value) {\n            this._wholeNumbers = value;\n            this.update();\n        }\n    }\n\n    public get min(): number {\n        return this._min;\n    }\n\n    public set min(value: number) {\n        if (this._min != value) {\n            this._min = value;\n            this.update();\n        }\n    }\n\n    public get max(): number {\n        return this._max;\n    }\n\n    public set max(value: number) {\n        if (this._max != value) {\n            this._max = value;\n            this.update();\n        }\n    }\n\n    public get value(): number {\n        return this._value;\n    }\n\n    public set value(value: number) {\n        if (this._value != value) {\n            this._value = value;\n            this.update();\n        }\n    }\n\n    public update(): void {\n        this.updateWithPercent((this._value - this._min) / (this._max - this._min));\n    }\n\n    private updateWithPercent(percent: number, evt?: any): void {\n        percent = ToolSet.clamp01(percent);\n        if (evt) {\n            throw new Error(\"TODO\");\n            var newValue: number = ToolSet.clamp(this._min + (this._max - this._min) * percent, this._min, this._max);\n            if (this._wholeNumbers) {\n                newValue = Math.round(newValue);\n                percent = ToolSet.clamp01((newValue - this._min) / (this._max - this._min));\n            }\n\n            if (newValue != this._value) {\n                this._value = newValue;\n                Events.dispatch(Events.STATE_CHANGED, this.displayObject, evt);\n            }\n        }\n\n        if (this._titleObject) {\n            switch (this._titleType) {\n                case ProgressTitleType.Percent:\n                    this._titleObject.text = Math.floor(percent * 100) + \"%\";\n                    break;\n\n                case ProgressTitleType.ValueAndMax:\n                    this._titleObject.text = this._value + \"/\" + this._max;\n                    break;\n\n                case ProgressTitleType.Value:\n                    this._titleObject.text = \"\" + this._value;\n                    break;\n\n                case ProgressTitleType.Max:\n                    this._titleObject.text = \"\" + this._max;\n                    break;\n            }\n        }\n\n        var fullWidth: number = this.width - this._barMaxWidthDelta;\n        var fullHeight: number = this.height - this._barMaxHeightDelta;\n        if (!this._reverse) {\n            if (this._barObjectH)\n                this._barObjectH.width = Math.round(fullWidth * percent);\n            if (this._barObjectV)\n                this._barObjectV.height = Math.round(fullHeight * percent);\n        }\n        else {\n            if (this._barObjectH) {\n                this._barObjectH.width = Math.round(fullWidth * percent);\n                this._barObjectH.x = this._barStartX + (fullWidth - this._barObjectH.width);\n            }\n            if (this._barObjectV) {\n                this._barObjectV.height = Math.round(fullHeight * percent);\n                this._barObjectV.y = this._barStartY + (fullHeight - this._barObjectV.height);\n            }\n        }\n    }\n\n    protected constructExtension(buffer: ByteBuffer): void {\n        throw new Error(\"TODO\");\n        buffer.seek(0, 6);\n\n        this._titleType = buffer.readByte();\n        this._reverse = buffer.readBool();\n        if (buffer.version >= 2) {\n            this._wholeNumbers = buffer.readBool();\n            this.changeOnClick = buffer.readBool();\n        }\n\n        this._titleObject = this.getChild(\"title\");\n        this._barObjectH = this.getChild(\"bar\");\n        this._barObjectV = this.getChild(\"bar_v\");\n        this._gripObject = this.getChild(\"grip\");\n\n        if (this._barObjectH) {\n            this._barMaxWidth = this._barObjectH.width;\n            this._barMaxWidthDelta = this.width - this._barMaxWidth;\n            this._barStartX = this._barObjectH.x;\n        }\n        if (this._barObjectV) {\n            this._barMaxHeight = this._barObjectV.height;\n            this._barMaxHeightDelta = this.height - this._barMaxHeight;\n            this._barStartY = this._barObjectV.y;\n        }\n        if (this._gripObject) {\n            // this._gripObject.on(Laya.Event.MOUSE_DOWN, this, this.__gripMouseDown);\n        }\n\n        // this.displayObject.on(Laya.Event.MOUSE_DOWN, this, this.__barMouseDown);\n    }\n\n    protected handleSizeChanged(): void {\n        super.handleSizeChanged();\n\n        if (this._barObjectH)\n            this._barMaxWidth = this.width - this._barMaxWidthDelta;\n        if (this._barObjectV)\n            this._barMaxHeight = this.height - this._barMaxHeightDelta;\n        if (!this._underConstruct)\n            this.update();\n    }\n\n    public setup_afterAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_afterAdd(buffer, beginPos);\n\n        if (!buffer.seek(beginPos, 6)) {\n            this.update();\n            return;\n        }\n\n        if (buffer.readByte() != this.packageItem.objectType) {\n            this.update();\n            return;\n        }\n\n        this._value = buffer.readInt();\n        this._max = buffer.readInt();\n        if (buffer.version >= 2)\n            this._min = buffer.readInt();\n\n        this.update();\n    }\n\n    private __gripMouseDown(evt: any): void {\n        // this.canDrag = true;\n        // evt.stopPropagation();\n\n        // this._clickPos = this.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY);\n        // this._clickPercent = ToolSet.clamp01((this._value - this._min) / (this._max - this._min));\n\n        // Laya.stage.on(Laya.Event.MOUSE_MOVE, this, this.__gripMouseMove);\n        // Laya.stage.on(Laya.Event.MOUSE_UP, this, this.__gripMouseUp);\n    }\n\n    private __gripMouseMove(evt: any): void {\n        throw new Error(\"TODO\");\n        // if (!this.canDrag) {\n        //     return;\n        // }\n\n        // var pt: Laya.Point = this.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY, s_vec2);\n        // var deltaX: number = pt.x - this._clickPos.x;\n        // var deltaY: number = pt.y - this._clickPos.y;\n        // if (this._reverse) {\n        //     deltaX = -deltaX;\n        //     deltaY = -deltaY;\n        // }\n        // var percent: number;\n        // if (this._barObjectH)\n        //     percent = this._clickPercent + deltaX / this._barMaxWidth;\n        // else\n        //     percent = this._clickPercent + deltaY / this._barMaxHeight;\n        // this.updateWithPercent(percent, evt);\n    }\n\n    private __gripMouseUp(evt: any): void {\n        throw new Error(\"TODO\");\n        // Laya.stage.off(Laya.Event.MOUSE_MOVE, this, this.__gripMouseMove);\n        // Laya.stage.off(Laya.Event.MOUSE_UP, this, this.__gripMouseUp);\n    }\n\n    private __barMouseDown(evt: any): void {\n        throw new Error(\"TODO\");\n        // if (!this.changeOnClick)\n        //     return;\n\n        // var pt: Laya.Point = this._gripObject.globalToLocal(evt.stageX, evt.stageY, s_vec2);\n        // var percent: number = ToolSet.clamp01((this._value - this._min) / (this._max - this._min));\n        // var delta: number;\n        // if (this._barObjectH)\n        //     delta = pt.x / this._barMaxWidth;\n        // if (this._barObjectV)\n        //     delta = pt.y / this._barMaxHeight;\n        // if (this._reverse)\n        //     percent -= delta;\n        // else\n        //     percent += delta;\n        // this.updateWithPercent(percent, evt);\n    }\n}\n\nvar s_vec2: Phaser.Geom.Point = new Phaser.Geom.Point();\n","import { ByteBuffer } from './utils/ByteBuffer';\nimport { GLoader } from './GLoader';\nimport { GImage } from './GImage';\nimport { ToolSet } from './utils/ToolSet';\nimport { EaseType } from './tween/EaseType';\nimport { GTweener } from './tween/GTweener';\nimport { ProgressTitleType, ObjectPropID, FillMethod } from './FieldTypes';\nimport { GObject } from './GObject';\nimport { GComponent } from \"./GComponent\";\nimport { GTween } from './tween/GTween';\n\nexport class GProgressBar extends GComponent {\n    private _min: number = 0;\n    private _max: number = 0;\n    private _value: number = 0;\n    private _titleType: number;\n    private _reverse: boolean;\n\n    private _titleObject: GObject;\n    private _aniObject: GObject;\n    private _barObjectH: GObject;\n    private _barObjectV: GObject;\n    private _barMaxWidth: number = 0;\n    private _barMaxHeight: number = 0;\n    private _barMaxWidthDelta: number = 0;\n    private _barMaxHeightDelta: number = 0;\n    private _barStartX: number = 0;\n    private _barStartY: number = 0;\n\n    constructor(scene?: Phaser.Scene) {\n        super(scene);\n\n        this._titleType = ProgressTitleType.Percent;\n        this._value = 50;\n        this._max = 100;\n    }\n\n    public get titleType(): number {\n        return this._titleType;\n    }\n\n    public set titleType(value: number) {\n        if (this._titleType != value) {\n            this._titleType = value;\n            this.update(value);\n        }\n    }\n\n    public get min(): number {\n        return this._min;\n    }\n\n    public set min(value: number) {\n        if (this._min != value) {\n            this._min = value;\n            this.update(this._value);\n        }\n    }\n\n    public get max(): number {\n        return this._max;\n    }\n\n    public set max(value: number) {\n        if (this._max != value) {\n            this._max = value;\n            this.update(this._value);\n        }\n    }\n\n    public get value(): number {\n        return this._value;\n    }\n\n    public set value(value: number) {\n\n        if (this._value != value) {\n            GTween.kill(this, false, this.update);\n\n            this._value = value;\n            this.update(value);\n        }\n    }\n\n    public tweenValue(value: number, duration: number): GTweener {\n        var oldValule: number;\n\n        var tweener: GTweener = GTween.getTween(this, this.update);\n        if (tweener) {\n            oldValule = tweener.value.x;\n            tweener.kill();\n        }\n        else\n            oldValule = this._value;\n\n        this._value = value;\n        return GTween.to(oldValule, this._value, duration).setTarget(this, this.update).setEase(EaseType.Linear);\n    }\n\n    public update(newValue: number): void {\n        var percent: number = ToolSet.clamp01((newValue - this._min) / (this._max - this._min));\n        if (this._titleObject) {\n            switch (this._titleType) {\n                case ProgressTitleType.Percent:\n                    this._titleObject.text = Math.floor(percent * 100) + \"%\";\n                    break;\n\n                case ProgressTitleType.ValueAndMax:\n                    this._titleObject.text = Math.floor(newValue) + \"/\" + Math.floor(this._max);\n                    break;\n\n                case ProgressTitleType.Value:\n                    this._titleObject.text = \"\" + Math.floor(newValue);\n                    break;\n\n                case ProgressTitleType.Max:\n                    this._titleObject.text = \"\" + Math.floor(this._max);\n                    break;\n            }\n        }\n\n        var fullWidth: number = this.width - this._barMaxWidthDelta;\n        var fullHeight: number = this.height - this._barMaxHeightDelta;\n        if (!this._reverse) {\n            if (this._barObjectH) {\n                if (!this.setFillAmount(this._barObjectH, percent))\n                    this._barObjectH.width = Math.round(fullWidth * percent);\n            }\n            if (this._barObjectV) {\n                if (!this.setFillAmount(this._barObjectV, percent))\n                    this._barObjectV.height = Math.round(fullHeight * percent);\n            }\n        }\n        else {\n            if (this._barObjectH) {\n                if (!this.setFillAmount(this._barObjectH, 1 - percent)) {\n                    this._barObjectH.width = Math.round(fullWidth * percent);\n                    this._barObjectH.x = this._barStartX + (fullWidth - this._barObjectH.width);\n                }\n\n            }\n            if (this._barObjectV) {\n                if (!this.setFillAmount(this._barObjectV, 1 - percent)) {\n                    this._barObjectV.height = Math.round(fullHeight * percent);\n                    this._barObjectV.y = this._barStartY + (fullHeight - this._barObjectV.height);\n                }\n            }\n        }\n        if (this._aniObject)\n            this._aniObject.setProp(ObjectPropID.Frame, Math.floor(percent * 100));\n    }\n\n    private setFillAmount(bar: GObject, percent: number): boolean {\n        if (((bar instanceof GImage) || (bar instanceof GLoader)) && bar.fillMethod != FillMethod.None) {\n            bar.fillAmount = percent;\n            return true;\n        }\n        else\n            return false;\n    }\n\n    protected constructExtension(buffer: ByteBuffer): void {\n        buffer.seek(0, 6);\n\n        this._titleType = buffer.readByte();\n        this._reverse = buffer.readBool();\n\n        this._titleObject = this.getChild(\"title\");\n        this._barObjectH = this.getChild(\"bar\");\n        this._barObjectV = this.getChild(\"bar_v\");\n        this._aniObject = this.getChild(\"ani\");\n\n        if (this._barObjectH) {\n            this._barMaxWidth = this._barObjectH.width;\n            this._barMaxWidthDelta = this.width - this._barMaxWidth;\n            this._barStartX = this._barObjectH.x;\n        }\n        if (this._barObjectV) {\n            this._barMaxHeight = this._barObjectV.height;\n            this._barMaxHeightDelta = this.height - this._barMaxHeight;\n            this._barStartY = this._barObjectV.y;\n        }\n    }\n\n    protected handleSizeChanged(): void {\n        super.handleSizeChanged();\n\n        if (this._barObjectH)\n            this._barMaxWidth = this.width - this._barMaxWidthDelta;\n        if (this._barObjectV)\n            this._barMaxHeight = this.height - this._barMaxHeightDelta;\n        if (!this._underConstruct)\n            this.update(this._value);\n    }\n\n    public setup_afterAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_afterAdd(buffer, beginPos);\n\n        if (!buffer.seek(beginPos, 6)) {\n            this.update(this._value);\n            return;\n        }\n\n        if (buffer.readByte() != this.packageItem.objectType) {\n            this.update(this._value);\n            return;\n        }\n\n        this._value = buffer.readInt();\n        this._max = buffer.readInt();\n        if (buffer.version >= 2)\n            this._min = buffer.readInt();\n\n        this.update(this._value);\n    }\n}","import { ByteBuffer } from './utils/ByteBuffer';\nimport { ScrollPane } from './ScrollPane';\nimport { GObject } from './GObject';\nimport { GComponent } from \"./GComponent\";\n\nexport class GScrollBar extends GComponent {\n    private _grip: GObject;\n    private _arrowButton1: GObject;\n    private _arrowButton2: GObject;\n    private _bar: GObject;\n    private _target: ScrollPane;\n\n    private _vertical: boolean;\n    private _scrollPerc: number;\n    private _fixedGripSize: boolean;\n\n    private _dragOffset: Phaser.Geom.Point;\n    private _gripDragging: boolean;\n\n    constructor(scene?: Phaser.Scene) {\n        super(scene);\n        this._dragOffset = new Phaser.Geom.Point();\n        this._scrollPerc = 0;\n    }\n\n    public setScrollPane(target: ScrollPane, vertical: boolean): void {\n        this._target = target;\n        this._vertical = vertical;\n    }\n\n    public setDisplayPerc(value: number) {\n        if (this._vertical) {\n            if (!this._fixedGripSize)\n                this._grip.height = Math.floor(value * this._bar.height);\n            this._grip.y = this._bar.y + (this._bar.height - this._grip.height) * this._scrollPerc;\n\n        }\n        else {\n            if (!this._fixedGripSize)\n                this._grip.width = Math.floor(value * this._bar.width);\n            this._grip.x = this._bar.x + (this._bar.width - this._grip.width) * this._scrollPerc;\n        }\n        this._grip.visible = value != 0 && value != 1;\n    }\n\n    public setScrollPerc(val: number) {\n        this._scrollPerc = val;\n        if (this._vertical)\n            this._grip.y = this._bar.y + (this._bar.height - this._grip.height) * this._scrollPerc;\n        else\n            this._grip.x = this._bar.x + (this._bar.width - this._grip.width) * this._scrollPerc;\n    }\n\n    public get minSize(): number {\n        if (this._vertical)\n            return (this._arrowButton1 ? this._arrowButton1.height : 0) + (this._arrowButton2 ? this._arrowButton2.height : 0);\n        else\n            return (this._arrowButton1 ? this._arrowButton1.width : 0) + (this._arrowButton2 ? this._arrowButton2.width : 0);\n    }\n\n    public get gripDragging(): boolean {\n        return this._gripDragging;\n    }\n\n    protected constructExtension(buffer: ByteBuffer): void {\n        throw new Error(\"TODO\");\n        // buffer.seek(0, 6);\n\n        // this._fixedGripSize = buffer.readBool();\n\n        // this._grip = this.getChild(\"grip\");\n        // if (!this._grip) {\n        //     Laya.Log.print(\"需要定义grip\");\n        //     return;\n        // }\n\n        // this._bar = this.getChild(\"bar\");\n        // if (!this._bar) {\n        //     Laya.Log.print(\"需要定义bar\");\n        //     return;\n        // }\n\n        // this._arrowButton1 = this.getChild(\"arrow1\");\n        // this._arrowButton2 = this.getChild(\"arrow2\");\n\n        // this._grip.on(Laya.Event.MOUSE_DOWN, this, this.__gripMouseDown);\n\n        // if (this._arrowButton1)\n        //     this._arrowButton1.on(Laya.Event.MOUSE_DOWN, this, this.__arrowButton1Click);\n        // if (this._arrowButton2)\n        //     this._arrowButton2.on(Laya.Event.MOUSE_DOWN, this, this.__arrowButton2Click);\n\n        // this.on(Laya.Event.MOUSE_DOWN, this, this.__barMouseDown);\n    }\n\n    private __gripMouseDown(evt: any): void {\n        throw new Error(\"TODO\");\n        // evt.stopPropagation();\n\n        // this._gripDragging = true;\n        // this._target.updateScrollBarVisible();\n\n        // Laya.stage.on(Laya.Event.MOUSE_MOVE, this, this.__gripMouseMove);\n        // Laya.stage.on(Laya.Event.MOUSE_UP, this, this.__gripMouseUp);\n\n        // this.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY, this._dragOffset);\n        // this._dragOffset.x -= this._grip.x;\n        // this._dragOffset.y -= this._grip.y;\n    }\n\n    private __gripMouseMove(): void {\n        throw new Error(\"TODO\");\n        // if (!this.onStage)\n        //     return;\n\n        // var pt: Laya.Point = this.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY, s_vec2);\n        // if (this._vertical) {\n        //     var curY: number = pt.y - this._dragOffset.y;\n        //     this._target.setPercY((curY - this._bar.y) / (this._bar.height - this._grip.height), false);\n        // }\n        // else {\n        //     var curX: number = pt.x - this._dragOffset.x;\n        //     this._target.setPercX((curX - this._bar.x) / (this._bar.width - this._grip.width), false);\n        // }\n    }\n\n    private __gripMouseUp(evt: any): void {\n        throw new Error(\"TODO\");\n        // if (!this.onStage)\n        //     return;\n\n        // Laya.stage.off(Laya.Event.MOUSE_MOVE, this, this.__gripMouseMove);\n        // Laya.stage.off(Laya.Event.MOUSE_UP, this, this.__gripMouseUp);\n\n        // this._gripDragging = false;\n        // this._target.updateScrollBarVisible();\n    }\n\n    private __arrowButton1Click(evt: any): void {\n        throw new Error(\"TODO\");\n        // evt.stopPropagation();\n\n        // if (this._vertical)\n        //     this._target.scrollUp();\n        // else\n        //     this._target.scrollLeft();\n    }\n\n    private __arrowButton2Click(evt: any): void {\n        throw new Error(\"TODO\");\n        // evt.stopPropagation();\n\n        // if (this._vertical)\n        //     this._target.scrollDown();\n        // else\n        //     this._target.scrollRight();\n    }\n\n    private __barMouseDown(evt: any): void {\n        throw new Error(\"TODO\");\n        // var pt: Laya.Point = this._grip.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY, s_vec2);\n        // if (this._vertical) {\n        //     if (pt.y < 0)\n        //         this._target.scrollUp(4);\n        //     else\n        //         this._target.scrollDown(4);\n        // }\n        // else {\n        //     if (pt.x < 0)\n        //         this._target.scrollLeft(4);\n        //     else\n        //         this._target.scrollRight(4);\n        // }\n    }\n}\n\nvar s_vec2: Phaser.Geom.Point = new Phaser.Geom.Point();\n","import { ByteBuffer } from './utils/ByteBuffer';\nimport { UIConfig } from './UIConfig';\nimport { GButton } from './GButton';\nimport { GObjectPool } from './GObjectPool';\nimport { Controller } from './Controller';\nimport { UIPackage } from './UIPackage';\nimport { ListLayoutType, ListSelectionMode, ChildrenRenderOrder, OverflowType } from './FieldTypes';\nimport { GComponent } from \"./GComponent\";\nimport { GObject } from \"./GObject\";\n\nexport class GList extends GComponent {\n    /**\n     * this.itemRenderer(number index, GObject item);\n     */\n    public itemRenderer: (index: number, item: GObject) => void;\n    /**\n     * this.itemProvider(index:number):string;\n     */\n    public itemProvider: (index: number) => string;\n\n    public scrollItemToViewOnClick: boolean;\n    public foldInvisibleItems: boolean;\n\n    private _layout: number;\n    private _lineCount: number = 0;\n    private _columnCount: number = 0;\n    private _lineGap: number = 0;\n    private _columnGap: number = 0;\n    private _defaultItem: string;\n    private _autoResizeItem: boolean;\n    private _selectionMode: number;\n    private _align: string;\n    private _verticalAlign: string;\n    private _selectionController?: Controller;\n\n    private _lastSelectedIndex: number = 0;\n    private _pool: GObjectPool;\n\n    //Virtual List support\n    private _virtual?: boolean;\n    private _loop?: boolean;\n    private _numItems: number = 0;\n    private _realNumItems: number;\n    private _firstIndex: number = 0; //the top left index\n    private _curLineItemCount: number = 0; //item count in one line\n    private _curLineItemCount2: number; //只用在页面模式，表示垂直方向的项目数\n    private _itemSize?: Phaser.Geom.Point;\n    private _virtualListChanged: number = 0; //1-content changed, 2-size changed\n    private _virtualItems?: Array<ItemInfo>;\n    private _eventLocked?: boolean;\n    private itemInfoVer: number = 0; //用来标志item是否在本次处理中已经被重用了\n\n    constructor(scene?: Phaser.Scene) {\n        super(scene);\n        throw new Error(\"TODO\");\n\n        // this._trackBounds = true;\n        // this._pool = new GObjectPool();\n        // this._layout = ListLayoutType.SingleColumn;\n        // this._autoResizeItem = true;\n        // this._lastSelectedIndex = -1;\n        // this._selectionMode = ListSelectionMode.Single;\n        // this.opaque = true;\n        // this.scrollItemToViewOnClick = true;\n        // this._align = \"left\";\n        // this._verticalAlign = \"top\";\n\n        // this._container = new Laya.Sprite();\n        // this._displayObject.addChild(this._container);\n    }\n\n    public dispose(): void {\n        this._pool.clear();\n        super.dispose();\n    }\n\n    public get layout(): number {\n        return this._layout;\n    }\n\n    public set layout(value: number) {\n        if (this._layout != value) {\n            this._layout = value;\n            this.setBoundsChangedFlag();\n            if (this._virtual)\n                this.setVirtualListChangedFlag(true);\n        }\n    }\n\n    public get lineCount(): number {\n        return this._lineCount;\n    }\n\n    public set lineCount(value: number) {\n        if (this._lineCount != value) {\n            this._lineCount = value;\n            if (this._layout == ListLayoutType.FlowVertical || this._layout == ListLayoutType.Pagination) {\n                this.setBoundsChangedFlag();\n                if (this._virtual)\n                    this.setVirtualListChangedFlag(true);\n            }\n        }\n    }\n\n    public get columnCount(): number {\n        return this._columnCount;\n    }\n\n    public set columnCount(value: number) {\n        if (this._columnCount != value) {\n            this._columnCount = value;\n            if (this._layout == ListLayoutType.FlowHorizontal || this._layout == ListLayoutType.Pagination) {\n                this.setBoundsChangedFlag();\n                if (this._virtual)\n                    this.setVirtualListChangedFlag(true);\n            }\n        }\n    }\n\n    public get lineGap(): number {\n        return this._lineGap;\n    }\n\n    public set lineGap(value: number) {\n        if (this._lineGap != value) {\n            this._lineGap = value;\n            this.setBoundsChangedFlag();\n            if (this._virtual)\n                this.setVirtualListChangedFlag(true);\n        }\n    }\n\n    public get columnGap(): number {\n        return this._columnGap;\n    }\n\n    public set columnGap(value: number) {\n        if (this._columnGap != value) {\n            this._columnGap = value;\n            this.setBoundsChangedFlag();\n            if (this._virtual)\n                this.setVirtualListChangedFlag(true);\n        }\n    }\n\n    public get align(): string {\n        return this._align;\n    }\n\n    public set align(value: string) {\n        if (this._align != value) {\n            this._align = value;\n            this.setBoundsChangedFlag();\n            if (this._virtual)\n                this.setVirtualListChangedFlag(true);\n        }\n    }\n\n    public get verticalAlign(): string {\n        return this._verticalAlign;\n    }\n\n    public set verticalAlign(value: string) {\n        if (this._verticalAlign != value) {\n            this._verticalAlign = value;\n            this.setBoundsChangedFlag();\n            if (this._virtual)\n                this.setVirtualListChangedFlag(true);\n        }\n    }\n\n    public get virtualItemSize(): Phaser.Geom.Point {\n        return this._itemSize;\n    }\n\n    public set virtualItemSize(value: Phaser.Geom.Point) {\n        if (this._virtual) {\n            if (this._itemSize == null)\n                this._itemSize = new Phaser.Geom.Point();\n            this._itemSize.setTo(value.x, value.y);\n            this.setVirtualListChangedFlag(true);\n        }\n    }\n\n    public get defaultItem(): string {\n        return this._defaultItem;\n    }\n\n    public set defaultItem(val: string) {\n        this._defaultItem = UIPackage.normalizeURL(val);\n    }\n\n    public get autoResizeItem(): boolean {\n        return this._autoResizeItem;\n    }\n\n    public set autoResizeItem(value: boolean) {\n        if (this._autoResizeItem != value) {\n            this._autoResizeItem = value;\n            this.setBoundsChangedFlag();\n            if (this._virtual)\n                this.setVirtualListChangedFlag(true);\n        }\n    }\n\n    public get selectionMode(): number {\n        return this._selectionMode;\n    }\n\n    public set selectionMode(value: number) {\n        this._selectionMode = value;\n    }\n\n    public get selectionController(): Controller {\n        return this._selectionController;\n    }\n\n    public set selectionController(value: Controller) {\n        this._selectionController = value;\n    }\n\n    public get itemPool(): GObjectPool {\n        return this._pool;\n    }\n\n    public getFromPool(url?: string): GObject {\n        if (!url)\n            url = this._defaultItem;\n\n        var obj: GObject = this._pool.getObject(url);\n        if (obj)\n            obj.visible = true;\n        return obj;\n    }\n\n    public returnToPool(obj: GObject): void {\n        throw new Error(\"TODO\");\n        // obj.displayObject.cacheAs = \"none\";\n        // this._pool.returnObject(obj);\n    }\n\n    public addChildAt(child: GObject, index: number): GObject {\n        super.addChildAt(child, index);\n        throw new Error(\"TODO\");\n        // if (child instanceof GButton) {\n        //     child.selected = false;\n        //     child.changeStateOnClick = false;\n        // }\n        // child.on(Laya.Event.CLICK, this, this.__clickItem);\n\n        // return child;\n    }\n\n    public addItem(url?: string): GObject {\n        // if (!url)\n        //     url = this._defaultItem;\n\n        // return this.addChild(UIPackage.createObjectFromURL(url));\n        throw new Error(\"TODO\");\n    }\n\n    public addItemFromPool(url?: string): GObject {\n        throw new Error(\"TODO\");\n        // return this.addChild(this.getFromPool(url));\n    }\n\n    public removeChildAt(index: number, dispose?: boolean): GObject {\n        throw new Error(\"TODO\");\n        // var child: GObject = super.removeChildAt(index);\n        // if (dispose)\n        //     child.dispose();\n        // else\n        //     child.off(Laya.Event.CLICK, this, this.__clickItem);\n\n        // return child;\n    }\n\n    public removeChildToPoolAt(index: number): void {\n        var child: GObject = super.removeChildAt(index);\n        this.returnToPool(child);\n    }\n\n    public removeChildToPool(child: GObject): void {\n        super.removeChild(child);\n        this.returnToPool(child);\n    }\n\n    public removeChildrenToPool(beginIndex?: number, endIndex?: number): void {\n        if (beginIndex == undefined) beginIndex = 0;\n        if (endIndex == undefined) endIndex = -1;\n        if (endIndex < 0 || endIndex >= this._children.length)\n            endIndex = this._children.length - 1;\n\n        for (var i: number = beginIndex; i <= endIndex; ++i)\n            this.removeChildToPoolAt(beginIndex);\n    }\n\n    public get selectedIndex(): number {\n        var i: number;\n        if (this._virtual) {\n            for (i = 0; i < this._realNumItems; i++) {\n                var ii: ItemInfo = this._virtualItems[i];\n                if ((ii.obj instanceof GButton) && ii.obj.selected\n                    || ii.obj == null && ii.selected) {\n                    if (this._loop)\n                        return i % this._numItems;\n                    else\n                        return i;\n                }\n            }\n        }\n        else {\n            var cnt: number = this._children.length;\n            for (i = 0; i < cnt; i++) {\n                var obj: GObject = this._children[i];\n                if ((obj instanceof GButton) && obj.selected)\n                    return i;\n            }\n        }\n\n        return -1;\n    }\n\n    public set selectedIndex(value: number) {\n        if (value >= 0 && value < this.numItems) {\n            if (this._selectionMode != ListSelectionMode.Single)\n                this.clearSelection();\n            this.addSelection(value);\n        }\n        else\n            this.clearSelection();\n    }\n\n    public getSelection(result?: number[]): number[] {\n        if (!result)\n            result = new Array<number>();\n        var i: number;\n        if (this._virtual) {\n            for (i = 0; i < this._realNumItems; i++) {\n                var ii: ItemInfo = this._virtualItems[i];\n                if ((ii.obj instanceof GButton) && ii.obj.selected\n                    || ii.obj == null && ii.selected) {\n                    var j: number = i;\n                    if (this._loop) {\n                        j = i % this._numItems;\n                        if (result.indexOf(j) != -1)\n                            continue;\n                    }\n                    result.push(j);\n                }\n            }\n        }\n        else {\n            var cnt: number = this._children.length;\n            for (i = 0; i < cnt; i++) {\n                var obj: GObject = this._children[i];\n                if ((obj instanceof GButton) && obj.selected)\n                    result.push(i);\n            }\n        }\n        return result;\n    }\n\n    public addSelection(index: number, scrollItToView?: boolean): void {\n        if (this._selectionMode == ListSelectionMode.None)\n            return;\n\n        this.checkVirtualList();\n\n        if (this._selectionMode == ListSelectionMode.Single)\n            this.clearSelection();\n\n        if (scrollItToView)\n            this.scrollToView(index);\n\n        this._lastSelectedIndex = index;\n        var obj: GObject;\n        if (this._virtual) {\n            var ii: ItemInfo = this._virtualItems[index];\n            if (ii.obj)\n                obj = ii.obj;\n            ii.selected = true;\n        }\n        else\n            obj = this.getChildAt(index);\n\n        if ((obj instanceof GButton) && !obj.selected) {\n            obj.selected = true;\n            this.updateSelectionController(index);\n        }\n    }\n\n    public removeSelection(index: number): void {\n        if (this._selectionMode == ListSelectionMode.None)\n            return;\n\n        var obj: GObject;\n        if (this._virtual) {\n            var ii: ItemInfo = this._virtualItems[index];\n            if (ii.obj)\n                obj = ii.obj;\n            ii.selected = false;\n        }\n        else\n            obj = this.getChildAt(index);\n\n        if (obj instanceof GButton)\n            obj.selected = false;\n    }\n\n    public clearSelection(): void {\n        var i: number;\n        if (this._virtual) {\n            for (i = 0; i < this._realNumItems; i++) {\n                var ii: ItemInfo = this._virtualItems[i];\n                if (ii.obj instanceof GButton)\n                    ii.obj.selected = false;\n                ii.selected = false;\n            }\n        }\n        else {\n            var cnt: number = this._children.length;\n            for (i = 0; i < cnt; i++) {\n                var obj: GObject = this._children[i];\n                if (obj instanceof GButton)\n                    obj.selected = false;\n            }\n        }\n    }\n\n    private clearSelectionExcept(g: GObject): void {\n        var i: number;\n        if (this._virtual) {\n            for (i = 0; i < this._realNumItems; i++) {\n                var ii: ItemInfo = this._virtualItems[i];\n                if (ii.obj != g) {\n                    if (ii.obj instanceof GButton)\n                        ii.obj.selected = false;\n                    ii.selected = false;\n                }\n            }\n        }\n        else {\n            var cnt: number = this._children.length;\n            for (i = 0; i < cnt; i++) {\n                var obj: GObject = this._children[i];\n                if ((obj instanceof GButton) && obj != g)\n                    obj.selected = false;\n            }\n        }\n    }\n\n    public selectAll(): void {\n        this.checkVirtualList();\n\n        var last: number = -1;\n        var i: number;\n        if (this._virtual) {\n            for (i = 0; i < this._realNumItems; i++) {\n                var ii: ItemInfo = this._virtualItems[i];\n                if ((ii.obj instanceof GButton) && !ii.obj.selected) {\n                    ii.obj.selected = true;\n                    last = i;\n                }\n                ii.selected = true;\n            }\n        }\n        else {\n            var cnt: number = this._children.length;\n            for (i = 0; i < cnt; i++) {\n                var obj: GObject = this._children[i];\n                if ((obj instanceof GButton) && !obj.selected) {\n                    obj.selected = true;\n                    last = i;\n                }\n            }\n        }\n\n        if (last != -1)\n            this.updateSelectionController(last);\n    }\n\n    public selectNone(): void {\n        this.clearSelection();\n    }\n\n    public selectReverse(): void {\n        this.checkVirtualList();\n\n        var last: number = -1;\n        var i: number;\n        if (this._virtual) {\n            for (i = 0; i < this._realNumItems; i++) {\n                var ii: ItemInfo = this._virtualItems[i];\n                if (ii.obj instanceof GButton) {\n                    ii.obj.selected = !ii.obj.selected;\n                    if (ii.obj.selected)\n                        last = i;\n                }\n                ii.selected = !ii.selected;\n            }\n        }\n        else {\n            var cnt: number = this._children.length;\n            for (i = 0; i < cnt; i++) {\n                var obj: GObject = this._children[i];\n                if (obj instanceof GButton) {\n                    obj.selected = !obj.selected;\n                    if (obj.selected)\n                        last = i;\n                }\n            }\n        }\n\n        if (last != -1)\n            this.updateSelectionController(last);\n    }\n\n    public handleArrowKey(dir: number): void {\n        var index: number = this.selectedIndex;\n        if (index == -1)\n            return;\n\n        switch (dir) {\n            case 1://up\n                if (this._layout == ListLayoutType.SingleColumn || this._layout == ListLayoutType.FlowVertical) {\n                    index--;\n                    if (index >= 0) {\n                        this.clearSelection();\n                        this.addSelection(index, true);\n                    }\n                }\n                else if (this._layout == ListLayoutType.FlowHorizontal || this._layout == ListLayoutType.Pagination) {\n                    var current: GObject = this._children[index];\n                    var k: number = 0;\n                    for (var i: number = index - 1; i >= 0; i--) {\n                        var obj: GObject = this._children[i];\n                        if (obj.y != current.y) {\n                            current = obj;\n                            break;\n                        }\n                        k++;\n                    }\n                    for (; i >= 0; i--) {\n                        obj = this._children[i];\n                        if (obj.y != current.y) {\n                            this.clearSelection();\n                            this.addSelection(i + k + 1, true);\n                            break;\n                        }\n                    }\n                }\n                break;\n\n            case 3://right\n                if (this._layout == ListLayoutType.SingleRow || this._layout == ListLayoutType.FlowHorizontal || this._layout == ListLayoutType.Pagination) {\n                    index++;\n                    if (index < this.numItems) {\n                        this.clearSelection();\n                        this.addSelection(index, true);\n                    }\n                }\n                else if (this._layout == ListLayoutType.FlowVertical) {\n                    current = this._children[index];\n                    k = 0;\n                    var cnt: number = this._children.length;\n                    for (i = index + 1; i < cnt; i++) {\n                        obj = this._children[i];\n                        if (obj.x != current.x) {\n                            current = obj;\n                            break;\n                        }\n                        k++;\n                    }\n                    for (; i < cnt; i++) {\n                        obj = this._children[i];\n                        if (obj.x != current.x) {\n                            this.clearSelection();\n                            this.addSelection(i - k - 1, true);\n                            break;\n                        }\n                    }\n                }\n                break;\n\n            case 5://down\n                if (this._layout == ListLayoutType.SingleColumn || this._layout == ListLayoutType.FlowVertical) {\n                    index++;\n                    if (index < this.numItems) {\n                        this.clearSelection();\n                        this.addSelection(index, true);\n                    }\n                }\n                else if (this._layout == ListLayoutType.FlowHorizontal || this._layout == ListLayoutType.Pagination) {\n                    current = this._children[index];\n                    k = 0;\n                    cnt = this._children.length;\n                    for (i = index + 1; i < cnt; i++) {\n                        obj = this._children[i];\n                        if (obj.y != current.y) {\n                            current = obj;\n                            break;\n                        }\n                        k++;\n                    }\n                    for (; i < cnt; i++) {\n                        obj = this._children[i];\n                        if (obj.y != current.y) {\n                            this.clearSelection();\n                            this.addSelection(i - k - 1, true);\n                            break;\n                        }\n                    }\n                }\n                break;\n\n            case 7://left\n                if (this._layout == ListLayoutType.SingleRow || this._layout == ListLayoutType.FlowHorizontal || this._layout == ListLayoutType.Pagination) {\n                    index--;\n                    if (index >= 0) {\n                        this.clearSelection();\n                        this.addSelection(index, true);\n                    }\n                }\n                else if (this._layout == ListLayoutType.FlowVertical) {\n                    current = this._children[index];\n                    k = 0;\n                    for (i = index - 1; i >= 0; i--) {\n                        obj = this._children[i];\n                        if (obj.x != current.x) {\n                            current = obj;\n                            break;\n                        }\n                        k++;\n                    }\n                    for (; i >= 0; i--) {\n                        obj = this._children[i];\n                        if (obj.x != current.x) {\n                            this.clearSelection();\n                            this.addSelection(i + k + 1, true);\n                            break;\n                        }\n                    }\n                }\n                break;\n        }\n    }\n\n    private __clickItem(evt: any): void {\n        throw new Error(\"TODO\");\n        // if (this._scrollPane && this._scrollPane.isDragged)\n        //     return;\n\n        // var item: GObject = GObject.cast(evt.currentTarget);\n        // this.setSelectionOnEvent(item, evt);\n\n        // if (this._scrollPane && this.scrollItemToViewOnClick)\n        //     this._scrollPane.scrollToView(item, true);\n\n        // this.dispatchItemEvent(item, Events.createEvent(Events.CLICK_ITEM, this.displayObject, evt));\n    }\n\n    protected dispatchItemEvent(item: GObject, evt: any): void {\n        throw new Error(\"TODO\");\n        // this.displayObject.event(Events.CLICK_ITEM, [item, evt]);\n    }\n\n    private setSelectionOnEvent(item: GObject, evt: any): void {\n        throw new Error(\"TODO\");\n        // if (!(item instanceof GButton) || this._selectionMode == ListSelectionMode.None)\n        //     return;\n\n        // var dontChangeLastIndex: boolean = false;\n        // var index: number = this.childIndexToItemIndex(this.getChildIndex(item));\n\n        // if (this._selectionMode == ListSelectionMode.Single) {\n        //     if (!item.selected) {\n        //         this.clearSelectionExcept(item);\n        //         item.selected = true;\n        //     }\n        // }\n        // else {\n        //     if (evt.shiftKey) {\n        //         if (!item.selected) {\n        //             if (this._lastSelectedIndex != -1) {\n        //                 var min: number = Math.min(this._lastSelectedIndex, index);\n        //                 var max: number = Math.max(this._lastSelectedIndex, index);\n        //                 max = Math.min(max, this.numItems - 1);\n        //                 var i: number;\n        //                 if (this._virtual) {\n        //                     for (i = min; i <= max; i++) {\n        //                         var ii: ItemInfo = this._virtualItems[i];\n        //                         if (ii.obj instanceof GButton)\n        //                             ii.obj.selected = true;\n        //                         ii.selected = true;\n        //                     }\n        //                 }\n        //                 else {\n        //                     for (i = min; i <= max; i++) {\n        //                         var obj: GObject = this.getChildAt(i);\n        //                         if (obj instanceof GButton)\n        //                             obj.selected = true;\n        //                     }\n        //                 }\n\n        //                 dontChangeLastIndex = true;\n        //             }\n        //             else {\n        //                 item.selected = true;\n        //             }\n        //         }\n        //     }\n        //     else if (evt.ctrlKey || this._selectionMode == ListSelectionMode.Multiple_SingleClick) {\n        //         item.selected = !item.selected;\n        //     }\n        //     else {\n        //         if (!item.selected) {\n        //             this.clearSelectionExcept(item);\n        //             item.selected = true;\n        //         }\n        //         else\n        //             this.clearSelectionExcept(item);\n        //     }\n        // }\n\n        // if (!dontChangeLastIndex)\n        //     this._lastSelectedIndex = index;\n\n        // if (item.selected)\n        //     this.updateSelectionController(index);\n    }\n\n    public resizeToFit(itemCount?: number, minSize?: number): void {\n        if (itemCount == null) itemCount = 100000;\n        minSize = minSize || 0;\n        this.ensureBoundsCorrect();\n\n        var curCount: number = this.numItems;\n        if (itemCount > curCount)\n            itemCount = curCount;\n\n        if (this._virtual) {\n            var lineCount: number = Math.ceil(itemCount / this._curLineItemCount);\n            if (this._layout == ListLayoutType.SingleColumn || this._layout == ListLayoutType.FlowHorizontal)\n                this.viewHeight = lineCount * this._itemSize.y + Math.max(0, lineCount - 1) * this._lineGap;\n            else\n                this.viewWidth = lineCount * this._itemSize.x + Math.max(0, lineCount - 1) * this._columnGap;\n        }\n        else if (itemCount == 0) {\n            if (this._layout == ListLayoutType.SingleColumn || this._layout == ListLayoutType.FlowHorizontal)\n                this.viewHeight = minSize;\n            else\n                this.viewWidth = minSize;\n        }\n        else {\n            var i: number = itemCount - 1;\n            var obj: GObject = null;\n            while (i >= 0) {\n                obj = this.getChildAt(i);\n                if (!this.foldInvisibleItems || obj.visible)\n                    break;\n                i--;\n            }\n            if (i < 0) {\n                if (this._layout == ListLayoutType.SingleColumn || this._layout == ListLayoutType.FlowHorizontal)\n                    this.viewHeight = minSize;\n                else\n                    this.viewWidth = minSize;\n            }\n            else {\n                var size: number = 0;\n                if (this._layout == ListLayoutType.SingleColumn || this._layout == ListLayoutType.FlowHorizontal) {\n                    size = obj.y + obj.height;\n                    if (size < minSize)\n                        size = minSize;\n                    this.viewHeight = size;\n                }\n                else {\n                    size = obj.x + obj.width;\n                    if (size < minSize)\n                        size = minSize;\n                    this.viewWidth = size;\n                }\n            }\n        }\n    }\n\n    public getMaxItemWidth(): number {\n        var cnt: number = this._children.length;\n        var max: number = 0;\n        for (var i: number = 0; i < cnt; i++) {\n            var child: GObject = this.getChildAt(i);\n            if (child.width > max)\n                max = child.width;\n        }\n        return max;\n    }\n\n    protected handleSizeChanged(): void {\n        super.handleSizeChanged();\n\n        this.setBoundsChangedFlag();\n        if (this._virtual)\n            this.setVirtualListChangedFlag(true);\n    }\n\n    public handleControllerChanged(c: Controller): void {\n        super.handleControllerChanged(c);\n\n        if (this._selectionController == c)\n            this.selectedIndex = c.selectedIndex;\n    }\n\n    private updateSelectionController(index: number): void {\n        if (this._selectionController && !this._selectionController.changing\n            && index < this._selectionController.pageCount) {\n            var c: Controller = this._selectionController;\n            this._selectionController = null;\n            c.selectedIndex = index;\n            this._selectionController = c;\n        }\n    }\n\n    private shouldSnapToNext(dir: number, delta: number, size: number): boolean {\n        return dir < 0 && delta > UIConfig.defaultScrollSnappingThreshold * size\n            || dir > 0 && delta > (1 - UIConfig.defaultScrollSnappingThreshold) * size\n            || dir == 0 && delta > size / 2;\n    }\n\n    public getSnappingPositionWithDir(xValue: number, yValue: number, xDir: number, yDir: number, result?: Phaser.Geom.Point): Phaser.Geom.Point {\n        if (this._virtual) {\n            if (!result)\n                result = new Phaser.Geom.Point();\n\n            var saved: number;\n            var index: number;\n            var size: number;\n            if (this._layout == ListLayoutType.SingleColumn || this._layout == ListLayoutType.FlowHorizontal) {\n                saved = yValue;\n                s_n = yValue;\n                index = this.getIndexOnPos1(false);\n                yValue = s_n;\n                if (index < this._virtualItems.length && index < this._realNumItems) {\n                    size = this._virtualItems[index].height;\n                    if (this.shouldSnapToNext(yDir, saved - yValue, size))\n                        yValue += size + this._lineGap;\n                }\n            }\n            else if (this._layout == ListLayoutType.SingleRow || this._layout == ListLayoutType.FlowVertical) {\n                saved = xValue;\n                s_n = xValue;\n                index = this.getIndexOnPos2(false);\n                xValue = s_n;\n                if (index < this._virtualItems.length && index < this._realNumItems) {\n                    size = this._virtualItems[index].width;\n                    if (this.shouldSnapToNext(xDir, saved - xValue, size))\n                        xValue += size + this._columnGap;\n                }\n            }\n            else {\n                saved = xValue;\n                s_n = xValue;\n                index = this.getIndexOnPos3(false);\n                xValue = s_n;\n                if (index < this._virtualItems.length && index < this._realNumItems) {\n                    size = this._virtualItems[index].width;\n                    if (this.shouldSnapToNext(xDir, saved - xValue, size))\n                        xValue += size + this._columnGap;\n                }\n            }\n\n            result.x = xValue;\n            result.y = yValue;\n            return result;\n        }\n        else\n            return super.getSnappingPositionWithDir(xValue, yValue, xDir, yDir, result);\n    }\n\n    public scrollToView(index: number, ani?: boolean, setFirst?: boolean): void {\n        throw new Error(\"TODO\");\n        // if (this._virtual) {\n        //     if (this._numItems == 0)\n        //         return;\n\n        //     this.checkVirtualList();\n\n        //     if (index >= this._virtualItems.length)\n        //         throw new Error(\"Invalid child index: \" + index + \">\" + this._virtualItems.length);\n\n        //     if (this._loop)\n        //         index = Math.floor(this._firstIndex / this._numItems) * this._numItems + index;\n\n        //     var rect: Laya.Rectangle;\n        //     var ii: ItemInfo = this._virtualItems[index];\n        //     var pos: number = 0;\n        //     var i: number;\n        //     if (this._layout == ListLayoutType.SingleColumn || this._layout == ListLayoutType.FlowHorizontal) {\n        //         for (i = this._curLineItemCount - 1; i < index; i += this._curLineItemCount)\n        //             pos += this._virtualItems[i].height + this._lineGap;\n        //         rect = new Laya.Rectangle(0, pos, this._itemSize.x, ii.height);\n        //     }\n        //     else if (this._layout == ListLayoutType.SingleRow || this._layout == ListLayoutType.FlowVertical) {\n        //         for (i = this._curLineItemCount - 1; i < index; i += this._curLineItemCount)\n        //             pos += this._virtualItems[i].width + this._columnGap;\n        //         rect = new Laya.Rectangle(pos, 0, ii.width, this._itemSize.y);\n        //     }\n        //     else {\n        //         var page: number = index / (this._curLineItemCount * this._curLineItemCount2);\n        //         rect = new Laya.Rectangle(page * this.viewWidth + (index % this._curLineItemCount) * (ii.width + this._columnGap),\n        //             (index / this._curLineItemCount) % this._curLineItemCount2 * (ii.height + this._lineGap),\n        //             ii.width, ii.height);\n        //     }\n\n        //     if (this._scrollPane)\n        //         this._scrollPane.scrollToView(rect, ani, setFirst);\n        // }\n        // else {\n        //     var obj: GObject = this.getChildAt(index);\n        //     if (this._scrollPane)\n        //         this._scrollPane.scrollToView(obj, ani, setFirst);\n        //     else if (this._parent && this._parent.scrollPane)\n        //         this._parent.scrollPane.scrollToView(obj, ani, setFirst);\n        // }\n    }\n\n    public getFirstChildInView(): number {\n        return this.childIndexToItemIndex(super.getFirstChildInView());\n    }\n\n    public childIndexToItemIndex(index: number): number {\n        if (!this._virtual)\n            return index;\n\n        if (this._layout == ListLayoutType.Pagination) {\n            for (var i: number = this._firstIndex; i < this._realNumItems; i++) {\n                if (this._virtualItems[i].obj) {\n                    index--;\n                    if (index < 0)\n                        return i;\n                }\n            }\n\n            return index;\n        }\n        else {\n            index += this._firstIndex;\n            if (this._loop && this._numItems > 0)\n                index = index % this._numItems;\n\n            return index;\n        }\n    }\n\n    public itemIndexToChildIndex(index: number): number {\n        if (!this._virtual)\n            return index;\n\n        if (this._layout == ListLayoutType.Pagination) {\n            return this.getChildIndex(this._virtualItems[index].obj);\n        }\n        else {\n            if (this._loop && this._numItems > 0) {\n                var j: number = this._firstIndex % this._numItems;\n                if (index >= j)\n                    index = index - j;\n                else\n                    index = this._numItems - j + index;\n            }\n            else\n                index -= this._firstIndex;\n\n            return index;\n        }\n    }\n\n    public setVirtual(): void {\n        this._setVirtual(false);\n    }\n\n    /**\n     * Set the list to be virtual list, and has loop behavior.\n     */\n    public setVirtualAndLoop(): void {\n        this._setVirtual(true);\n    }\n\n    private _setVirtual(loop: boolean): void {\n        throw new Error(\"TODO\");\n        // if (!this._virtual) {\n        //     if (this._scrollPane == null)\n        //         throw new Error(\"Virtual list must be scrollable!\");\n\n        //     if (loop) {\n        //         if (this._layout == ListLayoutType.FlowHorizontal || this._layout == ListLayoutType.FlowVertical)\n        //             throw new Error(\"Loop list instanceof not supported for FlowHorizontal or FlowVertical this.layout!\");\n\n        //         this._scrollPane.bouncebackEffect = false;\n        //     }\n\n        //     this._virtual = true;\n        //     this._loop = loop;\n        //     this._virtualItems = new Array<ItemInfo>();\n        //     this.removeChildrenToPool();\n\n        //     if (this._itemSize == null) {\n        //         this._itemSize = new Phaser.Geom.Point();\n        //         var obj: GObject = this.getFromPool(null);\n        //         if (obj == null) {\n        //             throw new Error(\"Virtual List must have a default list item resource.\");\n        //         }\n        //         else {\n        //             this._itemSize.x = obj.width;\n        //             this._itemSize.y = obj.height;\n        //         }\n        //         this.returnToPool(obj);\n        //     }\n\n        //     if (this._layout == ListLayoutType.SingleColumn || this._layout == ListLayoutType.FlowHorizontal) {\n        //         this._scrollPane.scrollStep = this._itemSize.y;\n        //         if (this._loop)\n        //             this._scrollPane._loop = 2;\n        //     }\n        //     else {\n        //         this._scrollPane.scrollStep = this._itemSize.x;\n        //         if (this._loop)\n        //             this._scrollPane._loop = 1;\n        //     }\n\n        //     this.on(Events.SCROLL, this, this.__scrolled);\n        //     this.setVirtualListChangedFlag(true);\n        // }\n    }\n\n    /**\n     * Set the list item count. \n     * If the list instanceof not virtual, specified number of items will be created. \n     * If the list instanceof virtual, only items in view will be created.\n     */\n    public get numItems(): number {\n        if (this._virtual)\n            return this._numItems;\n        else\n            return this._children.length;\n    }\n\n    public set numItems(value: number) {\n        throw new Error(\"TODO\");\n        // var i: number;\n\n        // if (this._virtual) {\n        //     if (this.itemRenderer == null)\n        //         throw new Error(\"set itemRenderer first!\");\n\n        //     this._numItems = value;\n        //     if (this._loop)\n        //         this._realNumItems = this._numItems * 6;//设置6倍数量，用于循环滚动\n        //     else\n        //         this._realNumItems = this._numItems;\n\n        //     //_virtualItems的设计是只增不减的\n        //     var oldCount: number = this._virtualItems.length;\n        //     if (this._realNumItems > oldCount) {\n        //         for (i = oldCount; i < this._realNumItems; i++) {\n        //             var ii: ItemInfo = {\n        //                 width: this._itemSize.x,\n        //                 height: this._itemSize.y,\n        //                 updateFlag: 0\n        //             };\n\n        //             this._virtualItems.push(ii);\n        //         }\n        //     }\n        //     else {\n        //         for (i = this._realNumItems; i < oldCount; i++)\n        //             this._virtualItems[i].selected = false;\n        //     }\n\n        //     if (this._virtualListChanged != 0)\n        //         Laya.timer.clear(this, this._refreshVirtualList);\n\n        //     //立即刷新\n        //     this._refreshVirtualList();\n        // }\n        // else {\n        //     var cnt: number = this._children.length;\n        //     if (value > cnt) {\n        //         for (i = cnt; i < value; i++) {\n        //             if (this.itemProvider == null)\n        //                 this.addItemFromPool();\n        //             else\n        //                 this.addItemFromPool(this.itemProvider.runWith(i));\n        //         }\n        //     }\n        //     else {\n        //         this.removeChildrenToPool(value, cnt);\n        //     }\n\n        //     if (this.itemRenderer != null) {\n        //         for (i = 0; i < value; i++)\n        //             this.itemRenderer.runWith([i, this.getChildAt(i)]);\n        //     }\n        // }\n    }\n\n    public refreshVirtualList(): void {\n        this.setVirtualListChangedFlag(false);\n    }\n\n    private checkVirtualList(): void {\n        throw new Error(\"TODO\");\n        // if (this._virtualListChanged != 0) {\n        //     this._refreshVirtualList();\n        //     Laya.timer.clear(this, this._refreshVirtualList);\n        // }\n    }\n\n    private setVirtualListChangedFlag(layoutChanged?: boolean): void {\n        throw new Error(\"TODO\");\n        // if (layoutChanged)\n        //     this._virtualListChanged = 2;\n        // else if (this._virtualListChanged == 0)\n        //     this._virtualListChanged = 1;\n\n        // Laya.timer.callLater(this, this._refreshVirtualList);\n    }\n\n    private _refreshVirtualList(): void {\n        throw new Error(\"TODO\");\n        // if (!this._displayObject)\n        //     return;\n\n        // var layoutChanged: boolean = this._virtualListChanged == 2;\n        // this._virtualListChanged = 0;\n        // this._eventLocked = true;\n\n        // if (layoutChanged) {\n        //     if (this._layout == ListLayoutType.SingleColumn || this._layout == ListLayoutType.SingleRow)\n        //         this._curLineItemCount = 1;\n        //     else if (this._layout == ListLayoutType.FlowHorizontal) {\n        //         if (this._columnCount > 0)\n        //             this._curLineItemCount = this._columnCount;\n        //         else {\n        //             this._curLineItemCount = Math.floor((this._scrollPane.viewWidth + this._columnGap) / (this._itemSize.x + this._columnGap));\n        //             if (this._curLineItemCount <= 0)\n        //                 this._curLineItemCount = 1;\n        //         }\n        //     }\n        //     else if (this._layout == ListLayoutType.FlowVertical) {\n        //         if (this._lineCount > 0)\n        //             this._curLineItemCount = this._lineCount;\n        //         else {\n        //             this._curLineItemCount = Math.floor((this._scrollPane.viewHeight + this._lineGap) / (this._itemSize.y + this._lineGap));\n        //             if (this._curLineItemCount <= 0)\n        //                 this._curLineItemCount = 1;\n        //         }\n        //     }\n        //     else //pagination\n        //     {\n        //         if (this._columnCount > 0)\n        //             this._curLineItemCount = this._columnCount;\n        //         else {\n        //             this._curLineItemCount = Math.floor((this._scrollPane.viewWidth + this._columnGap) / (this._itemSize.x + this._columnGap));\n        //             if (this._curLineItemCount <= 0)\n        //                 this._curLineItemCount = 1;\n        //         }\n\n        //         if (this._lineCount > 0)\n        //             this._curLineItemCount2 = this._lineCount;\n        //         else {\n        //             this._curLineItemCount2 = Math.floor((this._scrollPane.viewHeight + this._lineGap) / (this._itemSize.y + this._lineGap));\n        //             if (this._curLineItemCount2 <= 0)\n        //                 this._curLineItemCount2 = 1;\n        //         }\n        //     }\n        // }\n\n        // var ch: number = 0, cw: number = 0;\n        // if (this._realNumItems > 0) {\n        //     var i: number;\n        //     var len: number = Math.ceil(this._realNumItems / this._curLineItemCount) * this._curLineItemCount;\n        //     var len2: number = Math.min(this._curLineItemCount, this._realNumItems);\n        //     if (this._layout == ListLayoutType.SingleColumn || this._layout == ListLayoutType.FlowHorizontal) {\n        //         for (i = 0; i < len; i += this._curLineItemCount)\n        //             ch += this._virtualItems[i].height + this._lineGap;\n        //         if (ch > 0)\n        //             ch -= this._lineGap;\n\n        //         if (this._autoResizeItem)\n        //             cw = this._scrollPane.viewWidth;\n        //         else {\n        //             for (i = 0; i < len2; i++)\n        //                 cw += this._virtualItems[i].width + this._columnGap;\n        //             if (cw > 0)\n        //                 cw -= this._columnGap;\n        //         }\n        //     }\n        //     else if (this._layout == ListLayoutType.SingleRow || this._layout == ListLayoutType.FlowVertical) {\n        //         for (i = 0; i < len; i += this._curLineItemCount)\n        //             cw += this._virtualItems[i].width + this._columnGap;\n        //         if (cw > 0)\n        //             cw -= this._columnGap;\n\n        //         if (this._autoResizeItem)\n        //             ch = this._scrollPane.viewHeight;\n        //         else {\n        //             for (i = 0; i < len2; i++)\n        //                 ch += this._virtualItems[i].height + this._lineGap;\n        //             if (ch > 0)\n        //                 ch -= this._lineGap;\n        //         }\n        //     }\n        //     else {\n        //         var pageCount: number = Math.ceil(len / (this._curLineItemCount * this._curLineItemCount2));\n        //         cw = pageCount * this.viewWidth;\n        //         ch = this.viewHeight;\n        //     }\n        // }\n\n        // this.handleAlign(cw, ch);\n        // this._scrollPane.setContentSize(cw, ch);\n\n        // this._eventLocked = false;\n\n        // this.handleScroll(true);\n    }\n\n    private __scrolled(evt: any): void {\n        throw new Error(\"TODO\");\n        // this.handleScroll(false);\n    }\n\n    private getIndexOnPos1(forceUpdate: boolean): number {\n        throw new Error(\"TODO\");\n        // if (this._realNumItems < this._curLineItemCount) {\n        //     s_n = 0;\n        //     return 0;\n        // }\n\n        // var i: number;\n        // var pos2: number;\n        // var pos3: number;\n\n        // if (this.numChildren > 0 && !forceUpdate) {\n        //     pos2 = this.getChildAt(0).y;\n        //     if (pos2 > s_n) {\n        //         for (i = this._firstIndex - this._curLineItemCount; i >= 0; i -= this._curLineItemCount) {\n        //             pos2 -= (this._virtualItems[i].height + this._lineGap);\n        //             if (pos2 <= s_n) {\n        //                 s_n = pos2;\n        //                 return i;\n        //             }\n        //         }\n\n        //         s_n = 0;\n        //         return 0;\n        //     }\n        //     else {\n        //         for (i = this._firstIndex; i < this._realNumItems; i += this._curLineItemCount) {\n        //             pos3 = pos2 + this._virtualItems[i].height + this._lineGap;\n        //             if (pos3 > s_n) {\n        //                 s_n = pos2;\n        //                 return i;\n        //             }\n        //             pos2 = pos3;\n        //         }\n\n        //         s_n = pos2;\n        //         return this._realNumItems - this._curLineItemCount;\n        //     }\n        // }\n        // else {\n        //     pos2 = 0;\n        //     for (i = 0; i < this._realNumItems; i += this._curLineItemCount) {\n        //         pos3 = pos2 + this._virtualItems[i].height + this._lineGap;\n        //         if (pos3 > s_n) {\n        //             s_n = pos2;\n        //             return i;\n        //         }\n        //         pos2 = pos3;\n        //     }\n\n        //     s_n = pos2;\n        //     return this._realNumItems - this._curLineItemCount;\n        // }\n    }\n\n    private getIndexOnPos2(forceUpdate: boolean): number {\n        throw new Error(\"TODO\");\n        // if (this._realNumItems < this._curLineItemCount) {\n        //     s_n = 0;\n        //     return 0;\n        // }\n\n        // var i: number;\n        // var pos2: number;\n        // var pos3: number;\n\n        // if (this.numChildren > 0 && !forceUpdate) {\n        //     pos2 = this.getChildAt(0).x;\n        //     if (pos2 > s_n) {\n        //         for (i = this._firstIndex - this._curLineItemCount; i >= 0; i -= this._curLineItemCount) {\n        //             pos2 -= (this._virtualItems[i].width + this._columnGap);\n        //             if (pos2 <= s_n) {\n        //                 s_n = pos2;\n        //                 return i;\n        //             }\n        //         }\n\n        //         s_n = 0;\n        //         return 0;\n        //     }\n        //     else {\n        //         for (i = this._firstIndex; i < this._realNumItems; i += this._curLineItemCount) {\n        //             pos3 = pos2 + this._virtualItems[i].width + this._columnGap;\n        //             if (pos3 > s_n) {\n        //                 s_n = pos2;\n        //                 return i;\n        //             }\n        //             pos2 = pos3;\n        //         }\n\n        //         s_n = pos2;\n        //         return this._realNumItems - this._curLineItemCount;\n        //     }\n        // }\n        // else {\n        //     pos2 = 0;\n        //     for (i = 0; i < this._realNumItems; i += this._curLineItemCount) {\n        //         pos3 = pos2 + this._virtualItems[i].width + this._columnGap;\n        //         if (pos3 > s_n) {\n        //             s_n = pos2;\n        //             return i;\n        //         }\n        //         pos2 = pos3;\n        //     }\n\n        //     s_n = pos2;\n        //     return this._realNumItems - this._curLineItemCount;\n        // }\n    }\n\n    private getIndexOnPos3(forceUpdate: boolean): number {\n        throw new Error(\"TODO\");\n        // if (this._realNumItems < this._curLineItemCount) {\n        //     s_n = 0;\n        //     return 0;\n        // }\n\n        // var viewWidth: number = this.viewWidth;\n        // var page: number = Math.floor(s_n / viewWidth);\n        // var startIndex: number = page * (this._curLineItemCount * this._curLineItemCount2);\n        // var pos2: number = page * viewWidth;\n        // var i: number;\n        // var pos3: number;\n        // for (i = 0; i < this._curLineItemCount; i++) {\n        //     pos3 = pos2 + this._virtualItems[startIndex + i].width + this._columnGap;\n        //     if (pos3 > s_n) {\n        //         s_n = pos2;\n        //         return startIndex + i;\n        //     }\n        //     pos2 = pos3;\n        // }\n\n        // s_n = pos2;\n        // return startIndex + this._curLineItemCount - 1;\n    }\n\n    private handleScroll(forceUpdate: boolean): void {\n        // if (this._eventLocked)\n        //     return;\n\n        // if (this._layout == ListLayoutType.SingleColumn || this._layout == ListLayoutType.FlowHorizontal) {\n        //     var enterCounter: number = 0;\n        //     while (this.handleScroll1(forceUpdate)) {\n        //         enterCounter++;\n        //         forceUpdate = false;\n        //         if (enterCounter > 20) {\n        //             console.log(\"FairyGUI: list will never be <the> filled item renderer function always returns a different size.\");\n        //             break;\n        //         }\n        //     }\n        //     this.handleArchOrder1();\n        // }\n        // else if (this._layout == ListLayoutType.SingleRow || this._layout == ListLayoutType.FlowVertical) {\n        //     enterCounter = 0;\n        //     while (this.handleScroll2(forceUpdate)) {\n        //         enterCounter++;\n        //         forceUpdate = false;\n        //         if (enterCounter > 20) {\n        //             console.log(\"FairyGUI: list will never be <the> filled item renderer function always returns a different size.\");\n        //             break;\n        //         }\n        //     }\n        //     this.handleArchOrder2();\n        // }\n        // else {\n        //     this.handleScroll3(forceUpdate);\n        // }\n\n        // this._boundsChanged = false;\n    }\n\n    private handleScroll1(forceUpdate: boolean): boolean {\n        throw new Error(\"TODO\");\n        // var pos: number = this._scrollPane.scrollingPosY;\n        // var max: number = pos + this._scrollPane.viewHeight;\n        // var end: boolean = max == this._scrollPane.contentHeight;//这个标志表示当前需要滚动到最末，无论内容变化大小\n\n        // //寻找当前位置的第一条项目\n        // s_n = pos;\n        // var newFirstIndex: number = this.getIndexOnPos1(forceUpdate);\n        // pos = s_n;\n        // if (newFirstIndex == this._firstIndex && !forceUpdate)\n        //     return false;\n\n        // var oldFirstIndex: number = this._firstIndex;\n        // this._firstIndex = newFirstIndex;\n        // var curIndex: number = newFirstIndex;\n        // var forward: boolean = oldFirstIndex > newFirstIndex;\n        // var childCount: number = this.numChildren;\n        // var lastIndex: number = oldFirstIndex + childCount - 1;\n        // var reuseIndex: number = forward ? lastIndex : oldFirstIndex;\n        // var curX: number = 0, curY: number = pos;\n        // var needRender: boolean;\n        // var deltaSize: number = 0;\n        // var firstItemDeltaSize: number = 0;\n        // var url: string = this._defaultItem;\n        // var ii: ItemInfo, ii2: ItemInfo;\n        // var i: number, j: number;\n        // var partSize: number = (this._scrollPane.viewWidth - this._columnGap * (this._curLineItemCount - 1)) / this._curLineItemCount;\n\n        // this.itemInfoVer++;\n\n        // while (curIndex < this._realNumItems && (end || curY < max)) {\n        //     ii = this._virtualItems[curIndex];\n\n        //     if (ii.obj == null || forceUpdate) {\n        //         if (this.itemProvider != null) {\n        //             url = this.itemProvider.runWith(curIndex % this._numItems);\n        //             if (url == null)\n        //                 url = this._defaultItem;\n        //             url = UIPackage.normalizeURL(url);\n        //         }\n\n        //         if (ii.obj && ii.obj.resourceURL != url) {\n        //             if (ii.obj instanceof GButton)\n        //                 ii.selected = ii.obj.selected;\n        //             this.removeChildToPool(ii.obj);\n        //             ii.obj = null;\n        //         }\n        //     }\n\n        //     if (ii.obj == null) {\n        //         //搜索最适合的重用item，保证每次刷新需要新建或者重新render的item最少\n        //         if (forward) {\n        //             for (j = reuseIndex; j >= oldFirstIndex; j--) {\n        //                 ii2 = this._virtualItems[j];\n        //                 if (ii2.obj && ii2.updateFlag != this.itemInfoVer && ii2.obj.resourceURL == url) {\n        //                     if (ii2.obj instanceof GButton)\n        //                         ii2.selected = ii2.obj.selected;\n        //                     ii.obj = ii2.obj;\n        //                     ii2.obj = null;\n        //                     if (j == reuseIndex)\n        //                         reuseIndex--;\n        //                     break;\n        //                 }\n        //             }\n        //         }\n        //         else {\n        //             for (j = reuseIndex; j <= lastIndex; j++) {\n        //                 ii2 = this._virtualItems[j];\n        //                 if (ii2.obj && ii2.updateFlag != this.itemInfoVer && ii2.obj.resourceURL == url) {\n        //                     if (ii2.obj instanceof GButton)\n        //                         ii2.selected = ii2.obj.selected;\n        //                     ii.obj = ii2.obj;\n        //                     ii2.obj = null;\n        //                     if (j == reuseIndex)\n        //                         reuseIndex++;\n        //                     break;\n        //                 }\n        //             }\n        //         }\n\n        //         if (ii.obj) {\n        //             this.setChildIndex(ii.obj, forward ? curIndex - newFirstIndex : this.numChildren);\n        //         }\n        //         else {\n        //             ii.obj = this._pool.getObject(url);\n        //             if (forward)\n        //                 this.addChildAt(ii.obj, curIndex - newFirstIndex);\n        //             else\n        //                 this.addChild(ii.obj);\n        //         }\n        //         if (ii.obj instanceof GButton)\n        //             ii.obj.selected = ii.selected;\n\n        //         needRender = true;\n        //     }\n        //     else\n        //         needRender = forceUpdate;\n\n        //     if (needRender) {\n        //         if (this._autoResizeItem && (this._layout == ListLayoutType.SingleColumn || this._columnCount > 0))\n        //             ii.obj.setSize(partSize, ii.obj.height, true);\n\n        //         this.itemRenderer.runWith([curIndex % this._numItems, ii.obj]);\n        //         if (curIndex % this._curLineItemCount == 0) {\n        //             deltaSize += Math.ceil(ii.obj.height) - ii.height;\n        //             if (curIndex == newFirstIndex && oldFirstIndex > newFirstIndex) {\n        //                 //当内容向下滚动时，如果新出现的项目大小发生变化，需要做一个位置补偿，才不会导致滚动跳动\n        //                 firstItemDeltaSize = Math.ceil(ii.obj.height) - ii.height;\n        //             }\n        //         }\n        //         ii.width = Math.ceil(ii.obj.width);\n        //         ii.height = Math.ceil(ii.obj.height);\n        //     }\n\n        //     ii.updateFlag = this.itemInfoVer;\n        //     ii.obj.setXY(curX, curY);\n        //     if (curIndex == newFirstIndex) //要显示多一条才不会穿帮\n        //         max += ii.height;\n\n        //     curX += ii.width + this._columnGap;\n\n        //     if (curIndex % this._curLineItemCount == this._curLineItemCount - 1) {\n        //         curX = 0;\n        //         curY += ii.height + this._lineGap;\n        //     }\n        //     curIndex++;\n        // }\n\n        // for (i = 0; i < childCount; i++) {\n        //     ii = this._virtualItems[oldFirstIndex + i];\n        //     if (ii.updateFlag != this.itemInfoVer && ii.obj) {\n        //         if (ii.obj instanceof GButton)\n        //             ii.selected = ii.obj.selected;\n        //         this.removeChildToPool(ii.obj);\n        //         ii.obj = null;\n        //     }\n        // }\n\n        // childCount = this._children.length;\n        // for (i = 0; i < childCount; i++) {\n        //     var obj: GObject = this._virtualItems[newFirstIndex + i].obj;\n        //     if (this._children[i] != obj)\n        //         this.setChildIndex(obj, i);\n        // }\n\n        // if (deltaSize != 0 || firstItemDeltaSize != 0)\n        //     this._scrollPane.changeContentSizeOnScrolling(0, deltaSize, 0, firstItemDeltaSize);\n\n        // if (curIndex > 0 && this.numChildren > 0 && this._container.y <= 0 && this.getChildAt(0).y > -this._container.y)//最后一页没填满！\n        //     return true;\n        // else\n        //     return false;\n    }\n\n    private handleScroll2(forceUpdate: boolean): boolean {\n        throw new Error(\"TODO\");\n        // var pos: number = this._scrollPane.scrollingPosX;\n        // var max: number = pos + this._scrollPane.viewWidth;\n        // var end: boolean = pos == this._scrollPane.contentWidth;//这个标志表示当前需要滚动到最末，无论内容变化大小\n\n        // //寻找当前位置的第一条项目\n        // s_n = pos;\n        // var newFirstIndex: number = this.getIndexOnPos2(forceUpdate);\n        // pos = s_n;\n        // if (newFirstIndex == this._firstIndex && !forceUpdate)\n        //     return false;\n\n        // var oldFirstIndex: number = this._firstIndex;\n        // this._firstIndex = newFirstIndex;\n        // var curIndex: number = newFirstIndex;\n        // var forward: boolean = oldFirstIndex > newFirstIndex;\n        // var childCount: number = this.numChildren;\n        // var lastIndex: number = oldFirstIndex + childCount - 1;\n        // var reuseIndex: number = forward ? lastIndex : oldFirstIndex;\n        // var curX: number = pos, curY: number = 0;\n        // var needRender: boolean;\n        // var deltaSize: number = 0;\n        // var firstItemDeltaSize: number = 0;\n        // var url: string = this._defaultItem;\n        // var ii: ItemInfo, ii2: ItemInfo;\n        // var i: number, j: number;\n        // var partSize: number = (this._scrollPane.viewHeight - this._lineGap * (this._curLineItemCount - 1)) / this._curLineItemCount;\n\n        // this.itemInfoVer++;\n\n        // while (curIndex < this._realNumItems && (end || curX < max)) {\n        //     ii = this._virtualItems[curIndex];\n\n        //     if (ii.obj == null || forceUpdate) {\n        //         if (this.itemProvider != null) {\n        //             url = this.itemProvider.runWith(curIndex % this._numItems);\n        //             if (url == null)\n        //                 url = this._defaultItem;\n        //             url = UIPackage.normalizeURL(url);\n        //         }\n\n        //         if (ii.obj && ii.obj.resourceURL != url) {\n        //             if (ii.obj instanceof GButton)\n        //                 ii.selected = ii.obj.selected;\n        //             this.removeChildToPool(ii.obj);\n        //             ii.obj = null;\n        //         }\n        //     }\n\n        //     if (ii.obj == null) {\n        //         if (forward) {\n        //             for (j = reuseIndex; j >= oldFirstIndex; j--) {\n        //                 ii2 = this._virtualItems[j];\n        //                 if (ii2.obj && ii2.updateFlag != this.itemInfoVer && ii2.obj.resourceURL == url) {\n        //                     if (ii2.obj instanceof GButton)\n        //                         ii2.selected = ii2.obj.selected;\n        //                     ii.obj = ii2.obj;\n        //                     ii2.obj = null;\n        //                     if (j == reuseIndex)\n        //                         reuseIndex--;\n        //                     break;\n        //                 }\n        //             }\n        //         }\n        //         else {\n        //             for (j = reuseIndex; j <= lastIndex; j++) {\n        //                 ii2 = this._virtualItems[j];\n        //                 if (ii2.obj && ii2.updateFlag != this.itemInfoVer && ii2.obj.resourceURL == url) {\n        //                     if (ii2.obj instanceof GButton)\n        //                         ii2.selected = ii2.obj.selected;\n        //                     ii.obj = ii2.obj;\n        //                     ii2.obj = null;\n        //                     if (j == reuseIndex)\n        //                         reuseIndex++;\n        //                     break;\n        //                 }\n        //             }\n        //         }\n\n        //         if (ii.obj) {\n        //             this.setChildIndex(ii.obj, forward ? curIndex - newFirstIndex : this.numChildren);\n        //         }\n        //         else {\n        //             ii.obj = this._pool.getObject(url);\n        //             if (forward)\n        //                 this.addChildAt(ii.obj, curIndex - newFirstIndex);\n        //             else\n        //                 this.addChild(ii.obj);\n        //         }\n        //         if (ii.obj instanceof GButton)\n        //             ii.obj.selected = ii.selected;\n\n        //         needRender = true;\n        //     }\n        //     else\n        //         needRender = forceUpdate;\n\n        //     if (needRender) {\n        //         if (this._autoResizeItem && (this._layout == ListLayoutType.SingleRow || this._lineCount > 0))\n        //             ii.obj.setSize(ii.obj.width, partSize, true);\n\n        //         this.itemRenderer.runWith([curIndex % this._numItems, ii.obj]);\n        //         if (curIndex % this._curLineItemCount == 0) {\n        //             deltaSize += Math.ceil(ii.obj.width) - ii.width;\n        //             if (curIndex == newFirstIndex && oldFirstIndex > newFirstIndex) {\n        //                 //当内容向下滚动时，如果新出现的一个项目大小发生变化，需要做一个位置补偿，才不会导致滚动跳动\n        //                 firstItemDeltaSize = Math.ceil(ii.obj.width) - ii.width;\n        //             }\n        //         }\n        //         ii.width = Math.ceil(ii.obj.width);\n        //         ii.height = Math.ceil(ii.obj.height);\n        //     }\n\n        //     ii.updateFlag = this.itemInfoVer;\n        //     ii.obj.setXY(curX, curY);\n        //     if (curIndex == newFirstIndex) //要显示多一条才不会穿帮\n        //         max += ii.width;\n\n        //     curY += ii.height + this._lineGap;\n\n        //     if (curIndex % this._curLineItemCount == this._curLineItemCount - 1) {\n        //         curY = 0;\n        //         curX += ii.width + this._columnGap;\n        //     }\n        //     curIndex++;\n        // }\n\n        // for (i = 0; i < childCount; i++) {\n        //     ii = this._virtualItems[oldFirstIndex + i];\n        //     if (ii.updateFlag != this.itemInfoVer && ii.obj) {\n        //         if (ii.obj instanceof GButton)\n        //             ii.selected = ii.obj.selected;\n        //         this.removeChildToPool(ii.obj);\n        //         ii.obj = null;\n        //     }\n        // }\n\n        // childCount = this._children.length;\n        // for (i = 0; i < childCount; i++) {\n        //     var obj: GObject = this._virtualItems[newFirstIndex + i].obj;\n        //     if (this._children[i] != obj)\n        //         this.setChildIndex(obj, i);\n        // }\n\n        // if (deltaSize != 0 || firstItemDeltaSize != 0)\n        //     this._scrollPane.changeContentSizeOnScrolling(deltaSize, 0, firstItemDeltaSize, 0);\n\n        // if (curIndex > 0 && this.numChildren > 0 && this._container.x <= 0 && this.getChildAt(0).x > - this._container.x)//最后一页没填满！\n        //     return true;\n        // else\n        //     return false;\n    }\n\n    private handleScroll3(forceUpdate: boolean): void {\n        throw new Error(\"TODO\")\n        // var pos: number = this._scrollPane.scrollingPosX;\n\n        // //寻找当前位置的第一条项目\n        // s_n = pos;\n        // var newFirstIndex: number = this.getIndexOnPos3(forceUpdate);\n        // pos = s_n;\n        // if (newFirstIndex == this._firstIndex && !forceUpdate)\n        //     return;\n\n        // var oldFirstIndex: number = this._firstIndex;\n        // this._firstIndex = newFirstIndex;\n\n        // //分页模式不支持不等高，所以渲染满一页就好了\n\n        // var reuseIndex: number = oldFirstIndex;\n        // var virtualItemCount: number = this._virtualItems.length;\n        // var pageSize: number = this._curLineItemCount * this._curLineItemCount2;\n        // var startCol: number = newFirstIndex % this._curLineItemCount;\n        // var viewWidth: number = this.viewWidth;\n        // var page: number = Math.floor(newFirstIndex / pageSize);\n        // var startIndex: number = page * pageSize;\n        // var lastIndex: number = startIndex + pageSize * 2; //测试两页\n        // var needRender: boolean;\n        // var i: number;\n        // var ii: ItemInfo, ii2: ItemInfo;\n        // var col: number;\n        // var url: string = this._defaultItem;\n        // var partWidth: number = (this._scrollPane.viewWidth - this._columnGap * (this._curLineItemCount - 1)) / this._curLineItemCount;\n        // var partHeight: number = (this._scrollPane.viewHeight - this._lineGap * (this._curLineItemCount2 - 1)) / this._curLineItemCount2;\n\n        // this.itemInfoVer++;\n\n        // //先标记这次要用到的项目\n        // for (i = startIndex; i < lastIndex; i++) {\n        //     if (i >= this._realNumItems)\n        //         continue;\n\n        //     col = i % this._curLineItemCount;\n        //     if (i - startIndex < pageSize) {\n        //         if (col < startCol)\n        //             continue;\n        //     }\n        //     else {\n        //         if (col > startCol)\n        //             continue;\n        //     }\n\n        //     ii = this._virtualItems[i];\n        //     ii.updateFlag = this.itemInfoVer;\n        // }\n\n        // var lastObj: GObject = null;\n        // var insertIndex: number = 0;\n        // for (i = startIndex; i < lastIndex; i++) {\n        //     if (i >= this._realNumItems)\n        //         continue;\n\n        //     ii = this._virtualItems[i];\n        //     if (ii.updateFlag != this.itemInfoVer)\n        //         continue;\n\n        //     if (ii.obj == null) {\n        //         //寻找看有没有可重用的\n        //         while (reuseIndex < virtualItemCount) {\n        //             ii2 = this._virtualItems[reuseIndex];\n        //             if (ii2.obj && ii2.updateFlag != this.itemInfoVer) {\n        //                 if (ii2.obj instanceof GButton)\n        //                     ii2.selected = ii2.obj.selected;\n        //                 ii.obj = ii2.obj;\n        //                 ii2.obj = null;\n        //                 break;\n        //             }\n        //             reuseIndex++;\n        //         }\n\n        //         if (insertIndex == -1)\n        //             insertIndex = this.getChildIndex(lastObj) + 1;\n\n        //         if (ii.obj == null) {\n        //             if (this.itemProvider != null) {\n        //                 url = this.itemProvider.runWith(i % this._numItems);\n        //                 if (url == null)\n        //                     url = this._defaultItem;\n        //                 url = UIPackage.normalizeURL(url);\n        //             }\n\n        //             ii.obj = this._pool.getObject(url);\n        //             this.addChildAt(ii.obj, insertIndex);\n        //         }\n        //         else {\n        //             insertIndex = this.setChildIndexBefore(ii.obj, insertIndex);\n        //         }\n        //         insertIndex++;\n\n        //         if (ii.obj instanceof GButton)\n        //             ii.obj.selected = ii.selected;\n\n        //         needRender = true;\n        //     }\n        //     else {\n        //         needRender = forceUpdate;\n        //         insertIndex = -1;\n        //         lastObj = ii.obj;\n        //     }\n\n        //     if (needRender) {\n        //         if (this._autoResizeItem) {\n        //             if (this._curLineItemCount == this._columnCount && this._curLineItemCount2 == this._lineCount)\n        //                 ii.obj.setSize(partWidth, partHeight, true);\n        //             else if (this._curLineItemCount == this._columnCount)\n        //                 ii.obj.setSize(partWidth, ii.obj.height, true);\n        //             else if (this._curLineItemCount2 == this._lineCount)\n        //                 ii.obj.setSize(ii.obj.width, partHeight, true);\n        //         }\n\n        //         this.itemRenderer.runWith([i % this._numItems, ii.obj]);\n        //         ii.width = Math.ceil(ii.obj.width);\n        //         ii.height = Math.ceil(ii.obj.height);\n        //     }\n        // }\n\n        // //排列item\n        // var borderX: number = (startIndex / pageSize) * viewWidth;\n        // var xx: number = borderX;\n        // var yy: number = 0;\n        // var lineHeight: number = 0;\n        // for (i = startIndex; i < lastIndex; i++) {\n        //     if (i >= this._realNumItems)\n        //         continue;\n\n        //     ii = this._virtualItems[i];\n        //     if (ii.updateFlag == this.itemInfoVer)\n        //         ii.obj.setXY(xx, yy);\n\n        //     if (ii.height > lineHeight)\n        //         lineHeight = ii.height;\n        //     if (i % this._curLineItemCount == this._curLineItemCount - 1) {\n        //         xx = borderX;\n        //         yy += lineHeight + this._lineGap;\n        //         lineHeight = 0;\n\n        //         if (i == startIndex + pageSize - 1) {\n        //             borderX += viewWidth;\n        //             xx = borderX;\n        //             yy = 0;\n        //         }\n        //     }\n        //     else\n        //         xx += ii.width + this._columnGap;\n        // }\n\n        // //释放未使用的\n        // for (i = reuseIndex; i < virtualItemCount; i++) {\n        //     ii = this._virtualItems[i];\n        //     if (ii.updateFlag != this.itemInfoVer && ii.obj) {\n        //         if (ii.obj instanceof GButton)\n        //             ii.selected = ii.obj.selected;\n        //         this.removeChildToPool(ii.obj);\n        //         ii.obj = null;\n        //     }\n        // }\n    }\n\n    private handleArchOrder1(): void {\n        if (this.childrenRenderOrder == ChildrenRenderOrder.Arch) {\n            var mid: number = this._scrollPane.posY + this.viewHeight / 2;\n            var minDist: number = Number.POSITIVE_INFINITY;\n            var dist: number = 0;\n            var apexIndex: number = 0;\n            var cnt: number = this.numChildren;\n            for (var i: number = 0; i < cnt; i++) {\n                var obj: GObject = this.getChildAt(i);\n                if (!this.foldInvisibleItems || obj.visible) {\n                    dist = Math.abs(mid - obj.y - obj.height / 2);\n                    if (dist < minDist) {\n                        minDist = dist;\n                        apexIndex = i;\n                    }\n                }\n            }\n            this.apexIndex = apexIndex;\n        }\n    }\n\n    private handleArchOrder2(): void {\n        throw new Error(\"TODO\");\n        //     if (this.childrenRenderOrder == ChildrenRenderOrder.Arch) {\n        //         var mid: number = this._scrollPane.posX + this.viewWidth / 2;\n        //         var minDist: number = Number.POSITIVE_INFINITY;\n        //         var dist: number = 0;\n        //         var apexIndex: number = 0;\n        //         var cnt: number = this.numChildren;\n        //         for (var i: number = 0; i < cnt; i++) {\n        //             var obj: GObject = this.getChildAt(i);\n        //             if (!this.foldInvisibleItems || obj.visible) {\n        //                 dist = Math.abs(mid - obj.x - obj.width / 2);\n        //                 if (dist < minDist) {\n        //                     minDist = dist;\n        //                     apexIndex = i;\n        //                 }\n        //             }\n        //         }\n        //         this.apexIndex = apexIndex;\n        //     }\n        // }\n\n        // private handleAlign(contentWidth: number, contentHeight: number): void {\n        //     var newOffsetX: number = 0;\n        //     var newOffsetY: number = 0;\n\n        //     if (contentHeight < this.viewHeight) {\n        //         if (this._verticalAlign == \"middle\")\n        //             newOffsetY = Math.floor((this.viewHeight - contentHeight) / 2);\n        //         else if (this._verticalAlign == \"bottom\")\n        //             newOffsetY = this.viewHeight - contentHeight;\n        //     }\n\n        //     if (contentWidth < this.viewWidth) {\n        //         if (this._align == \"center\")\n        //             newOffsetX = Math.floor((this.viewWidth - contentWidth) / 2);\n        //         else if (this._align == \"right\")\n        //             newOffsetX = this.viewWidth - contentWidth;\n        //     }\n\n        //     if (newOffsetX != this._alignOffset.x || newOffsetY != this._alignOffset.y) {\n        //         this._alignOffset.setTo(newOffsetX, newOffsetY);\n        //         if (this._scrollPane)\n        //             this._scrollPane.adjustMaskContainer();\n        //         else\n        //             this._container.pos(this._margin.left + this._alignOffset.x, this._margin.top + this._alignOffset.y);\n        //     }\n    }\n\n    protected updateBounds(): void {\n        // if (this._virtual)\n        //     return;\n\n        // var i: number;\n        // var child: GObject;\n        // var curX: number = 0;\n        // var curY: number = 0;\n        // var maxWidth: number = 0;\n        // var maxHeight: number = 0;\n        // var cw: number, ch: number;\n        // var j: number = 0;\n        // var page: number = 0;\n        // var k: number = 0;\n        // var cnt: number = this._children.length;\n        // var viewWidth: number = this.viewWidth;\n        // var viewHeight: number = this.viewHeight;\n        // var lineSize: number = 0;\n        // var lineStart: number = 0;\n        // var ratio: number;\n\n        // if (this._layout == ListLayoutType.SingleColumn) {\n        //     for (i = 0; i < cnt; i++) {\n        //         child = this.getChildAt(i);\n        //         if (this.foldInvisibleItems && !child.visible)\n        //             continue;\n\n        //         if (curY != 0)\n        //             curY += this._lineGap;\n        //         child.y = curY;\n        //         if (this._autoResizeItem)\n        //             child.setSize(viewWidth, child.height, true);\n        //         curY += Math.ceil(child.height);\n        //         if (child.width > maxWidth)\n        //             maxWidth = child.width;\n        //     }\n        //     ch = curY;\n\n        //     if (ch <= viewHeight && this._autoResizeItem && this._scrollPane && this._scrollPane._displayInDemand && this._scrollPane.vtScrollBar) {\n        //         viewWidth += this._scrollPane.vtScrollBar.width;\n        //         for (i = 0; i < cnt; i++) {\n        //             child = this.getChildAt(i);\n        //             if (this.foldInvisibleItems && !child.visible)\n        //                 continue;\n\n        //             child.setSize(viewWidth, child.height, true);\n        //             if (child.width > maxWidth)\n        //                 maxWidth = child.width;\n        //         }\n        //     }\n\n        //     cw = Math.ceil(maxWidth);\n        // }\n        // else if (this._layout == ListLayoutType.SingleRow) {\n        //     for (i = 0; i < cnt; i++) {\n        //         child = this.getChildAt(i);\n        //         if (this.foldInvisibleItems && !child.visible)\n        //             continue;\n\n        //         if (curX != 0)\n        //             curX += this._columnGap;\n        //         child.x = curX;\n        //         if (this._autoResizeItem)\n        //             child.setSize(child.width, viewHeight, true);\n        //         curX += Math.ceil(child.width);\n        //         if (child.height > maxHeight)\n        //             maxHeight = child.height;\n        //     }\n        //     cw = curX;\n\n        //     if (cw <= viewWidth && this._autoResizeItem && this._scrollPane && this._scrollPane._displayInDemand && this._scrollPane.hzScrollBar) {\n        //         viewHeight += this._scrollPane.hzScrollBar.height;\n        //         for (i = 0; i < cnt; i++) {\n        //             child = this.getChildAt(i);\n        //             if (this.foldInvisibleItems && !child.visible)\n        //                 continue;\n\n        //             child.setSize(child.width, viewHeight, true);\n        //             if (child.height > maxHeight)\n        //                 maxHeight = child.height;\n        //         }\n        //     }\n\n        //     ch = Math.ceil(maxHeight);\n        // }\n        // else if (this._layout == ListLayoutType.FlowHorizontal) {\n        //     if (this._autoResizeItem && this._columnCount > 0) {\n        //         for (i = 0; i < cnt; i++) {\n        //             child = this.getChildAt(i);\n        //             if (this.foldInvisibleItems && !child.visible)\n        //                 continue;\n\n        //             lineSize += child.sourceWidth;\n        //             j++;\n        //             if (j == this._columnCount || i == cnt - 1) {\n        //                 ratio = (viewWidth - lineSize - (j - 1) * this._columnGap) / lineSize;\n        //                 curX = 0;\n        //                 for (j = lineStart; j <= i; j++) {\n        //                     child = this.getChildAt(j);\n        //                     if (this.foldInvisibleItems && !child.visible)\n        //                         continue;\n\n        //                     child.setXY(curX, curY);\n\n        //                     if (j < i) {\n        //                         child.setSize(child.sourceWidth + Math.round(child.sourceWidth * ratio), child.height, true);\n        //                         curX += Math.ceil(child.width) + this._columnGap;\n        //                     }\n        //                     else {\n        //                         child.setSize(viewWidth - curX, child.height, true);\n        //                     }\n        //                     if (child.height > maxHeight)\n        //                         maxHeight = child.height;\n        //                 }\n        //                 //new line\n        //                 curY += Math.ceil(maxHeight) + this._lineGap;\n        //                 maxHeight = 0;\n        //                 j = 0;\n        //                 lineStart = i + 1;\n        //                 lineSize = 0;\n        //             }\n        //         }\n        //         ch = curY + Math.ceil(maxHeight);\n        //         cw = viewWidth;\n        //     }\n        //     else {\n        //         for (i = 0; i < cnt; i++) {\n        //             child = this.getChildAt(i);\n        //             if (this.foldInvisibleItems && !child.visible)\n        //                 continue;\n\n        //             if (curX != 0)\n        //                 curX += this._columnGap;\n\n        //             if (this._columnCount != 0 && j >= this._columnCount\n        //                 || this._columnCount == 0 && curX + child.width > viewWidth && maxHeight != 0) {\n        //                 //new line\n        //                 curX = 0;\n        //                 curY += Math.ceil(maxHeight) + this._lineGap;\n        //                 maxHeight = 0;\n        //                 j = 0;\n        //             }\n        //             child.setXY(curX, curY);\n        //             curX += Math.ceil(child.width);\n        //             if (curX > maxWidth)\n        //                 maxWidth = curX;\n        //             if (child.height > maxHeight)\n        //                 maxHeight = child.height;\n        //             j++;\n        //         }\n        //         ch = curY + Math.ceil(maxHeight);\n        //         cw = Math.ceil(maxWidth);\n        //     }\n        // }\n        // else if (this._layout == ListLayoutType.FlowVertical) {\n        //     if (this._autoResizeItem && this._lineCount > 0) {\n        //         for (i = 0; i < cnt; i++) {\n        //             child = this.getChildAt(i);\n        //             if (this.foldInvisibleItems && !child.visible)\n        //                 continue;\n\n        //             lineSize += child.sourceHeight;\n        //             j++;\n        //             if (j == this._lineCount || i == cnt - 1) {\n        //                 ratio = (viewHeight - lineSize - (j - 1) * this._lineGap) / lineSize;\n        //                 curY = 0;\n        //                 for (j = lineStart; j <= i; j++) {\n        //                     child = this.getChildAt(j);\n        //                     if (this.foldInvisibleItems && !child.visible)\n        //                         continue;\n\n        //                     child.setXY(curX, curY);\n\n        //                     if (j < i) {\n        //                         child.setSize(child.width, child.sourceHeight + Math.round(child.sourceHeight * ratio), true);\n        //                         curY += Math.ceil(child.height) + this._lineGap;\n        //                     }\n        //                     else {\n        //                         child.setSize(child.width, viewHeight - curY, true);\n        //                     }\n        //                     if (child.width > maxWidth)\n        //                         maxWidth = child.width;\n        //                 }\n        //                 //new line\n        //                 curX += Math.ceil(maxWidth) + this._columnGap;\n        //                 maxWidth = 0;\n        //                 j = 0;\n        //                 lineStart = i + 1;\n        //                 lineSize = 0;\n        //             }\n        //         }\n        //         cw = curX + Math.ceil(maxWidth);\n        //         ch = viewHeight;\n        //     }\n        //     else {\n        //         for (i = 0; i < cnt; i++) {\n        //             child = this.getChildAt(i);\n        //             if (this.foldInvisibleItems && !child.visible)\n        //                 continue;\n\n        //             if (curY != 0)\n        //                 curY += this._lineGap;\n\n        //             if (this._lineCount != 0 && j >= this._lineCount\n        //                 || this._lineCount == 0 && curY + child.height > viewHeight && maxWidth != 0) {\n        //                 curY = 0;\n        //                 curX += Math.ceil(maxWidth) + this._columnGap;\n        //                 maxWidth = 0;\n        //                 j = 0;\n        //             }\n        //             child.setXY(curX, curY);\n        //             curY += Math.ceil(child.height);\n        //             if (curY > maxHeight)\n        //                 maxHeight = curY;\n        //             if (child.width > maxWidth)\n        //                 maxWidth = child.width;\n        //             j++;\n        //         }\n        //         cw = curX + Math.ceil(maxWidth);\n        //         ch = Math.ceil(maxHeight);\n        //     }\n        // }\n        // else //pagination\n        // {\n        //     var eachHeight: number;\n        //     if (this._autoResizeItem && this._lineCount > 0)\n        //         eachHeight = Math.floor((viewHeight - (this._lineCount - 1) * this._lineGap) / this._lineCount);\n\n        //     if (this._autoResizeItem && this._columnCount > 0) {\n        //         for (i = 0; i < cnt; i++) {\n        //             child = this.getChildAt(i);\n        //             if (this.foldInvisibleItems && !child.visible)\n        //                 continue;\n\n        //             if (j == 0 && (this._lineCount != 0 && k >= this._lineCount\n        //                 || this._lineCount == 0 && curY + child.height > viewHeight)) {\n        //                 //new page\n        //                 page++;\n        //                 curY = 0;\n        //                 k = 0;\n        //             }\n\n        //             lineSize += child.sourceWidth;\n        //             j++;\n        //             if (j == this._columnCount || i == cnt - 1) {\n        //                 ratio = (viewWidth - lineSize - (j - 1) * this._columnGap) / lineSize;\n        //                 curX = 0;\n        //                 for (j = lineStart; j <= i; j++) {\n        //                     child = this.getChildAt(j);\n        //                     if (this.foldInvisibleItems && !child.visible)\n        //                         continue;\n\n        //                     child.setXY(page * viewWidth + curX, curY);\n\n        //                     if (j < i) {\n        //                         child.setSize(child.sourceWidth + Math.round(child.sourceWidth * ratio),\n        //                             this._lineCount > 0 ? eachHeight : child.height, true);\n        //                         curX += Math.ceil(child.width) + this._columnGap;\n        //                     }\n        //                     else {\n        //                         child.setSize(viewWidth - curX, this._lineCount > 0 ? eachHeight : child.height, true);\n        //                     }\n        //                     if (child.height > maxHeight)\n        //                         maxHeight = child.height;\n        //                 }\n        //                 //new line\n        //                 curY += Math.ceil(maxHeight) + this._lineGap;\n        //                 maxHeight = 0;\n        //                 j = 0;\n        //                 lineStart = i + 1;\n        //                 lineSize = 0;\n\n        //                 k++;\n        //             }\n        //         }\n        //     }\n        //     else {\n        //         for (i = 0; i < cnt; i++) {\n        //             child = this.getChildAt(i);\n        //             if (this.foldInvisibleItems && !child.visible)\n        //                 continue;\n\n        //             if (curX != 0)\n        //                 curX += this._columnGap;\n\n        //             if (this._autoResizeItem && this._lineCount > 0)\n        //                 child.setSize(child.width, eachHeight, true);\n\n        //             if (this._columnCount != 0 && j >= this._columnCount\n        //                 || this._columnCount == 0 && curX + child.width > viewWidth && maxHeight != 0) {\n        //                 //new line\n        //                 curX = 0;\n        //                 curY += Math.ceil(maxHeight) + this._lineGap;\n        //                 maxHeight = 0;\n        //                 j = 0;\n        //                 k++;\n\n        //                 if (this._lineCount != 0 && k >= this._lineCount\n        //                     || this._lineCount == 0 && curY + child.height > viewHeight && maxWidth != 0)//new page\n        //                 {\n        //                     page++;\n        //                     curY = 0;\n        //                     k = 0;\n        //                 }\n        //             }\n        //             child.setXY(page * viewWidth + curX, curY);\n        //             curX += Math.ceil(child.width);\n        //             if (curX > maxWidth)\n        //                 maxWidth = curX;\n        //             if (child.height > maxHeight)\n        //                 maxHeight = child.height;\n        //             j++;\n        //         }\n        //     }\n        //     ch = page > 0 ? viewHeight : curY + Math.ceil(maxHeight);\n        //     cw = (page + 1) * viewWidth;\n        // }\n\n        // this.handleAlign(cw, ch);\n        // this.setBounds(0, 0, cw, ch);\n    }\n\n    public setup_beforeAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_beforeAdd(buffer, beginPos);\n\n        buffer.seek(beginPos, 5);\n\n        var i1: number;\n\n        this._layout = buffer.readByte();\n        this._selectionMode = buffer.readByte();\n        i1 = buffer.readByte();\n        this._align = i1 == 0 ? \"left\" : (i1 == 1 ? \"center\" : \"right\");\n        i1 = buffer.readByte();\n        this._verticalAlign = i1 == 0 ? \"top\" : (i1 == 1 ? \"middle\" : \"bottom\");\n        this._lineGap = buffer.readShort();\n        this._columnGap = buffer.readShort();\n        this._lineCount = buffer.readShort();\n        this._columnCount = buffer.readShort();\n        this._autoResizeItem = buffer.readBool();\n        this._childrenRenderOrder = buffer.readByte();\n        this._apexIndex = buffer.readShort();\n\n        if (buffer.readBool()) {\n            this._margin.top = buffer.readInt();\n            this._margin.bottom = buffer.readInt();\n            this._margin.left = buffer.readInt();\n            this._margin.right = buffer.readInt();\n        }\n\n        var overflow: number = buffer.readByte();\n        if (overflow == OverflowType.Scroll) {\n            var savedPos: number = buffer.position;\n            buffer.seek(beginPos, 7);\n            this.setupScroll(buffer);\n            buffer.position = savedPos;\n        }\n        else\n            this.setupOverflow(overflow);\n\n        if (buffer.readBool()) //clipSoftness\n            buffer.skip(8);\n\n        if (buffer.version >= 2) {\n            this.scrollItemToViewOnClick = buffer.readBool();\n            this.foldInvisibleItems = buffer.readBool();\n        }\n\n        buffer.seek(beginPos, 8);\n\n        this._defaultItem = buffer.readS();\n        this.readItems(buffer);\n    }\n\n    protected readItems(buffer: ByteBuffer): void {\n        var cnt: number;\n        var i: number;\n        var nextPos: number;\n        var str: string;\n\n        cnt = buffer.readShort();\n        for (i = 0; i < cnt; i++) {\n            nextPos = buffer.readShort();\n            nextPos += buffer.position;\n\n            str = buffer.readS();\n            if (str == null) {\n                str = this._defaultItem;\n                if (!str) {\n                    buffer.position = nextPos;\n                    continue;\n                }\n            }\n\n            var obj: GObject = this.getFromPool(str);\n            if (obj) {\n                throw new Error(\"TODO\");\n                // this.addChild(obj);\n                this.setupItem(buffer, obj);\n            }\n\n            buffer.position = nextPos;\n        }\n    }\n\n    protected setupItem(buffer: ByteBuffer, obj: GObject): void {\n        var str: string;\n\n        str = buffer.readS();\n        if (str != null)\n            obj.text = str;\n        str = buffer.readS();\n        if (str != null && (obj instanceof GButton))\n            obj.selectedTitle = str;\n        str = buffer.readS();\n        if (str != null)\n            obj.icon = str;\n        str = buffer.readS();\n        if (str != null && (obj instanceof GButton))\n            obj.selectedIcon = str;\n        str = buffer.readS();\n        if (str != null)\n            obj.name = str;\n\n        var cnt: number;\n        var i: number;\n\n        if (obj instanceof GComponent) {\n            cnt = buffer.readShort();\n            for (i = 0; i < cnt; i++) {\n                var cc: Controller = obj.getController(buffer.readS());\n                str = buffer.readS();\n                if (cc)\n                    cc.selectedPageId = str;\n            }\n\n            if (buffer.version >= 2) {\n                cnt = buffer.readShort();\n                for (i = 0; i < cnt; i++) {\n                    var target: string = buffer.readS();\n                    var propertyId: number = buffer.readShort();\n                    var value: String = buffer.readS();\n                    var obj2: GObject = obj.getChildByPath(target);\n                    if (obj2)\n                        obj2.setProp(propertyId, value);\n                }\n            }\n        }\n    }\n\n    public setup_afterAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_afterAdd(buffer, beginPos);\n\n        buffer.seek(beginPos, 6);\n\n        var i: number = buffer.readShort();\n        if (i != -1)\n            this._selectionController = this._parent.getControllerAt(i);\n    }\n}\n\ninterface ItemInfo {\n    width: number;\n    height: number;\n    obj?: GObject;\n    updateFlag: number;\n    selected?: boolean;\n}\n\nvar s_n: number = 0;\n","import { GComponent } from \"./GComponent\";\nimport { GTree } from \"./GTree\";\n\nexport class GTreeNode {\n    public data: any;\n\n    private _parent: GTreeNode;\n    private _children: Array<GTreeNode>;\n    private _expanded: boolean;\n    private _level: number = 0;\n    private _tree: GTree;\n\n    public _cell: GComponent;\n    public _resURL?: string;\n\n    constructor(hasChild: boolean, resURL?: string) {\n        this._resURL = resURL;\n        if (hasChild)\n            this._children = new Array<GTreeNode>();\n    }\n\n    public set expanded(value: boolean) {\n        if (this._children == null)\n            return;\n\n        if (this._expanded != value) {\n            this._expanded = value;\n            if (this._tree) {\n                if (this._expanded)\n                    this._tree._afterExpanded(this);\n                else\n                    this._tree._afterCollapsed(this);\n            }\n        }\n    }\n\n    public get expanded(): boolean {\n        return this._expanded;\n    }\n\n    public get isFolder(): boolean {\n        return this._children != null;\n    }\n\n    public get parent(): GTreeNode {\n        return this._parent;\n    }\n\n    public get text(): string {\n        if (this._cell)\n            return this._cell.text;\n        else\n            return null;\n    }\n\n    public set text(value: string) {\n        if (this._cell)\n            this._cell.text = value;\n    }\n\n    public get icon(): string {\n        if (this._cell)\n            return this._cell.icon;\n        else\n            return null;\n    }\n\n    public set icon(value: string) {\n        if (this._cell)\n            this._cell.icon = value;\n    }\n\n    public get cell(): GComponent {\n        return this._cell;\n    }\n\n    public get level(): number {\n        return this._level;\n    }\n\n    public _setLevel(value: number): void {\n        this._level = value;\n    }\n\n    public addChild(child: GTreeNode): GTreeNode {\n        this.addChildAt(child, this._children.length);\n        return child;\n    }\n\n    public addChildAt(child: GTreeNode, index: number): GTreeNode {\n        if (!child)\n            throw new Error(\"child is null\");\n\n        var numChildren: number = this._children.length;\n\n        if (index >= 0 && index <= numChildren) {\n            if (child._parent == this) {\n                this.setChildIndex(child, index);\n            }\n            else {\n                if (child._parent)\n                    child._parent.removeChild(child);\n\n                var cnt: number = this._children.length;\n                if (index == cnt)\n                    this._children.push(child);\n                else\n                    this._children.splice(index, 0, child);\n\n                child._parent = this;\n                child._level = this._level + 1;\n                child._setTree(this._tree);\n                if (this._tree && this == this._tree.rootNode || this._cell && this._cell.parent && this._expanded)\n                    throw new Error(\"TODO\");\n                // this._tree._afterInserted(child);\n            }\n\n            return child;\n        }\n        else {\n            throw new RangeError(\"Invalid child index\");\n        }\n    }\n\n    public removeChild(child: GTreeNode): GTreeNode {\n        var childIndex: number = this._children.indexOf(child);\n        if (childIndex != -1) {\n            this.removeChildAt(childIndex);\n        }\n        return child;\n    }\n\n    public removeChildAt(index: number): GTreeNode {\n        if (index >= 0 && index < this.numChildren) {\n            var child: GTreeNode = this._children[index];\n            this._children.splice(index, 1);\n\n            child._parent = null;\n            if (this._tree) {\n                child._setTree(null);\n                this._tree._afterRemoved(child);\n            }\n\n            return child;\n        }\n        else {\n            throw \"Invalid child index\";\n        }\n    }\n\n    public removeChildren(beginIndex?: number, endIndex?: number): void {\n        beginIndex = beginIndex || 0;\n        if (endIndex == null) endIndex = -1;\n\n        if (endIndex < 0 || endIndex >= this.numChildren)\n            endIndex = this.numChildren - 1;\n\n        for (var i: number = beginIndex; i <= endIndex; ++i)\n            this.removeChildAt(beginIndex);\n    }\n\n    public getChildAt(index: number): GTreeNode {\n        if (index >= 0 && index < this.numChildren)\n            return this._children[index];\n        else\n            throw \"Invalid child index\";\n    }\n\n    public getChildIndex(child: GTreeNode): number {\n        return this._children.indexOf(child);\n    }\n\n    public getPrevSibling(): GTreeNode {\n        if (this._parent == null)\n            return null;\n\n        var i: number = this._parent._children.indexOf(this);\n        if (i <= 0)\n            return null;\n\n        return this._parent._children[i - 1];\n    }\n\n    public getNextSibling(): GTreeNode {\n        if (this._parent == null)\n            return null;\n\n        var i: number = this._parent._children.indexOf(this);\n        if (i < 0 || i >= this._parent._children.length - 1)\n            return null;\n\n        return this._parent._children[i + 1];\n    }\n\n    public setChildIndex(child: GTreeNode, index: number): void {\n        var oldIndex: number = this._children.indexOf(child);\n        if (oldIndex == -1)\n            throw \"Not a child of this container\";\n\n        var cnt: number = this._children.length;\n        if (index < 0)\n            index = 0;\n        else if (index > cnt)\n            index = cnt;\n\n        if (oldIndex == index)\n            return;\n\n        this._children.splice(oldIndex, 1);\n        this._children.splice(index, 0, child);\n        if (this._tree && this == this._tree.rootNode || this._cell && this._cell.parent && this._expanded)\n            this._tree._afterMoved(child);\n    }\n\n    public swapChildren(child1: GTreeNode, child2: GTreeNode): void {\n        var index1: number = this._children.indexOf(child1);\n        var index2: number = this._children.indexOf(child2);\n        if (index1 == -1 || index2 == -1)\n            throw \"Not a child of this container\";\n        this.swapChildrenAt(index1, index2);\n    }\n\n    public swapChildrenAt(index1: number, index2: number): void {\n        var child1: GTreeNode = this._children[index1];\n        var child2: GTreeNode = this._children[index2];\n\n        this.setChildIndex(child1, index2);\n        this.setChildIndex(child2, index1);\n    }\n\n    public get numChildren(): number {\n        return this._children.length;\n    }\n\n    public expandToRoot(): void {\n        var p: GTreeNode = this;\n        while (p) {\n            p.expanded = true;\n            p = p.parent;\n        }\n    }\n\n    public get tree(): GTree {\n        return this._tree;\n    }\n\n    public _setTree(value: GTree): void {\n        this._tree = value;\n        if (this._tree && this._tree.treeNodeWillExpand && this._expanded)\n            this._tree.treeNodeWillExpand(this, true);\n\n        if (this._children) {\n            var cnt: number = this._children.length;\n            for (var i: number = 0; i < cnt; i++) {\n                var node: GTreeNode = this._children[i];\n                node._level = this._level + 1;\n                node._setTree(value);\n            }\n        }\n    }\n}\n","import { ByteBuffer } from './utils/ByteBuffer';\nimport { GObject } from './GObject';\nimport { Controller } from './Controller';\nimport { GTreeNode } from './GTreeNode';\nimport { GList } from './GList';\nimport { GComponent } from './GComponent';\nexport class GTree extends GList {\n\n    /**\n     * (node: GTreeNode, obj: GComponent) => void\n     */\n    public treeNodeRender: (node: GTreeNode, obj: GComponent) => void;\n    /**\n     * (node: GTreeNode, expanded: boolean) => void;\n     */\n    public treeNodeWillExpand: (node: GTreeNode, expanded: boolean) => void;\n\n    private _indent: number;\n    private _clickToExpand: number;\n    private _rootNode: GTreeNode;\n    private _expandedStatusInEvt: boolean;\n\n    constructor(scene?: Phaser.Scene) {\n        super(scene);\n\n        this._indent = 15;\n\n        this._rootNode = new GTreeNode(true);\n        this._rootNode._setTree(this);\n        this._rootNode.expanded = true;\n    }\n\n    public get rootNode(): GTreeNode {\n        return this._rootNode;\n    }\n\n    public get indent(): number {\n        return this._indent;\n    }\n\n    public set indent(value: number) {\n        this._indent = value;\n    }\n\n    public get clickToExpand(): number {\n        return this._clickToExpand;\n    }\n\n    public set clickToExpand(value: number) {\n        this._clickToExpand = value;\n    }\n\n    public getSelectedNode(): GTreeNode {\n        throw new Error(\"TODO\");\n        // if (this.selectedIndex != -1)\n        //     return this.getChildAt(this.selectedIndex)._treeNode;\n        // else\n        //     return null;\n    }\n\n    public getSelectedNodes(result?: Array<GTreeNode>): Array<GTreeNode> {\n        throw new Error(\"TODO\");\n\n        // if (!result)\n        //     result = new Array<GTreeNode>();\n\n        // s_list.length = 0;\n        // super.getSelection(s_list);\n        // var cnt: number = s_list.length;\n        // var ret: Array<GTreeNode> = new Array<GTreeNode>();\n        // for (var i: number = 0; i < cnt; i++) {\n        //     var node: GTreeNode = this.getChildAt(s_list[i])._treeNode;\n        //     ret.push(node);\n        // }\n        // return ret;\n    }\n\n    public selectNode(node: GTreeNode, scrollItToView?: boolean): void {\n        var parentNode: GTreeNode = node.parent;\n        while (parentNode && parentNode != this._rootNode) {\n            parentNode.expanded = true;\n            parentNode = parentNode.parent;\n        }\n\n        if (!node._cell)\n            return;\n\n        this.addSelection(this.getChildIndex(node._cell), scrollItToView);\n    }\n\n    public unselectNode(node: GTreeNode): void {\n        if (!node._cell)\n            return;\n\n        this.removeSelection(this.getChildIndex(node._cell));\n    }\n\n    public expandAll(folderNode?: GTreeNode): void {\n        if (!folderNode)\n            folderNode = this._rootNode;\n\n        folderNode.expanded = true;\n        var cnt: number = folderNode.numChildren;\n        for (var i: number = 0; i < cnt; i++) {\n            var node: GTreeNode = folderNode.getChildAt(i);\n            if (node.isFolder)\n                this.expandAll(node);\n        }\n    }\n\n    public collapseAll(folderNode?: GTreeNode): void {\n        if (!folderNode)\n            folderNode = this._rootNode;\n\n        if (folderNode != this._rootNode)\n            folderNode.expanded = false;\n        var cnt: number = folderNode.numChildren;\n        for (var i: number = 0; i < cnt; i++) {\n            var node: GTreeNode = folderNode.getChildAt(i);\n            if (node.isFolder)\n                this.collapseAll(node);\n        }\n    }\n\n    private createCell(node: GTreeNode): void {\n        throw new Error(\"TODO\")\n        //     var child: GComponent = <GComponent>this.getFromPool(node._resURL ? node._resURL : this.defaultItem);\n        //     if (!child)\n        //         throw new Error(\"cannot create tree node object.\");\n\n        //     child._treeNode = node;\n        //     node._cell = child;\n\n        //     var indentObj: GObject = child.getChild(\"indent\");\n        //     if (indentObj)\n        //         indentObj.width = (node.level - 1) * this._indent;\n\n        //     var cc: Controller;\n\n        //     cc = child.getController(\"expanded\");\n        //     if (cc) {\n        //         cc.on(Events.STATE_CHANGED, this, this.__expandedStateChanged);\n        //         cc.selectedIndex = node.expanded ? 1 : 0;\n        //     }\n\n        //     cc = child.getController(\"leaf\");\n        //     if (cc)\n        //         cc.selectedIndex = node.isFolder ? 0 : 1;\n\n        //     if (node.isFolder)\n        //         child.on(Laya.Event.MOUSE_DOWN, this, this.__cellMouseDown);\n\n        //     if (this.treeNodeRender)\n        //         this.treeNodeRender.runWith([node, child]);\n        // }\n\n        // public _afterInserted(node: GTreeNode): void {\n        //     if (!node._cell)\n        //         this.createCell(node);\n\n        //     var index: number = this.getInsertIndexForNode(node);\n        //     this.addChildAt(node._cell, index);\n        //     if (this.treeNodeRender)\n        //         this.treeNodeRender.runWith([node, node._cell]);\n\n        //     if (node.isFolder && node.expanded)\n        //         this.checkChildren(node, index);\n    }\n\n    private getInsertIndexForNode(node: GTreeNode): number {\n        var prevNode: GTreeNode = node.getPrevSibling();\n        if (!prevNode)\n            prevNode = node.parent;\n        var insertIndex: number = this.getChildIndex(prevNode._cell) + 1;\n        var myLevel: number = node.level;\n        var cnt: number = this.numChildren;\n        for (var i: number = insertIndex; i < cnt; i++) {\n            var testNode: GTreeNode = this.getChildAt(i)._treeNode;\n            if (testNode.level <= myLevel)\n                break;\n\n            insertIndex++;\n        }\n\n        return insertIndex;\n    }\n\n    public _afterRemoved(node: GTreeNode): void {\n        this.removeNode(node);\n    }\n\n    public _afterExpanded(node: GTreeNode): void {\n        if (node == this._rootNode) {\n            this.checkChildren(this._rootNode, 0);\n            return;\n        }\n\n        if (this.treeNodeWillExpand != null)\n            this.treeNodeWillExpand(node, true);\n\n        if (!node._cell)\n            return;\n\n        if (this.treeNodeRender)\n            this.treeNodeRender(node, node._cell);\n\n        var cc: Controller = node._cell.getController(\"expanded\");\n        if (cc)\n            cc.selectedIndex = 1;\n\n        if (node._cell.parent)\n            this.checkChildren(node, this.getChildIndex(node._cell));\n    }\n\n    public _afterCollapsed(node: GTreeNode): void {\n        if (node == this._rootNode) {\n            this.checkChildren(this._rootNode, 0);\n            return;\n        }\n\n        if (this.treeNodeWillExpand)\n            this.treeNodeWillExpand(node, false);\n\n        if (!node._cell)\n            return;\n\n        if (this.treeNodeRender)\n            this.treeNodeRender(node, node._cell);\n\n        var cc: Controller = node._cell.getController(\"expanded\");\n        if (cc)\n            cc.selectedIndex = 0;\n\n        if (node._cell.parent)\n            this.hideFolderNode(node);\n    }\n\n    public _afterMoved(node: GTreeNode): void {\n        var startIndex: number = this.getChildIndex(node._cell);\n        var endIndex: number;\n        if (node.isFolder)\n            endIndex = this.getFolderEndIndex(startIndex, node.level);\n        else\n            endIndex = startIndex + 1;\n        var insertIndex: number = this.getInsertIndexForNode(node);\n        var i: number;\n        var cnt: number = endIndex - startIndex;\n        var obj: GObject;\n        if (insertIndex < startIndex) {\n            for (i = 0; i < cnt; i++) {\n                obj = this.getChildAt(startIndex + i);\n                this.setChildIndex(obj, insertIndex + i);\n            }\n        }\n        else {\n            for (i = 0; i < cnt; i++) {\n                obj = this.getChildAt(startIndex);\n                this.setChildIndex(obj, insertIndex);\n            }\n        }\n    }\n\n    private getFolderEndIndex(startIndex: number, level: number): number {\n        var cnt: number = this.numChildren;\n        for (var i: number = startIndex + 1; i < cnt; i++) {\n            var node: GTreeNode = this.getChildAt(i)._treeNode;\n            if (node.level <= level)\n                return i;\n        }\n\n        return cnt;\n    }\n\n    private checkChildren(folderNode: GTreeNode, index: number): number {\n        var cnt: number = folderNode.numChildren;\n        for (var i: number = 0; i < cnt; i++) {\n            index++;\n            var node: GTreeNode = folderNode.getChildAt(i);\n            if (!node._cell)\n                this.createCell(node);\n\n            if (!node._cell.parent)\n                this.addChildAt(node._cell, index);\n\n            if (node.isFolder && node.expanded)\n                index = this.checkChildren(node, index);\n        }\n\n        return index;\n    }\n\n    private hideFolderNode(folderNode: GTreeNode): void {\n        var cnt: number = folderNode.numChildren;\n        for (var i: number = 0; i < cnt; i++) {\n            var node: GTreeNode = folderNode.getChildAt(i);\n            if (node._cell)\n                this.removeChild(node._cell);\n            if (node.isFolder && node.expanded)\n                this.hideFolderNode(node);\n        }\n    }\n\n    private removeNode(node: GTreeNode): void {\n        if (node._cell) {\n            if (node._cell.parent)\n                this.removeChild(node._cell);\n            this.returnToPool(node._cell);\n            node._cell._treeNode = null;\n            node._cell = null;\n        }\n\n        if (node.isFolder) {\n            var cnt: number = node.numChildren;\n            for (var i: number = 0; i < cnt; i++) {\n                var node2: GTreeNode = node.getChildAt(i);\n                this.removeNode(node2);\n            }\n        }\n    }\n\n    private __cellMouseDown(evt: any): void {\n        throw new Error(\"TODO\");\n        var node: GTreeNode = GObject.cast(evt.currentTarget)._treeNode;\n        this._expandedStatusInEvt = node.expanded;\n    }\n\n    private __expandedStateChanged(cc: Controller): void {\n        var node: GTreeNode = cc.parent._treeNode;\n        node.expanded = cc.selectedIndex == 1;\n    }\n\n    protected dispatchItemEvent(item: GObject, evt: any): void {\n        throw new Error(\"TODO\");\n        if (this._clickToExpand != 0) {\n            var node: GTreeNode = item._treeNode;\n            if (node && node.isFolder && this._expandedStatusInEvt == node.expanded) {\n                if (this._clickToExpand == 2) {\n                    //if (evt.clickCount == 2)\n                    // node.expanded = !node.expanded;\n                }\n                else\n                    node.expanded = !node.expanded;\n            }\n        }\n\n        super.dispatchItemEvent(item, evt);\n    }\n\n    public setup_beforeAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_beforeAdd(buffer, beginPos);\n\n        buffer.seek(beginPos, 9);\n\n        this._indent = buffer.readInt();\n        this._clickToExpand = buffer.readByte();\n    }\n\n    protected readItems(buffer: ByteBuffer): void {\n        var cnt: number;\n        var i: number;\n        var nextPos: number;\n        var str: string;\n        var isFolder: boolean;\n        var lastNode: GTreeNode;\n        var level: number;\n        var prevLevel: number = 0;\n\n        cnt = buffer.readShort();\n        for (i = 0; i < cnt; i++) {\n            nextPos = buffer.readShort();\n            nextPos += buffer.position;\n\n            str = buffer.readS();\n            if (str == null) {\n                str = this.defaultItem;\n                if (!str) {\n                    buffer.position = nextPos;\n                    continue;\n                }\n            }\n\n            isFolder = buffer.readBool();\n            level = buffer.readByte();\n\n            var node: GTreeNode = new GTreeNode(isFolder, str);\n            node.expanded = true;\n            if (i == 0)\n                this._rootNode.addChild(node);\n            else {\n                if (level > prevLevel)\n                    lastNode.addChild(node);\n                else if (level < prevLevel) {\n                    for (var j: number = level; j <= prevLevel; j++)\n                        lastNode = lastNode.parent;\n                    lastNode.addChild(node);\n                }\n                else\n                    lastNode.parent.addChild(node);\n            }\n            lastNode = node;\n            prevLevel = level;\n\n            this.setupItem(buffer, node.cell);\n\n            buffer.position = nextPos;\n        }\n    }\n}\n\nvar s_list: number[] = new Array<number>();\n","import { UIPackage } from './UIPackage';\nimport { GRoot } from './GRoot';\nimport { GGraph } from './GGraph';\nimport { Events } from './Events';\nimport { RelationType } from './FieldTypes';\nimport { UIConfig } from './UIConfig';\nimport { IUISource } from './IUISource';\nimport { GObject } from './GObject';\nimport \"tooqingphaser\";\nimport { GComponent } from \"./GComponent\";\nexport class Window extends GComponent {\n    private _contentPane: GComponent;\n    private _modalWaitPane: GObject;\n    private _closeButton: GObject;\n    private _dragArea: GObject;\n    private _contentArea: GObject;\n    private _frame: GComponent;\n    private _modal: boolean;\n\n    private _uiSources?: IUISource[];\n    private _inited?: boolean;\n    private _loading?: boolean;\n\n    protected _requestingCmd: number = 0;\n\n    public bringToFontOnClick: boolean;\n\n    constructor() {\n        super();\n\n        this._uiSources = [];\n        this.bringToFontOnClick = UIConfig.bringWindowToFrontOnClick;\n\n        // this.displayObject.on(Phaser.GameObjects.Events.ADDED_TO_SCENE, this, this.__onShown);\n        // this.displayObject.on(Phaser.GameObjects.Events.REMOVED_FROM_SCENE, this, this.__onHidden);\n        // this.displayObject.on(Laya.Event.MOUSE_DOWN, this, this.__mouseDown);\n    }\n\n    public addUISource(source: IUISource): void {\n        this._uiSources.push(source);\n    }\n\n    public set contentPane(val: GComponent) {\n        if (this._contentPane != val) {\n            if (this._contentPane)\n                this.removeChild(this._contentPane);\n            this._contentPane = val;\n            if (this._contentPane) {\n                // this.addChild(this._contentPane);\n                this.setSize(this._contentPane.width, this._contentPane.height);\n                this._contentPane.addRelation(this, RelationType.Size);\n                this._frame = <GComponent>(this._contentPane.getChild(\"frame\"));\n                if (this._frame) {\n                    this.closeButton = this._frame.getChild(\"closeButton\");\n                    this.dragArea = this._frame.getChild(\"dragArea\");\n                    this.contentArea = this._frame.getChild(\"contentArea\");\n                }\n            }\n        }\n    }\n\n    public get contentPane(): GComponent {\n        return this._contentPane;\n    }\n\n    public get frame(): GComponent {\n        return this._frame;\n    }\n\n    public get closeButton(): GObject {\n        return this._closeButton;\n    }\n\n    public set closeButton(value: GObject) {\n        if (this._closeButton)\n            this._closeButton.offClick(this.closeEventHandler);\n        this._closeButton = value;\n        if (this._closeButton)\n            this._closeButton.onClick(this.closeEventHandler);\n    }\n\n    public get dragArea(): GObject {\n        return this._dragArea;\n    }\n\n    public set dragArea(value: GObject) {\n        if (this._dragArea != value) {\n            if (this._dragArea) {\n                this._dragArea.draggable = false;\n                this._dragArea.off(Events.DRAG_START, this.__dragStart);\n            }\n\n            this._dragArea = value;\n            if (this._dragArea) {\n                if (this._dragArea instanceof GGraph)\n                    this._dragArea.drawRect(0, null, null);\n                this._dragArea.draggable = true;\n                // this._dragArea.on(Events.DRAG_START, this, this.__dragStart);\n            }\n        }\n    }\n\n    public get contentArea(): GObject {\n        return this._contentArea;\n    }\n\n    public set contentArea(value: GObject) {\n        this._contentArea = value;\n    }\n\n    public show(): void {\n        // GRoot.inst.showWindow(this);\n    }\n\n    public showOn(root: GRoot): void {\n        // root.showWindow(this);\n    }\n\n    public hide(): void {\n        if (this.isShowing)\n            this.doHideAnimation();\n    }\n\n    public hideImmediately(): void {\n        var r: GRoot = (this.parent instanceof GRoot) ? this.parent : null;\n        if (!r)\n            r = GRoot.inst;\n        // r.hideWindowImmediately(this);\n    }\n\n    public centerOn(r: GRoot, restraint?: boolean): void {\n        this.setXY(Math.round((r.width - this.width) / 2), Math.round((r.height - this.height) / 2));\n        if (restraint) {\n            this.addRelation(r, RelationType.Center_Center);\n            this.addRelation(r, RelationType.Middle_Middle);\n        }\n    }\n\n    public toggleStatus(): void {\n        if (this.isTop)\n            this.hide();\n        else\n            this.show();\n    }\n\n    public get isShowing(): boolean {\n        return this.parent != null;\n    }\n\n    public get isTop(): boolean {\n        return this.parent != null && this.parent.getChildIndex(this) == this.parent.numChildren - 1;\n    }\n\n    public get modal(): boolean {\n        return this._modal;\n    }\n\n    public set modal(val: boolean) {\n        this._modal = val;\n    }\n\n    public bringToFront(): void {\n        // this.root.bringToFront(this);\n    }\n\n    public showModalWait(requestingCmd?: number): void {\n        if (requestingCmd != null)\n            this._requestingCmd = requestingCmd;\n\n        if (UIConfig.windowModalWaiting) {\n            if (!this._modalWaitPane)\n                this._modalWaitPane = UIPackage.createObjectFromURL(UIConfig.windowModalWaiting);\n\n            this.layoutModalWaitPane();\n\n            // this.addChild(this._modalWaitPane);\n        }\n    }\n\n    protected layoutModalWaitPane(): void {\n        if (this._contentArea) {\n            var pt: Phaser.Geom.Point = this._frame.localToGlobal();\n            pt = this.globalToLocal(pt.x, pt.y, pt);\n            this._modalWaitPane.setXY(pt.x + this._contentArea.x, pt.y + this._contentArea.y);\n            this._modalWaitPane.setSize(this._contentArea.width, this._contentArea.height);\n        }\n        else\n            this._modalWaitPane.setSize(this.width, this.height);\n    }\n\n    public closeModalWait(requestingCmd?: number): boolean {\n        if (requestingCmd != null) {\n            if (this._requestingCmd != requestingCmd)\n                return false;\n        }\n        this._requestingCmd = 0;\n\n        if (this._modalWaitPane && this._modalWaitPane.parent != null)\n            this.removeChild(this._modalWaitPane);\n\n        return true;\n    }\n\n    public get modalWaiting(): boolean {\n        return this._modalWaitPane && this._modalWaitPane.parent != null;\n    }\n\n\n    public init(): void {\n        if (this._inited || this._loading)\n            return;\n\n        if (this._uiSources.length > 0) {\n            this._loading = false;\n            var cnt: number = this._uiSources.length;\n            for (var i: number = 0; i < cnt; i++) {\n                var lib: IUISource = this._uiSources[i];\n                if (!lib.loaded) {\n                    lib.load(this.__uiLoadComplete, this);\n                    this._loading = true;\n                }\n            }\n\n            if (!this._loading)\n                this._init();\n        }\n        else\n            this._init();\n    }\n\n    protected onInit(): void {\n    }\n\n    protected onShown(): void {\n    }\n\n    protected onHide(): void {\n    }\n\n    protected doShowAnimation(): void {\n        this.onShown();\n    }\n\n    protected doHideAnimation(): void {\n        this.hideImmediately();\n    }\n\n    private __uiLoadComplete(): void {\n        var cnt: number = this._uiSources.length;\n        for (var i: number = 0; i < cnt; i++) {\n            var lib: IUISource = this._uiSources[i];\n            if (!lib.loaded)\n                return;\n        }\n\n        this._loading = false;\n        this._init();\n    }\n\n    private _init(): void {\n        this._inited = true;\n        this.onInit();\n\n        if (this.isShowing)\n            this.doShowAnimation();\n    }\n\n    public dispose(): void {\n        if (this.parent)\n            this.hideImmediately();\n\n        super.dispose();\n    }\n\n    protected closeEventHandler(): void {\n        this.hide();\n    }\n\n    private __onShown(): void {\n        if (!this._inited)\n            this.init();\n        else\n            this.doShowAnimation();\n    }\n\n    private __onHidden(): void {\n        this.closeModalWait();\n        this.onHide();\n    }\n\n    private __mouseDown(): void {\n        if (this.isShowing && this.bringToFontOnClick)\n            this.bringToFront();\n    }\n\n    // private __dragStart(evt: Laya.Event): void {\n    private __dragStart(evt: any): void {\n        // TODO\n        throw new Error(\"TODO\");\n        GObject.cast(evt.currentTarget).stopDrag();\n\n        this.startDrag();\n    }\n}\n","import { PopupDirection } from './FieldTypes';\r\nimport { Controller } from './Controller';\r\nimport { GButton } from './GButton';\r\nimport { GObject } from './GObject';\r\nimport { UIConfig } from './UIConfig';\r\nimport { GList } from './GList';\r\nimport { GComponent } from \"./GComponent\";\r\n\r\nexport class PopupMenu {\r\n\r\n    protected _contentPane: GComponent;\r\n    protected _list: GList;\r\n\r\n    constructor(resourceURL?: string) {\r\n        if (!resourceURL) {\r\n            resourceURL = UIConfig.popupMenu;\r\n            if (!resourceURL)\r\n                throw \"UIConfig.popupMenu not defined\";\r\n        }\r\n        throw \"TODO\";\r\n        // this._contentPane = UIPackage.createObjectFromURL(resourceURL).asCom;\r\n        // this._contentPane.on(Laya.Event.DISPLAY, this, this.__addedToStage);\r\n        // this._list = <GList>(this._contentPane.getChild(\"list\"));\r\n        // this._list.removeChildrenToPool();\r\n        // this._list.addRelation(this._contentPane, RelationType.Width);\r\n        // this._list.removeRelation(this._contentPane, RelationType.Height);\r\n        // this._contentPane.addRelation(this._list, RelationType.Height);\r\n        // this._list.on(Events.CLICK_ITEM, this, this.__clickItem);\r\n    }\r\n\r\n    public dispose(): void {\r\n        this._contentPane.dispose();\r\n    }\r\n\r\n    public addItem(caption: string, handler?: (item?: GObject, evt?: Event) => void): GButton {\r\n        throw new Error(\"TODO\");\r\n        // var item: GButton = this._list.addItemFromPool().asButton;\r\n        // item.title = caption;\r\n        // item.data = handler;\r\n        // item.grayed = false;\r\n        // var c: Controller = item.getController(\"checked\");\r\n        // if (c)\r\n        //     c.selectedIndex = 0;\r\n        // return item;\r\n    }\r\n\r\n    public addItemAt(caption: string, index: number, handler?: (item?: GObject, evt?: Event) => void): GButton {\r\n        throw new Error(\"TODO\");\r\n        // var item: GButton = this._list.getFromPool().asButton;\r\n        // this._list.addChildAt(item, index);\r\n        // item.title = caption;\r\n        // item.data = handler;\r\n        // item.grayed = false;\r\n        // var c: Controller = item.getController(\"checked\");\r\n        // if (c)\r\n        //     c.selectedIndex = 0;\r\n        // return item;\r\n    }\r\n\r\n    public addSeperator(): void {\r\n        throw new Error(\"TODO\");\r\n        // if (UIConfig.popupMenu_seperator == null)\r\n        //     throw \"UIConfig.popupMenu_seperator not defined\";\r\n        // this.list.addItemFromPool(UIConfig.popupMenu_seperator);\r\n    }\r\n\r\n    public getItemName(index: number): string {\r\n        var item: GObject = this._list.getChildAt(index);\r\n        return item.name;\r\n    }\r\n\r\n    public setItemText(name: string, caption: string): void {\r\n        var item: GButton = <GButton>this._list.getChild(name);\r\n        item.title = caption;\r\n    }\r\n\r\n    public setItemVisible(name: string, visible: boolean): void {\r\n        var item: GButton = <GButton>this._list.getChild(name);\r\n        if (item.visible != visible) {\r\n            item.visible = visible;\r\n            this._list.setBoundsChangedFlag();\r\n        }\r\n    }\r\n\r\n    public setItemGrayed(name: string, grayed: boolean): void {\r\n        var item: GButton = <GButton>this._list.getChild(name);\r\n        item.grayed = grayed;\r\n    }\r\n\r\n    public setItemCheckable(name: string, checkable: boolean): void {\r\n        var item: GButton = <GButton>this._list.getChild(name);\r\n        var c: Controller = item.getController(\"checked\");\r\n        if (c) {\r\n            if (checkable) {\r\n                if (c.selectedIndex == 0)\r\n                    c.selectedIndex = 1;\r\n            }\r\n            else\r\n                c.selectedIndex = 0;\r\n        }\r\n    }\r\n\r\n    public setItemChecked(name: string, checked: boolean): void {\r\n        var item: GButton = <GButton>this._list.getChild(name);\r\n        var c: Controller = item.getController(\"checked\");\r\n        if (c)\r\n            c.selectedIndex = checked ? 2 : 1;\r\n    }\r\n\r\n    public isItemChecked(name: string): boolean {\r\n        var item: GButton = <GButton>this._list.getChild(name);\r\n        var c: Controller = item.getController(\"checked\");\r\n        if (c)\r\n            return c.selectedIndex == 2;\r\n        else\r\n            return false;\r\n    }\r\n\r\n    public removeItem(name: string): boolean {\r\n        throw new Error(\"TODO\");\r\n        // var item: GObject = this._list.getChild(name);\r\n        // if (item) {\r\n        //     var index: number = this._list.getChildIndex(item);\r\n        //     this._list.removeChildToPoolAt(index);\r\n        //     return true;\r\n        // }\r\n        // else\r\n        //     return false;\r\n    }\r\n\r\n    public clearItems(): void {\r\n        throw new Error(\"TODO\");\r\n        // this._list.removeChildrenToPool();\r\n    }\r\n\r\n    public get itemCount(): number {\r\n        return this._list.numChildren;\r\n    }\r\n\r\n    public get contentPane(): GComponent {\r\n        return this._contentPane;\r\n    }\r\n\r\n    public get list(): GList {\r\n        return this._list;\r\n    }\r\n\r\n    public show(target: GObject = null, dir?: PopupDirection | boolean) {\r\n        throw \"TODO\";\r\n        // var r: GRoot = target != null ? target.root : GRoot.inst;\r\n        // r.showPopup(this.contentPane, (target instanceof GRoot) ? null : target, dir);\r\n    }\r\n\r\n    private __clickItem(itemObject: GObject): void {\r\n        throw \"TODO\";\r\n        // Laya.timer.once(100, this, this.__clickItem2, [itemObject]);\r\n    }\r\n\r\n    private __clickItem2(itemObject: GObject): void {\r\n        throw \"TODO\";\r\n        // if (!(itemObject instanceof GButton))\r\n        //     return;\r\n        // if (itemObject.grayed) {\r\n        //     this._list.selectedIndex = -1;\r\n        //     return;\r\n        // }\r\n        // var c: Controller = itemObject.asCom.getController(\"checked\");\r\n        // if (c && c.selectedIndex != 0) {\r\n        //     if (c.selectedIndex == 1)\r\n        //         c.selectedIndex = 2;\r\n        //     else\r\n        //         c.selectedIndex = 1;\r\n        // }\r\n        // var r: GRoot = <GRoot>(this._contentPane.parent);\r\n        // r.hidePopup(this.contentPane);\r\n        // if (itemObject.data != null) {\r\n        //     itemObject.data();\r\n        // }\r\n    }\r\n\r\n    private __addedToStage(): void {\r\n        throw new Error(\"TODO\");\r\n        // this._list.selectedIndex = -1;\r\n        // this._list.resizeToFit(100000, 10);\r\n    }\r\n\r\n}\r\n","import { GComponent } from \"./GComponent\";\nimport { GList } from './GList';\nimport { GGroup } from './GGroup';\nimport { GComboBox } from './GComboBox';\nimport { GScrollBar } from './GScrollBar';\nimport { GSlider } from './GSlider';\nimport { GProgressBar } from './GProgressBar';\nimport { GLabel } from './GLabel';\nimport { GButton } from './GButton';\nimport { GImage } from './GImage';\nimport { ObjectType, PackageItemType } from './FieldTypes';\nimport { GObject } from './GObject';\nimport { PackageItem } from './PackageItem';\nimport { Decls, UIPackage } from './UIPackage';\nimport { GLoader } from './GLoader';\nimport { GTree } from './GTree';\nimport { GRoot } from \"./GRoot\";\n\nexport class UIObjectFactory {\n    public static extensions: { [index: string]: new () => GComponent } = {};\n    public static loaderType: new () => GLoader;\n\n    public constructor() {\n    }\n\n    public static setExtension(url: string, type: new () => GComponent): void {\n        if (url == null)\n            throw \"Invaild url: \" + url;\n\n        var pi: PackageItem = UIPackage.getItemByURL(url);\n        if (pi)\n            pi.extensionType = type;\n\n        UIObjectFactory.extensions[url] = type;\n    }\n\n    public static setPackageItemExtension(url: string, type: new () => GComponent): void {\n        UIObjectFactory.setExtension(url, type);\n    }\n\n    public static setLoaderExtension(type: new () => GLoader): void {\n        UIObjectFactory.loaderType = type;\n    }\n\n    public static resolveExtension(pi: PackageItem): void {\n        var extensionType = UIObjectFactory.extensions[\"ui://\" + pi.owner.id + pi.id];\n        if (!extensionType)\n            extensionType = UIObjectFactory.extensions[\"ui://\" + pi.owner.name + \"/\" + pi.name];\n        if (extensionType)\n            pi.extensionType = extensionType;\n    }\n\n    public static newObject(type: number | PackageItem, userClass?: new () => GObject): GObject {\n        var obj: GObject;\n\n        if (typeof type === 'number') {\n            switch (type) {\n                case ObjectType.Image:\n                    return new GImage(GRoot.inst.scene);\n\n                case ObjectType.MovieClip:\n                // return new GMovieClip();\n\n                case ObjectType.Component:\n                    return new GComponent(GRoot.inst.scene);\n\n                case ObjectType.Text:\n                // return new GBasicTextField();\n\n                case ObjectType.RichText:\n                // return new GRichTextField();\n\n                case ObjectType.InputText:\n                // return new GTextInput();\n\n                case ObjectType.Group:\n                    return new GGroup(GRoot.inst.scene);\n\n                case ObjectType.List:\n                    return new GList(GRoot.inst.scene);\n\n                case ObjectType.Graph:\n                // return new GGraph();\n\n                case ObjectType.Loader:\n                    // if (UIObjectFactory.loaderType)\n                    // return new UIObjectFactory.loaderType();\n                    // else\n                    // return new GLoader();\n                    return;\n\n                case ObjectType.Button:\n                    return new GButton(GRoot.inst.scene);\n                case ObjectType.Label:\n                    return new GLabel(GRoot.inst.scene);\n                case ObjectType.ProgressBar:\n                    return new GProgressBar(GRoot.inst.scene);\n                case ObjectType.Slider:\n                    return new GSlider(GRoot.inst.scene);\n                case ObjectType.ScrollBar:\n                    return new GScrollBar(GRoot.inst.scene);\n                case ObjectType.ComboBox:\n                    return new GComboBox(GRoot.inst.scene);\n                case ObjectType.Tree:\n                    return new GTree(GRoot.inst.scene);\n\n                default:\n                    return null;\n            }\n        }\n        else {\n            if (type.type == PackageItemType.Component) {\n                if (userClass)\n                    obj = new userClass();\n                else if (type.extensionType)\n                    obj = new type.extensionType();\n                else\n                    obj = UIObjectFactory.newObject(type.objectType);\n            }\n            else\n                obj = UIObjectFactory.newObject(type.objectType);\n\n            if (obj)\n                obj.packageItem = type;\n        }\n\n        return obj;\n    }\n}\nDecls.UIObjectFactory = UIObjectFactory;\n","import { GObject } from './GObject';\r\nimport { GLoader } from './GLoader';\r\nexport class DragDropManager {\r\n\r\n    private _agent: GLoader;\r\n    private _sourceData: any;\r\n\r\n    private static _inst: DragDropManager;\r\n    public static get inst(): DragDropManager {\r\n        if (!DragDropManager._inst)\r\n            DragDropManager._inst = new DragDropManager();\r\n        return DragDropManager._inst;\r\n    }\r\n\r\n    constructor() {\r\n        throw new Error(\"TODO\");\r\n        // this._agent = new GLoader();\r\n        // this._agent.draggable = true;\r\n        // this._agent.touchable = false;////important\r\n        // this._agent.setSize(100, 100);\r\n        // this._agent.setPivot(0.5, 0.5, true);\r\n        // this._agent.align = \"center\";\r\n        // this._agent.verticalAlign = \"middle\";\r\n        // this._agent.sortingOrder = 1000000;\r\n        // this._agent.on(Events.DRAG_END, this, this.__dragEnd);\r\n    }\r\n\r\n    public get dragAgent(): GObject {\r\n        return this._agent;\r\n    }\r\n\r\n    public get dragging(): boolean {\r\n        return this._agent.parent != null;\r\n    }\r\n\r\n    public startDrag(source: GObject, icon: string, sourceData?: any, touchID?: number): void {\r\n        if (this._agent.parent)\r\n            return;\r\n\r\n        throw new Error(\"TODO\");\r\n        // this._sourceData = sourceData;\r\n        // this._agent.url = icon;\r\n        // GRoot.inst.addChild(this._agent);\r\n        // var pt: Laya.Point = GRoot.inst.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY);\r\n        // this._agent.setXY(pt.x, pt.y);\r\n        // this._agent.startDrag(touchID);\r\n    }\r\n\r\n    public cancel(): void {\r\n        throw new Error(\"TODO\");\r\n        // if (this._agent.parent) {\r\n        //     this._agent.stopDrag();\r\n        //     GRoot.inst.removeChild(this._agent);\r\n        //     this._sourceData = null;\r\n        // }\r\n    }\r\n\r\n    private __dragEnd(evt: any): void {\r\n        throw new Error(\"TODO\");\r\n        // if (!this._agent.parent) //cancelled\r\n        //     return;\r\n\r\n        // GRoot.inst.removeChild(this._agent);\r\n\r\n        // var sourceData: any = this._sourceData;\r\n        // this._sourceData = null;\r\n\r\n        // var obj: GObject = GObject.cast(evt.target);\r\n        // while (obj) {\r\n        //     if (obj.displayObject.hasListener(Events.DROP)) {\r\n        //         obj.requestFocus();\r\n        //         obj.displayObject.event(Events.DROP, [sourceData, Events.createEvent(Events.DROP, obj.displayObject, evt)]);\r\n        //         return;\r\n        //     }\r\n\r\n        //     obj = obj.parent;\r\n        // }\r\n    }\r\n}\r\n","import { ByteBuffer } from './utils/ByteBuffer';\r\nimport { UIPackage } from './UIPackage';\r\nimport { GObject } from './GObject';\r\nimport { PackageItem } from './PackageItem';\r\nimport { ObjectType, PackageItemType } from './FieldTypes';\r\nexport class AsyncOperation {\r\n    /**\r\n     * this.callback(obj:GObject)\r\n     */\r\n    public callback: (obj: GObject) => void;\r\n\r\n    private _itemList: Array<DisplayListItem>;\r\n    private _objectPool: GObject[];\r\n    private _index: number;\r\n\r\n    constructor() {\r\n        this._itemList = new Array<DisplayListItem>();\r\n        this._objectPool = [];\r\n    }\r\n\r\n    public createObject(pkgName: string, resName: string): void {\r\n        var pkg: UIPackage = UIPackage.getByName(pkgName);\r\n        if (pkg) {\r\n            var pi: PackageItem = pkg.getItemByName(resName);\r\n            if (!pi)\r\n                throw new Error(\"resource not found: \" + resName);\r\n\r\n            this.internalCreateObject(pi);\r\n        }\r\n        else\r\n            throw new Error(\"package not found: \" + pkgName);\r\n    }\r\n\r\n    public createObjectFromURL(url: string): void {\r\n        var pi: PackageItem = UIPackage.getItemByURL(url);\r\n        if (pi)\r\n            this.internalCreateObject(pi);\r\n        else\r\n            throw new Error(\"resource not found: \" + url);\r\n    }\r\n\r\n    public cancel(): void {\r\n        // Laya.timer.clear(this, this.run);\r\n        // this._itemList.length = 0;\r\n        // if (this._objectPool.length > 0) {\r\n        //     var cnt: number = this._objectPool.length;\r\n        //     for (var i: number = 0; i < cnt; i++) {\r\n        //         this._objectPool[i].dispose();\r\n        //     }\r\n        //     this._objectPool.length = 0;\r\n        // }\r\n    }\r\n\r\n    private internalCreateObject(item: PackageItem): void {\r\n        throw new Error(\"TODO\");\r\n        // this._itemList.length = 0;\r\n        // this._objectPool.length = 0;\r\n\r\n        // var di: DisplayListItem = { pi: item, type: item.objectType };\r\n        // di.childCount = this.collectComponentChildren(item);\r\n        // this._itemList.push(di);\r\n\r\n        // this._index = 0;\r\n        // Laya.timer.frameLoop(1, this, this.run);\r\n    }\r\n\r\n    private collectComponentChildren(item: PackageItem): number {\r\n        var buffer: ByteBuffer = item.rawData;\r\n        buffer.seek(0, 2);\r\n\r\n        var di: DisplayListItem;\r\n        var pi: PackageItem;\r\n        var i: number;\r\n        var dataLen: number;\r\n        var curPos: number;\r\n        var pkg: UIPackage;\r\n\r\n        var dcnt: number = buffer.readShort();\r\n        for (i = 0; i < dcnt; i++) {\r\n            dataLen = buffer.readShort();\r\n            curPos = buffer.position;\r\n\r\n            buffer.seek(curPos, 0);\r\n\r\n            var type: number = buffer.readByte();\r\n            var src: string = buffer.readS();\r\n            var pkgId: string = buffer.readS();\r\n\r\n            buffer.position = curPos;\r\n\r\n            if (src != null) {\r\n                if (pkgId != null)\r\n                    pkg = UIPackage.getById(pkgId);\r\n                else\r\n                    pkg = item.owner;\r\n\r\n                pi = pkg ? pkg.getItemById(src) : null;\r\n                di = { pi: pi, type: type };\r\n\r\n                if (pi && pi.type == PackageItemType.Component)\r\n                    di.childCount = this.collectComponentChildren(pi);\r\n            }\r\n            else {\r\n                di = { type: type };\r\n                if (type == ObjectType.List) //list\r\n                    di.listItemCount = this.collectListChildren(buffer);\r\n            }\r\n\r\n            this._itemList.push(di);\r\n            buffer.position = curPos + dataLen;\r\n        }\r\n\r\n        return dcnt;\r\n    }\r\n\r\n    private collectListChildren(buffer: ByteBuffer): number {\r\n        buffer.seek(buffer.position, 8);\r\n\r\n        var listItemCount: number = 0;\r\n        var i: number;\r\n        var nextPos: number;\r\n        var url: string;\r\n        var pi: PackageItem;\r\n        var di: DisplayListItem;\r\n        var defaultItem: string = buffer.readS();\r\n        var itemCount: number = buffer.readShort();\r\n\r\n        for (i = 0; i < itemCount; i++) {\r\n            nextPos = buffer.readShort();\r\n            nextPos += buffer.position;\r\n\r\n            url = buffer.readS();\r\n            if (url == null)\r\n                url = defaultItem;\r\n            if (url) {\r\n                pi = UIPackage.getItemByURL(url);\r\n                if (pi) {\r\n                    di = { pi: pi, type: pi.objectType };\r\n                    if (pi.type == PackageItemType.Component)\r\n                        di.childCount = this.collectComponentChildren(pi);\r\n\r\n                    this._itemList.push(di);\r\n                    listItemCount++;\r\n                }\r\n            }\r\n            buffer.position = nextPos;\r\n        }\r\n\r\n        return listItemCount;\r\n    }\r\n\r\n    private run(): void {\r\n        throw new Error(\"TODO\");\r\n        // var obj: GObject;\r\n        // var di: DisplayListItem;\r\n        // var poolStart: number;\r\n        // var k: number;\r\n        // var t: number = Laya.Browser.now();\r\n        // var frameTime: number = UIConfig.frameTimeForAsyncUIConstruction;\r\n        // var totalItems: number = this._itemList.length;\r\n\r\n        // while (this._index < totalItems) {\r\n        //     di = this._itemList[this._index];\r\n        //     if (di.pi) {\r\n        //         obj = UIObjectFactory.newObject(di.pi);\r\n        //         this._objectPool.push(obj);\r\n\r\n        //         UIPackage._constructing++;\r\n        //         if (di.pi.type == PackageItemType.Component) {\r\n        //             poolStart = this._objectPool.length - di.childCount - 1;\r\n\r\n        //             (<GComponent>obj).constructFromResource2(this._objectPool, poolStart);\r\n\r\n        //             this._objectPool.splice(poolStart, di.childCount);\r\n        //         }\r\n        //         else {\r\n        //             obj.constructFromResource();\r\n        //         }\r\n        //         UIPackage._constructing--;\r\n        //     }\r\n        //     else {\r\n        //         obj = UIObjectFactory.newObject(di.type);\r\n        //         this._objectPool.push(obj);\r\n\r\n        //         if (di.type == ObjectType.List && di.listItemCount > 0) {\r\n        //             poolStart = this._objectPool.length - di.listItemCount - 1;\r\n\r\n        //             for (k = 0; k < di.listItemCount; k++) //把他们都放到pool里，这样GList在创建时就不需要创建对象了\r\n        //                 (<GList>obj).itemPool.returnObject(this._objectPool[k + poolStart]);\r\n\r\n        //             this._objectPool.splice(poolStart, di.listItemCount);\r\n        //         }\r\n        //     }\r\n\r\n        //     this._index++;\r\n        //     if ((this._index % 5 == 0) && Laya.Browser.now() - t >= frameTime)\r\n        //         return;\r\n        // }\r\n\r\n        // Laya.timer.clear(this, this.run);\r\n        // var result: GObject = this._objectPool[0];\r\n        // this._itemList.length = 0;\r\n        // this._objectPool.length = 0;\r\n\r\n        // if (this.callback != null)\r\n        //     this.callback(result);\r\n    }\r\n}\r\n\r\ninterface DisplayListItem {\r\n    type: ObjectType;\r\n    pi?: PackageItem;\r\n    childCount?: number;\r\n    listItemCount?: number;\r\n}\r\n","import { Image } from \"./Image\";\n\nexport interface Frame {\n    addDelay: number;\n    texture?: Phaser.Textures.Texture;\n}\n\nexport class MovieClip extends Image {\n    public interval: number = 0;\n    public swing: boolean;\n    public repeatDelay: number = 0;\n    public timeScale: number = 1;\n\n    private _playing: boolean = true;\n    private _frameCount: number = 0;\n    private _frames: Frame[];\n    private _frame: number = 0;\n    private _start: number = 0;\n    private _end: number = 0;\n    private _times: number = 0;\n    private _endAt: number = 0;\n    private _status: number = 0; //0-none, 1-next loop, 2-ending, 3-ended\n    private _endHandler?: () => void;\n\n    private _frameElapsed: number = 0; //当前帧延迟\n    private _reversed: boolean;\n    private _repeatedCount: number = 0;\n\n    constructor() {\n        super(undefined);\n        throw new Error(\"TODO\");\n\n        // this.mouseEnabled = false;\n\n        // this.setPlaySettings();\n\n        // this.on(Laya.Event.DISPLAY, this, this.__addToStage);\n        // this.on(Laya.Event.UNDISPLAY, this, this.__removeFromStage);\n    }\n\n    public get frames(): Frame[] {\n        return this._frames;\n    }\n\n    public set frames(value: Frame[]) {\n        this._frames = value;\n        this._scaleByTile = false;\n        this._scale9Grid = null;\n\n        if (this._frames) {\n            this._frameCount = this._frames.length;\n\n            if (this._end == -1 || this._end > this._frameCount - 1)\n                this._end = this._frameCount - 1;\n            if (this._endAt == -1 || this._endAt > this._frameCount - 1)\n                this._endAt = this._frameCount - 1;\n\n            if (this._frame < 0 || this._frame > this._frameCount - 1)\n                this._frame = this._frameCount - 1;\n\n            this._frameElapsed = 0;\n            this._repeatedCount = 0;\n            this._reversed = false;\n        }\n        else\n            this._frameCount = 0;\n\n        this.drawFrame();\n        this.checkTimer();\n    }\n\n    public get frameCount(): number {\n        return this._frameCount;\n    }\n\n    public get frame(): number {\n        return this._frame;\n    }\n\n    public set frame(value: number) {\n        if (this._frame != value) {\n            if (this._frames && value >= this._frameCount)\n                value = this._frameCount - 1;\n\n            this._frame = value;\n            this._frameElapsed = 0;\n            this.drawFrame();\n        }\n    }\n\n    public get playing(): boolean {\n        return this._playing;\n    }\n\n    public set playing(value: boolean) {\n        if (this._playing != value) {\n            this._playing = value;\n            this.checkTimer();\n        }\n    }\n\n    //从start帧开始，播放到end帧（-1表示结尾），重复times次（0表示无限循环），循环结束后，停止在endAt帧（-1表示参数end）\n    public rewind(): void {\n        this._frame = 0;\n        this._frameElapsed = 0;\n        this._reversed = false;\n        this._repeatedCount = 0;\n\n        this.drawFrame();\n    }\n\n    public syncStatus(anotherMc: MovieClip): void {\n        this._frame = anotherMc._frame;\n        this._frameElapsed = anotherMc._frameElapsed;\n        this._reversed = anotherMc._reversed;\n        this._repeatedCount = anotherMc._repeatedCount;\n\n        this.drawFrame();\n    }\n\n    public advance(timeInMiniseconds: number): void {\n        var beginFrame: number = this._frame;\n        var beginReversed: boolean = this._reversed;\n        var backupTime: number = timeInMiniseconds;\n        while (true) {\n            var tt: number = this.interval + this._frames[this._frame].addDelay;\n            if (this._frame == 0 && this._repeatedCount > 0)\n                tt += this.repeatDelay;\n            if (timeInMiniseconds < tt) {\n                this._frameElapsed = 0;\n                break;\n            }\n\n            timeInMiniseconds -= tt;\n\n            if (this.swing) {\n                if (this._reversed) {\n                    this._frame--;\n                    if (this._frame <= 0) {\n                        this._frame = 0;\n                        this._repeatedCount++;\n                        this._reversed = !this._reversed;\n                    }\n                }\n                else {\n                    this._frame++;\n                    if (this._frame > this._frameCount - 1) {\n                        this._frame = Math.max(0, this._frameCount - 2);\n                        this._repeatedCount++;\n                        this._reversed = !this._reversed;\n                    }\n                }\n            }\n            else {\n                this._frame++;\n                if (this._frame > this._frameCount - 1) {\n                    this._frame = 0;\n                    this._repeatedCount++;\n                }\n            }\n\n            if (this._frame == beginFrame && this._reversed == beginReversed) //走了一轮了\n            {\n                var roundTime: number = backupTime - timeInMiniseconds; //这就是一轮需要的时间\n                timeInMiniseconds -= Math.floor(timeInMiniseconds / roundTime) * roundTime; //跳过\n            }\n        }\n\n        this.drawFrame();\n    }\n\n    //从start帧开始，播放到end帧（-1表示结尾），重复times次（0表示无限循环），循环结束后，停止在endAt帧（-1表示参数end）\n    public setPlaySettings(start?: number, end?: number, times?: number, endAt?: number, endHandler?: () => void): void {\n        if (start == undefined) start = 0;\n        if (end == undefined) end = -1;\n        if (times == undefined) times = 0;\n        if (endAt == undefined) endAt = -1;\n\n        this._start = start;\n        this._end = end;\n        if (this._end == -1 || this._end > this._frameCount - 1)\n            this._end = this._frameCount - 1;\n        this._times = times;\n        this._endAt = endAt;\n        if (this._endAt == -1)\n            this._endAt = this._end;\n        this._status = 0;\n        this._endHandler = endHandler;\n        this.frame = start;\n    }\n\n    public update(): void {\n        throw new Error(\"TODO\");\n        // if (!this._playing || this._frameCount == 0 || this._status == 3)\n        //     return;\n\n        // var dt: number = Laya.timer.delta;\n        // if (dt > 100)\n        //     dt = 100;\n        // if (this.timeScale != 1)\n        //     dt *= this.timeScale;\n\n        // this._frameElapsed += dt;\n        // var tt: number = this.interval + this._frames[this._frame].addDelay;\n        // if (this._frame == 0 && this._repeatedCount > 0)\n        //     tt += this.repeatDelay;\n        // if (this._frameElapsed < tt)\n        //     return;\n\n        // this._frameElapsed -= tt;\n        // if (this._frameElapsed > this.interval)\n        //     this._frameElapsed = this.interval;\n\n        // if (this.swing) {\n        //     if (this._reversed) {\n        //         this._frame--;\n        //         if (this._frame <= 0) {\n        //             this._frame = 0;\n        //             this._repeatedCount++;\n        //             this._reversed = !this._reversed;\n        //         }\n        //     }\n        //     else {\n        //         this._frame++;\n        //         if (this._frame > this._frameCount - 1) {\n        //             this._frame = Math.max(0, this._frameCount - 2);\n        //             this._repeatedCount++;\n        //             this._reversed = !this._reversed;\n        //         }\n        //     }\n        // }\n        // else {\n        //     this._frame++;\n        //     if (this._frame > this._frameCount - 1) {\n        //         this._frame = 0;\n        //         this._repeatedCount++;\n        //     }\n        // }\n\n        // if (this._status == 1) //new loop\n        // {\n        //     this._frame = this._start;\n        //     this._frameElapsed = 0;\n        //     this._status = 0;\n        // }\n        // else if (this._status == 2) //ending\n        // {\n        //     this._frame = this._endAt;\n        //     this._frameElapsed = 0;\n        //     this._status = 3; //ended\n\n        //     //play end\n        //     if (this._endHandler) {\n        //         var handler = this._endHandler;\n        //         this._endHandler = null;\n        //         handler();\n        //     }\n        // }\n        // else {\n        //     if (this._frame == this._end) {\n        //         if (this._times > 0) {\n        //             this._times--;\n        //             if (this._times == 0)\n        //                 this._status = 2;  //ending\n        //             else\n        //                 this._status = 1; //new loop\n        //         }\n        //         else {\n        //             this._status = 1; //new loop\n        //         }\n        //     }\n        // }\n\n        // this.drawFrame();\n    }\n\n    private drawFrame(): void {\n        if (this._frameCount > 0 && this._frame < this._frames.length) {\n            var frame: Frame = this._frames[this._frame];\n            this.texture = frame.texture;\n        }\n        else\n            this.texture = null;\n        this.rebuild();\n    }\n\n    private checkTimer(): void {\n        throw new Error(\"TODO\");\n        // if (this._playing && this._frameCount > 0 && this.stage != null)\n        //     Laya.timer.frameLoop(1, this, this.update);\n        // else\n        //     Laya.timer.clear(this, this.update);\n    }\n\n    private __addToStage(): void {\n        throw new Error(\"TODO\");\n        // if (this._playing && this._frameCount > 0)\n        //     Laya.timer.frameLoop(1, this, this.update);\n    }\n\n    private __removeFromStage(): void {\n        throw new Error(\"TODO\");\n        // Laya.timer.clear(this, this.update);\n    }\n}\n","export class Event {\n\n}\n"],"names":["s_vec2"],"mappings":"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"}
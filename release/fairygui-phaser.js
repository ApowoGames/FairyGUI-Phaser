(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("tooqingphaser"));
	else if(typeof define === 'function' && define.amd)
		define(["tooqingphaser"], factory);
	else if(typeof exports === 'object')
		exports["fairygui-phaser"] = factory(require("tooqingphaser"));
	else
		root["fairygui-phaser"] = factory(root["tooqingphaser"]);
})(this, function(__WEBPACK_EXTERNAL_MODULE_tooqingphaser__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/AssetProxy.ts":
/*!***************************!*\
  !*** ./src/AssetProxy.ts ***!
  \***************************/
/*! exports provided: LoaderType, AssetProxy */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LoaderType\", function() { return LoaderType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AssetProxy\", function() { return AssetProxy; });\n/* harmony import */ var _GRoot__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GRoot */ \"./src/GRoot.ts\");\n\nvar LoaderType;\n(function (LoaderType) {\n    LoaderType[\"IMAGE\"] = \"image\";\n    LoaderType[\"ATLAS\"] = \"atlas\";\n    LoaderType[\"AUDIO\"] = \"audio\";\n    LoaderType[\"VIDEO\"] = \"video\";\n    LoaderType[\"JSON\"] = \"json\";\n    LoaderType[\"SCRIPT\"] = \"script\";\n    LoaderType[\"GLSL\"] = \"glsl\";\n    LoaderType[\"BITMAPFONT\"] = \"bitmapFont\";\n    LoaderType[\"SPRITESHEET\"] = \"spritesheet\";\n})(LoaderType || (LoaderType = {}));\nclass AssetProxy {\n    constructor() {\n        this._resMap = new Map();\n    }\n    static get inst() {\n        if (!AssetProxy._inst)\n            AssetProxy._inst = new AssetProxy();\n        return AssetProxy._inst;\n    }\n    getRes(key) {\n        return this._resMap.get(key);\n    }\n    load(key, url, type, completeCallBack, _errorCallBack) {\n        this._resMap.set(key, url);\n        this._completeCallBack = completeCallBack;\n        this._errorCallBack = _errorCallBack;\n        if (_GRoot__WEBPACK_IMPORTED_MODULE_0__[\"GRoot\"].inst.scene.cache.obj.has(key)) {\n            if (this._completeCallBack) {\n                return this._completeCallBack();\n            }\n        }\n        switch (type) {\n            case LoaderType.IMAGE:\n                _GRoot__WEBPACK_IMPORTED_MODULE_0__[\"GRoot\"].inst.scene.load.image(key, url);\n                break;\n            case LoaderType.ATLAS:\n                _GRoot__WEBPACK_IMPORTED_MODULE_0__[\"GRoot\"].inst.scene.load.atlas(key, url);\n                break;\n            case LoaderType.AUDIO:\n                _GRoot__WEBPACK_IMPORTED_MODULE_0__[\"GRoot\"].inst.scene.load.audio(key, url);\n                break;\n            case LoaderType.VIDEO:\n                _GRoot__WEBPACK_IMPORTED_MODULE_0__[\"GRoot\"].inst.scene.load.video(key, url);\n                break;\n            case LoaderType.JSON:\n                _GRoot__WEBPACK_IMPORTED_MODULE_0__[\"GRoot\"].inst.scene.load.json(key, url);\n                break;\n            case LoaderType.SCRIPT:\n                _GRoot__WEBPACK_IMPORTED_MODULE_0__[\"GRoot\"].inst.scene.load.script(key, url);\n                break;\n            case LoaderType.GLSL:\n                _GRoot__WEBPACK_IMPORTED_MODULE_0__[\"GRoot\"].inst.scene.load.glsl(key, url);\n                break;\n            case LoaderType.BITMAPFONT:\n                _GRoot__WEBPACK_IMPORTED_MODULE_0__[\"GRoot\"].inst.scene.load.bitmapFont(key, url);\n                break;\n            case LoaderType.SPRITESHEET:\n                _GRoot__WEBPACK_IMPORTED_MODULE_0__[\"GRoot\"].inst.scene.load.spritesheet(key, url);\n                break;\n            default:\n                _GRoot__WEBPACK_IMPORTED_MODULE_0__[\"GRoot\"].inst.scene.load.image(key, url);\n                break;\n        }\n    }\n    startLoad() {\n        _GRoot__WEBPACK_IMPORTED_MODULE_0__[\"GRoot\"].inst.scene.load.on(Phaser.Loader.Events.FILE_COMPLETE, this.onLoadComplete, this);\n        _GRoot__WEBPACK_IMPORTED_MODULE_0__[\"GRoot\"].inst.scene.load.on(Phaser.Loader.Events.FILE_LOAD_ERROR, this.onLoadError, this);\n        _GRoot__WEBPACK_IMPORTED_MODULE_0__[\"GRoot\"].inst.scene.load.start();\n    }\n    onLoadComplete() {\n        if (this._completeCallBack)\n            this._completeCallBack();\n    }\n    onLoadError() {\n        if (this._errorCallBack)\n            this._errorCallBack();\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/AssetProxy.ts?");

/***/ }),

/***/ "./src/AsyncOperation.ts":
/*!*******************************!*\
  !*** ./src/AsyncOperation.ts ***!
  \*******************************/
/*! exports provided: AsyncOperation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AsyncOperation\", function() { return AsyncOperation; });\n/* harmony import */ var _UIPackage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UIPackage */ \"./src/UIPackage.ts\");\n/* harmony import */ var _FieldTypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FieldTypes */ \"./src/FieldTypes.ts\");\n\n\nclass AsyncOperation {\n    constructor() {\n        this._itemList = new Array();\n        this._objectPool = [];\n    }\n    createObject(pkgName, resName) {\n        var pkg = _UIPackage__WEBPACK_IMPORTED_MODULE_0__[\"UIPackage\"].getByName(pkgName);\n        if (pkg) {\n            var pi = pkg.getItemByName(resName);\n            if (!pi)\n                throw new Error(\"resource not found: \" + resName);\n            this.internalCreateObject(pi);\n        }\n        else\n            throw new Error(\"package not found: \" + pkgName);\n    }\n    createObjectFromURL(url) {\n        var pi = _UIPackage__WEBPACK_IMPORTED_MODULE_0__[\"UIPackage\"].getItemByURL(url);\n        if (pi)\n            this.internalCreateObject(pi);\n        else\n            throw new Error(\"resource not found: \" + url);\n    }\n    cancel() {\n        // Laya.timer.clear(this, this.run);\n        // this._itemList.length = 0;\n        // if (this._objectPool.length > 0) {\n        //     var cnt: number = this._objectPool.length;\n        //     for (var i: number = 0; i < cnt; i++) {\n        //         this._objectPool[i].dispose();\n        //     }\n        //     this._objectPool.length = 0;\n        // }\n    }\n    internalCreateObject(item) {\n        throw new Error(\"TODO\");\n        // this._itemList.length = 0;\n        // this._objectPool.length = 0;\n        // var di: DisplayListItem = { pi: item, type: item.objectType };\n        // di.childCount = this.collectComponentChildren(item);\n        // this._itemList.push(di);\n        // this._index = 0;\n        // Laya.timer.frameLoop(1, this, this.run);\n    }\n    collectComponentChildren(item) {\n        var buffer = item.rawData;\n        buffer.seek(0, 2);\n        var di;\n        var pi;\n        var i;\n        var dataLen;\n        var curPos;\n        var pkg;\n        var dcnt = buffer.readShort();\n        for (i = 0; i < dcnt; i++) {\n            dataLen = buffer.readShort();\n            curPos = buffer.position;\n            buffer.seek(curPos, 0);\n            var type = buffer.readByte();\n            var src = buffer.readS();\n            var pkgId = buffer.readS();\n            buffer.position = curPos;\n            if (src != null) {\n                if (pkgId != null)\n                    pkg = _UIPackage__WEBPACK_IMPORTED_MODULE_0__[\"UIPackage\"].getById(pkgId);\n                else\n                    pkg = item.owner;\n                pi = pkg ? pkg.getItemById(src) : null;\n                di = { pi: pi, type: type };\n                if (pi && pi.type == _FieldTypes__WEBPACK_IMPORTED_MODULE_1__[\"PackageItemType\"].Component)\n                    di.childCount = this.collectComponentChildren(pi);\n            }\n            else {\n                di = { type: type };\n                if (type == _FieldTypes__WEBPACK_IMPORTED_MODULE_1__[\"ObjectType\"].List) //list\n                    di.listItemCount = this.collectListChildren(buffer);\n            }\n            this._itemList.push(di);\n            buffer.position = curPos + dataLen;\n        }\n        return dcnt;\n    }\n    collectListChildren(buffer) {\n        buffer.seek(buffer.position, 8);\n        var listItemCount = 0;\n        var i;\n        var nextPos;\n        var url;\n        var pi;\n        var di;\n        var defaultItem = buffer.readS();\n        var itemCount = buffer.readShort();\n        for (i = 0; i < itemCount; i++) {\n            nextPos = buffer.readShort();\n            nextPos += buffer.position;\n            url = buffer.readS();\n            if (url == null)\n                url = defaultItem;\n            if (url) {\n                pi = _UIPackage__WEBPACK_IMPORTED_MODULE_0__[\"UIPackage\"].getItemByURL(url);\n                if (pi) {\n                    di = { pi: pi, type: pi.objectType };\n                    if (pi.type == _FieldTypes__WEBPACK_IMPORTED_MODULE_1__[\"PackageItemType\"].Component)\n                        di.childCount = this.collectComponentChildren(pi);\n                    this._itemList.push(di);\n                    listItemCount++;\n                }\n            }\n            buffer.position = nextPos;\n        }\n        return listItemCount;\n    }\n    run() {\n        throw new Error(\"TODO\");\n        // var obj: GObject;\n        // var di: DisplayListItem;\n        // var poolStart: number;\n        // var k: number;\n        // var t: number = Laya.Browser.now();\n        // var frameTime: number = UIConfig.frameTimeForAsyncUIConstruction;\n        // var totalItems: number = this._itemList.length;\n        // while (this._index < totalItems) {\n        //     di = this._itemList[this._index];\n        //     if (di.pi) {\n        //         obj = UIObjectFactory.newObject(di.pi);\n        //         this._objectPool.push(obj);\n        //         UIPackage._constructing++;\n        //         if (di.pi.type == PackageItemType.Component) {\n        //             poolStart = this._objectPool.length - di.childCount - 1;\n        //             (<GComponent>obj).constructFromResource2(this._objectPool, poolStart);\n        //             this._objectPool.splice(poolStart, di.childCount);\n        //         }\n        //         else {\n        //             obj.constructFromResource();\n        //         }\n        //         UIPackage._constructing--;\n        //     }\n        //     else {\n        //         obj = UIObjectFactory.newObject(di.type);\n        //         this._objectPool.push(obj);\n        //         if (di.type == ObjectType.List && di.listItemCount > 0) {\n        //             poolStart = this._objectPool.length - di.listItemCount - 1;\n        //             for (k = 0; k < di.listItemCount; k++) //把他们都放到pool里，这样GList在创建时就不需要创建对象了\n        //                 (<GList>obj).itemPool.returnObject(this._objectPool[k + poolStart]);\n        //             this._objectPool.splice(poolStart, di.listItemCount);\n        //         }\n        //     }\n        //     this._index++;\n        //     if ((this._index % 5 == 0) && Laya.Browser.now() - t >= frameTime)\n        //         return;\n        // }\n        // Laya.timer.clear(this, this.run);\n        // var result: GObject = this._objectPool[0];\n        // this._itemList.length = 0;\n        // this._objectPool.length = 0;\n        // if (this.callback != null)\n        //     this.callback(result);\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/AsyncOperation.ts?");

/***/ }),

/***/ "./src/Controller.ts":
/*!***************************!*\
  !*** ./src/Controller.ts ***!
  \***************************/
/*! exports provided: Controller */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Controller\", function() { return Controller; });\n/* harmony import */ var _UIPackage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UIPackage */ \"./src/UIPackage.ts\");\n/* harmony import */ var _Events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Events */ \"./src/Events.ts\");\n/* harmony import */ var _action_ControllerAction__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./action/ControllerAction */ \"./src/action/ControllerAction.ts\");\n\n\n\nvar _nextPageId = 0;\nclass Controller extends Phaser.Events.EventEmitter {\n    constructor() {\n        super();\n        this._pageIds = [];\n        this._pageNames = [];\n        this._selectedIndex = -1;\n        this._previousIndex = -1;\n    }\n    dispose() {\n        throw new Error(\"TODO\");\n        // this.offAll();\n    }\n    get selectedIndex() {\n        return this._selectedIndex;\n    }\n    set selectedIndex(value) {\n        if (this._selectedIndex != value) {\n            if (value > this._pageIds.length - 1)\n                throw \"index out of bounds: \" + value;\n            this.changing = true;\n            this._previousIndex = this._selectedIndex;\n            this._selectedIndex = value;\n            this.parent.applyController(this);\n            this.emit(_Events__WEBPACK_IMPORTED_MODULE_1__[\"Events\"].STATE_CHANGED, this);\n            this.changing = false;\n        }\n    }\n    /**\n     * 功能和设置selectedIndex一样，但不会触发事件\n     */\n    setSelectedIndex(value) {\n        if (this._selectedIndex != value) {\n            if (value > this._pageIds.length - 1)\n                throw \"index out of bounds: \" + value;\n            this.changing = true;\n            this._previousIndex = this._selectedIndex;\n            this._selectedIndex = value;\n            this.parent.applyController(this);\n            this.changing = false;\n        }\n    }\n    get previsousIndex() {\n        return this._previousIndex;\n    }\n    get selectedPage() {\n        if (this._selectedIndex == -1)\n            return null;\n        else\n            return this._pageNames[this._selectedIndex];\n    }\n    set selectedPage(val) {\n        var i = this._pageNames.indexOf(val);\n        if (i == -1)\n            i = 0;\n        this.selectedIndex = i;\n    }\n    /**\n     * 功能和设置selectedPage一样，但不会触发事件\n     */\n    setSelectedPage(value) {\n        var i = this._pageNames.indexOf(value);\n        if (i == -1)\n            i = 0;\n        this.setSelectedIndex(i);\n    }\n    get previousPage() {\n        if (this._previousIndex == -1)\n            return null;\n        else\n            return this._pageNames[this._previousIndex];\n    }\n    get pageCount() {\n        return this._pageIds.length;\n    }\n    getPageName(index) {\n        return this._pageNames[index];\n    }\n    addPage(name) {\n        this.addPageAt(name, this._pageIds.length);\n    }\n    addPageAt(name, index) {\n        var nid = \"\" + (_nextPageId++);\n        if (index == this._pageIds.length) {\n            this._pageIds.push(nid);\n            this._pageNames.push(name);\n        }\n        else {\n            this._pageIds.splice(index, 0, nid);\n            this._pageNames.splice(index, 0, name);\n        }\n    }\n    removePage(name) {\n        var i = this._pageNames.indexOf(name);\n        if (i != -1) {\n            this._pageIds.splice(i, 1);\n            this._pageNames.splice(i, 1);\n            if (this._selectedIndex >= this._pageIds.length)\n                this.selectedIndex = this._selectedIndex - 1;\n            else\n                this.parent.applyController(this);\n        }\n    }\n    removePageAt(index) {\n        this._pageIds.splice(index, 1);\n        this._pageNames.splice(index, 1);\n        if (this._selectedIndex >= this._pageIds.length)\n            this.selectedIndex = this._selectedIndex - 1;\n        else\n            this.parent.applyController(this);\n    }\n    clearPages() {\n        this._pageIds.length = 0;\n        this._pageNames.length = 0;\n        if (this._selectedIndex != -1)\n            this.selectedIndex = -1;\n        else\n            this.parent.applyController(this);\n    }\n    hasPage(aName) {\n        return this._pageNames.indexOf(aName) != -1;\n    }\n    getPageIndexById(aId) {\n        return this._pageIds.indexOf(aId);\n    }\n    getPageIdByName(aName) {\n        var i = this._pageNames.indexOf(aName);\n        if (i != -1)\n            return this._pageIds[i];\n        else\n            return null;\n    }\n    getPageNameById(aId) {\n        var i = this._pageIds.indexOf(aId);\n        if (i != -1)\n            return this._pageNames[i];\n        else\n            return null;\n    }\n    getPageId(index) {\n        return this._pageIds[index];\n    }\n    get selectedPageId() {\n        if (this._selectedIndex == -1)\n            return null;\n        else\n            return this._pageIds[this._selectedIndex];\n    }\n    set selectedPageId(val) {\n        var i = this._pageIds.indexOf(val);\n        this.selectedIndex = i;\n    }\n    set oppositePageId(val) {\n        var i = this._pageIds.indexOf(val);\n        if (i > 0)\n            this.selectedIndex = 0;\n        else if (this._pageIds.length > 1)\n            this.selectedIndex = 1;\n    }\n    get previousPageId() {\n        if (this._previousIndex == -1)\n            return null;\n        else\n            return this._pageIds[this._previousIndex];\n    }\n    runActions() {\n        if (this._actions) {\n            var cnt = this._actions.length;\n            for (var i = 0; i < cnt; i++) {\n                this._actions[i].run(this, this.previousPageId, this.selectedPageId);\n            }\n        }\n    }\n    setup(buffer) {\n        var beginPos = buffer.position;\n        buffer.seek(beginPos, 0);\n        this.name = buffer.readS();\n        if (buffer.readBool())\n            this.autoRadioGroupDepth = true;\n        buffer.seek(beginPos, 1);\n        var i;\n        var nextPos;\n        var cnt = buffer.readShort();\n        for (i = 0; i < cnt; i++) {\n            this._pageIds.push(buffer.readS());\n            this._pageNames.push(buffer.readS());\n        }\n        var homePageIndex = 0;\n        if (buffer.version >= 2) {\n            var homePageType = buffer.readByte();\n            switch (homePageType) {\n                case 1:\n                    homePageIndex = buffer.readShort();\n                    break;\n                case 2:\n                    homePageIndex = this._pageNames.indexOf(_UIPackage__WEBPACK_IMPORTED_MODULE_0__[\"UIPackage\"].branch);\n                    if (homePageIndex == -1)\n                        homePageIndex = 0;\n                    break;\n                case 3:\n                    homePageIndex = this._pageNames.indexOf(_UIPackage__WEBPACK_IMPORTED_MODULE_0__[\"UIPackage\"].getVar(buffer.readS()));\n                    if (homePageIndex == -1)\n                        homePageIndex = 0;\n                    break;\n            }\n        }\n        buffer.seek(beginPos, 2);\n        cnt = buffer.readShort();\n        if (cnt > 0) {\n            if (!this._actions)\n                this._actions = [];\n            for (i = 0; i < cnt; i++) {\n                nextPos = buffer.readShort();\n                nextPos += buffer.position;\n                var action = _action_ControllerAction__WEBPACK_IMPORTED_MODULE_2__[\"ControllerAction\"].createAction(buffer.readByte());\n                action.setup(buffer);\n                this._actions.push(action);\n                buffer.position = nextPos;\n            }\n        }\n        if (this.parent && this._pageIds.length > 0)\n            this._selectedIndex = homePageIndex;\n        else\n            this._selectedIndex = -1;\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/Controller.ts?");

/***/ }),

/***/ "./src/DragDropManager.ts":
/*!********************************!*\
  !*** ./src/DragDropManager.ts ***!
  \********************************/
/*! exports provided: DragDropManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DragDropManager\", function() { return DragDropManager; });\nclass DragDropManager {\n    constructor() {\n        throw new Error(\"TODO\");\n        // this._agent = new GLoader();\n        // this._agent.draggable = true;\n        // this._agent.touchable = false;////important\n        // this._agent.setSize(100, 100);\n        // this._agent.setPivot(0.5, 0.5, true);\n        // this._agent.align = \"center\";\n        // this._agent.verticalAlign = \"middle\";\n        // this._agent.sortingOrder = 1000000;\n        // this._agent.on(Events.DRAG_END, this, this.__dragEnd);\n    }\n    static get inst() {\n        if (!DragDropManager._inst)\n            DragDropManager._inst = new DragDropManager();\n        return DragDropManager._inst;\n    }\n    get dragAgent() {\n        return this._agent;\n    }\n    get dragging() {\n        return this._agent.parent != null;\n    }\n    startDrag(source, icon, sourceData, touchID) {\n        if (this._agent.parent)\n            return;\n        throw new Error(\"TODO\");\n        // this._sourceData = sourceData;\n        // this._agent.url = icon;\n        // GRoot.inst.addChild(this._agent);\n        // var pt: Laya.Point = GRoot.inst.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY);\n        // this._agent.setXY(pt.x, pt.y);\n        // this._agent.startDrag(touchID);\n    }\n    cancel() {\n        throw new Error(\"TODO\");\n        // if (this._agent.parent) {\n        //     this._agent.stopDrag();\n        //     GRoot.inst.removeChild(this._agent);\n        //     this._sourceData = null;\n        // }\n    }\n    __dragEnd(evt) {\n        throw new Error(\"TODO\");\n        // if (!this._agent.parent) //cancelled\n        //     return;\n        // GRoot.inst.removeChild(this._agent);\n        // var sourceData: any = this._sourceData;\n        // this._sourceData = null;\n        // var obj: GObject = GObject.cast(evt.target);\n        // while (obj) {\n        //     if (obj.displayObject.hasListener(Events.DROP)) {\n        //         obj.requestFocus();\n        //         obj.displayObject.event(Events.DROP, [sourceData, Events.createEvent(Events.DROP, obj.displayObject, evt)]);\n        //         return;\n        //     }\n        //     obj = obj.parent;\n        // }\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/DragDropManager.ts?");

/***/ }),

/***/ "./src/Events.ts":
/*!***********************!*\
  !*** ./src/Events.ts ***!
  \***********************/
/*! exports provided: Events */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Events\", function() { return Events; });\n/* harmony import */ var _event_DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./event/DisplayObjectEvent */ \"./src/event/DisplayObjectEvent.ts\");\n\nclass Events {\n    static createEvent(type, target, source) {\n        // this.$event.setTo(type, target, source ? (source.target || target) : target);\n        // this.$event.touchId = source ? (source.touchId || 0) : 0;\n        // this.$event.nativeEvent = source;\n        // this.$event[\"_stoped\"] = false;\n        throw new Error(\"TODO\");\n        return this.$event;\n    }\n    static dispatch(type, target, source) {\n        // target.event(type, this.createEvent(type, target, source));\n        throw new Error(\"TODO\");\n    }\n}\nEvents.STATE_CHANGED = \"fui_state_changed\";\nEvents.XY_CHANGED = \"fui_xy_changed\";\nEvents.SIZE_CHANGED = \"fui_size_changed\";\nEvents.SIZE_DELAY_CHANGE = \"fui_size_delay_change\";\nEvents.CLICK_ITEM = \"fui_click_item\";\nEvents.SCROLL = \"fui_scroll\";\nEvents.SCROLL_END = \"fui_scroll_end\";\nEvents.DROP = \"fui_drop\";\nEvents.DRAG_START = \"fui_drag_start\";\nEvents.DRAG_MOVE = \"fui_drag_move\";\nEvents.DRAG_END = \"fui_drag_end\";\nEvents.PULL_DOWN_RELEASE = \"fui_pull_down_release\";\nEvents.PULL_UP_RELEASE = \"fui_pull_up_release\";\nEvents.GEAR_STOP = \"fui_gear_stop\";\nEvents.$event = new _event_DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_0__[\"InteractiveEvent\"]();\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/Events.ts?");

/***/ }),

/***/ "./src/FieldTypes.ts":
/*!***************************!*\
  !*** ./src/FieldTypes.ts ***!
  \***************************/
/*! exports provided: ButtonMode, AutoSizeType, AlignType, VertAlignType, LoaderFillType, ListLayoutType, ListSelectionMode, OverflowType, PackageItemType, ObjectType, ProgressTitleType, ScrollBarDisplayType, ScrollType, FlipType, ChildrenRenderOrder, GroupLayoutType, PopupDirection, RelationType, FillMethod, FillOrigin, FillOrigin90, ObjectPropID */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ButtonMode\", function() { return ButtonMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AutoSizeType\", function() { return AutoSizeType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AlignType\", function() { return AlignType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VertAlignType\", function() { return VertAlignType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LoaderFillType\", function() { return LoaderFillType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ListLayoutType\", function() { return ListLayoutType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ListSelectionMode\", function() { return ListSelectionMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"OverflowType\", function() { return OverflowType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PackageItemType\", function() { return PackageItemType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ObjectType\", function() { return ObjectType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ProgressTitleType\", function() { return ProgressTitleType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ScrollBarDisplayType\", function() { return ScrollBarDisplayType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ScrollType\", function() { return ScrollType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FlipType\", function() { return FlipType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ChildrenRenderOrder\", function() { return ChildrenRenderOrder; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GroupLayoutType\", function() { return GroupLayoutType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PopupDirection\", function() { return PopupDirection; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RelationType\", function() { return RelationType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FillMethod\", function() { return FillMethod; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FillOrigin\", function() { return FillOrigin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FillOrigin90\", function() { return FillOrigin90; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ObjectPropID\", function() { return ObjectPropID; });\nvar ButtonMode;\n(function (ButtonMode) {\n    ButtonMode[ButtonMode[\"Common\"] = 0] = \"Common\";\n    ButtonMode[ButtonMode[\"Check\"] = 1] = \"Check\";\n    ButtonMode[ButtonMode[\"Radio\"] = 2] = \"Radio\";\n})(ButtonMode || (ButtonMode = {}));\nvar AutoSizeType;\n(function (AutoSizeType) {\n    AutoSizeType[AutoSizeType[\"None\"] = 0] = \"None\";\n    AutoSizeType[AutoSizeType[\"Both\"] = 1] = \"Both\";\n    AutoSizeType[AutoSizeType[\"Height\"] = 2] = \"Height\";\n})(AutoSizeType || (AutoSizeType = {}));\nvar AlignType;\n(function (AlignType) {\n    AlignType[AlignType[\"Left\"] = 0] = \"Left\";\n    AlignType[AlignType[\"Center\"] = 1] = \"Center\";\n    AlignType[AlignType[\"Right\"] = 2] = \"Right\";\n})(AlignType || (AlignType = {}));\nvar VertAlignType;\n(function (VertAlignType) {\n    VertAlignType[VertAlignType[\"Top\"] = 0] = \"Top\";\n    VertAlignType[VertAlignType[\"Middle\"] = 1] = \"Middle\";\n    VertAlignType[VertAlignType[\"Bottom\"] = 2] = \"Bottom\";\n})(VertAlignType || (VertAlignType = {}));\nvar LoaderFillType;\n(function (LoaderFillType) {\n    LoaderFillType[LoaderFillType[\"None\"] = 0] = \"None\";\n    LoaderFillType[LoaderFillType[\"Scale\"] = 1] = \"Scale\";\n    LoaderFillType[LoaderFillType[\"ScaleMatchHeight\"] = 2] = \"ScaleMatchHeight\";\n    LoaderFillType[LoaderFillType[\"ScaleMatchWidth\"] = 3] = \"ScaleMatchWidth\";\n    LoaderFillType[LoaderFillType[\"ScaleFree\"] = 4] = \"ScaleFree\";\n    LoaderFillType[LoaderFillType[\"ScaleNoBorder\"] = 5] = \"ScaleNoBorder\";\n})(LoaderFillType || (LoaderFillType = {}));\nvar ListLayoutType;\n(function (ListLayoutType) {\n    ListLayoutType[ListLayoutType[\"SingleColumn\"] = 0] = \"SingleColumn\";\n    ListLayoutType[ListLayoutType[\"SingleRow\"] = 1] = \"SingleRow\";\n    ListLayoutType[ListLayoutType[\"FlowHorizontal\"] = 2] = \"FlowHorizontal\";\n    ListLayoutType[ListLayoutType[\"FlowVertical\"] = 3] = \"FlowVertical\";\n    ListLayoutType[ListLayoutType[\"Pagination\"] = 4] = \"Pagination\";\n})(ListLayoutType || (ListLayoutType = {}));\nvar ListSelectionMode;\n(function (ListSelectionMode) {\n    ListSelectionMode[ListSelectionMode[\"Single\"] = 0] = \"Single\";\n    ListSelectionMode[ListSelectionMode[\"Multiple\"] = 1] = \"Multiple\";\n    ListSelectionMode[ListSelectionMode[\"Multiple_SingleClick\"] = 2] = \"Multiple_SingleClick\";\n    ListSelectionMode[ListSelectionMode[\"None\"] = 3] = \"None\";\n})(ListSelectionMode || (ListSelectionMode = {}));\nvar OverflowType;\n(function (OverflowType) {\n    OverflowType[OverflowType[\"Visible\"] = 0] = \"Visible\";\n    OverflowType[OverflowType[\"Hidden\"] = 1] = \"Hidden\";\n    OverflowType[OverflowType[\"Scroll\"] = 2] = \"Scroll\";\n})(OverflowType || (OverflowType = {}));\nvar PackageItemType;\n(function (PackageItemType) {\n    PackageItemType[PackageItemType[\"Image\"] = 0] = \"Image\";\n    PackageItemType[PackageItemType[\"MovieClip\"] = 1] = \"MovieClip\";\n    PackageItemType[PackageItemType[\"Sound\"] = 2] = \"Sound\";\n    PackageItemType[PackageItemType[\"Component\"] = 3] = \"Component\";\n    PackageItemType[PackageItemType[\"Atlas\"] = 4] = \"Atlas\";\n    PackageItemType[PackageItemType[\"Font\"] = 5] = \"Font\";\n    PackageItemType[PackageItemType[\"Swf\"] = 6] = \"Swf\";\n    PackageItemType[PackageItemType[\"Misc\"] = 7] = \"Misc\";\n    PackageItemType[PackageItemType[\"Unknown\"] = 8] = \"Unknown\";\n    PackageItemType[PackageItemType[\"Spine\"] = 9] = \"Spine\";\n    PackageItemType[PackageItemType[\"DragonBones\"] = 10] = \"DragonBones\";\n})(PackageItemType || (PackageItemType = {}));\nvar ObjectType;\n(function (ObjectType) {\n    ObjectType[ObjectType[\"Image\"] = 0] = \"Image\";\n    ObjectType[ObjectType[\"MovieClip\"] = 1] = \"MovieClip\";\n    ObjectType[ObjectType[\"Swf\"] = 2] = \"Swf\";\n    ObjectType[ObjectType[\"Graph\"] = 3] = \"Graph\";\n    ObjectType[ObjectType[\"Loader\"] = 4] = \"Loader\";\n    ObjectType[ObjectType[\"Group\"] = 5] = \"Group\";\n    ObjectType[ObjectType[\"Text\"] = 6] = \"Text\";\n    ObjectType[ObjectType[\"RichText\"] = 7] = \"RichText\";\n    ObjectType[ObjectType[\"InputText\"] = 8] = \"InputText\";\n    ObjectType[ObjectType[\"Component\"] = 9] = \"Component\";\n    ObjectType[ObjectType[\"List\"] = 10] = \"List\";\n    ObjectType[ObjectType[\"Label\"] = 11] = \"Label\";\n    ObjectType[ObjectType[\"Button\"] = 12] = \"Button\";\n    ObjectType[ObjectType[\"ComboBox\"] = 13] = \"ComboBox\";\n    ObjectType[ObjectType[\"ProgressBar\"] = 14] = \"ProgressBar\";\n    ObjectType[ObjectType[\"Slider\"] = 15] = \"Slider\";\n    ObjectType[ObjectType[\"ScrollBar\"] = 16] = \"ScrollBar\";\n    ObjectType[ObjectType[\"Tree\"] = 17] = \"Tree\";\n    ObjectType[ObjectType[\"Loader3D\"] = 18] = \"Loader3D\";\n})(ObjectType || (ObjectType = {}));\nvar ProgressTitleType;\n(function (ProgressTitleType) {\n    ProgressTitleType[ProgressTitleType[\"Percent\"] = 0] = \"Percent\";\n    ProgressTitleType[ProgressTitleType[\"ValueAndMax\"] = 1] = \"ValueAndMax\";\n    ProgressTitleType[ProgressTitleType[\"Value\"] = 2] = \"Value\";\n    ProgressTitleType[ProgressTitleType[\"Max\"] = 3] = \"Max\";\n})(ProgressTitleType || (ProgressTitleType = {}));\nvar ScrollBarDisplayType;\n(function (ScrollBarDisplayType) {\n    ScrollBarDisplayType[ScrollBarDisplayType[\"Default\"] = 0] = \"Default\";\n    ScrollBarDisplayType[ScrollBarDisplayType[\"Visible\"] = 1] = \"Visible\";\n    ScrollBarDisplayType[ScrollBarDisplayType[\"Auto\"] = 2] = \"Auto\";\n    ScrollBarDisplayType[ScrollBarDisplayType[\"Hidden\"] = 3] = \"Hidden\";\n})(ScrollBarDisplayType || (ScrollBarDisplayType = {}));\nvar ScrollType;\n(function (ScrollType) {\n    ScrollType[ScrollType[\"Horizontal\"] = 0] = \"Horizontal\";\n    ScrollType[ScrollType[\"Vertical\"] = 1] = \"Vertical\";\n    ScrollType[ScrollType[\"Both\"] = 2] = \"Both\";\n})(ScrollType || (ScrollType = {}));\nvar FlipType;\n(function (FlipType) {\n    FlipType[FlipType[\"None\"] = 0] = \"None\";\n    FlipType[FlipType[\"Horizontal\"] = 1] = \"Horizontal\";\n    FlipType[FlipType[\"Vertical\"] = 2] = \"Vertical\";\n    FlipType[FlipType[\"Both\"] = 3] = \"Both\";\n})(FlipType || (FlipType = {}));\nvar ChildrenRenderOrder;\n(function (ChildrenRenderOrder) {\n    ChildrenRenderOrder[ChildrenRenderOrder[\"Ascent\"] = 0] = \"Ascent\";\n    ChildrenRenderOrder[ChildrenRenderOrder[\"Descent\"] = 1] = \"Descent\";\n    ChildrenRenderOrder[ChildrenRenderOrder[\"Arch\"] = 2] = \"Arch\";\n})(ChildrenRenderOrder || (ChildrenRenderOrder = {}));\nvar GroupLayoutType;\n(function (GroupLayoutType) {\n    GroupLayoutType[GroupLayoutType[\"None\"] = 0] = \"None\";\n    GroupLayoutType[GroupLayoutType[\"Horizontal\"] = 1] = \"Horizontal\";\n    GroupLayoutType[GroupLayoutType[\"Vertical\"] = 2] = \"Vertical\";\n})(GroupLayoutType || (GroupLayoutType = {}));\nvar PopupDirection;\n(function (PopupDirection) {\n    PopupDirection[PopupDirection[\"Auto\"] = 0] = \"Auto\";\n    PopupDirection[PopupDirection[\"Up\"] = 1] = \"Up\";\n    PopupDirection[PopupDirection[\"Down\"] = 2] = \"Down\";\n})(PopupDirection || (PopupDirection = {}));\nvar RelationType;\n(function (RelationType) {\n    RelationType[RelationType[\"Left_Left\"] = 0] = \"Left_Left\";\n    RelationType[RelationType[\"Left_Center\"] = 1] = \"Left_Center\";\n    RelationType[RelationType[\"Left_Right\"] = 2] = \"Left_Right\";\n    RelationType[RelationType[\"Center_Center\"] = 3] = \"Center_Center\";\n    RelationType[RelationType[\"Right_Left\"] = 4] = \"Right_Left\";\n    RelationType[RelationType[\"Right_Center\"] = 5] = \"Right_Center\";\n    RelationType[RelationType[\"Right_Right\"] = 6] = \"Right_Right\";\n    RelationType[RelationType[\"Top_Top\"] = 7] = \"Top_Top\";\n    RelationType[RelationType[\"Top_Middle\"] = 8] = \"Top_Middle\";\n    RelationType[RelationType[\"Top_Bottom\"] = 9] = \"Top_Bottom\";\n    RelationType[RelationType[\"Middle_Middle\"] = 10] = \"Middle_Middle\";\n    RelationType[RelationType[\"Bottom_Top\"] = 11] = \"Bottom_Top\";\n    RelationType[RelationType[\"Bottom_Middle\"] = 12] = \"Bottom_Middle\";\n    RelationType[RelationType[\"Bottom_Bottom\"] = 13] = \"Bottom_Bottom\";\n    RelationType[RelationType[\"Width\"] = 14] = \"Width\";\n    RelationType[RelationType[\"Height\"] = 15] = \"Height\";\n    RelationType[RelationType[\"LeftExt_Left\"] = 16] = \"LeftExt_Left\";\n    RelationType[RelationType[\"LeftExt_Right\"] = 17] = \"LeftExt_Right\";\n    RelationType[RelationType[\"RightExt_Left\"] = 18] = \"RightExt_Left\";\n    RelationType[RelationType[\"RightExt_Right\"] = 19] = \"RightExt_Right\";\n    RelationType[RelationType[\"TopExt_Top\"] = 20] = \"TopExt_Top\";\n    RelationType[RelationType[\"TopExt_Bottom\"] = 21] = \"TopExt_Bottom\";\n    RelationType[RelationType[\"BottomExt_Top\"] = 22] = \"BottomExt_Top\";\n    RelationType[RelationType[\"BottomExt_Bottom\"] = 23] = \"BottomExt_Bottom\";\n    RelationType[RelationType[\"Size\"] = 24] = \"Size\";\n})(RelationType || (RelationType = {}));\nvar FillMethod;\n(function (FillMethod) {\n    FillMethod[FillMethod[\"None\"] = 0] = \"None\";\n    FillMethod[FillMethod[\"Horizontal\"] = 1] = \"Horizontal\";\n    FillMethod[FillMethod[\"Vertical\"] = 2] = \"Vertical\";\n    FillMethod[FillMethod[\"Radial90\"] = 3] = \"Radial90\";\n    FillMethod[FillMethod[\"Radial180\"] = 4] = \"Radial180\";\n    FillMethod[FillMethod[\"Radial360\"] = 5] = \"Radial360\";\n})(FillMethod || (FillMethod = {}));\nvar FillOrigin;\n(function (FillOrigin) {\n    FillOrigin[FillOrigin[\"Top\"] = 0] = \"Top\";\n    FillOrigin[FillOrigin[\"Bottom\"] = 1] = \"Bottom\";\n    FillOrigin[FillOrigin[\"Left\"] = 2] = \"Left\";\n    FillOrigin[FillOrigin[\"Right\"] = 3] = \"Right\";\n    FillOrigin[FillOrigin[\"TopLeft\"] = 0] = \"TopLeft\";\n    FillOrigin[FillOrigin[\"TopRight\"] = 1] = \"TopRight\";\n    FillOrigin[FillOrigin[\"BottomLeft\"] = 2] = \"BottomLeft\";\n    FillOrigin[FillOrigin[\"BottomRight\"] = 3] = \"BottomRight\";\n})(FillOrigin || (FillOrigin = {}));\nvar FillOrigin90;\n(function (FillOrigin90) {\n    FillOrigin90[FillOrigin90[\"TopLeft\"] = 0] = \"TopLeft\";\n    FillOrigin90[FillOrigin90[\"TopRight\"] = 1] = \"TopRight\";\n    FillOrigin90[FillOrigin90[\"BottomLeft\"] = 2] = \"BottomLeft\";\n    FillOrigin90[FillOrigin90[\"BottomRight\"] = 3] = \"BottomRight\";\n})(FillOrigin90 || (FillOrigin90 = {}));\nvar ObjectPropID;\n(function (ObjectPropID) {\n    ObjectPropID[ObjectPropID[\"Text\"] = 0] = \"Text\";\n    ObjectPropID[ObjectPropID[\"Icon\"] = 1] = \"Icon\";\n    ObjectPropID[ObjectPropID[\"Color\"] = 2] = \"Color\";\n    ObjectPropID[ObjectPropID[\"OutlineColor\"] = 3] = \"OutlineColor\";\n    ObjectPropID[ObjectPropID[\"Playing\"] = 4] = \"Playing\";\n    ObjectPropID[ObjectPropID[\"Frame\"] = 5] = \"Frame\";\n    ObjectPropID[ObjectPropID[\"DeltaTime\"] = 6] = \"DeltaTime\";\n    ObjectPropID[ObjectPropID[\"TimeScale\"] = 7] = \"TimeScale\";\n    ObjectPropID[ObjectPropID[\"FontSize\"] = 8] = \"FontSize\";\n    ObjectPropID[ObjectPropID[\"Selected\"] = 9] = \"Selected\";\n})(ObjectPropID || (ObjectPropID = {}));\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/FieldTypes.ts?");

/***/ }),

/***/ "./src/GBasicTextField.ts":
/*!********************************!*\
  !*** ./src/GBasicTextField.ts ***!
  \********************************/
/*! exports provided: GBasicTextField */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GBasicTextField\", function() { return GBasicTextField; });\n/* harmony import */ var _utils_UBBParser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/UBBParser */ \"./src/utils/UBBParser.ts\");\n/* harmony import */ var _FieldTypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FieldTypes */ \"./src/FieldTypes.ts\");\n/* harmony import */ var _GTextField__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GTextField */ \"./src/GTextField.ts\");\n\n\n\nclass GBasicTextField extends _GTextField__WEBPACK_IMPORTED_MODULE_2__[\"GTextField\"] {\n    constructor() {\n        super();\n        this._letterSpacing = 0;\n        this._textWidth = 0;\n        this._textHeight = 0;\n        this._text = \"\";\n        this._color = \"#000000\";\n        throw new Error(\"TODO\");\n        // this._textField.align = \"left\";\n        // this._textField.font = fgui.UIConfig.defaultFont;\n        this._autoSize = _FieldTypes__WEBPACK_IMPORTED_MODULE_1__[\"AutoSizeType\"].Both;\n        this._widthAutoSize = this._heightAutoSize = true;\n        this._textField[\"_sizeDirty\"] = false;\n    }\n    createDisplayObject() {\n        // this._displayObject = this._textField = new TextExt(this);\n        // this._displayObject[\"$owner\"] = this;\n        // this._displayObject.mouseEnabled = false;\n    }\n    get nativeText() {\n        return this._textField;\n    }\n    set text(value) {\n        this._text = value;\n        if (this._text == null)\n            this._text = \"\";\n        if (this._bitmapFont == null) {\n            if (this._widthAutoSize)\n                this._textField.width = 10000;\n            var text2 = this._text;\n            if (this._templateVars)\n                text2 = this.parseTemplate(text2);\n            if (this._ubbEnabled) //laya还不支持同一个文本不同样式\n                this._textField.text = _utils_UBBParser__WEBPACK_IMPORTED_MODULE_0__[\"UBBParser\"].inst.parse(text2, true);\n            else\n                this._textField.text = text2;\n        }\n        else {\n            this._textField.text = \"\";\n            this._textField[\"setChanged\"]();\n        }\n        throw new Error(\"TODO\");\n        // if (this.parent && this.parent._underConstruct)\n        //     this._textField.typeset();\n    }\n    get text() {\n        return this._text;\n    }\n    get font() {\n        throw new Error(\"TODO\");\n        // return this._textField.font;\n    }\n    set font(value) {\n        this._font = value;\n        throw new Error(\"TODO\");\n        // if (ToolSet.startsWith(this._font, \"ui://\"))\n        //     this._bitmapFont = <BitmapFont>UIPackage.getItemAssetByURL(this._font);\n        // else\n        //     delete this._bitmapFont;\n        // if (this._bitmapFont) {\n        //     this._textField[\"setChanged\"]();\n        // }\n        // else {\n        //     if (this._font)\n        //         this._textField.font = this._font;\n        //     else\n        //         this._textField.font = fgui.UIConfig.defaultFont;\n        // }\n    }\n    get fontSize() {\n        throw new Error(\"TODO\");\n        // return this._textField.fontSize;\n    }\n    set fontSize(value) {\n        throw new Error(\"TODO\");\n        // this._textField.fontSize = value;\n    }\n    get color() {\n        return this._color;\n    }\n    set color(value) {\n        throw new Error(\"TODO\");\n        // if (this._color != value) {\n        //     this._color = value;\n        //     this.updateGear(4);\n        //     if (this.grayed)\n        //         this._textField.color = \"#AAAAAA\";\n        //     else\n        //         this._textField.color = this._color;\n        // }\n    }\n    get align() {\n        throw new Error(\"TODO\");\n        // return this._textField.align;\n    }\n    set align(value) {\n        throw new Error(\"TODO\");\n        // this._textField.align = value;\n    }\n    get valign() {\n        throw new Error(\"TODO\");\n        // return this._textField.valign;\n    }\n    set valign(value) {\n        throw new Error(\"TODO\");\n        // this._textField.valign = value;\n    }\n    get leading() {\n        throw new Error(\"TODO\");\n        // return this._textField.leading;\n    }\n    set leading(value) {\n        // this._textField.leading = value;\n        throw new Error(\"TODO\");\n    }\n    get letterSpacing() {\n        return this._letterSpacing;\n    }\n    set letterSpacing(value) {\n        this._letterSpacing = value;\n    }\n    get bold() {\n        throw new Error(\"TODO\");\n        // return this._textField.bold;\n    }\n    set bold(value) {\n        throw new Error(\"TODO\");\n        // this._textField.bold = value;\n    }\n    get italic() {\n        throw new Error(\"TODO\");\n        // return this._textField.italic;\n    }\n    set italic(value) {\n        throw new Error(\"TODO\");\n        // this._textField.italic = value;\n    }\n    get underline() {\n        throw new Error(\"TODO\");\n        // return this._textField.underline;\n    }\n    set underline(value) {\n        throw new Error(\"TODO\");\n        // this._textField.underline = value;\n    }\n    get singleLine() {\n        return this._singleLine;\n    }\n    set singleLine(value) {\n        throw new Error(\"TODO\");\n        // this._singleLine = value;\n        // this._textField.wordWrap = !this._widthAutoSize && !this._singleLine;\n    }\n    get stroke() {\n        throw new Error(\"TODO\");\n        // return this._textField.stroke;\n    }\n    set stroke(value) {\n        throw new Error(\"TODO\");\n        // this._textField.stroke = value;\n    }\n    get strokeColor() {\n        throw new Error(\"TODO\");\n        // return this._textField.strokeColor;\n    }\n    set strokeColor(value) {\n        throw new Error(\"TODO\");\n        // if (this._textField.strokeColor != value) {\n        //     this._textField.strokeColor = value;\n        //     this.updateGear(4);\n        // }\n    }\n    updateAutoSize() {\n        throw new Error(\"TODO\");\n        /*一般没有剪裁文字的需要，感觉HIDDEN有消耗，所以不用了\n        if(this._heightAutoSize)\n        this._textField.overflow = Text.VISIBLE;\n        else\n        this._textField.overflow = Text.HIDDEN;*/\n        // this._textField.wordWrap = !this._widthAutoSize && !this._singleLine;\n        // if (!this._underConstruct) {\n        //     if (!this._heightAutoSize)\n        //         this._textField.size(this.width, this.height);\n        //     else if (!this._widthAutoSize)\n        //         this._textField.width = this.width;\n        // }\n    }\n    get textWidth() {\n        throw new Error(\"TODO\");\n        // if (this._textField[\"_isChanged\"])\n        //     this._textField.typeset();\n        // return this._textWidth;\n    }\n    ensureSizeCorrect() {\n        throw new Error(\"TODO\");\n        // if (!this._underConstruct && this._textField[\"_isChanged\"])\n        //     this._textField.typeset();\n    }\n    typeset() {\n        if (this._bitmapFont)\n            this.renderWithBitmapFont();\n        else if (this._widthAutoSize || this._heightAutoSize)\n            this.updateSize();\n    }\n    updateSize() {\n        throw new Error(\"TODO\");\n        // this._textWidth = Math.ceil(this._textField.textWidth);\n        // this._textHeight = Math.ceil(this._textField.textHeight);\n        // var w: number, h: number = 0;\n        // if (this._widthAutoSize) {\n        //     w = this._textWidth;\n        //     if (this._textField.width != w) {\n        //         this._textField.width = w;\n        //         if (this._textField.align != \"left\")\n        //             this._textField[\"baseTypeset\"]();\n        //     }\n        // }\n        // else\n        //     w = this.width;\n        // if (this._heightAutoSize) {\n        //     h = this._textHeight;\n        //     if (!this._widthAutoSize) {\n        //         if (this._textField.height != this._textHeight)\n        //             this._textField.height = this._textHeight;\n        //     }\n        // }\n        // else {\n        //     h = this.height;\n        //     if (this._textHeight > h)\n        //         this._textHeight = h;\n        //     if (this._textField.height != this._textHeight)\n        //         this._textField.height = this._textHeight;\n        // }\n        // this._updatingSize = true;\n        // this.setSize(w, h);\n        // this._updatingSize = false;\n    }\n    renderWithBitmapFont() {\n        throw new Error(\"TODO\");\n        // var gr: Laya.Graphics = this._displayObject.graphics;\n        // gr.clear();\n        // if (!this._lines)\n        //     this._lines = new Array<LineInfo>();\n        // else\n        //     returnList(this._lines);\n        // var lineSpacing: number = this.leading - 1;\n        // var rectWidth: number = this.width - GUTTER_X * 2;\n        // var lineWidth: number = 0, lineHeight: number = 0, lineTextHeight: number = 0;\n        // var glyphWidth: number = 0, glyphHeight: number = 0;\n        // var wordChars: number = 0, wordStart: number = 0, wordEnd: number = 0;\n        // var lastLineHeight: number = 0;\n        // var lineBuffer: string = \"\";\n        // var lineY: number = GUTTER_Y;\n        // var line: LineInfo;\n        // var wordWrap: boolean = !this._widthAutoSize && !this._singleLine;\n        // var fontSize: number = this.fontSize;\n        // var fontScale: number = this._bitmapFont.resizable ? fontSize / this._bitmapFont.size : 1;\n        // this._textWidth = 0;\n        // this._textHeight = 0;\n        // var text2: string = this._text;\n        // if (this._templateVars)\n        //     text2 = this.parseTemplate(text2);\n        // var textLength: number = text2.length;\n        // for (var offset: number = 0; offset < textLength; ++offset) {\n        //     var ch: string = text2.charAt(offset);\n        //     var cc: number = ch.charCodeAt(0);\n        //     if (cc == 10) {\n        //         lineBuffer += ch;\n        //         line = borrow();\n        //         line.width = lineWidth;\n        //         if (lineTextHeight == 0) {\n        //             if (lastLineHeight == 0)\n        //                 lastLineHeight = fontSize;\n        //             if (lineHeight == 0)\n        //                 lineHeight = lastLineHeight;\n        //             lineTextHeight = lineHeight;\n        //         }\n        //         line.height = lineHeight;\n        //         lastLineHeight = lineHeight;\n        //         line.textHeight = lineTextHeight;\n        //         line.text = lineBuffer;\n        //         line.y = lineY;\n        //         lineY += (line.height + lineSpacing);\n        //         if (line.width > this._textWidth)\n        //             this._textWidth = line.width;\n        //         this._lines.push(line);\n        //         lineBuffer = \"\";\n        //         lineWidth = 0;\n        //         lineHeight = 0;\n        //         lineTextHeight = 0;\n        //         wordChars = 0;\n        //         wordStart = 0;\n        //         wordEnd = 0;\n        //         continue;\n        //     }\n        //     if (cc >= 65 && cc <= 90 || cc >= 97 && cc <= 122) //a-z,A-Z\n        //     {\n        //         if (wordChars == 0)\n        //             wordStart = lineWidth;\n        //         wordChars++;\n        //     }\n        //     else {\n        //         if (wordChars > 0)\n        //             wordEnd = lineWidth;\n        //         wordChars = 0;\n        //     }\n        //     if (cc == 32) {\n        //         glyphWidth = Math.ceil(fontSize / 2);\n        //         glyphHeight = fontSize;\n        //     }\n        //     else {\n        //         var glyph: BMGlyph = this._bitmapFont.glyphs[ch];\n        //         if (glyph) {\n        //             glyphWidth = Math.ceil(glyph.advance * fontScale);\n        //             glyphHeight = Math.ceil(glyph.lineHeight * fontScale);\n        //         }\n        //         else {\n        //             glyphWidth = 0;\n        //             glyphHeight = 0;\n        //         }\n        //     }\n        //     if (glyphHeight > lineTextHeight)\n        //         lineTextHeight = glyphHeight;\n        //     if (glyphHeight > lineHeight)\n        //         lineHeight = glyphHeight;\n        //     if (lineWidth != 0)\n        //         lineWidth += this._letterSpacing;\n        //     lineWidth += glyphWidth;\n        //     if (!wordWrap || lineWidth <= rectWidth) {\n        //         lineBuffer += ch;\n        //     }\n        //     else {\n        //         line = borrow();\n        //         line.height = lineHeight;\n        //         line.textHeight = lineTextHeight;\n        //         if (lineBuffer.length == 0) {//the line cannt fit even a char\n        //             line.text = ch;\n        //         }\n        //         else if (wordChars > 0 && wordEnd > 0) {//if word had broken, move it to new line\n        //             lineBuffer += ch;\n        //             var len: number = lineBuffer.length - wordChars;\n        //             line.text = ToolSet.trimRight(lineBuffer.substr(0, len));\n        //             line.width = wordEnd;\n        //             lineBuffer = lineBuffer.substr(len);\n        //             lineWidth -= wordStart;\n        //         }\n        //         else {\n        //             line.text = lineBuffer;\n        //             line.width = lineWidth - (glyphWidth + this._letterSpacing);\n        //             lineBuffer = ch;\n        //             lineWidth = glyphWidth;\n        //             lineHeight = glyphHeight;\n        //             lineTextHeight = glyphHeight;\n        //         }\n        //         line.y = lineY;\n        //         lineY += (line.height + lineSpacing);\n        //         if (line.width > this._textWidth)\n        //             this._textWidth = line.width;\n        //         wordChars = 0;\n        //         wordStart = 0;\n        //         wordEnd = 0;\n        //         this._lines.push(line);\n        //     }\n        // }\n        // if (lineBuffer.length > 0) {\n        //     line = borrow();\n        //     line.width = lineWidth;\n        //     if (lineHeight == 0)\n        //         lineHeight = lastLineHeight;\n        //     if (lineTextHeight == 0)\n        //         lineTextHeight = lineHeight;\n        //     line.height = lineHeight;\n        //     line.textHeight = lineTextHeight;\n        //     line.text = lineBuffer;\n        //     line.y = lineY;\n        //     if (line.width > this._textWidth)\n        //         this._textWidth = line.width;\n        //     this._lines.push(line);\n        // }\n        // if (this._textWidth > 0)\n        //     this._textWidth += GUTTER_X * 2;\n        // var count: number = this._lines.length;\n        // if (count == 0) {\n        //     this._textHeight = 0;\n        // }\n        // else {\n        //     line = this._lines[this._lines.length - 1];\n        //     this._textHeight = line.y + line.height + GUTTER_Y;\n        // }\n        // var w: number, h: number = 0;\n        // if (this._widthAutoSize) {\n        //     if (this._textWidth == 0)\n        //         w = 0;\n        //     else\n        //         w = this._textWidth;\n        // }\n        // else\n        //     w = this.width;\n        // if (this._heightAutoSize) {\n        //     if (this._textHeight == 0)\n        //         h = 0;\n        //     else\n        //         h = this._textHeight;\n        // }\n        // else\n        //     h = this.height;\n        // this._updatingSize = true;\n        // this.setSize(w, h);\n        // this._updatingSize = false;\n        // this.doAlign();\n        // if (w == 0 || h == 0)\n        //     return;\n        // var charX: number = GUTTER_X;\n        // var lineIndent: number = 0;\n        // var charIndent: number = 0;\n        // rectWidth = this.width - GUTTER_X * 2;\n        // var lineCount: number = this._lines.length;\n        // var color: string = this._bitmapFont.tint ? this._color : null;\n        // for (var i: number = 0; i < lineCount; i++) {\n        //     line = this._lines[i];\n        //     charX = GUTTER_X;\n        //     if (this.align == \"center\")\n        //         lineIndent = (rectWidth - line.width) / 2;\n        //     else if (this.align == \"right\")\n        //         lineIndent = rectWidth - line.width;\n        //     else\n        //         lineIndent = 0;\n        //     textLength = line.text.length;\n        //     for (var j: number = 0; j < textLength; j++) {\n        //         ch = line.text.charAt(j);\n        //         cc = ch.charCodeAt(0);\n        //         if (cc == 10)\n        //             continue;\n        //         if (cc == 32) {\n        //             charX += this._letterSpacing + Math.ceil(fontSize / 2);\n        //             continue;\n        //         }\n        //         glyph = this._bitmapFont.glyphs[ch];\n        //         if (glyph) {\n        //             charIndent = (line.height + line.textHeight) / 2 - Math.ceil(glyph.lineHeight * fontScale);\n        //             if (glyph.texture) {\n        //                 gr.drawTexture(glyph.texture,\n        //                     charX + lineIndent + Math.ceil(glyph.x * fontScale),\n        //                     line.y + charIndent + Math.ceil(glyph.y * fontScale),\n        //                     glyph.width * fontScale,\n        //                     glyph.height * fontScale, null, 1, color);\n        //             }\n        //             charX += this._letterSpacing + Math.ceil(glyph.advance * fontScale);\n        //         }\n        //         else {\n        //             charX += this._letterSpacing;\n        //         }\n        //     }//this.text loop\n        // }//line loop\n    }\n    handleSizeChanged() {\n        throw new Error(\"TODO\");\n        // if (this._updatingSize)\n        //     return;\n        // if (this._underConstruct)\n        //     this._textField.size(this._width, this._height);\n        // else {\n        //     if (this._bitmapFont) {\n        //         if (!this._widthAutoSize)\n        //             this._textField[\"setChanged\"]();\n        //         else\n        //             this.doAlign();\n        //     }\n        //     else {\n        //         if (!this._widthAutoSize) {\n        //             if (!this._heightAutoSize)\n        //                 this._textField.size(this._width, this._height);\n        //             else\n        //                 this._textField.width = this._width;\n        //         }\n        //     }\n        // }\n    }\n    handleGrayedChanged() {\n        super.handleGrayedChanged();\n        // if (this.grayed)\n        //     this._textField.color = \"#AAAAAA\";\n        // else\n        //     this._textField.color = this._color;\n    }\n    doAlign() {\n        if (this.valign == \"top\" || this._textHeight == 0)\n            this._yOffset = GUTTER_Y;\n        else {\n            var dh = this.height - this._textHeight;\n            if (dh < 0)\n                dh = 0;\n            if (this.valign == \"middle\")\n                this._yOffset = Math.floor(dh / 2);\n            else\n                this._yOffset = Math.floor(dh);\n        }\n        this.handleXYChanged();\n    }\n    flushVars() {\n        this.text = this._text;\n    }\n}\nclass TextExt extends Phaser.GameObjects.Text {\n    constructor(owner) {\n        super(undefined, 0, 0, \"\", undefined);\n        throw new Error(\"TODO\");\n        // this._owner = owner;\n    }\n    baseTypeset() {\n        this._lock = true;\n        this.typeset();\n        this._lock = false;\n    }\n    typeset() {\n        throw new Error(\"TODO\");\n        // this._sizeDirty = true; //阻止SIZE_DELAY_CHANGE的触发\n        // super.typeset();\n        // if (!this._lock)\n        //     this._owner.typeset();\n        // if (this._isChanged) {\n        //     Laya.timer.clear(this, this.typeset);\n        //     this._isChanged = false;\n        // }\n        // this._sizeDirty = false;\n    }\n    setChanged() {\n        this.isChanged = true;\n    }\n    set isChanged(value) {\n        throw new Error(\"TODO\");\n        // if (value && !this._sizeDirty) {\n        //     if (this._owner.autoSize != AutoSizeType.None && this._owner.parent) {\n        //         this._sizeDirty = true;\n        //         this.event(Events.SIZE_DELAY_CHANGE);\n        //     }\n        // }\n        super[\"isChanged\"] = value;\n    }\n}\nvar pool = [];\nfunction borrow() {\n    if (pool.length) {\n        var ret = pool.pop();\n        ret.width = 0;\n        ret.height = 0;\n        ret.textHeight = 0;\n        ret.text = null;\n        ret.y = 0;\n        return ret;\n    }\n    else\n        return {\n            width: 0,\n            height: 0,\n            textHeight: 0,\n            text: null,\n            y: 0\n        };\n}\nfunction returnList(value) {\n    var length = value.length;\n    for (var i = 0; i < length; i++) {\n        var li = value[i];\n        pool.push(li);\n    }\n    value.length = 0;\n}\nconst GUTTER_X = 2;\nconst GUTTER_Y = 2;\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/GBasicTextField.ts?");

/***/ }),

/***/ "./src/GButton.ts":
/*!************************!*\
  !*** ./src/GButton.ts ***!
  \************************/
/*! exports provided: GButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GButton\", function() { return GButton; });\n/* harmony import */ var _GRoot__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GRoot */ \"./src/GRoot.ts\");\n/* harmony import */ var _UIPackage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UIPackage */ \"./src/UIPackage.ts\");\n/* harmony import */ var _GLabel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GLabel */ \"./src/GLabel.ts\");\n/* harmony import */ var _GTextField__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./GTextField */ \"./src/GTextField.ts\");\n/* harmony import */ var _UIConfig__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./UIConfig */ \"./src/UIConfig.ts\");\n/* harmony import */ var _FieldTypes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./FieldTypes */ \"./src/FieldTypes.ts\");\n/* harmony import */ var _GComponent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./GComponent */ \"./src/GComponent.ts\");\n/* harmony import */ var _event_DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./event/DisplayObjectEvent */ \"./src/event/DisplayObjectEvent.ts\");\n\n\n\n\n\n\n\n\nclass GButton extends _GComponent__WEBPACK_IMPORTED_MODULE_6__[\"GComponent\"] {\n    constructor() {\n        super();\n        this._soundVolumeScale = 0;\n        this._downEffect = 0;\n        this._mode = _FieldTypes__WEBPACK_IMPORTED_MODULE_5__[\"ButtonMode\"].Common;\n        this._title = \"\";\n        this._icon = \"\";\n        this._sound = _UIConfig__WEBPACK_IMPORTED_MODULE_4__[\"UIConfig\"].buttonSound;\n        this._soundVolumeScale = _UIConfig__WEBPACK_IMPORTED_MODULE_4__[\"UIConfig\"].buttonSoundVolumeScale;\n        this._changeStateOnClick = true;\n        this._downEffectValue = 0.8;\n    }\n    get icon() {\n        return this._icon;\n    }\n    set icon(value) {\n        this._icon = value;\n        value = (this._selected && this._selectedIcon) ? this._selectedIcon : this._icon;\n        if (this._iconObject)\n            this._iconObject.icon = value;\n        this.updateGear(7);\n    }\n    get selectedIcon() {\n        return this._selectedIcon;\n    }\n    set selectedIcon(value) {\n        this._selectedIcon = value;\n        value = (this._selected && this._selectedIcon) ? this._selectedIcon : this._icon;\n        if (this._iconObject)\n            this._iconObject.icon = value;\n    }\n    get title() {\n        return this._title;\n    }\n    set title(value) {\n        this._title = value;\n        if (this._titleObject)\n            this._titleObject.text = (this._selected && this._selectedTitle) ? this._selectedTitle : this._title;\n        this.updateGear(6);\n    }\n    get text() {\n        return this.title;\n    }\n    set text(value) {\n        this.title = value;\n    }\n    get selectedTitle() {\n        return this._selectedTitle;\n    }\n    set selectedTitle(value) {\n        this._selectedTitle = value;\n        if (this._titleObject)\n            this._titleObject.text = (this._selected && this._selectedTitle) ? this._selectedTitle : this._title;\n    }\n    get titleColor() {\n        var tf = this.getTextField();\n        if (tf)\n            return tf.color;\n        else\n            return \"#000000\";\n    }\n    set titleColor(value) {\n        var tf = this.getTextField();\n        if (tf)\n            tf.color = value;\n        this.updateGear(4);\n    }\n    get titleFontSize() {\n        var tf = this.getTextField();\n        if (tf)\n            return tf.fontSize;\n        else\n            return 0;\n    }\n    set titleFontSize(value) {\n        var tf = this.getTextField();\n        if (tf)\n            tf.fontSize = value;\n    }\n    get sound() {\n        return this._sound;\n    }\n    set sound(val) {\n        this._sound = val;\n    }\n    get soundVolumeScale() {\n        return this._soundVolumeScale;\n    }\n    set soundVolumeScale(value) {\n        this._soundVolumeScale = value;\n    }\n    set selected(val) {\n        if (this._mode == _FieldTypes__WEBPACK_IMPORTED_MODULE_5__[\"ButtonMode\"].Common)\n            return;\n        if (this._selected != val) {\n            this._selected = val;\n            if (this.grayed && this._buttonController && this._buttonController.hasPage(GButton.DISABLED)) {\n                if (this._selected)\n                    this.setState(GButton.SELECTED_DISABLED);\n                else\n                    this.setState(GButton.DISABLED);\n            }\n            else {\n                if (this._selected)\n                    this.setState(this._over ? GButton.SELECTED_OVER : GButton.DOWN);\n                else\n                    this.setState(this._over ? GButton.OVER : GButton.UP);\n            }\n            if (this._selectedTitle && this._titleObject)\n                this._titleObject.text = this._selected ? this._selectedTitle : this._title;\n            if (this._selectedIcon) {\n                var str = this._selected ? this._selectedIcon : this._icon;\n                if (this._iconObject)\n                    this._iconObject.icon = str;\n            }\n            if (this._relatedController\n                && this._parent\n                && !this._parent._buildingDisplayList) {\n                if (this._selected) {\n                    this._relatedController.selectedPageId = this._relatedPageId;\n                    if (this._relatedController.autoRadioGroupDepth)\n                        this._parent.adjustRadioGroupDepth(this, this._relatedController);\n                }\n                else if (this._mode == _FieldTypes__WEBPACK_IMPORTED_MODULE_5__[\"ButtonMode\"].Check && this._relatedController.selectedPageId == this._relatedPageId)\n                    this._relatedController.oppositePageId = this._relatedPageId;\n            }\n        }\n    }\n    get selected() {\n        return this._selected;\n    }\n    get mode() {\n        return this._mode;\n    }\n    set mode(value) {\n        if (this._mode != value) {\n            if (value == _FieldTypes__WEBPACK_IMPORTED_MODULE_5__[\"ButtonMode\"].Common)\n                this.selected = false;\n            this._mode = value;\n        }\n    }\n    get relatedController() {\n        return this._relatedController;\n    }\n    set relatedController(val) {\n        if (val != this._relatedController) {\n            this._relatedController = val;\n            this._relatedPageId = null;\n        }\n    }\n    get relatedPageId() {\n        return this._relatedPageId;\n    }\n    set relatedPageId(val) {\n        this._relatedPageId = val;\n    }\n    get changeStateOnClick() {\n        return this._changeStateOnClick;\n    }\n    set changeStateOnClick(value) {\n        this._changeStateOnClick = value;\n    }\n    get linkedPopup() {\n        return this._linkedPopup;\n    }\n    set linkedPopup(value) {\n        this._linkedPopup = value;\n    }\n    getTextField() {\n        if (this._titleObject instanceof _GTextField__WEBPACK_IMPORTED_MODULE_3__[\"GTextField\"])\n            return this._titleObject;\n        else if ((this._titleObject instanceof _GLabel__WEBPACK_IMPORTED_MODULE_2__[\"GLabel\"]) || (this._titleObject instanceof GButton))\n            return this._titleObject.getTextField();\n        else\n            return null;\n    }\n    // public fireClick(downEffect?: boolean): void {\n    //     if (downEffect == null) downEffect = true;\n    //     if (downEffect && this._mode == ButtonMode.Common) {\n    //         this.setState(GButton.OVER);\n    //         this._downTimeEvent = GRoot.inst.addTimeEvent(new Phaser.Time.TimerEvent({ delay: 100, callback: this.setState, callbackScope: [GButton.DOWN] }));\n    //         this._upTimeEvent = GRoot.inst.addTimeEvent(new Phaser.Time.TimerEvent({ delay: 200, callback: this.setState, callbackScope: [GButton.UP] }));\n    //         // Laya.timer.once(100, this, this.setState, [GButton.DOWN], false);\n    //         // Laya.timer.once(200, this, this.setState, [GButton.UP], false);\n    //     }\n    //     this.__click(Events.createEvent(InteractiveEvent.GAMEOBJECT_DOWN, this.displayObject));\n    // }\n    setState(val) {\n        if (this._buttonController)\n            this._buttonController.selectedPage = val;\n        // if (this._downEffect == 1) {\n        //     var cnt: number = this.numChildren;\n        //     if (val == GButton.DOWN || val == GButton.SELECTED_OVER || val == GButton.SELECTED_DISABLED) {\n        //         var r: number = this._downEffectValue * 255;\n        //         var color: string = Laya.Utils.toHexColor((r << 16) + (r << 8) + r);\n        //         for (var i: number = 0; i < cnt; i++) {\n        //             var obj: GObject = this.getChildAt(i);\n        //             if (!(obj instanceof GTextField))\n        //                 obj.setProp(ObjectPropID.Color, color);\n        //         }\n        //     }\n        //     else {\n        //         for (i = 0; i < cnt; i++) {\n        //             obj = this.getChildAt(i);\n        //             if (!(obj instanceof GTextField))\n        //                 obj.setProp(ObjectPropID.Color, \"#FFFFFF\");\n        //         }\n        //     }\n        // }\n        // else if (this._downEffect == 2) {\n        //     if (val == GButton.DOWN || val == GButton.SELECTED_OVER || val == GButton.SELECTED_DISABLED) {\n        //         if (!this._downScaled) {\n        //             this.setScale(this.scaleX * this._downEffectValue, this.scaleY * this._downEffectValue);\n        //             this._downScaled = true;\n        //         }\n        //     }\n        //     else {\n        //         if (this._downScaled) {\n        //             this.setScale(this.scaleX / this._downEffectValue, this.scaleY / this._downEffectValue);\n        //             this._downScaled = false;\n        //         }\n        //     }\n        // }\n    }\n    handleControllerChanged(c) {\n        super.handleControllerChanged(c);\n        if (this._relatedController == c)\n            this.selected = this._relatedPageId == c.selectedPageId;\n    }\n    handleGrayedChanged() {\n        if (this._buttonController && this._buttonController.hasPage(GButton.DISABLED)) {\n            if (this.grayed) {\n                if (this._selected && this._buttonController.hasPage(GButton.SELECTED_DISABLED))\n                    this.setState(GButton.SELECTED_DISABLED);\n                else\n                    this.setState(GButton.DISABLED);\n            }\n            else if (this._selected)\n                this.setState(GButton.DOWN);\n            else\n                this.setState(GButton.UP);\n        }\n        else\n            super.handleGrayedChanged();\n    }\n    getProp(index) {\n        switch (index) {\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_5__[\"ObjectPropID\"].Color:\n                return this.titleColor;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_5__[\"ObjectPropID\"].OutlineColor:\n                {\n                    var tf = this.getTextField();\n                    if (tf)\n                        return tf.strokeColor;\n                    else\n                        return 0;\n                }\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_5__[\"ObjectPropID\"].FontSize:\n                return this.titleFontSize;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_5__[\"ObjectPropID\"].Selected:\n                return this.selected;\n            default:\n                return super.getProp(index);\n        }\n    }\n    setProp(index, value) {\n        switch (index) {\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_5__[\"ObjectPropID\"].Color:\n                this.titleColor = value;\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_5__[\"ObjectPropID\"].OutlineColor:\n                {\n                    var tf = this.getTextField();\n                    if (tf)\n                        tf.strokeColor = value;\n                }\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_5__[\"ObjectPropID\"].FontSize:\n                this.titleFontSize = value;\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_5__[\"ObjectPropID\"].Selected:\n                this.selected = value;\n                break;\n            default:\n                super.setProp(index, value);\n                break;\n        }\n    }\n    constructExtension(buffer) {\n        buffer.seek(0, 6);\n        this._mode = buffer.readByte();\n        var str = buffer.readS();\n        if (str)\n            this._sound = str;\n        this._soundVolumeScale = buffer.readFloat();\n        this._downEffect = buffer.readByte();\n        this._downEffectValue = buffer.readFloat();\n        if (this._downEffect == 2)\n            this.setPivot(0.5, 0.5, this.pivotAsAnchor);\n        this._buttonController = this.getController(\"button\");\n        this._titleObject = this.getChild(\"title\");\n        this._iconObject = this.getChild(\"icon\");\n        if (this._titleObject)\n            this._title = this._titleObject.text;\n        if (this._iconObject)\n            this._icon = this._iconObject.icon;\n        if (this._mode == _FieldTypes__WEBPACK_IMPORTED_MODULE_5__[\"ButtonMode\"].Common)\n            this.setState(GButton.UP);\n        this.on(_event_DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_7__[\"InteractiveEvent\"].GAMEOBJECT_OVER, this.__rollover);\n        this.on(_event_DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_7__[\"InteractiveEvent\"].GAMEOBJECT_OUT, this.__rollout);\n        this.on(_event_DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_7__[\"InteractiveEvent\"].GAMEOBJECT_DOWN, this.__mousedown);\n        this.on(_event_DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_7__[\"InteractiveEvent\"].GAMEOBJECT_UP, this.__click);\n    }\n    setup_afterAdd(buffer, beginPos) {\n        super.setup_afterAdd(buffer, beginPos);\n        if (!buffer.seek(beginPos, 6))\n            return;\n        if (buffer.readByte() != this.packageItem.objectType)\n            return;\n        var str;\n        var iv;\n        str = buffer.readS();\n        if (str != null)\n            this.title = str;\n        str = buffer.readS();\n        if (str != null)\n            this.selectedTitle = str;\n        str = buffer.readS();\n        if (str != null)\n            this.icon = str;\n        str = buffer.readS();\n        if (str != null)\n            this.selectedIcon = str;\n        if (buffer.readBool())\n            this.titleColor = buffer.readColorS();\n        iv = buffer.readInt();\n        if (iv != 0)\n            this.titleFontSize = iv;\n        iv = buffer.readShort();\n        if (iv >= 0)\n            this._relatedController = this.parent.getControllerAt(iv);\n        this._relatedPageId = buffer.readS();\n        str = buffer.readS();\n        if (str != null)\n            this._sound = str;\n        if (buffer.readBool())\n            this._soundVolumeScale = buffer.readFloat();\n        this.selected = buffer.readBool();\n    }\n    __rollover() {\n        if (!this._buttonController || !this._buttonController.hasPage(GButton.OVER))\n            return;\n        this._over = true;\n        if (this._down)\n            return;\n        if (this.grayed && this._buttonController.hasPage(GButton.DISABLED))\n            return;\n        this.setState(this._selected ? GButton.SELECTED_OVER : GButton.OVER);\n    }\n    __rollout() {\n        if (!this._buttonController || !this._buttonController.hasPage(GButton.OVER))\n            return;\n        this._over = false;\n        if (this._down)\n            return;\n        if (this.grayed && this._buttonController.hasPage(GButton.DISABLED))\n            return;\n        this.setState(this._selected ? GButton.DOWN : GButton.UP);\n    }\n    __mousedown(pointer) {\n        this._down = true;\n        // GRoot.inst.checkPopups(evt.target);\n        this.scene.input.on(_event_DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_7__[\"InteractiveEvent\"].POINTER_UP, this.__mouseup);\n        if (this._mode == _FieldTypes__WEBPACK_IMPORTED_MODULE_5__[\"ButtonMode\"].Common) {\n            if (this.grayed && this._buttonController && this._buttonController.hasPage(GButton.DISABLED))\n                this.setState(GButton.SELECTED_DISABLED);\n            else\n                this.setState(GButton.DOWN);\n        }\n        // if (this._linkedPopup) {\n        //     if (this._linkedPopup instanceof Window)\n        //         this._linkedPopup.toggleStatus();\n        //     else\n        //         this.root.togglePopup(this._linkedPopup, this);\n        // }\n    }\n    __mouseup() {\n        if (this._down) {\n            this.scene.input.off(_event_DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_7__[\"InteractiveEvent\"].POINTER_UP, this.__mouseup);\n            this._down = false;\n            if (this._displayObject == null)\n                return;\n            if (this._mode == _FieldTypes__WEBPACK_IMPORTED_MODULE_5__[\"ButtonMode\"].Common) {\n                if (this.grayed && this._buttonController && this._buttonController.hasPage(GButton.DISABLED))\n                    this.setState(GButton.DISABLED);\n                else if (this._over)\n                    this.setState(GButton.OVER);\n                else\n                    this.setState(GButton.UP);\n            }\n        }\n    }\n    __click(evt) {\n        if (this._sound) {\n            var pi = _UIPackage__WEBPACK_IMPORTED_MODULE_1__[\"UIPackage\"].getItemByURL(this._sound);\n            if (pi)\n                _GRoot__WEBPACK_IMPORTED_MODULE_0__[\"GRoot\"].inst.playOneShotSound(pi.file);\n            else\n                _GRoot__WEBPACK_IMPORTED_MODULE_0__[\"GRoot\"].inst.playOneShotSound(this._sound);\n        }\n        if (this._mode == _FieldTypes__WEBPACK_IMPORTED_MODULE_5__[\"ButtonMode\"].Check) {\n            if (this._changeStateOnClick) {\n                this.selected = !this._selected;\n                // Events.dispatch(Events.STATE_CHANGED, this.displayObject, evt);\n            }\n        }\n        else if (this._mode == _FieldTypes__WEBPACK_IMPORTED_MODULE_5__[\"ButtonMode\"].Radio) {\n            if (this._changeStateOnClick && !this._selected) {\n                this.selected = true;\n                // Events.dispatch(Events.STATE_CHANGED, this.displayObject, evt);\n            }\n        }\n        else {\n            if (this._relatedController)\n                this._relatedController.selectedPageId = this._relatedPageId;\n        }\n    }\n}\n// private _downTimeEvent: Phaser.Time.TimerEvent;\n// private _upTimeEvent: Phaser.Time.TimerEvent;\nGButton.UP = \"up\";\nGButton.DOWN = \"down\";\nGButton.OVER = \"over\";\nGButton.SELECTED_OVER = \"selectedOver\";\nGButton.DISABLED = \"disabled\";\nGButton.SELECTED_DISABLED = \"selectedDisabled\";\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/GButton.ts?");

/***/ }),

/***/ "./src/GComboBox.ts":
/*!**************************!*\
  !*** ./src/GComboBox.ts ***!
  \**************************/
/*! exports provided: GComboBox */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GComboBox\", function() { return GComboBox; });\n/* harmony import */ var _GButton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GButton */ \"./src/GButton.ts\");\n/* harmony import */ var _GLabel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GLabel */ \"./src/GLabel.ts\");\n/* harmony import */ var _GTextField__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GTextField */ \"./src/GTextField.ts\");\n/* harmony import */ var _UIConfig__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./UIConfig */ \"./src/UIConfig.ts\");\n/* harmony import */ var _FieldTypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./FieldTypes */ \"./src/FieldTypes.ts\");\n/* harmony import */ var _GComponent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./GComponent */ \"./src/GComponent.ts\");\n\n\n\n\n\n\nclass GComboBox extends _GComponent__WEBPACK_IMPORTED_MODULE_5__[\"GComponent\"] {\n    constructor() {\n        super();\n        this._visibleItemCount = _UIConfig__WEBPACK_IMPORTED_MODULE_3__[\"UIConfig\"].defaultComboBoxVisibleItemCount;\n        this._itemsUpdated = true;\n        this._selectedIndex = -1;\n        this._popupDirection = 0;\n        this._items = [];\n        this._values = [];\n    }\n    get text() {\n        if (this._titleObject)\n            return this._titleObject.text;\n        else\n            return null;\n    }\n    set text(value) {\n        if (this._titleObject)\n            this._titleObject.text = value;\n        this.updateGear(6);\n    }\n    get titleColor() {\n        var tf = this.getTextField();\n        if (tf)\n            return tf.color;\n        else\n            return \"#000000\";\n    }\n    set titleColor(value) {\n        var tf = this.getTextField();\n        if (tf)\n            tf.color = value;\n        this.updateGear(4);\n    }\n    get titleFontSize() {\n        var tf = this.getTextField();\n        if (tf)\n            return tf.fontSize;\n        else\n            return 0;\n    }\n    set titleFontSize(value) {\n        var tf = this.getTextField();\n        if (tf)\n            tf.fontSize = value;\n    }\n    get icon() {\n        if (this._iconObject)\n            return this._iconObject.icon;\n        else\n            return null;\n    }\n    set icon(value) {\n        if (this._iconObject)\n            this._iconObject.icon = value;\n        this.updateGear(7);\n    }\n    get visibleItemCount() {\n        return this._visibleItemCount;\n    }\n    set visibleItemCount(value) {\n        this._visibleItemCount = value;\n    }\n    get popupDirection() {\n        return this._popupDirection;\n    }\n    set popupDirection(value) {\n        this._popupDirection = value;\n    }\n    get items() {\n        return this._items;\n    }\n    set items(value) {\n        if (!value)\n            this._items.length = 0;\n        else\n            this._items = value.concat();\n        if (this._items.length > 0) {\n            if (this._selectedIndex >= this._items.length)\n                this._selectedIndex = this._items.length - 1;\n            else if (this._selectedIndex == -1)\n                this._selectedIndex = 0;\n            this.text = this._items[this._selectedIndex];\n            if (this._icons && this._selectedIndex < this._icons.length)\n                this.icon = this._icons[this._selectedIndex];\n        }\n        else {\n            this.text = \"\";\n            if (this._icons)\n                this.icon = null;\n            this._selectedIndex = -1;\n        }\n        this._itemsUpdated = true;\n    }\n    get icons() {\n        return this._icons;\n    }\n    set icons(value) {\n        this._icons = value;\n        if (this._icons && this._selectedIndex != -1 && this._selectedIndex < this._icons.length)\n            this.icon = this._icons[this._selectedIndex];\n    }\n    get values() {\n        return this._values;\n    }\n    set values(value) {\n        if (!value)\n            this._values.length = 0;\n        else\n            this._values = value.concat();\n    }\n    get selectedIndex() {\n        return this._selectedIndex;\n    }\n    set selectedIndex(val) {\n        if (this._selectedIndex == val)\n            return;\n        this._selectedIndex = val;\n        if (this._selectedIndex >= 0 && this._selectedIndex < this._items.length) {\n            this.text = this._items[this._selectedIndex];\n            if (this._icons && this._selectedIndex < this._icons.length)\n                this.icon = this._icons[this._selectedIndex];\n        }\n        else {\n            this.text = \"\";\n            if (this._icons)\n                this.icon = null;\n        }\n        this.updateSelectionController();\n    }\n    get value() {\n        return this._values[this._selectedIndex];\n    }\n    set value(val) {\n        var index = this._values.indexOf(val);\n        if (index == -1 && val == null)\n            index = this._values.indexOf(\"\");\n        this.selectedIndex = index;\n    }\n    getTextField() {\n        if (this._titleObject instanceof _GTextField__WEBPACK_IMPORTED_MODULE_2__[\"GTextField\"])\n            return this._titleObject;\n        else if ((this._titleObject instanceof _GLabel__WEBPACK_IMPORTED_MODULE_1__[\"GLabel\"]) || (this._titleObject instanceof _GButton__WEBPACK_IMPORTED_MODULE_0__[\"GButton\"]))\n            return this._titleObject.getTextField();\n        else\n            return null;\n    }\n    setState(val) {\n        if (this._buttonController)\n            this._buttonController.selectedPage = val;\n    }\n    get selectionController() {\n        return this._selectionController;\n    }\n    set selectionController(value) {\n        this._selectionController = value;\n    }\n    handleControllerChanged(c) {\n        super.handleControllerChanged(c);\n        if (this._selectionController == c)\n            this.selectedIndex = c.selectedIndex;\n    }\n    updateSelectionController() {\n        if (this._selectionController && !this._selectionController.changing\n            && this._selectedIndex < this._selectionController.pageCount) {\n            var c = this._selectionController;\n            this._selectionController = null;\n            c.selectedIndex = this._selectedIndex;\n            this._selectionController = c;\n        }\n    }\n    dispose() {\n        if (this.dropdown) {\n            this.dropdown.dispose();\n            this.dropdown = null;\n        }\n        this._selectionController = null;\n        super.dispose();\n    }\n    getProp(index) {\n        switch (index) {\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_4__[\"ObjectPropID\"].Color:\n                return this.titleColor;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_4__[\"ObjectPropID\"].OutlineColor:\n                {\n                    var tf = this.getTextField();\n                    if (tf)\n                        return tf.strokeColor;\n                    else\n                        return 0;\n                }\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_4__[\"ObjectPropID\"].FontSize:\n                {\n                    tf = this.getTextField();\n                    if (tf)\n                        return tf.fontSize;\n                    else\n                        return 0;\n                }\n            default:\n                return super.getProp(index);\n        }\n    }\n    setProp(index, value) {\n        switch (index) {\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_4__[\"ObjectPropID\"].Color:\n                this.titleColor = value;\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_4__[\"ObjectPropID\"].OutlineColor:\n                {\n                    var tf = this.getTextField();\n                    if (tf)\n                        tf.strokeColor = value;\n                }\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_4__[\"ObjectPropID\"].FontSize:\n                {\n                    tf = this.getTextField();\n                    if (tf)\n                        tf.fontSize = value;\n                }\n                break;\n            default:\n                super.setProp(index, value);\n                break;\n        }\n    }\n    constructExtension(buffer) {\n        throw new Error(\"TODO\");\n        // var str: string;\n        // this._buttonController = this.getController(\"button\");\n        // this._titleObject = this.getChild(\"title\");\n        // this._iconObject = this.getChild(\"icon\");\n        // str = buffer.readS();\n        // if (str) {\n        //     this.dropdown = <GComponent>(UIPackage.createObjectFromURL(str));\n        //     if (!this.dropdown) {\n        //         Laya.Log.print(\"下拉框必须为元件\");\n        //         return;\n        //     }\n        //     this.dropdown.name = \"this._dropdownObject\";\n        //     this._list = <GList>this.dropdown.getChild(\"list\");\n        //     if (!this._list) {\n        //         Laya.Log.print(this.resourceURL + \": 下拉框的弹出元件里必须包含名为list的列表\");\n        //         return;\n        //     }\n        //     this._list.on(Events.CLICK_ITEM, this, this.__clickItem);\n        //     this._list.addRelation(this.dropdown, RelationType.Width);\n        //     this._list.removeRelation(this.dropdown, RelationType.Height);\n        //     this.dropdown.addRelation(this._list, RelationType.Height);\n        //     this.dropdown.removeRelation(this._list, RelationType.Width);\n        //     this.dropdown.displayObject.on(Laya.Event.UNDISPLAY, this, this.__popupWinClosed);\n        // }\n        // this.on(Laya.Event.ROLL_OVER, this, this.__rollover);\n        // this.on(Laya.Event.ROLL_OUT, this, this.__rollout);\n        // this.on(Laya.Event.MOUSE_DOWN, this, this.__mousedown);\n    }\n    setup_afterAdd(buffer, beginPos) {\n        super.setup_afterAdd(buffer, beginPos);\n        if (!buffer.seek(beginPos, 6))\n            return;\n        if (buffer.readByte() != this.packageItem.objectType)\n            return;\n        var i;\n        var iv;\n        var nextPos;\n        var str;\n        var itemCount = buffer.readShort();\n        for (i = 0; i < itemCount; i++) {\n            nextPos = buffer.readShort();\n            nextPos += buffer.position;\n            this._items[i] = buffer.readS();\n            this._values[i] = buffer.readS();\n            str = buffer.readS();\n            if (str != null) {\n                if (!this._icons)\n                    this._icons = [];\n                this._icons[i] = str;\n            }\n            buffer.position = nextPos;\n        }\n        str = buffer.readS();\n        if (str != null) {\n            this.text = str;\n            this._selectedIndex = this._items.indexOf(str);\n        }\n        else if (this._items.length > 0) {\n            this._selectedIndex = 0;\n            this.text = this._items[0];\n        }\n        else\n            this._selectedIndex = -1;\n        str = buffer.readS();\n        if (str != null)\n            this.icon = str;\n        if (buffer.readBool())\n            this.titleColor = buffer.readColorS();\n        iv = buffer.readInt();\n        if (iv > 0)\n            this._visibleItemCount = iv;\n        this._popupDirection = buffer.readByte();\n        iv = buffer.readShort();\n        if (iv >= 0)\n            this._selectionController = this.parent.getControllerAt(iv);\n    }\n    showDropdown() {\n        throw new Error(\"TODO\");\n        // if (this._itemsUpdated) {\n        //     this._itemsUpdated = false;\n        //     this._list.removeChildrenToPool();\n        //     var cnt: number = this._items.length;\n        //     for (var i: number = 0; i < cnt; i++) {\n        //         var item: GObject = this._list.addItemFromPool();\n        //         item.name = i < this._values.length ? this._values[i] : \"\";\n        //         item.text = this._items[i];\n        //         item.icon = (this._icons && i < this._icons.length) ? this._icons[i] : null;\n        //     }\n        //     this._list.resizeToFit(this._visibleItemCount);\n        // }\n        // this._list.selectedIndex = -1;\n        // this.dropdown.width = this.width;\n        // this._list.ensureBoundsCorrect();\n        // var downward: any = null;\n        // if (this._popupDirection == PopupDirection.Down)\n        //     downward = true;\n        // else if (this._popupDirection == PopupDirection.Up)\n        //     downward = false;\n        // this.root.togglePopup(this.dropdown, this, downward);\n        // if (this.dropdown.parent)\n        //     this.setState(GButton.DOWN);\n    }\n    __popupWinClosed() {\n        if (this._over)\n            this.setState(_GButton__WEBPACK_IMPORTED_MODULE_0__[\"GButton\"].OVER);\n        else\n            this.setState(_GButton__WEBPACK_IMPORTED_MODULE_0__[\"GButton\"].UP);\n    }\n    __clickItem(itemObject, evt) {\n        // Laya.timer.callLater(this, this.__clickItem2, [this._list.getChildIndex(itemObject), evt])\n    }\n    __clickItem2(index, evt) {\n        throw new Error(\"TODO\");\n        // if (this.dropdown.parent instanceof GRoot)\n        //     this.dropdown.parent.hidePopup();\n        // this._selectedIndex = -1;\n        // this.selectedIndex = index;\n        // Events.dispatch(Events.STATE_CHANGED, this.displayObject, evt);\n    }\n    __rollover() {\n        this._over = true;\n        if (this._down || this.dropdown && this.dropdown.parent)\n            return;\n        this.setState(_GButton__WEBPACK_IMPORTED_MODULE_0__[\"GButton\"].OVER);\n    }\n    __rollout() {\n        this._over = false;\n        if (this._down || this.dropdown && this.dropdown.parent)\n            return;\n        this.setState(_GButton__WEBPACK_IMPORTED_MODULE_0__[\"GButton\"].UP);\n    }\n    __mousedown(evt) {\n        throw new Error(\"TODO\");\n        // if (evt.target instanceof Laya.Input)\n        //     return;\n        // this._down = true;\n        // GRoot.inst.checkPopups(evt.target);\n        // Laya.stage.on(Laya.Event.MOUSE_UP, this, this.__mouseup);\n        // if (this.dropdown)\n        //     this.showDropdown();\n    }\n    __mouseup() {\n        throw new Error(\"TODO\");\n        // if (this._down) {\n        //     this._down = false;\n        //     Laya.stage.off(Laya.Event.MOUSE_UP, this, this.__mouseup);\n        //     if (this.dropdown && !this.dropdown.parent) {\n        //         if (this._over)\n        //             this.setState(GButton.OVER);\n        //         else\n        //             this.setState(GButton.UP);\n        //     }\n        // }\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/GComboBox.ts?");

/***/ }),

/***/ "./src/GComponent.ts":
/*!***************************!*\
  !*** ./src/GComponent.ts ***!
  \***************************/
/*! exports provided: GComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GComponent\", function() { return GComponent; });\n/* harmony import */ var _UIObjectFactory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UIObjectFactory */ \"./src/UIObjectFactory.ts\");\n/* harmony import */ var _UIPackage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UIPackage */ \"./src/UIPackage.ts\");\n/* harmony import */ var _TranslationHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TranslationHelper */ \"./src/TranslationHelper.ts\");\n/* harmony import */ var _utils_PixelHitTest__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/PixelHitTest */ \"./src/utils/PixelHitTest.ts\");\n/* harmony import */ var _utils_ChildHitArea__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils/ChildHitArea */ \"./src/utils/ChildHitArea.ts\");\n/* harmony import */ var _GButton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./GButton */ \"./src/GButton.ts\");\n/* harmony import */ var _utils_ToolSet__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils/ToolSet */ \"./src/utils/ToolSet.ts\");\n/* harmony import */ var _FieldTypes__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./FieldTypes */ \"./src/FieldTypes.ts\");\n/* harmony import */ var _GGroup__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./GGroup */ \"./src/GGroup.ts\");\n/* harmony import */ var _ScrollPane__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ScrollPane */ \"./src/ScrollPane.ts\");\n/* harmony import */ var _Transition__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Transition */ \"./src/Transition.ts\");\n/* harmony import */ var _Margin__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Margin */ \"./src/Margin.ts\");\n/* harmony import */ var _Controller__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Controller */ \"./src/Controller.ts\");\n/* harmony import */ var _GObject__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./GObject */ \"./src/GObject.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass GComponent extends _GObject__WEBPACK_IMPORTED_MODULE_13__[\"GObject\"] {\n    constructor() {\n        super();\n        this._sortingChildCount = 0;\n        this._children = [];\n        this._controllers = [];\n        this._transitions = [];\n        this._margin = new _Margin__WEBPACK_IMPORTED_MODULE_11__[\"Margin\"]();\n        this._alignOffset = new Phaser.Geom.Point();\n        this._opaque = false;\n        this._childrenRenderOrder = 0;\n        this._apexIndex = 0;\n    }\n    createDisplayObject() {\n        super.createDisplayObject();\n        this._displayObject.setInteractive(true);\n        this._container = this._displayObject;\n    }\n    dispose() {\n        var i;\n        var cnt;\n        cnt = this._transitions.length;\n        for (i = 0; i < cnt; ++i) {\n            var trans = this._transitions[i];\n            trans.dispose();\n        }\n        cnt = this._controllers.length;\n        for (i = 0; i < cnt; ++i) {\n            var cc = this._controllers[i];\n            cc.dispose();\n        }\n        if (this.scrollPane)\n            this.scrollPane.dispose();\n        cnt = this._children.length;\n        for (i = cnt - 1; i >= 0; --i) {\n            var obj = this._children[i];\n            obj.parent = null; //avoid removeFromParent call\n            obj.dispose();\n        }\n        this._boundsChanged = false;\n        super.dispose();\n    }\n    get displayListContainer() {\n        return this._container;\n    }\n    add(child) {\n        this.addChildAt(child, this._children.length);\n        return child;\n    }\n    addChildAt(child, index) {\n        if (!child)\n            throw \"child is null\";\n        if (index >= 0 && index <= this._children.length) {\n            if (child.parent == this) {\n                this.setChildIndex(child, index);\n            }\n            else {\n                child.removeFromParent();\n                child.parent = this;\n                var cnt = this._children.length;\n                if (child.sortingOrder != 0) {\n                    this._sortingChildCount++;\n                    index = this.getInsertPosForSortingChild(child);\n                }\n                else if (this._sortingChildCount > 0) {\n                    if (index > (cnt - this._sortingChildCount))\n                        index = cnt - this._sortingChildCount;\n                }\n                if (index == cnt)\n                    this._children.push(child);\n                else\n                    this._children.splice(index, 0, child);\n                this.childStateChanged(child);\n                this.setBoundsChangedFlag();\n            }\n            return child;\n        }\n        else {\n            throw \"Invalid child index\";\n        }\n    }\n    getInsertPosForSortingChild(target) {\n        var cnt = this._children.length;\n        var i = 0;\n        for (i = 0; i < cnt; i++) {\n            var child = this._children[i];\n            if (child == target)\n                continue;\n            if (target.sortingOrder < child.sortingOrder)\n                break;\n        }\n        return i;\n    }\n    removeChild(child, dispose) {\n        var childIndex = this._children.indexOf(child);\n        if (childIndex != -1) {\n            this.removeChildAt(childIndex, dispose);\n        }\n        return child;\n    }\n    removeChildAt(index, dispose) {\n        if (index >= 0 && index < this._children.length) {\n            var child = this._children[index];\n            child.parent = null;\n            if (child.sortingOrder != 0)\n                this._sortingChildCount--;\n            this._children.splice(index, 1);\n            child.group = null;\n            if (child.inContainer) {\n                this._container.remove(child.displayObject);\n                // if (this._childrenRenderOrder == ChildrenRenderOrder.Arch)\n                //     Laya.timer.callLater(this, this.buildNativeDisplayList);\n            }\n            if (dispose)\n                child.dispose();\n            this.setBoundsChangedFlag();\n            return child;\n        }\n        else {\n            throw \"Invalid child index\";\n        }\n    }\n    removeChildren(beginIndex, endIndex, dispose) {\n        if (beginIndex == undefined)\n            beginIndex = 0;\n        if (endIndex == undefined)\n            endIndex = -1;\n        if (endIndex < 0 || endIndex >= this._children.length)\n            endIndex = this._children.length - 1;\n        for (var i = beginIndex; i <= endIndex; ++i)\n            this.removeChildAt(beginIndex, dispose);\n    }\n    getChildAt(index) {\n        if (index >= 0 && index < this._children.length)\n            return this._children[index];\n        else\n            throw \"Invalid child index\";\n    }\n    getChild(name) {\n        var cnt = this._children.length;\n        for (var i = 0; i < cnt; ++i) {\n            if (this._children[i].name == name)\n                return this._children[i];\n        }\n        return null;\n    }\n    getChildByPath(path) {\n        var arr = path.split(\".\");\n        var cnt = arr.length;\n        var gcom = this;\n        var obj;\n        for (var i = 0; i < cnt; ++i) {\n            obj = gcom.getChild(arr[i]);\n            if (!obj)\n                break;\n            if (i != cnt - 1) {\n                if (!(obj instanceof GComponent)) {\n                    obj = null;\n                    break;\n                }\n                else\n                    gcom = obj;\n            }\n        }\n        return obj;\n    }\n    getVisibleChild(name) {\n        var cnt = this._children.length;\n        for (var i = 0; i < cnt; ++i) {\n            var child = this._children[i];\n            if (child.internalVisible && child.internalVisible2 && child.name == name)\n                return child;\n        }\n        return null;\n    }\n    getChildInGroup(name, group) {\n        var cnt = this._children.length;\n        for (var i = 0; i < cnt; ++i) {\n            var child = this._children[i];\n            if (child.group == group && child.name == name)\n                return child;\n        }\n        return null;\n    }\n    getChildById(id) {\n        var cnt = this._children.length;\n        for (var i = 0; i < cnt; ++i) {\n            if (this._children[i]._id == id)\n                return this._children[i];\n        }\n        return null;\n    }\n    getChildIndex(child) {\n        return this._children.indexOf(child);\n    }\n    setChildIndex(child, index) {\n        var oldIndex = this._children.indexOf(child);\n        if (oldIndex == -1)\n            throw \"Not a child of this container\";\n        if (child.sortingOrder != 0) //no effect\n            return;\n        var cnt = this._children.length;\n        if (this._sortingChildCount > 0) {\n            if (index > (cnt - this._sortingChildCount - 1))\n                index = cnt - this._sortingChildCount - 1;\n        }\n        this._setChildIndex(child, oldIndex, index);\n    }\n    setChildIndexBefore(child, index) {\n        var oldIndex = this._children.indexOf(child);\n        if (oldIndex == -1)\n            throw \"Not a child of this container\";\n        if (child.sortingOrder != 0) //no effect\n            return oldIndex;\n        var cnt = this._children.length;\n        if (this._sortingChildCount > 0) {\n            if (index > (cnt - this._sortingChildCount - 1))\n                index = cnt - this._sortingChildCount - 1;\n        }\n        if (oldIndex < index)\n            return this._setChildIndex(child, oldIndex, index - 1);\n        else\n            return this._setChildIndex(child, oldIndex, index);\n    }\n    _setChildIndex(child, oldIndex, index) {\n        var cnt = this._children.length;\n        if (index > cnt)\n            index = cnt;\n        if (oldIndex == index)\n            return oldIndex;\n        this._children.splice(oldIndex, 1);\n        this._children.splice(index, 0, child);\n        if (child.inContainer) {\n            var displayIndex = 0;\n            var g;\n            var i;\n            if (this._childrenRenderOrder == _FieldTypes__WEBPACK_IMPORTED_MODULE_7__[\"ChildrenRenderOrder\"].Ascent) {\n                for (i = 0; i < index; i++) {\n                    g = this._children[i];\n                    if (g.inContainer)\n                        displayIndex++;\n                }\n                if (displayIndex === this._container.displayList.length)\n                    displayIndex--;\n                this._container.addAt(child.displayObject, displayIndex);\n            }\n            else if (this._childrenRenderOrder == _FieldTypes__WEBPACK_IMPORTED_MODULE_7__[\"ChildrenRenderOrder\"].Descent) {\n                for (i = cnt - 1; i > index; i--) {\n                    g = this._children[i];\n                    if (g.inContainer)\n                        displayIndex++;\n                }\n                if (displayIndex === this._container.displayList.length)\n                    displayIndex--;\n                this._container.addAt(child.displayObject, displayIndex);\n            }\n            // else {\n            //     Laya.timer.callLater(this, this.buildNativeDisplayList);\n            // }\n            this.setBoundsChangedFlag();\n        }\n        return index;\n    }\n    swapChildren(child1, child2) {\n        var index1 = this._children.indexOf(child1);\n        var index2 = this._children.indexOf(child2);\n        if (index1 == -1 || index2 == -1)\n            throw \"Not a child of this container\";\n        this.swapChildrenAt(index1, index2);\n    }\n    swapChildrenAt(index1, index2) {\n        var child1 = this._children[index1];\n        var child2 = this._children[index2];\n        this.setChildIndex(child1, index2);\n        this.setChildIndex(child2, index1);\n    }\n    get numChildren() {\n        return this._children.length;\n    }\n    isAncestorOf(child) {\n        if (!child)\n            return false;\n        var p = child.parent;\n        while (p) {\n            if (p == this)\n                return true;\n            p = p.parent;\n        }\n        return false;\n    }\n    addController(controller) {\n        this._controllers.push(controller);\n        controller.parent = this;\n        this.applyController(controller);\n    }\n    getControllerAt(index) {\n        return this._controllers[index];\n    }\n    getController(name) {\n        var cnt = this._controllers.length;\n        for (var i = 0; i < cnt; ++i) {\n            var c = this._controllers[i];\n            if (c.name == name)\n                return c;\n        }\n        return null;\n    }\n    removeController(c) {\n        var index = this._controllers.indexOf(c);\n        if (index == -1)\n            throw new Error(\"controller not exists\");\n        c.parent = null;\n        this._controllers.splice(index, 1);\n        var length = this._children.length;\n        for (var i = 0; i < length; i++) {\n            var child = this._children[i];\n            child.handleControllerChanged(c);\n        }\n    }\n    get controllers() {\n        return this._controllers;\n    }\n    childStateChanged(child) {\n        if (this._buildingDisplayList)\n            return;\n        var cnt = this._children.length;\n        if (child instanceof _GGroup__WEBPACK_IMPORTED_MODULE_8__[\"GGroup\"]) {\n            for (var i = 0; i < cnt; i++) {\n                var g = this._children[i];\n                if (g.group == child)\n                    this.childStateChanged(g);\n            }\n            return;\n        }\n        if (!child.displayObject)\n            return;\n        if (child.internalVisible) { // && child.displayObject !== this._displayObject.mask) {\n            if (!child.displayObject.parentContainer) {\n                var index = 0;\n                if (this._childrenRenderOrder == _FieldTypes__WEBPACK_IMPORTED_MODULE_7__[\"ChildrenRenderOrder\"].Ascent) {\n                    for (i = 0; i < cnt; i++) {\n                        g = this._children[i];\n                        if (g == child)\n                            break;\n                        if (g.displayObject && g.displayObject.parentContainer)\n                            index++;\n                    }\n                    this._container.addAt(child.displayObject, index);\n                }\n                else if (this._childrenRenderOrder == _FieldTypes__WEBPACK_IMPORTED_MODULE_7__[\"ChildrenRenderOrder\"].Descent) {\n                    for (i = cnt - 1; i >= 0; i--) {\n                        g = this._children[i];\n                        if (g == child)\n                            break;\n                        if (g.displayObject && g.displayObject.parentContainer)\n                            index++;\n                    }\n                    this._container.addAt(child.displayObject, index);\n                }\n                else {\n                    this._container.add(child.displayObject);\n                    // Laya.timer.callLater(this, this.buildNativeDisplayList);\n                }\n            }\n        }\n        else {\n            if (child.displayObject.parentContainer) {\n                this._container.remove(child.displayObject);\n                //     if (this._childrenRenderOrder == ChildrenRenderOrder.Arch)\n                //         Laya.timer.callLater(this, this.buildNativeDisplayList);\n            }\n        }\n    }\n    buildNativeDisplayList() {\n        if (!this._displayObject)\n            return;\n        var cnt = this._children.length;\n        if (cnt == 0)\n            return;\n        var i;\n        var child;\n        switch (this._childrenRenderOrder) {\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_7__[\"ChildrenRenderOrder\"].Ascent:\n                {\n                    for (i = 0; i < cnt; i++) {\n                        child = this._children[i];\n                        if (child.displayObject && child.internalVisible)\n                            this._container.add(child.displayObject);\n                    }\n                }\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_7__[\"ChildrenRenderOrder\"].Descent:\n                {\n                    for (i = cnt - 1; i >= 0; i--) {\n                        child = this._children[i];\n                        if (child.displayObject && child.internalVisible)\n                            this._container.add(child.displayObject);\n                    }\n                }\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_7__[\"ChildrenRenderOrder\"].Arch:\n                {\n                    var apex = _utils_ToolSet__WEBPACK_IMPORTED_MODULE_6__[\"ToolSet\"].clamp(this._apexIndex, 0, cnt);\n                    for (i = 0; i < apex; i++) {\n                        child = this._children[i];\n                        if (child.displayObject && child.internalVisible)\n                            this._container.add(child.displayObject);\n                    }\n                    for (i = cnt - 1; i >= apex; i--) {\n                        child = this._children[i];\n                        if (child.displayObject && child.internalVisible)\n                            this._container.add(child.displayObject);\n                    }\n                }\n                break;\n        }\n    }\n    applyController(c) {\n        this._applyingController = c;\n        var child;\n        var length = this._children.length;\n        for (var i = 0; i < length; i++) {\n            child = this._children[i];\n            child.handleControllerChanged(c);\n        }\n        this._applyingController = null;\n        c.runActions();\n    }\n    applyAllControllers() {\n        var cnt = this._controllers.length;\n        for (var i = 0; i < cnt; ++i) {\n            this.applyController(this._controllers[i]);\n        }\n    }\n    adjustRadioGroupDepth(obj, c) {\n        var cnt = this._children.length;\n        var i;\n        var child;\n        var myIndex = -1, maxIndex = -1;\n        for (i = 0; i < cnt; i++) {\n            child = this._children[i];\n            if (child == obj) {\n                myIndex = i;\n            }\n            else if ((child instanceof _GButton__WEBPACK_IMPORTED_MODULE_5__[\"GButton\"])\n                && (child).relatedController == c) {\n                if (i > maxIndex)\n                    maxIndex = i;\n            }\n        }\n        if (myIndex < maxIndex) {\n            //如果正在applyingController，此时修改显示列表是危险的，但真正排除危险只能用显示列表的副本去做，这样性能可能损耗较大，\n            //这里取个巧，让可能漏过的child补一下handleControllerChanged，反正重复执行是无害的。\n            if (this._applyingController)\n                this._children[maxIndex].handleControllerChanged(this._applyingController);\n            this.swapChildrenAt(myIndex, maxIndex);\n        }\n    }\n    getTransitionAt(index) {\n        return this._transitions[index];\n    }\n    getTransition(transName) {\n        var cnt = this._transitions.length;\n        for (var i = 0; i < cnt; ++i) {\n            var trans = this._transitions[i];\n            if (trans.name == transName)\n                return trans;\n        }\n        return null;\n    }\n    isChildInView(child) {\n        if (this.scrollRect) {\n            return child.x + child.width >= 0 && child.x <= this.width\n                && child.y + child.height >= 0 && child.y <= this.height;\n        }\n        else if (this._scrollPane) {\n            return this._scrollPane.isChildInView(child);\n        }\n        else\n            return true;\n    }\n    getFirstChildInView() {\n        var cnt = this._children.length;\n        for (var i = 0; i < cnt; ++i) {\n            var child = this._children[i];\n            if (this.isChildInView(child))\n                return i;\n        }\n        return -1;\n    }\n    get scrollPane() {\n        return this._scrollPane;\n    }\n    get opaque() {\n        return this._opaque;\n    }\n    set opaque(value) {\n        if (this._opaque != value) {\n            this._opaque = value;\n            if (this._opaque) {\n                if (!this.hitArea)\n                    this.hitArea = new Phaser.Geom.Rectangle();\n                if (this.hitArea instanceof Phaser.Geom.Rectangle)\n                    this.hitArea.setTo(0, 0, this._width, this._height);\n                this._displayObject.setInteractive(new Phaser.Geom.Rectangle(0, 0, this._width, this._height), Phaser.Geom.Rectangle.Contains);\n            }\n            else {\n                if (this.hitArea instanceof Phaser.Geom.Rectangle)\n                    this.hitArea = null;\n                this._displayObject.disableInteractive();\n                // this._displayObject.mouseThrough = true;\n            }\n        }\n    }\n    get margin() {\n        return this._margin;\n    }\n    set margin(value) {\n        this._margin.copy(value);\n        if (this.scrollRect) {\n            this._container.setPosition(this._margin.left + this._alignOffset.x, this._margin.top + this._alignOffset.y);\n        }\n        this.handleSizeChanged();\n    }\n    get childrenRenderOrder() {\n        return this._childrenRenderOrder;\n    }\n    set childrenRenderOrder(value) {\n        if (this._childrenRenderOrder != value) {\n            this._childrenRenderOrder = value;\n            this.buildNativeDisplayList();\n        }\n    }\n    get apexIndex() {\n        return this._apexIndex;\n    }\n    set apexIndex(value) {\n        if (this._apexIndex != value) {\n            this._apexIndex = value;\n            if (this._childrenRenderOrder == _FieldTypes__WEBPACK_IMPORTED_MODULE_7__[\"ChildrenRenderOrder\"].Arch)\n                this.buildNativeDisplayList();\n        }\n    }\n    get mask() {\n        return this._mask;\n    }\n    set mask(value) {\n        this.setMask(value, false);\n    }\n    setMask(value, reversed) {\n        if (this._mask && this._mask != value) {\n            if (this._mask.blendMode == \"destination-out\")\n                this._mask.blendMode = null;\n        }\n        this._mask = value;\n        if (!this._mask) {\n            this._displayObject.mask = null;\n            if (this.hitArea instanceof _utils_ChildHitArea__WEBPACK_IMPORTED_MODULE_4__[\"ChildHitArea\"])\n                this.hitArea = null;\n            return;\n        }\n        // if (this._mask.displayObject.input.hitArea) {\n        // this.hitArea = new ChildHitArea(this._mask, reversed);\n        // this._displayObject.mouseThrough = false;\n        // this._displayObject.hitTestPrior = true;\n        // }\n        const maskObj = new _GObject__WEBPACK_IMPORTED_MODULE_13__[\"GObject\"]();\n        maskObj.scene = this.scene;\n        maskObj.setDisplayObject(this._mask);\n        this.hitArea = new _utils_ChildHitArea__WEBPACK_IMPORTED_MODULE_4__[\"ChildHitArea\"](maskObj, reversed);\n        if (reversed) {\n            this._displayObject.mask = null;\n            // this._displayObject.cacheAs = \"bitmap\";\n            this._mask.blendMode = \"destination-out\";\n        }\n        else\n            this._displayObject.mask = this._mask.createGeometryMask();\n    }\n    get baseUserData() {\n        var buffer = this.packageItem.rawData;\n        buffer.seek(0, 4);\n        return buffer.readS();\n    }\n    updateHitArea() {\n        if (this.hitArea instanceof _utils_PixelHitTest__WEBPACK_IMPORTED_MODULE_3__[\"PixelHitTest\"]) {\n            var hitTest = (this.hitArea);\n            if (this.sourceWidth != 0)\n                hitTest.scaleX = this._width / this.sourceWidth;\n            if (this.sourceHeight != 0)\n                hitTest.scaleY = this._height / this.sourceHeight;\n        }\n        else if (this.hitArea instanceof Phaser.Geom.Rectangle) {\n            this.hitArea.setTo(0, 0, this._width, this._height);\n        }\n    }\n    updateMask() {\n        var rect = this.scrollRect;\n        if (!rect)\n            rect = new Phaser.Geom.Rectangle();\n        rect.x = this._margin.left;\n        rect.y = this._margin.top;\n        rect.width = this._width - this._margin.right;\n        rect.height = this._height - this._margin.bottom;\n        this.scrollRect = rect;\n    }\n    setupScroll(buffer) {\n        if (this._displayObject == this._container) {\n            this._container = new Phaser.GameObjects.Container(this.scene);\n            this._displayObject.add(this._container);\n        }\n        this._scrollPane = new _ScrollPane__WEBPACK_IMPORTED_MODULE_9__[\"ScrollPane\"](this);\n        this._scrollPane.setup(buffer);\n    }\n    setupOverflow(overflow) {\n        if (overflow == _FieldTypes__WEBPACK_IMPORTED_MODULE_7__[\"OverflowType\"].Hidden) {\n            if (this._displayObject == this._container) {\n                this._container = new Phaser.GameObjects.Container(this.scene);\n                this._displayObject.add(this._container);\n            }\n            this.updateMask();\n            this._container.setPosition(this._margin.left, this._margin.top);\n        }\n        else if (this._margin.left != 0 || this._margin.top != 0) {\n            if (this._displayObject == this._container) {\n                this._container = new Phaser.GameObjects.Container(this.scene);\n                this._displayObject.add(this._container);\n            }\n            this._container.setPosition(this._margin.left, this._margin.top);\n        }\n    }\n    handleSizeChanged() {\n        super.handleSizeChanged();\n        if (this._scrollPane)\n            this._scrollPane.onOwnerSizeChanged();\n        else if (this.scrollRect)\n            this.updateMask();\n        if (this.hitArea)\n            this.updateHitArea();\n    }\n    handleGrayedChanged() {\n        var c = this.getController(\"grayed\");\n        if (c) {\n            c.selectedIndex = this.grayed ? 1 : 0;\n            return;\n        }\n        var v = this.grayed;\n        var cnt = this._children.length;\n        for (var i = 0; i < cnt; ++i) {\n            this._children[i].grayed = v;\n        }\n    }\n    handleControllerChanged(c) {\n        super.handleControllerChanged(c);\n        if (this._scrollPane)\n            this._scrollPane.handleControllerChanged(c);\n    }\n    setBoundsChangedFlag() {\n        if (!this._scrollPane && !this._trackBounds)\n            return;\n        if (!this._boundsChanged) {\n            this._boundsChanged = true;\n            //Laya.timer.callLater(this, this.__render);\n        }\n    }\n    __render() {\n        if (this._boundsChanged) {\n            var i1 = 0;\n            var len = this._children.length;\n            var child;\n            for (i1 = 0; i1 < len; i1++) {\n                child = this._children[i1];\n                child.ensureSizeCorrect();\n            }\n            this.updateBounds();\n        }\n    }\n    ensureBoundsCorrect() {\n        var i1 = 0;\n        var len = this._children.length;\n        var child;\n        for (i1 = 0; i1 < len; i1++) {\n            child = this._children[i1];\n            child.ensureSizeCorrect();\n        }\n        if (this._boundsChanged)\n            this.updateBounds();\n    }\n    updateBounds() {\n        var ax = 0, ay = 0, aw = 0, ah = 0;\n        var len = this._children.length;\n        if (len > 0) {\n            ax = Number.POSITIVE_INFINITY, ay = Number.POSITIVE_INFINITY;\n            var ar = Number.NEGATIVE_INFINITY, ab = Number.NEGATIVE_INFINITY;\n            var tmp = 0;\n            var i1 = 0;\n            for (i1 = 0; i1 < len; i1++) {\n                var child = this._children[i1];\n                tmp = child.x;\n                if (tmp < ax)\n                    ax = tmp;\n                tmp = child.y;\n                if (tmp < ay)\n                    ay = tmp;\n                tmp = child.x + child.actualWidth;\n                if (tmp > ar)\n                    ar = tmp;\n                tmp = child.y + child.actualHeight;\n                if (tmp > ab)\n                    ab = tmp;\n            }\n            aw = ar - ax;\n            ah = ab - ay;\n        }\n        this.setBounds(ax, ay, aw, ah);\n    }\n    setBounds(ax, ay, aw, ah) {\n        this._boundsChanged = false;\n        if (this._scrollPane)\n            this._scrollPane.setContentSize(Math.round(ax + aw), Math.round(ay + ah));\n    }\n    get viewWidth() {\n        if (this._scrollPane)\n            return this._scrollPane.viewWidth;\n        else\n            return this.width - this._margin.left - this._margin.right;\n    }\n    set viewWidth(value) {\n        if (this._scrollPane)\n            this._scrollPane.viewWidth = value;\n        else\n            this.width = value + this._margin.left + this._margin.right;\n    }\n    get viewHeight() {\n        if (this._scrollPane)\n            return this._scrollPane.viewHeight;\n        else\n            return this.height - this._margin.top - this._margin.bottom;\n    }\n    set viewHeight(value) {\n        if (this._scrollPane)\n            this._scrollPane.viewHeight = value;\n        else\n            this.height = value + this._margin.top + this._margin.bottom;\n    }\n    getSnappingPosition(xValue, yValue, result) {\n        return this.getSnappingPositionWithDir(xValue, yValue, 0, 0, result);\n    }\n    /**\n     * dir正数表示右移或者下移，负数表示左移或者上移\n     */\n    getSnappingPositionWithDir(xValue, yValue, xDir, yDir, result) {\n        if (!result)\n            result = new Phaser.Geom.Point();\n        var cnt = this._children.length;\n        if (cnt == 0) {\n            result.x = 0;\n            result.y = 0;\n            return result;\n        }\n        this.ensureBoundsCorrect();\n        var obj = null;\n        var prev = null;\n        var i = 0;\n        if (yValue != 0) {\n            for (; i < cnt; i++) {\n                obj = this._children[i];\n                if (yValue < obj.y) {\n                    if (i == 0) {\n                        yValue = 0;\n                        break;\n                    }\n                    else {\n                        prev = this._children[i - 1];\n                        if (yValue < prev.y + prev.actualHeight / 2) //top half part\n                            yValue = prev.y;\n                        else //bottom half part\n                            yValue = obj.y;\n                        break;\n                    }\n                }\n            }\n            if (i == cnt)\n                yValue = obj.y;\n        }\n        if (xValue != 0) {\n            if (i > 0)\n                i--;\n            for (; i < cnt; i++) {\n                obj = this._children[i];\n                if (xValue < obj.x) {\n                    if (i == 0) {\n                        xValue = 0;\n                        break;\n                    }\n                    else {\n                        prev = this._children[i - 1];\n                        if (xValue < prev.x + prev.actualWidth / 2) //top half part\n                            xValue = prev.x;\n                        else //bottom half part\n                            xValue = obj.x;\n                        break;\n                    }\n                }\n            }\n            if (i == cnt)\n                xValue = obj.x;\n        }\n        result.x = xValue;\n        result.y = yValue;\n        return result;\n    }\n    childSortingOrderChanged(child, oldValue, newValue) {\n        if (newValue == 0) {\n            this._sortingChildCount--;\n            this.setChildIndex(child, this._children.length);\n        }\n        else {\n            if (oldValue == 0)\n                this._sortingChildCount++;\n            var oldIndex = this._children.indexOf(child);\n            var index = this.getInsertPosForSortingChild(child);\n            if (oldIndex < index)\n                this._setChildIndex(child, oldIndex, index - 1);\n            else\n                this._setChildIndex(child, oldIndex, index);\n        }\n    }\n    constructFromResource() {\n        this.constructFromResource2(null, 0);\n    }\n    constructFromResource2(objectPool, poolIndex) {\n        var contentItem = this.packageItem.getBranch();\n        if (!contentItem.decoded) {\n            contentItem.decoded = true;\n            _TranslationHelper__WEBPACK_IMPORTED_MODULE_2__[\"TranslationHelper\"].translateComponent(contentItem);\n        }\n        var i;\n        var dataLen;\n        var curPos;\n        var nextPos;\n        var f1;\n        var f2;\n        var i1;\n        var i2;\n        var buffer = contentItem.rawData;\n        buffer.seek(0, 0);\n        this._underConstruct = true;\n        this.sourceWidth = buffer.readInt();\n        this.sourceHeight = buffer.readInt();\n        this.initWidth = this.sourceWidth;\n        this.initHeight = this.sourceHeight;\n        this.setSize(this.sourceWidth, this.sourceHeight);\n        if (buffer.readBool()) {\n            this.minWidth = buffer.readInt();\n            this.maxWidth = buffer.readInt();\n            this.minHeight = buffer.readInt();\n            this.maxHeight = buffer.readInt();\n        }\n        if (buffer.readBool()) {\n            f1 = buffer.readFloat();\n            f2 = buffer.readFloat();\n            this.internalSetPivot(f1, f2, buffer.readBool());\n        }\n        if (buffer.readBool()) {\n            this._margin.top = buffer.readInt();\n            this._margin.bottom = buffer.readInt();\n            this._margin.left = buffer.readInt();\n            this._margin.right = buffer.readInt();\n        }\n        var overflow = buffer.readByte();\n        if (overflow == _FieldTypes__WEBPACK_IMPORTED_MODULE_7__[\"OverflowType\"].Scroll) {\n            var savedPos = buffer.position;\n            buffer.seek(0, 7);\n            this.setupScroll(buffer);\n            buffer.position = savedPos;\n        }\n        else\n            this.setupOverflow(overflow);\n        if (buffer.readBool())\n            buffer.skip(8);\n        this._buildingDisplayList = true;\n        buffer.seek(0, 1);\n        var controllerCount = buffer.readShort();\n        for (i = 0; i < controllerCount; i++) {\n            nextPos = buffer.readShort();\n            nextPos += buffer.position;\n            var controller = new _Controller__WEBPACK_IMPORTED_MODULE_12__[\"Controller\"]();\n            this._controllers.push(controller);\n            controller.parent = this;\n            controller.setup(buffer);\n            buffer.position = nextPos;\n        }\n        buffer.seek(0, 2);\n        var child;\n        var childCount = buffer.readShort();\n        for (i = 0; i < childCount; i++) {\n            dataLen = buffer.readShort();\n            curPos = buffer.position;\n            if (objectPool)\n                child = objectPool[poolIndex + i];\n            else {\n                buffer.seek(curPos, 0);\n                var type = buffer.readByte();\n                var src = buffer.readS();\n                var pkgId = buffer.readS();\n                var pi = null;\n                if (src != null) {\n                    var pkg;\n                    if (pkgId != null)\n                        pkg = _UIPackage__WEBPACK_IMPORTED_MODULE_1__[\"UIPackage\"].getById(pkgId);\n                    else\n                        pkg = contentItem.owner;\n                    pi = pkg ? pkg.getItemById(src) : null;\n                }\n                if (pi) {\n                    child = _UIObjectFactory__WEBPACK_IMPORTED_MODULE_0__[\"UIObjectFactory\"].newObject(pi);\n                    child.constructFromResource();\n                }\n                else\n                    child = _UIObjectFactory__WEBPACK_IMPORTED_MODULE_0__[\"UIObjectFactory\"].newObject(type);\n            }\n            child._underConstruct = true;\n            child.setup_beforeAdd(buffer, curPos);\n            child.parent = this;\n            this._children.push(child);\n            buffer.position = curPos + dataLen;\n        }\n        buffer.seek(0, 3);\n        this.relations.setup(buffer, true);\n        buffer.seek(0, 2);\n        buffer.skip(2);\n        for (i = 0; i < childCount; i++) {\n            nextPos = buffer.readShort();\n            nextPos += buffer.position;\n            buffer.seek(buffer.position, 3);\n            this._children[i].relations.setup(buffer, false);\n            buffer.position = nextPos;\n        }\n        buffer.seek(0, 2);\n        buffer.skip(2);\n        for (i = 0; i < childCount; i++) {\n            nextPos = buffer.readShort();\n            nextPos += buffer.position;\n            child = this._children[i];\n            child.setup_afterAdd(buffer, buffer.position);\n            child._underConstruct = false;\n            buffer.position = nextPos;\n        }\n        buffer.seek(0, 4);\n        buffer.skip(2); //customData\n        this.opaque = buffer.readBool();\n        var maskId = buffer.readShort();\n        if (maskId != -1) {\n            this.setMask(this.getChildAt(maskId).displayObject, buffer.readBool());\n        }\n        var hitTestId = buffer.readS();\n        i1 = buffer.readInt();\n        i2 = buffer.readInt();\n        var hitArea;\n        if (hitTestId) {\n            pi = contentItem.owner.getItemById(hitTestId);\n            if (pi && pi.pixelHitTestData)\n                hitArea = new _utils_PixelHitTest__WEBPACK_IMPORTED_MODULE_3__[\"PixelHitTest\"](pi.pixelHitTestData, i1, i2);\n        }\n        else if (i1 != 0 && i2 != -1) {\n            hitArea = new _utils_ChildHitArea__WEBPACK_IMPORTED_MODULE_4__[\"ChildHitArea\"](this.getChildAt(i2));\n        }\n        if (hitArea) {\n            // this._displayObject.setInteractive(hitArea,Phaser.Geom.Rectangle.Contains);\n            this.hitArea = hitArea;\n            // this._displayObject.mouseThrough = false;\n            // this._displayObject.hitTestPrior = true;\n        }\n        buffer.seek(0, 5);\n        var transitionCount = buffer.readShort();\n        for (i = 0; i < transitionCount; i++) {\n            nextPos = buffer.readShort();\n            nextPos += buffer.position;\n            var trans = new _Transition__WEBPACK_IMPORTED_MODULE_10__[\"Transition\"](this);\n            trans.setup(buffer);\n            this._transitions.push(trans);\n            buffer.position = nextPos;\n        }\n        if (this._transitions.length > 0) {\n            this.displayObject.on(Phaser.GameObjects.Events.ADDED_TO_SCENE, this.___added);\n            this.displayObject.on(Phaser.GameObjects.Events.REMOVED_FROM_SCENE, this.___removed);\n        }\n        this.applyAllControllers();\n        this._buildingDisplayList = false;\n        this._underConstruct = false;\n        this.buildNativeDisplayList();\n        this.setBoundsChangedFlag();\n        if (contentItem.objectType != _FieldTypes__WEBPACK_IMPORTED_MODULE_7__[\"ObjectType\"].Component)\n            this.constructExtension(buffer);\n        this.onConstruct();\n    }\n    constructExtension(buffer) {\n    }\n    onConstruct() {\n        this.constructFromXML(null); //old version\n    }\n    constructFromXML(xml) {\n    }\n    setup_afterAdd(buffer, beginPos) {\n        super.setup_afterAdd(buffer, beginPos);\n        buffer.seek(beginPos, 4);\n        var pageController = buffer.readShort();\n        if (pageController != -1 && this._scrollPane)\n            this._scrollPane.pageController = this._parent.getControllerAt(pageController);\n        var cnt;\n        var i;\n        cnt = buffer.readShort();\n        for (i = 0; i < cnt; i++) {\n            var cc = this.getController(buffer.readS());\n            var pageId = buffer.readS();\n            if (cc)\n                cc.selectedPageId = pageId;\n        }\n        if (buffer.version >= 2) {\n            cnt = buffer.readShort();\n            for (i = 0; i < cnt; i++) {\n                var target = buffer.readS();\n                var propertyId = buffer.readShort();\n                var value = buffer.readS();\n                var obj = this.getChildByPath(target);\n                if (obj)\n                    obj.setProp(propertyId, value);\n            }\n        }\n    }\n    ___added() {\n        var cnt = this._transitions.length;\n        for (var i = 0; i < cnt; ++i) {\n            this._transitions[i].onOwnerAddedToStage();\n        }\n    }\n    ___removed() {\n        var cnt = this._transitions.length;\n        for (var i = 0; i < cnt; ++i) {\n            this._transitions[i].onOwnerRemovedFromStage();\n        }\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/GComponent.ts?");

/***/ }),

/***/ "./src/GGraph.ts":
/*!***********************!*\
  !*** ./src/GGraph.ts ***!
  \***********************/
/*! exports provided: GGraph */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GGraph\", function() { return GGraph; });\n/* harmony import */ var _FieldTypes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FieldTypes */ \"./src/FieldTypes.ts\");\n/* harmony import */ var _GObject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GObject */ \"./src/GObject.ts\");\n\n\nclass GGraph extends _GObject__WEBPACK_IMPORTED_MODULE_1__[\"GObject\"] {\n    constructor() {\n        super();\n        this._type = 0;\n        this._lineSize = 1;\n        this._lineColor = \"#000000\";\n        this._fillColor = \"#FFFFFF\";\n    }\n    drawRect(lineSize, lineColor, fillColor, cornerRadius) {\n        this._type = 1;\n        this._lineSize = lineSize;\n        this._lineColor = lineColor;\n        this._fillColor = fillColor;\n        this._cornerRadius = cornerRadius;\n        this.updateGraph();\n    }\n    drawEllipse(lineSize, lineColor, fillColor) {\n        this._type = 2;\n        this._lineSize = lineSize;\n        this._lineColor = lineColor;\n        this._fillColor = fillColor;\n        this.updateGraph();\n    }\n    drawRegularPolygon(lineSize, lineColor, fillColor, sides, startAngle, distances) {\n        this._type = 4;\n        this._lineSize = lineSize;\n        this._lineColor = lineColor;\n        this._fillColor = fillColor;\n        this._sides = sides;\n        this._startAngle = startAngle || 0;\n        this._distances = distances;\n        this.updateGraph();\n    }\n    drawPolygon(lineSize, lineColor, fillColor, points) {\n        this._type = 3;\n        this._lineSize = lineSize;\n        this._lineColor = lineColor;\n        this._fillColor = fillColor;\n        this._polygonPoints = points;\n        this.updateGraph();\n    }\n    get distances() {\n        return this._distances;\n    }\n    set distances(value) {\n        this._distances = value;\n        if (this._type == 3)\n            this.updateGraph();\n    }\n    get color() {\n        return this._fillColor;\n    }\n    set color(value) {\n        this._fillColor = value;\n        this.updateGear(4);\n        if (this._type != 0)\n            this.updateGraph();\n    }\n    updateGraph() {\n        // TODO\n        throw new Error(\"TODO\");\n        // this._displayObject.mouseEnabled = this.touchable;\n        // var gr: Laya.Graphics = this._displayObject.graphics;\n        // gr.clear();\n        // var w: number = this.width;\n        // var h: number = this.height;\n        // if (w == 0 || h == 0)\n        //     return;\n        // var fillColor: string = this._fillColor;\n        // var lineColor: string = this._lineColor;\n        // if (/*Render.isWebGL &&*/ ToolSet.startsWith(fillColor, \"rgba\")) {\n        //     //webgl下laya未支持rgba格式\n        //     var arr: any[] = fillColor.substring(5, fillColor.lastIndexOf(\")\")).split(\",\");\n        //     var a: number = parseFloat(arr[3]);\n        //     if (a == 0)\n        //         fillColor = null;\n        //     else {\n        //         fillColor = Laya.Utils.toHexColor((parseInt(arr[0]) << 16) + (parseInt(arr[1]) << 8) + parseInt(arr[2]));\n        //         this.alpha = a;\n        //     }\n        // }\n        // if (this._type == 1) {\n        //     if (this._cornerRadius) {\n        //         var paths: any[] = [\n        //             [\"moveTo\", this._cornerRadius[0], 0],\n        //             [\"lineTo\", w - this._cornerRadius[1], 0],\n        //             [\"arcTo\", w, 0, w, this._cornerRadius[1], this._cornerRadius[1]],\n        //             [\"lineTo\", w, h - this._cornerRadius[3]],\n        //             [\"arcTo\", w, h, w - this._cornerRadius[3], h, this._cornerRadius[3]],\n        //             [\"lineTo\", this._cornerRadius[2], h],\n        //             [\"arcTo\", 0, h, 0, h - this._cornerRadius[2], this._cornerRadius[2]],\n        //             [\"lineTo\", 0, this._cornerRadius[0]],\n        //             [\"arcTo\", 0, 0, this._cornerRadius[0], 0, this._cornerRadius[0]],\n        //             [\"closePath\"]\n        //         ];\n        //         gr.drawPath(0, 0, paths, fillColor ? { fillStyle: fillColor } : null, this._lineSize > 0 ? { strokeStyle: lineColor, lineWidth: this._lineSize } : null);\n        //     }\n        //     else\n        //         gr.drawRect(0, 0, w, h, fillColor, this._lineSize > 0 ? lineColor : null, this._lineSize);\n        // } else if (this._type == 2) {\n        //     gr.drawCircle(w / 2, h / 2, w / 2, fillColor, this._lineSize > 0 ? lineColor : null, this._lineSize);\n        // }\n        // else if (this._type == 3) {\n        //     gr.drawPoly(0, 0, this._polygonPoints, fillColor, this._lineSize > 0 ? lineColor : null, this._lineSize);\n        // }\n        // else if (this._type == 4) {\n        //     if (!this._polygonPoints)\n        //         this._polygonPoints = [];\n        //     var radius: number = Math.min(this._width, this._height) / 2;\n        //     this._polygonPoints.length = 0;\n        //     var angle: number = Laya.Utils.toRadian(this._startAngle);\n        //     var deltaAngle: number = 2 * Math.PI / this._sides;\n        //     var dist: number;\n        //     for (var i: number = 0; i < this._sides; i++) {\n        //         if (this._distances) {\n        //             dist = this._distances[i];\n        //             if (isNaN(dist))\n        //                 dist = 1;\n        //         }\n        //         else\n        //             dist = 1;\n        //         var xv: number = radius + radius * dist * Math.cos(angle);\n        //         var yv: number = radius + radius * dist * Math.sin(angle);\n        //         this._polygonPoints.push(xv, yv);\n        //         angle += deltaAngle;\n        //     }\n        //     gr.drawPoly(0, 0, this._polygonPoints, fillColor, this._lineSize > 0 ? lineColor : null, this._lineSize);\n        // }\n        // this._displayObject.repaint();\n    }\n    replaceMe(target) {\n        throw new Error(\"TODO\");\n        // if (!this._parent)\n        //     throw \"parent not set\";\n        // target.name = this.name;\n        // target.alpha = this.alpha;\n        // target.rotation = this.rotation;\n        // target.visible = this.visible;\n        // target.touchable = this.touchable;\n        // target.grayed = this.grayed;\n        // target.setXY(this.x, this.y);\n        // target.setSize(this.width, this.height);\n        // var index: number = this._parent.getChildIndex(this);\n        // this._parent.addChildAt(target, index);\n        // target.relations.copyFrom(this.relations);\n        // this._parent.removeChild(this, true);\n    }\n    addBeforeMe(target) {\n        throw new Error(\"TODO\");\n        if (!this._parent)\n            throw \"parent not set\";\n        // var index: number = this._parent.getChildIndex(this);\n        // this._parent.addChildAt(target, index);\n    }\n    addAfterMe(target) {\n        throw new Error(\"TODO\");\n        if (!this._parent)\n            throw \"parent not set\";\n        // var index: number = this._parent.getChildIndex(this);\n        // index++;\n        // this._parent.addChildAt(target, index);\n    }\n    setNativeObject(obj) {\n        this._type = 0;\n        throw new Error(\"TODO\");\n        // this._displayObject.mouseEnabled = this.touchable;\n        // this._displayObject.graphics.clear();\n        // this._displayObject.addChild(obj);\n    }\n    createDisplayObject() {\n        throw new Error(\"TODO\");\n        super.createDisplayObject();\n        // this._displayObject.mouseEnabled = false;\n        // this._hitArea = new Laya.HitArea();\n        // this._hitArea.hit = this._displayObject.graphics;\n        // this._displayObject.hitArea = this._hitArea;\n    }\n    getProp(index) {\n        if (index == _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].Color)\n            return this.color;\n        else\n            return super.getProp(index);\n    }\n    setProp(index, value) {\n        if (index == _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].Color)\n            this.color = value;\n        else\n            super.setProp(index, value);\n    }\n    handleSizeChanged() {\n        super.handleSizeChanged();\n        if (this._type != 0)\n            this.updateGraph();\n    }\n    setup_beforeAdd(buffer, beginPos) {\n        super.setup_beforeAdd(buffer, beginPos);\n        buffer.seek(beginPos, 5);\n        this._type = buffer.readByte();\n        if (this._type != 0) {\n            var i;\n            var cnt;\n            this._lineSize = buffer.readInt();\n            this._lineColor = buffer.readColorS(true);\n            this._fillColor = buffer.readColorS(true);\n            if (buffer.readBool()) {\n                this._cornerRadius = [];\n                for (i = 0; i < 4; i++)\n                    this._cornerRadius[i] = buffer.readFloat();\n            }\n            if (this._type == 3) {\n                cnt = buffer.readShort();\n                this._polygonPoints = [];\n                this._polygonPoints.length = cnt;\n                for (i = 0; i < cnt; i++)\n                    this._polygonPoints[i] = buffer.readFloat();\n            }\n            else if (this._type == 4) {\n                this._sides = buffer.readShort();\n                this._startAngle = buffer.readFloat();\n                cnt = buffer.readShort();\n                if (cnt > 0) {\n                    this._distances = [];\n                    for (i = 0; i < cnt; i++)\n                        this._distances[i] = buffer.readFloat();\n                }\n            }\n            this.updateGraph();\n        }\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/GGraph.ts?");

/***/ }),

/***/ "./src/GGroup.ts":
/*!***********************!*\
  !*** ./src/GGroup.ts ***!
  \***********************/
/*! exports provided: GGroup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GGroup\", function() { return GGroup; });\n/* harmony import */ var _FieldTypes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FieldTypes */ \"./src/FieldTypes.ts\");\n/* harmony import */ var _GObject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GObject */ \"./src/GObject.ts\");\n\n\nclass GGroup extends _GObject__WEBPACK_IMPORTED_MODULE_1__[\"GObject\"] {\n    constructor() {\n        super();\n        this._layout = 0;\n        this._lineGap = 0;\n        this._columnGap = 0;\n        this._mainGridIndex = -1;\n        this._mainGridMinSize = 50;\n        this._mainChildIndex = -1;\n        this._totalSize = 0;\n        this._numChildren = 0;\n        this._updating = 0;\n    }\n    dispose() {\n        this._boundsChanged = false;\n        super.dispose();\n    }\n    get layout() {\n        return this._layout;\n    }\n    set layout(value) {\n        if (this._layout != value) {\n            this._layout = value;\n            this.setBoundsChangedFlag();\n        }\n    }\n    get lineGap() {\n        return this._lineGap;\n    }\n    set lineGap(value) {\n        if (this._lineGap != value) {\n            this._lineGap = value;\n            this.setBoundsChangedFlag(true);\n        }\n    }\n    get columnGap() {\n        return this._columnGap;\n    }\n    set columnGap(value) {\n        if (this._columnGap != value) {\n            this._columnGap = value;\n            this.setBoundsChangedFlag(true);\n        }\n    }\n    get excludeInvisibles() {\n        return this._excludeInvisibles;\n    }\n    set excludeInvisibles(value) {\n        if (this._excludeInvisibles != value) {\n            this._excludeInvisibles = value;\n            this.setBoundsChangedFlag();\n        }\n    }\n    get autoSizeDisabled() {\n        return this._autoSizeDisabled;\n    }\n    set autoSizeDisabled(value) {\n        this._autoSizeDisabled = value;\n    }\n    get mainGridMinSize() {\n        return this._mainGridMinSize;\n    }\n    set mainGridMinSize(value) {\n        if (this._mainGridMinSize != value) {\n            this._mainGridMinSize = value;\n            this.setBoundsChangedFlag();\n        }\n    }\n    get mainGridIndex() {\n        return this._mainGridIndex;\n    }\n    set mainGridIndex(value) {\n        if (this._mainGridIndex != value) {\n            this._mainGridIndex = value;\n            this.setBoundsChangedFlag();\n        }\n    }\n    setBoundsChangedFlag(positionChangedOnly) {\n        if (this._updating == 0 && this._parent) {\n            if (!positionChangedOnly)\n                this._percentReady = false;\n            if (!this._boundsChanged) {\n                this._boundsChanged = true;\n                // if (this._layout != GroupLayoutType.None)\n                //     Laya.timer.callLater(this, this.ensureBoundsCorrect);\n            }\n        }\n    }\n    ensureSizeCorrect() {\n        if (!this._parent || !this._boundsChanged || this._layout == 0)\n            return;\n        this._boundsChanged = false;\n        if (this._autoSizeDisabled)\n            this.resizeChildren(0, 0);\n        else {\n            this.handleLayout();\n            this.updateBounds();\n        }\n    }\n    ensureBoundsCorrect() {\n        if (!this._parent || !this._boundsChanged)\n            return;\n        this._boundsChanged = false;\n        if (this._layout == 0)\n            this.updateBounds();\n        else {\n            if (this._autoSizeDisabled)\n                this.resizeChildren(0, 0);\n            else {\n                this.handleLayout();\n                this.updateBounds();\n            }\n        }\n    }\n    updateBounds() {\n        // Laya.timer.clear(this, this.ensureBoundsCorrect);\n        var cnt = this._parent.numChildren;\n        var i;\n        var child;\n        var ax = Number.POSITIVE_INFINITY, ay = Number.POSITIVE_INFINITY;\n        var ar = Number.NEGATIVE_INFINITY, ab = Number.NEGATIVE_INFINITY;\n        var tmp;\n        var empty = true;\n        for (i = 0; i < cnt; i++) {\n            child = this._parent.getChildAt(i);\n            if (child.group != this || this._excludeInvisibles && !child.internalVisible3)\n                continue;\n            tmp = child.xMin;\n            if (tmp < ax)\n                ax = tmp;\n            tmp = child.yMin;\n            if (tmp < ay)\n                ay = tmp;\n            tmp = child.xMin + child.width;\n            if (tmp > ar)\n                ar = tmp;\n            tmp = child.yMin + child.height;\n            if (tmp > ab)\n                ab = tmp;\n            empty = false;\n        }\n        var w = 0, h = 0;\n        if (!empty) {\n            this._updating |= 1;\n            this.setXY(ax, ay);\n            this._updating &= 2;\n            w = ar - ax;\n            h = ab - ay;\n        }\n        if ((this._updating & 2) == 0) {\n            this._updating |= 2;\n            this.setSize(w, h);\n            this._updating &= 1;\n        }\n        else {\n            this._updating &= 1;\n            this.resizeChildren(this._width - w, this._height - h);\n        }\n    }\n    handleLayout() {\n        this._updating |= 1;\n        var child;\n        var i;\n        var cnt;\n        if (this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"GroupLayoutType\"].Horizontal) {\n            var curX = this.x;\n            cnt = this._parent.numChildren;\n            for (i = 0; i < cnt; i++) {\n                child = this._parent.getChildAt(i);\n                if (child.group != this)\n                    continue;\n                if (this._excludeInvisibles && !child.internalVisible3)\n                    continue;\n                child.xMin = curX;\n                if (child.width != 0)\n                    curX += child.width + this._columnGap;\n            }\n        }\n        else if (this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"GroupLayoutType\"].Vertical) {\n            var curY = this.y;\n            cnt = this._parent.numChildren;\n            for (i = 0; i < cnt; i++) {\n                child = this._parent.getChildAt(i);\n                if (child.group != this)\n                    continue;\n                if (this._excludeInvisibles && !child.internalVisible3)\n                    continue;\n                child.yMin = curY;\n                if (child.height != 0)\n                    curY += child.height + this._lineGap;\n            }\n        }\n        this._updating &= 2;\n    }\n    moveChildren(dx, dy) {\n        if ((this._updating & 1) != 0 || !this._parent)\n            return;\n        this._updating |= 1;\n        var cnt = this._parent.numChildren;\n        var i;\n        var child;\n        for (i = 0; i < cnt; i++) {\n            child = this._parent.getChildAt(i);\n            if (child.group == this) {\n                child.setXY(child.x + dx, child.y + dy);\n            }\n        }\n        this._updating &= 2;\n    }\n    resizeChildren(dw, dh) {\n        if (this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"GroupLayoutType\"].None || (this._updating & 2) != 0 || !this._parent)\n            return;\n        this._updating |= 2;\n        if (this._boundsChanged) {\n            this._boundsChanged = false;\n            if (!this._autoSizeDisabled) {\n                this.updateBounds();\n                return;\n            }\n        }\n        var cnt = this._parent.numChildren;\n        var i;\n        var child;\n        if (!this._percentReady) {\n            this._percentReady = true;\n            this._numChildren = 0;\n            this._totalSize = 0;\n            this._mainChildIndex = -1;\n            var j = 0;\n            for (i = 0; i < cnt; i++) {\n                child = this._parent.getChildAt(i);\n                if (child.group != this)\n                    continue;\n                if (!this._excludeInvisibles || child.internalVisible3) {\n                    if (j == this._mainGridIndex)\n                        this._mainChildIndex = i;\n                    this._numChildren++;\n                    if (this._layout == 1)\n                        this._totalSize += child.width;\n                    else\n                        this._totalSize += child.height;\n                }\n                j++;\n            }\n            if (this._mainChildIndex != -1) {\n                if (this._layout == 1) {\n                    child = this._parent.getChildAt(this._mainChildIndex);\n                    this._totalSize += this._mainGridMinSize - child.width;\n                    child._sizePercentInGroup = this._mainGridMinSize / this._totalSize;\n                }\n                else {\n                    child = this._parent.getChildAt(this._mainChildIndex);\n                    this._totalSize += this._mainGridMinSize - child.height;\n                    child._sizePercentInGroup = this._mainGridMinSize / this._totalSize;\n                }\n            }\n            for (i = 0; i < cnt; i++) {\n                child = this._parent.getChildAt(i);\n                if (child.group != this)\n                    continue;\n                if (i == this._mainChildIndex)\n                    continue;\n                if (this._totalSize > 0)\n                    child._sizePercentInGroup = (this._layout == 1 ? child.width : child.height) / this._totalSize;\n                else\n                    child._sizePercentInGroup = 0;\n            }\n        }\n        var remainSize = 0;\n        var remainPercent = 1;\n        var priorHandled = false;\n        if (this._layout == 1) {\n            remainSize = this.width - (this._numChildren - 1) * this._columnGap;\n            if (this._mainChildIndex != -1 && remainSize >= this._totalSize) {\n                child = this._parent.getChildAt(this._mainChildIndex);\n                child.setSize(remainSize - (this._totalSize - this._mainGridMinSize), child._rawHeight + dh, true);\n                remainSize -= child.width;\n                remainPercent -= child._sizePercentInGroup;\n                priorHandled = true;\n            }\n            var curX = this.x;\n            for (i = 0; i < cnt; i++) {\n                child = this._parent.getChildAt(i);\n                if (child.group != this)\n                    continue;\n                if (this._excludeInvisibles && !child.internalVisible3) {\n                    child.setSize(child._rawWidth, child._rawHeight + dh, true);\n                    continue;\n                }\n                if (!priorHandled || i != this._mainChildIndex) {\n                    child.setSize(Math.round(child._sizePercentInGroup / remainPercent * remainSize), child._rawHeight + dh, true);\n                    remainPercent -= child._sizePercentInGroup;\n                    remainSize -= child.width;\n                }\n                child.xMin = curX;\n                if (child.width != 0)\n                    curX += child.width + this._columnGap;\n            }\n        }\n        else {\n            remainSize = this.height - (this._numChildren - 1) * this._lineGap;\n            if (this._mainChildIndex != -1 && remainSize >= this._totalSize) {\n                child = this._parent.getChildAt(this._mainChildIndex);\n                child.setSize(child._rawWidth + dw, remainSize - (this._totalSize - this._mainGridMinSize), true);\n                remainSize -= child.height;\n                remainPercent -= child._sizePercentInGroup;\n                priorHandled = true;\n            }\n            var curY = this.y;\n            for (i = 0; i < cnt; i++) {\n                child = this._parent.getChildAt(i);\n                if (child.group != this)\n                    continue;\n                if (this._excludeInvisibles && !child.internalVisible3) {\n                    child.setSize(child._rawWidth + dw, child._rawHeight, true);\n                    continue;\n                }\n                if (!priorHandled || i != this._mainChildIndex) {\n                    child.setSize(child._rawWidth + dw, Math.round(child._sizePercentInGroup / remainPercent * remainSize), true);\n                    remainPercent -= child._sizePercentInGroup;\n                    remainSize -= child.height;\n                }\n                child.yMin = curY;\n                if (child.height != 0)\n                    curY += child.height + this._lineGap;\n            }\n        }\n        this._updating &= 1;\n    }\n    handleAlphaChanged() {\n        if (this._underConstruct)\n            return;\n        var cnt = this._parent.numChildren;\n        for (var i = 0; i < cnt; i++) {\n            var child = this._parent.getChildAt(i);\n            if (child.group == this)\n                child.alpha = this.alpha;\n        }\n    }\n    handleVisibleChanged() {\n        if (!this._parent)\n            var cnt = this._parent.numChildren;\n        for (var i = 0; i < cnt; i++) {\n            var child = this._parent.getChildAt(i);\n            if (child.group == this)\n                child.handleVisibleChanged();\n        }\n    }\n    setup_beforeAdd(buffer, beginPos) {\n        super.setup_beforeAdd(buffer, beginPos);\n        buffer.seek(beginPos, 5);\n        this._layout = buffer.readByte();\n        this._lineGap = buffer.readInt();\n        this._columnGap = buffer.readInt();\n        if (buffer.version >= 2) {\n            this._excludeInvisibles = buffer.readBool();\n            this._autoSizeDisabled = buffer.readBool();\n            this._mainGridIndex = buffer.readShort();\n        }\n    }\n    setup_afterAdd(buffer, beginPos) {\n        super.setup_afterAdd(buffer, beginPos);\n        if (!this.visible)\n            this.handleVisibleChanged();\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/GGroup.ts?");

/***/ }),

/***/ "./src/GImage.ts":
/*!***********************!*\
  !*** ./src/GImage.ts ***!
  \***********************/
/*! exports provided: GImage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GImage\", function() { return GImage; });\n/* harmony import */ var _FieldTypes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FieldTypes */ \"./src/FieldTypes.ts\");\n/* harmony import */ var _display_Image__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./display/Image */ \"./src/display/Image.ts\");\n/* harmony import */ var _GObject__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GObject */ \"./src/GObject.ts\");\n\n\n\nclass GImage extends _GObject__WEBPACK_IMPORTED_MODULE_2__[\"GObject\"] {\n    constructor() {\n        super();\n        this._flip = 0;\n    }\n    get image() {\n        return this._image;\n    }\n    get color() {\n        return this.image.color;\n    }\n    set color(value) {\n        if (this.image.color != value) {\n            this.image.color = value;\n            this.updateGear(4);\n        }\n    }\n    get flip() {\n        return this._flip;\n    }\n    set flip(value) {\n        if (this._flip != value) {\n            this._flip = value;\n            var sx = 1, sy = 1;\n            if (this._flip == _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FlipType\"].Horizontal || this._flip == _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FlipType\"].Both)\n                sx = -1;\n            if (this._flip == _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FlipType\"].Vertical || this._flip == _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FlipType\"].Both)\n                sy = -1;\n            this.setScale(sx, sy);\n            this.handleXYChanged();\n        }\n    }\n    get fillMethod() {\n        return this.image.fillMethod;\n    }\n    set fillMethod(value) {\n        this.image.fillMethod = value;\n    }\n    get fillOrigin() {\n        return this.image.fillOrigin;\n    }\n    set fillOrigin(value) {\n        this.image.fillOrigin = value;\n    }\n    get fillClockwise() {\n        return this.image.fillClockwise;\n    }\n    set fillClockwise(value) {\n        this.image.fillClockwise = value;\n    }\n    get fillAmount() {\n        return this.image.fillAmount;\n    }\n    set fillAmount(value) {\n        this.image.fillAmount = value;\n    }\n    createDisplayObject() {\n        this._displayObject = this._image = new _display_Image__WEBPACK_IMPORTED_MODULE_1__[\"Image\"](this.scene);\n        // this.image.mouseEnabled = false;\n        this._displayObject[\"$owner\"] = this;\n    }\n    constructFromResource() {\n        this._contentItem = this.packageItem.getBranch();\n        this.sourceWidth = this._contentItem.width;\n        this.sourceHeight = this._contentItem.height;\n        this.initWidth = this.sourceWidth;\n        this.initHeight = this.sourceHeight;\n        this._contentItem = this._contentItem.getHighResolution();\n        this._contentItem.load();\n        this.image.scale9Grid = this._contentItem.scale9Grid;\n        this.image.scaleByTile = this._contentItem.scaleByTile;\n        this.image.tileGridIndice = this._contentItem.tileGridIndice;\n        this.image.texture = this._contentItem.texture;\n        this.setSize(this.sourceWidth, this.sourceHeight);\n    }\n    handleXYChanged() {\n        super.handleXYChanged();\n        if (this._flip != _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FlipType\"].None) {\n            if (this.scaleX == -1)\n                this.image.x += this.width;\n            if (this.scaleY == -1)\n                this.image.y += this.height;\n        }\n    }\n    getProp(index) {\n        if (index == _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].Color)\n            return this.color;\n        else\n            return super.getProp(index);\n    }\n    setProp(index, value) {\n        if (index == _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].Color)\n            this.color = value;\n        else\n            super.setProp(index, value);\n    }\n    setup_beforeAdd(buffer, beginPos) {\n        super.setup_beforeAdd(buffer, beginPos);\n        buffer.seek(beginPos, 5);\n        if (buffer.readBool())\n            this.color = buffer.readColorS();\n        this.flip = buffer.readByte();\n        this.image.fillMethod = buffer.readByte();\n        if (this.image.fillMethod != 0) {\n            this.image.fillOrigin = buffer.readByte();\n            this.image.fillClockwise = buffer.readBool();\n            this.image.fillAmount = buffer.readFloat();\n        }\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/GImage.ts?");

/***/ }),

/***/ "./src/GLabel.ts":
/*!***********************!*\
  !*** ./src/GLabel.ts ***!
  \***********************/
/*! exports provided: GLabel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GLabel\", function() { return GLabel; });\n/* harmony import */ var _GTextInput__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GTextInput */ \"./src/GTextInput.ts\");\n/* harmony import */ var _FieldTypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FieldTypes */ \"./src/FieldTypes.ts\");\n/* harmony import */ var _GButton__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GButton */ \"./src/GButton.ts\");\n/* harmony import */ var _GTextField__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./GTextField */ \"./src/GTextField.ts\");\n/* harmony import */ var _GComponent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./GComponent */ \"./src/GComponent.ts\");\n\n\n\n\n\nclass GLabel extends _GComponent__WEBPACK_IMPORTED_MODULE_4__[\"GComponent\"] {\n    constructor() {\n        super();\n    }\n    get icon() {\n        if (this._iconObject)\n            return this._iconObject.icon;\n        else\n            return null;\n    }\n    set icon(value) {\n        if (this._iconObject)\n            this._iconObject.icon = value;\n        this.updateGear(7);\n    }\n    get title() {\n        if (this._titleObject)\n            return this._titleObject.text;\n        else\n            return null;\n    }\n    set title(value) {\n        if (this._titleObject)\n            this._titleObject.text = value;\n        this.updateGear(6);\n    }\n    get text() {\n        return this.title;\n    }\n    set text(value) {\n        this.title = value;\n    }\n    get titleColor() {\n        var tf = this.getTextField();\n        if (tf)\n            return tf.color;\n        else\n            return \"#000000\";\n    }\n    set titleColor(value) {\n        var tf = this.getTextField();\n        if (tf)\n            tf.color = value;\n        this.updateGear(4);\n    }\n    get titleFontSize() {\n        var tf = this.getTextField();\n        if (tf)\n            return tf.fontSize;\n        else\n            return 0;\n    }\n    set titleFontSize(value) {\n        var tf = this.getTextField();\n        if (tf)\n            tf.fontSize = value;\n    }\n    get color() {\n        return this.titleColor;\n    }\n    set color(value) {\n        this.titleColor = value;\n    }\n    set editable(val) {\n        if (this._titleObject instanceof _GTextInput__WEBPACK_IMPORTED_MODULE_0__[\"GTextInput\"])\n            this._titleObject.editable = val;\n    }\n    get editable() {\n        if (this._titleObject instanceof _GTextInput__WEBPACK_IMPORTED_MODULE_0__[\"GTextInput\"])\n            return this._titleObject.editable;\n        else\n            return false;\n    }\n    getTextField() {\n        if (this._titleObject instanceof _GTextField__WEBPACK_IMPORTED_MODULE_3__[\"GTextField\"])\n            return this._titleObject;\n        else if ((this._titleObject instanceof GLabel) || (this._titleObject instanceof _GButton__WEBPACK_IMPORTED_MODULE_2__[\"GButton\"]))\n            return this._titleObject.getTextField();\n        else\n            return null;\n    }\n    getProp(index) {\n        switch (index) {\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_1__[\"ObjectPropID\"].Color:\n                return this.titleColor;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_1__[\"ObjectPropID\"].OutlineColor:\n                {\n                    var tf = this.getTextField();\n                    if (tf)\n                        return tf.strokeColor;\n                    else\n                        return 0;\n                }\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_1__[\"ObjectPropID\"].FontSize:\n                return this.titleFontSize;\n            default:\n                return super.getProp(index);\n        }\n    }\n    setProp(index, value) {\n        switch (index) {\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_1__[\"ObjectPropID\"].Color:\n                this.titleColor = value;\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_1__[\"ObjectPropID\"].OutlineColor:\n                {\n                    var tf = this.getTextField();\n                    if (tf)\n                        tf.strokeColor = value;\n                }\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_1__[\"ObjectPropID\"].FontSize:\n                this.titleFontSize = value;\n                break;\n            default:\n                super.setProp(index, value);\n                break;\n        }\n    }\n    constructExtension(buffer) {\n        this._titleObject = this.getChild(\"title\");\n        this._iconObject = this.getChild(\"icon\");\n    }\n    setup_afterAdd(buffer, beginPos) {\n        super.setup_afterAdd(buffer, beginPos);\n        if (!buffer.seek(beginPos, 6))\n            return;\n        if (buffer.readByte() != this.packageItem.objectType)\n            return;\n        var str;\n        str = buffer.readS();\n        if (str != null)\n            this.title = str;\n        str = buffer.readS();\n        if (str != null)\n            this.icon = str;\n        if (buffer.readBool())\n            this.titleColor = buffer.readColorS();\n        var iv = buffer.readInt();\n        if (iv != 0)\n            this.titleFontSize = iv;\n        if (buffer.readBool()) {\n            var input = this.getTextField();\n            if (input instanceof _GTextInput__WEBPACK_IMPORTED_MODULE_0__[\"GTextInput\"]) {\n                str = buffer.readS();\n                if (str != null)\n                    input.promptText = str;\n                str = buffer.readS();\n                if (str != null)\n                    input.restrict = str;\n                iv = buffer.readInt();\n                if (iv != 0)\n                    input.maxLength = iv;\n                iv = buffer.readInt();\n                if (iv != 0) {\n                    // TODO\n                    // if (iv == 4)\n                    // input.keyboardType = Laya.Input.TYPE_NUMBER;\n                    // else if (iv == 3)\n                    // input.keyboardType = Laya.Input.TYPE_URL;\n                }\n                if (buffer.readBool())\n                    input.password = true;\n            }\n            else\n                buffer.skip(13);\n        }\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/GLabel.ts?");

/***/ }),

/***/ "./src/GList.ts":
/*!**********************!*\
  !*** ./src/GList.ts ***!
  \**********************/
/*! exports provided: GList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GList\", function() { return GList; });\n/* harmony import */ var _UIConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UIConfig */ \"./src/UIConfig.ts\");\n/* harmony import */ var _GButton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GButton */ \"./src/GButton.ts\");\n/* harmony import */ var _UIPackage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./UIPackage */ \"./src/UIPackage.ts\");\n/* harmony import */ var _FieldTypes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FieldTypes */ \"./src/FieldTypes.ts\");\n/* harmony import */ var _GComponent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./GComponent */ \"./src/GComponent.ts\");\n\n\n\n\n\nclass GList extends _GComponent__WEBPACK_IMPORTED_MODULE_4__[\"GComponent\"] {\n    constructor() {\n        super();\n        this._lineCount = 0;\n        this._columnCount = 0;\n        this._lineGap = 0;\n        this._columnGap = 0;\n        this._lastSelectedIndex = 0;\n        this._numItems = 0;\n        this._firstIndex = 0; //the top left index\n        this._curLineItemCount = 0; //item count in one line\n        this._virtualListChanged = 0; //1-content changed, 2-size changed\n        this.itemInfoVer = 0; //用来标志item是否在本次处理中已经被重用了\n        throw new Error(\"TODO\");\n        // this._trackBounds = true;\n        // this._pool = new GObjectPool();\n        // this._layout = ListLayoutType.SingleColumn;\n        // this._autoResizeItem = true;\n        // this._lastSelectedIndex = -1;\n        // this._selectionMode = ListSelectionMode.Single;\n        // this.opaque = true;\n        // this.scrollItemToViewOnClick = true;\n        // this._align = \"left\";\n        // this._verticalAlign = \"top\";\n        // this._container = new Laya.Sprite();\n        // this._displayObject.addChild(this._container);\n    }\n    dispose() {\n        this._pool.clear();\n        super.dispose();\n    }\n    get layout() {\n        return this._layout;\n    }\n    set layout(value) {\n        if (this._layout != value) {\n            this._layout = value;\n            this.setBoundsChangedFlag();\n            if (this._virtual)\n                this.setVirtualListChangedFlag(true);\n        }\n    }\n    get lineCount() {\n        return this._lineCount;\n    }\n    set lineCount(value) {\n        if (this._lineCount != value) {\n            this._lineCount = value;\n            if (this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].FlowVertical || this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].Pagination) {\n                this.setBoundsChangedFlag();\n                if (this._virtual)\n                    this.setVirtualListChangedFlag(true);\n            }\n        }\n    }\n    get columnCount() {\n        return this._columnCount;\n    }\n    set columnCount(value) {\n        if (this._columnCount != value) {\n            this._columnCount = value;\n            if (this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].FlowHorizontal || this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].Pagination) {\n                this.setBoundsChangedFlag();\n                if (this._virtual)\n                    this.setVirtualListChangedFlag(true);\n            }\n        }\n    }\n    get lineGap() {\n        return this._lineGap;\n    }\n    set lineGap(value) {\n        if (this._lineGap != value) {\n            this._lineGap = value;\n            this.setBoundsChangedFlag();\n            if (this._virtual)\n                this.setVirtualListChangedFlag(true);\n        }\n    }\n    get columnGap() {\n        return this._columnGap;\n    }\n    set columnGap(value) {\n        if (this._columnGap != value) {\n            this._columnGap = value;\n            this.setBoundsChangedFlag();\n            if (this._virtual)\n                this.setVirtualListChangedFlag(true);\n        }\n    }\n    get align() {\n        return this._align;\n    }\n    set align(value) {\n        if (this._align != value) {\n            this._align = value;\n            this.setBoundsChangedFlag();\n            if (this._virtual)\n                this.setVirtualListChangedFlag(true);\n        }\n    }\n    get verticalAlign() {\n        return this._verticalAlign;\n    }\n    set verticalAlign(value) {\n        if (this._verticalAlign != value) {\n            this._verticalAlign = value;\n            this.setBoundsChangedFlag();\n            if (this._virtual)\n                this.setVirtualListChangedFlag(true);\n        }\n    }\n    get virtualItemSize() {\n        return this._itemSize;\n    }\n    set virtualItemSize(value) {\n        if (this._virtual) {\n            if (this._itemSize == null)\n                this._itemSize = new Phaser.Geom.Point();\n            this._itemSize.setTo(value.x, value.y);\n            this.setVirtualListChangedFlag(true);\n        }\n    }\n    get defaultItem() {\n        return this._defaultItem;\n    }\n    set defaultItem(val) {\n        this._defaultItem = _UIPackage__WEBPACK_IMPORTED_MODULE_2__[\"UIPackage\"].normalizeURL(val);\n    }\n    get autoResizeItem() {\n        return this._autoResizeItem;\n    }\n    set autoResizeItem(value) {\n        if (this._autoResizeItem != value) {\n            this._autoResizeItem = value;\n            this.setBoundsChangedFlag();\n            if (this._virtual)\n                this.setVirtualListChangedFlag(true);\n        }\n    }\n    get selectionMode() {\n        return this._selectionMode;\n    }\n    set selectionMode(value) {\n        this._selectionMode = value;\n    }\n    get selectionController() {\n        return this._selectionController;\n    }\n    set selectionController(value) {\n        this._selectionController = value;\n    }\n    get itemPool() {\n        return this._pool;\n    }\n    getFromPool(url) {\n        if (!url)\n            url = this._defaultItem;\n        var obj = this._pool.getObject(url);\n        if (obj)\n            obj.visible = true;\n        return obj;\n    }\n    returnToPool(obj) {\n        throw new Error(\"TODO\");\n        // obj.displayObject.cacheAs = \"none\";\n        // this._pool.returnObject(obj);\n    }\n    addChildAt(child, index) {\n        super.addChildAt(child, index);\n        throw new Error(\"TODO\");\n        // if (child instanceof GButton) {\n        //     child.selected = false;\n        //     child.changeStateOnClick = false;\n        // }\n        // child.on(Laya.Event.CLICK, this, this.__clickItem);\n        // return child;\n    }\n    addItem(url) {\n        // if (!url)\n        //     url = this._defaultItem;\n        // return this.addChild(UIPackage.createObjectFromURL(url));\n        throw new Error(\"TODO\");\n    }\n    addItemFromPool(url) {\n        throw new Error(\"TODO\");\n        // return this.addChild(this.getFromPool(url));\n    }\n    removeChildAt(index, dispose) {\n        throw new Error(\"TODO\");\n        // var child: GObject = super.removeChildAt(index);\n        // if (dispose)\n        //     child.dispose();\n        // else\n        //     child.off(Laya.Event.CLICK, this, this.__clickItem);\n        // return child;\n    }\n    removeChildToPoolAt(index) {\n        var child = super.removeChildAt(index);\n        this.returnToPool(child);\n    }\n    removeChildToPool(child) {\n        super.removeChild(child);\n        this.returnToPool(child);\n    }\n    removeChildrenToPool(beginIndex, endIndex) {\n        if (beginIndex == undefined)\n            beginIndex = 0;\n        if (endIndex == undefined)\n            endIndex = -1;\n        if (endIndex < 0 || endIndex >= this._children.length)\n            endIndex = this._children.length - 1;\n        for (var i = beginIndex; i <= endIndex; ++i)\n            this.removeChildToPoolAt(beginIndex);\n    }\n    get selectedIndex() {\n        var i;\n        if (this._virtual) {\n            for (i = 0; i < this._realNumItems; i++) {\n                var ii = this._virtualItems[i];\n                if ((ii.obj instanceof _GButton__WEBPACK_IMPORTED_MODULE_1__[\"GButton\"]) && ii.obj.selected\n                    || ii.obj == null && ii.selected) {\n                    if (this._loop)\n                        return i % this._numItems;\n                    else\n                        return i;\n                }\n            }\n        }\n        else {\n            var cnt = this._children.length;\n            for (i = 0; i < cnt; i++) {\n                var obj = this._children[i];\n                if ((obj instanceof _GButton__WEBPACK_IMPORTED_MODULE_1__[\"GButton\"]) && obj.selected)\n                    return i;\n            }\n        }\n        return -1;\n    }\n    set selectedIndex(value) {\n        if (value >= 0 && value < this.numItems) {\n            if (this._selectionMode != _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListSelectionMode\"].Single)\n                this.clearSelection();\n            this.addSelection(value);\n        }\n        else\n            this.clearSelection();\n    }\n    getSelection(result) {\n        if (!result)\n            result = new Array();\n        var i;\n        if (this._virtual) {\n            for (i = 0; i < this._realNumItems; i++) {\n                var ii = this._virtualItems[i];\n                if ((ii.obj instanceof _GButton__WEBPACK_IMPORTED_MODULE_1__[\"GButton\"]) && ii.obj.selected\n                    || ii.obj == null && ii.selected) {\n                    var j = i;\n                    if (this._loop) {\n                        j = i % this._numItems;\n                        if (result.indexOf(j) != -1)\n                            continue;\n                    }\n                    result.push(j);\n                }\n            }\n        }\n        else {\n            var cnt = this._children.length;\n            for (i = 0; i < cnt; i++) {\n                var obj = this._children[i];\n                if ((obj instanceof _GButton__WEBPACK_IMPORTED_MODULE_1__[\"GButton\"]) && obj.selected)\n                    result.push(i);\n            }\n        }\n        return result;\n    }\n    addSelection(index, scrollItToView) {\n        if (this._selectionMode == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListSelectionMode\"].None)\n            return;\n        this.checkVirtualList();\n        if (this._selectionMode == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListSelectionMode\"].Single)\n            this.clearSelection();\n        if (scrollItToView)\n            this.scrollToView(index);\n        this._lastSelectedIndex = index;\n        var obj;\n        if (this._virtual) {\n            var ii = this._virtualItems[index];\n            if (ii.obj)\n                obj = ii.obj;\n            ii.selected = true;\n        }\n        else\n            obj = this.getChildAt(index);\n        if ((obj instanceof _GButton__WEBPACK_IMPORTED_MODULE_1__[\"GButton\"]) && !obj.selected) {\n            obj.selected = true;\n            this.updateSelectionController(index);\n        }\n    }\n    removeSelection(index) {\n        if (this._selectionMode == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListSelectionMode\"].None)\n            return;\n        var obj;\n        if (this._virtual) {\n            var ii = this._virtualItems[index];\n            if (ii.obj)\n                obj = ii.obj;\n            ii.selected = false;\n        }\n        else\n            obj = this.getChildAt(index);\n        if (obj instanceof _GButton__WEBPACK_IMPORTED_MODULE_1__[\"GButton\"])\n            obj.selected = false;\n    }\n    clearSelection() {\n        var i;\n        if (this._virtual) {\n            for (i = 0; i < this._realNumItems; i++) {\n                var ii = this._virtualItems[i];\n                if (ii.obj instanceof _GButton__WEBPACK_IMPORTED_MODULE_1__[\"GButton\"])\n                    ii.obj.selected = false;\n                ii.selected = false;\n            }\n        }\n        else {\n            var cnt = this._children.length;\n            for (i = 0; i < cnt; i++) {\n                var obj = this._children[i];\n                if (obj instanceof _GButton__WEBPACK_IMPORTED_MODULE_1__[\"GButton\"])\n                    obj.selected = false;\n            }\n        }\n    }\n    clearSelectionExcept(g) {\n        var i;\n        if (this._virtual) {\n            for (i = 0; i < this._realNumItems; i++) {\n                var ii = this._virtualItems[i];\n                if (ii.obj != g) {\n                    if (ii.obj instanceof _GButton__WEBPACK_IMPORTED_MODULE_1__[\"GButton\"])\n                        ii.obj.selected = false;\n                    ii.selected = false;\n                }\n            }\n        }\n        else {\n            var cnt = this._children.length;\n            for (i = 0; i < cnt; i++) {\n                var obj = this._children[i];\n                if ((obj instanceof _GButton__WEBPACK_IMPORTED_MODULE_1__[\"GButton\"]) && obj != g)\n                    obj.selected = false;\n            }\n        }\n    }\n    selectAll() {\n        this.checkVirtualList();\n        var last = -1;\n        var i;\n        if (this._virtual) {\n            for (i = 0; i < this._realNumItems; i++) {\n                var ii = this._virtualItems[i];\n                if ((ii.obj instanceof _GButton__WEBPACK_IMPORTED_MODULE_1__[\"GButton\"]) && !ii.obj.selected) {\n                    ii.obj.selected = true;\n                    last = i;\n                }\n                ii.selected = true;\n            }\n        }\n        else {\n            var cnt = this._children.length;\n            for (i = 0; i < cnt; i++) {\n                var obj = this._children[i];\n                if ((obj instanceof _GButton__WEBPACK_IMPORTED_MODULE_1__[\"GButton\"]) && !obj.selected) {\n                    obj.selected = true;\n                    last = i;\n                }\n            }\n        }\n        if (last != -1)\n            this.updateSelectionController(last);\n    }\n    selectNone() {\n        this.clearSelection();\n    }\n    selectReverse() {\n        this.checkVirtualList();\n        var last = -1;\n        var i;\n        if (this._virtual) {\n            for (i = 0; i < this._realNumItems; i++) {\n                var ii = this._virtualItems[i];\n                if (ii.obj instanceof _GButton__WEBPACK_IMPORTED_MODULE_1__[\"GButton\"]) {\n                    ii.obj.selected = !ii.obj.selected;\n                    if (ii.obj.selected)\n                        last = i;\n                }\n                ii.selected = !ii.selected;\n            }\n        }\n        else {\n            var cnt = this._children.length;\n            for (i = 0; i < cnt; i++) {\n                var obj = this._children[i];\n                if (obj instanceof _GButton__WEBPACK_IMPORTED_MODULE_1__[\"GButton\"]) {\n                    obj.selected = !obj.selected;\n                    if (obj.selected)\n                        last = i;\n                }\n            }\n        }\n        if (last != -1)\n            this.updateSelectionController(last);\n    }\n    handleArrowKey(dir) {\n        var index = this.selectedIndex;\n        if (index == -1)\n            return;\n        switch (dir) {\n            case 1: //up\n                if (this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].SingleColumn || this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].FlowVertical) {\n                    index--;\n                    if (index >= 0) {\n                        this.clearSelection();\n                        this.addSelection(index, true);\n                    }\n                }\n                else if (this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].FlowHorizontal || this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].Pagination) {\n                    var current = this._children[index];\n                    var k = 0;\n                    for (var i = index - 1; i >= 0; i--) {\n                        var obj = this._children[i];\n                        if (obj.y != current.y) {\n                            current = obj;\n                            break;\n                        }\n                        k++;\n                    }\n                    for (; i >= 0; i--) {\n                        obj = this._children[i];\n                        if (obj.y != current.y) {\n                            this.clearSelection();\n                            this.addSelection(i + k + 1, true);\n                            break;\n                        }\n                    }\n                }\n                break;\n            case 3: //right\n                if (this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].SingleRow || this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].FlowHorizontal || this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].Pagination) {\n                    index++;\n                    if (index < this.numItems) {\n                        this.clearSelection();\n                        this.addSelection(index, true);\n                    }\n                }\n                else if (this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].FlowVertical) {\n                    current = this._children[index];\n                    k = 0;\n                    var cnt = this._children.length;\n                    for (i = index + 1; i < cnt; i++) {\n                        obj = this._children[i];\n                        if (obj.x != current.x) {\n                            current = obj;\n                            break;\n                        }\n                        k++;\n                    }\n                    for (; i < cnt; i++) {\n                        obj = this._children[i];\n                        if (obj.x != current.x) {\n                            this.clearSelection();\n                            this.addSelection(i - k - 1, true);\n                            break;\n                        }\n                    }\n                }\n                break;\n            case 5: //down\n                if (this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].SingleColumn || this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].FlowVertical) {\n                    index++;\n                    if (index < this.numItems) {\n                        this.clearSelection();\n                        this.addSelection(index, true);\n                    }\n                }\n                else if (this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].FlowHorizontal || this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].Pagination) {\n                    current = this._children[index];\n                    k = 0;\n                    cnt = this._children.length;\n                    for (i = index + 1; i < cnt; i++) {\n                        obj = this._children[i];\n                        if (obj.y != current.y) {\n                            current = obj;\n                            break;\n                        }\n                        k++;\n                    }\n                    for (; i < cnt; i++) {\n                        obj = this._children[i];\n                        if (obj.y != current.y) {\n                            this.clearSelection();\n                            this.addSelection(i - k - 1, true);\n                            break;\n                        }\n                    }\n                }\n                break;\n            case 7: //left\n                if (this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].SingleRow || this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].FlowHorizontal || this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].Pagination) {\n                    index--;\n                    if (index >= 0) {\n                        this.clearSelection();\n                        this.addSelection(index, true);\n                    }\n                }\n                else if (this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].FlowVertical) {\n                    current = this._children[index];\n                    k = 0;\n                    for (i = index - 1; i >= 0; i--) {\n                        obj = this._children[i];\n                        if (obj.x != current.x) {\n                            current = obj;\n                            break;\n                        }\n                        k++;\n                    }\n                    for (; i >= 0; i--) {\n                        obj = this._children[i];\n                        if (obj.x != current.x) {\n                            this.clearSelection();\n                            this.addSelection(i + k + 1, true);\n                            break;\n                        }\n                    }\n                }\n                break;\n        }\n    }\n    __clickItem(evt) {\n        throw new Error(\"TODO\");\n        // if (this._scrollPane && this._scrollPane.isDragged)\n        //     return;\n        // var item: GObject = GObject.cast(evt.currentTarget);\n        // this.setSelectionOnEvent(item, evt);\n        // if (this._scrollPane && this.scrollItemToViewOnClick)\n        //     this._scrollPane.scrollToView(item, true);\n        // this.dispatchItemEvent(item, Events.createEvent(Events.CLICK_ITEM, this.displayObject, evt));\n    }\n    dispatchItemEvent(item, evt) {\n        throw new Error(\"TODO\");\n        // this.displayObject.event(Events.CLICK_ITEM, [item, evt]);\n    }\n    setSelectionOnEvent(item, evt) {\n        throw new Error(\"TODO\");\n        // if (!(item instanceof GButton) || this._selectionMode == ListSelectionMode.None)\n        //     return;\n        // var dontChangeLastIndex: boolean = false;\n        // var index: number = this.childIndexToItemIndex(this.getChildIndex(item));\n        // if (this._selectionMode == ListSelectionMode.Single) {\n        //     if (!item.selected) {\n        //         this.clearSelectionExcept(item);\n        //         item.selected = true;\n        //     }\n        // }\n        // else {\n        //     if (evt.shiftKey) {\n        //         if (!item.selected) {\n        //             if (this._lastSelectedIndex != -1) {\n        //                 var min: number = Math.min(this._lastSelectedIndex, index);\n        //                 var max: number = Math.max(this._lastSelectedIndex, index);\n        //                 max = Math.min(max, this.numItems - 1);\n        //                 var i: number;\n        //                 if (this._virtual) {\n        //                     for (i = min; i <= max; i++) {\n        //                         var ii: ItemInfo = this._virtualItems[i];\n        //                         if (ii.obj instanceof GButton)\n        //                             ii.obj.selected = true;\n        //                         ii.selected = true;\n        //                     }\n        //                 }\n        //                 else {\n        //                     for (i = min; i <= max; i++) {\n        //                         var obj: GObject = this.getChildAt(i);\n        //                         if (obj instanceof GButton)\n        //                             obj.selected = true;\n        //                     }\n        //                 }\n        //                 dontChangeLastIndex = true;\n        //             }\n        //             else {\n        //                 item.selected = true;\n        //             }\n        //         }\n        //     }\n        //     else if (evt.ctrlKey || this._selectionMode == ListSelectionMode.Multiple_SingleClick) {\n        //         item.selected = !item.selected;\n        //     }\n        //     else {\n        //         if (!item.selected) {\n        //             this.clearSelectionExcept(item);\n        //             item.selected = true;\n        //         }\n        //         else\n        //             this.clearSelectionExcept(item);\n        //     }\n        // }\n        // if (!dontChangeLastIndex)\n        //     this._lastSelectedIndex = index;\n        // if (item.selected)\n        //     this.updateSelectionController(index);\n    }\n    resizeToFit(itemCount, minSize) {\n        if (itemCount == null)\n            itemCount = 100000;\n        minSize = minSize || 0;\n        this.ensureBoundsCorrect();\n        var curCount = this.numItems;\n        if (itemCount > curCount)\n            itemCount = curCount;\n        if (this._virtual) {\n            var lineCount = Math.ceil(itemCount / this._curLineItemCount);\n            if (this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].SingleColumn || this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].FlowHorizontal)\n                this.viewHeight = lineCount * this._itemSize.y + Math.max(0, lineCount - 1) * this._lineGap;\n            else\n                this.viewWidth = lineCount * this._itemSize.x + Math.max(0, lineCount - 1) * this._columnGap;\n        }\n        else if (itemCount == 0) {\n            if (this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].SingleColumn || this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].FlowHorizontal)\n                this.viewHeight = minSize;\n            else\n                this.viewWidth = minSize;\n        }\n        else {\n            var i = itemCount - 1;\n            var obj = null;\n            while (i >= 0) {\n                obj = this.getChildAt(i);\n                if (!this.foldInvisibleItems || obj.visible)\n                    break;\n                i--;\n            }\n            if (i < 0) {\n                if (this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].SingleColumn || this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].FlowHorizontal)\n                    this.viewHeight = minSize;\n                else\n                    this.viewWidth = minSize;\n            }\n            else {\n                var size = 0;\n                if (this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].SingleColumn || this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].FlowHorizontal) {\n                    size = obj.y + obj.height;\n                    if (size < minSize)\n                        size = minSize;\n                    this.viewHeight = size;\n                }\n                else {\n                    size = obj.x + obj.width;\n                    if (size < minSize)\n                        size = minSize;\n                    this.viewWidth = size;\n                }\n            }\n        }\n    }\n    getMaxItemWidth() {\n        var cnt = this._children.length;\n        var max = 0;\n        for (var i = 0; i < cnt; i++) {\n            var child = this.getChildAt(i);\n            if (child.width > max)\n                max = child.width;\n        }\n        return max;\n    }\n    handleSizeChanged() {\n        super.handleSizeChanged();\n        this.setBoundsChangedFlag();\n        if (this._virtual)\n            this.setVirtualListChangedFlag(true);\n    }\n    handleControllerChanged(c) {\n        super.handleControllerChanged(c);\n        if (this._selectionController == c)\n            this.selectedIndex = c.selectedIndex;\n    }\n    updateSelectionController(index) {\n        if (this._selectionController && !this._selectionController.changing\n            && index < this._selectionController.pageCount) {\n            var c = this._selectionController;\n            this._selectionController = null;\n            c.selectedIndex = index;\n            this._selectionController = c;\n        }\n    }\n    shouldSnapToNext(dir, delta, size) {\n        return dir < 0 && delta > _UIConfig__WEBPACK_IMPORTED_MODULE_0__[\"UIConfig\"].defaultScrollSnappingThreshold * size\n            || dir > 0 && delta > (1 - _UIConfig__WEBPACK_IMPORTED_MODULE_0__[\"UIConfig\"].defaultScrollSnappingThreshold) * size\n            || dir == 0 && delta > size / 2;\n    }\n    getSnappingPositionWithDir(xValue, yValue, xDir, yDir, result) {\n        if (this._virtual) {\n            if (!result)\n                result = new Phaser.Geom.Point();\n            var saved;\n            var index;\n            var size;\n            if (this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].SingleColumn || this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].FlowHorizontal) {\n                saved = yValue;\n                s_n = yValue;\n                index = this.getIndexOnPos1(false);\n                yValue = s_n;\n                if (index < this._virtualItems.length && index < this._realNumItems) {\n                    size = this._virtualItems[index].height;\n                    if (this.shouldSnapToNext(yDir, saved - yValue, size))\n                        yValue += size + this._lineGap;\n                }\n            }\n            else if (this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].SingleRow || this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].FlowVertical) {\n                saved = xValue;\n                s_n = xValue;\n                index = this.getIndexOnPos2(false);\n                xValue = s_n;\n                if (index < this._virtualItems.length && index < this._realNumItems) {\n                    size = this._virtualItems[index].width;\n                    if (this.shouldSnapToNext(xDir, saved - xValue, size))\n                        xValue += size + this._columnGap;\n                }\n            }\n            else {\n                saved = xValue;\n                s_n = xValue;\n                index = this.getIndexOnPos3(false);\n                xValue = s_n;\n                if (index < this._virtualItems.length && index < this._realNumItems) {\n                    size = this._virtualItems[index].width;\n                    if (this.shouldSnapToNext(xDir, saved - xValue, size))\n                        xValue += size + this._columnGap;\n                }\n            }\n            result.x = xValue;\n            result.y = yValue;\n            return result;\n        }\n        else\n            return super.getSnappingPositionWithDir(xValue, yValue, xDir, yDir, result);\n    }\n    scrollToView(index, ani, setFirst) {\n        throw new Error(\"TODO\");\n        // if (this._virtual) {\n        //     if (this._numItems == 0)\n        //         return;\n        //     this.checkVirtualList();\n        //     if (index >= this._virtualItems.length)\n        //         throw new Error(\"Invalid child index: \" + index + \">\" + this._virtualItems.length);\n        //     if (this._loop)\n        //         index = Math.floor(this._firstIndex / this._numItems) * this._numItems + index;\n        //     var rect: Laya.Rectangle;\n        //     var ii: ItemInfo = this._virtualItems[index];\n        //     var pos: number = 0;\n        //     var i: number;\n        //     if (this._layout == ListLayoutType.SingleColumn || this._layout == ListLayoutType.FlowHorizontal) {\n        //         for (i = this._curLineItemCount - 1; i < index; i += this._curLineItemCount)\n        //             pos += this._virtualItems[i].height + this._lineGap;\n        //         rect = new Laya.Rectangle(0, pos, this._itemSize.x, ii.height);\n        //     }\n        //     else if (this._layout == ListLayoutType.SingleRow || this._layout == ListLayoutType.FlowVertical) {\n        //         for (i = this._curLineItemCount - 1; i < index; i += this._curLineItemCount)\n        //             pos += this._virtualItems[i].width + this._columnGap;\n        //         rect = new Laya.Rectangle(pos, 0, ii.width, this._itemSize.y);\n        //     }\n        //     else {\n        //         var page: number = index / (this._curLineItemCount * this._curLineItemCount2);\n        //         rect = new Laya.Rectangle(page * this.viewWidth + (index % this._curLineItemCount) * (ii.width + this._columnGap),\n        //             (index / this._curLineItemCount) % this._curLineItemCount2 * (ii.height + this._lineGap),\n        //             ii.width, ii.height);\n        //     }\n        //     if (this._scrollPane)\n        //         this._scrollPane.scrollToView(rect, ani, setFirst);\n        // }\n        // else {\n        //     var obj: GObject = this.getChildAt(index);\n        //     if (this._scrollPane)\n        //         this._scrollPane.scrollToView(obj, ani, setFirst);\n        //     else if (this._parent && this._parent.scrollPane)\n        //         this._parent.scrollPane.scrollToView(obj, ani, setFirst);\n        // }\n    }\n    getFirstChildInView() {\n        return this.childIndexToItemIndex(super.getFirstChildInView());\n    }\n    childIndexToItemIndex(index) {\n        if (!this._virtual)\n            return index;\n        if (this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].Pagination) {\n            for (var i = this._firstIndex; i < this._realNumItems; i++) {\n                if (this._virtualItems[i].obj) {\n                    index--;\n                    if (index < 0)\n                        return i;\n                }\n            }\n            return index;\n        }\n        else {\n            index += this._firstIndex;\n            if (this._loop && this._numItems > 0)\n                index = index % this._numItems;\n            return index;\n        }\n    }\n    itemIndexToChildIndex(index) {\n        if (!this._virtual)\n            return index;\n        if (this._layout == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ListLayoutType\"].Pagination) {\n            return this.getChildIndex(this._virtualItems[index].obj);\n        }\n        else {\n            if (this._loop && this._numItems > 0) {\n                var j = this._firstIndex % this._numItems;\n                if (index >= j)\n                    index = index - j;\n                else\n                    index = this._numItems - j + index;\n            }\n            else\n                index -= this._firstIndex;\n            return index;\n        }\n    }\n    setVirtual() {\n        this._setVirtual(false);\n    }\n    /**\n     * Set the list to be virtual list, and has loop behavior.\n     */\n    setVirtualAndLoop() {\n        this._setVirtual(true);\n    }\n    _setVirtual(loop) {\n        throw new Error(\"TODO\");\n        // if (!this._virtual) {\n        //     if (this._scrollPane == null)\n        //         throw new Error(\"Virtual list must be scrollable!\");\n        //     if (loop) {\n        //         if (this._layout == ListLayoutType.FlowHorizontal || this._layout == ListLayoutType.FlowVertical)\n        //             throw new Error(\"Loop list instanceof not supported for FlowHorizontal or FlowVertical this.layout!\");\n        //         this._scrollPane.bouncebackEffect = false;\n        //     }\n        //     this._virtual = true;\n        //     this._loop = loop;\n        //     this._virtualItems = new Array<ItemInfo>();\n        //     this.removeChildrenToPool();\n        //     if (this._itemSize == null) {\n        //         this._itemSize = new Phaser.Geom.Point();\n        //         var obj: GObject = this.getFromPool(null);\n        //         if (obj == null) {\n        //             throw new Error(\"Virtual List must have a default list item resource.\");\n        //         }\n        //         else {\n        //             this._itemSize.x = obj.width;\n        //             this._itemSize.y = obj.height;\n        //         }\n        //         this.returnToPool(obj);\n        //     }\n        //     if (this._layout == ListLayoutType.SingleColumn || this._layout == ListLayoutType.FlowHorizontal) {\n        //         this._scrollPane.scrollStep = this._itemSize.y;\n        //         if (this._loop)\n        //             this._scrollPane._loop = 2;\n        //     }\n        //     else {\n        //         this._scrollPane.scrollStep = this._itemSize.x;\n        //         if (this._loop)\n        //             this._scrollPane._loop = 1;\n        //     }\n        //     this.on(Events.SCROLL, this, this.__scrolled);\n        //     this.setVirtualListChangedFlag(true);\n        // }\n    }\n    /**\n     * Set the list item count.\n     * If the list instanceof not virtual, specified number of items will be created.\n     * If the list instanceof virtual, only items in view will be created.\n     */\n    get numItems() {\n        if (this._virtual)\n            return this._numItems;\n        else\n            return this._children.length;\n    }\n    set numItems(value) {\n        throw new Error(\"TODO\");\n        // var i: number;\n        // if (this._virtual) {\n        //     if (this.itemRenderer == null)\n        //         throw new Error(\"set itemRenderer first!\");\n        //     this._numItems = value;\n        //     if (this._loop)\n        //         this._realNumItems = this._numItems * 6;//设置6倍数量，用于循环滚动\n        //     else\n        //         this._realNumItems = this._numItems;\n        //     //_virtualItems的设计是只增不减的\n        //     var oldCount: number = this._virtualItems.length;\n        //     if (this._realNumItems > oldCount) {\n        //         for (i = oldCount; i < this._realNumItems; i++) {\n        //             var ii: ItemInfo = {\n        //                 width: this._itemSize.x,\n        //                 height: this._itemSize.y,\n        //                 updateFlag: 0\n        //             };\n        //             this._virtualItems.push(ii);\n        //         }\n        //     }\n        //     else {\n        //         for (i = this._realNumItems; i < oldCount; i++)\n        //             this._virtualItems[i].selected = false;\n        //     }\n        //     if (this._virtualListChanged != 0)\n        //         Laya.timer.clear(this, this._refreshVirtualList);\n        //     //立即刷新\n        //     this._refreshVirtualList();\n        // }\n        // else {\n        //     var cnt: number = this._children.length;\n        //     if (value > cnt) {\n        //         for (i = cnt; i < value; i++) {\n        //             if (this.itemProvider == null)\n        //                 this.addItemFromPool();\n        //             else\n        //                 this.addItemFromPool(this.itemProvider.runWith(i));\n        //         }\n        //     }\n        //     else {\n        //         this.removeChildrenToPool(value, cnt);\n        //     }\n        //     if (this.itemRenderer != null) {\n        //         for (i = 0; i < value; i++)\n        //             this.itemRenderer.runWith([i, this.getChildAt(i)]);\n        //     }\n        // }\n    }\n    refreshVirtualList() {\n        this.setVirtualListChangedFlag(false);\n    }\n    checkVirtualList() {\n        throw new Error(\"TODO\");\n        // if (this._virtualListChanged != 0) {\n        //     this._refreshVirtualList();\n        //     Laya.timer.clear(this, this._refreshVirtualList);\n        // }\n    }\n    setVirtualListChangedFlag(layoutChanged) {\n        throw new Error(\"TODO\");\n        // if (layoutChanged)\n        //     this._virtualListChanged = 2;\n        // else if (this._virtualListChanged == 0)\n        //     this._virtualListChanged = 1;\n        // Laya.timer.callLater(this, this._refreshVirtualList);\n    }\n    _refreshVirtualList() {\n        throw new Error(\"TODO\");\n        // if (!this._displayObject)\n        //     return;\n        // var layoutChanged: boolean = this._virtualListChanged == 2;\n        // this._virtualListChanged = 0;\n        // this._eventLocked = true;\n        // if (layoutChanged) {\n        //     if (this._layout == ListLayoutType.SingleColumn || this._layout == ListLayoutType.SingleRow)\n        //         this._curLineItemCount = 1;\n        //     else if (this._layout == ListLayoutType.FlowHorizontal) {\n        //         if (this._columnCount > 0)\n        //             this._curLineItemCount = this._columnCount;\n        //         else {\n        //             this._curLineItemCount = Math.floor((this._scrollPane.viewWidth + this._columnGap) / (this._itemSize.x + this._columnGap));\n        //             if (this._curLineItemCount <= 0)\n        //                 this._curLineItemCount = 1;\n        //         }\n        //     }\n        //     else if (this._layout == ListLayoutType.FlowVertical) {\n        //         if (this._lineCount > 0)\n        //             this._curLineItemCount = this._lineCount;\n        //         else {\n        //             this._curLineItemCount = Math.floor((this._scrollPane.viewHeight + this._lineGap) / (this._itemSize.y + this._lineGap));\n        //             if (this._curLineItemCount <= 0)\n        //                 this._curLineItemCount = 1;\n        //         }\n        //     }\n        //     else //pagination\n        //     {\n        //         if (this._columnCount > 0)\n        //             this._curLineItemCount = this._columnCount;\n        //         else {\n        //             this._curLineItemCount = Math.floor((this._scrollPane.viewWidth + this._columnGap) / (this._itemSize.x + this._columnGap));\n        //             if (this._curLineItemCount <= 0)\n        //                 this._curLineItemCount = 1;\n        //         }\n        //         if (this._lineCount > 0)\n        //             this._curLineItemCount2 = this._lineCount;\n        //         else {\n        //             this._curLineItemCount2 = Math.floor((this._scrollPane.viewHeight + this._lineGap) / (this._itemSize.y + this._lineGap));\n        //             if (this._curLineItemCount2 <= 0)\n        //                 this._curLineItemCount2 = 1;\n        //         }\n        //     }\n        // }\n        // var ch: number = 0, cw: number = 0;\n        // if (this._realNumItems > 0) {\n        //     var i: number;\n        //     var len: number = Math.ceil(this._realNumItems / this._curLineItemCount) * this._curLineItemCount;\n        //     var len2: number = Math.min(this._curLineItemCount, this._realNumItems);\n        //     if (this._layout == ListLayoutType.SingleColumn || this._layout == ListLayoutType.FlowHorizontal) {\n        //         for (i = 0; i < len; i += this._curLineItemCount)\n        //             ch += this._virtualItems[i].height + this._lineGap;\n        //         if (ch > 0)\n        //             ch -= this._lineGap;\n        //         if (this._autoResizeItem)\n        //             cw = this._scrollPane.viewWidth;\n        //         else {\n        //             for (i = 0; i < len2; i++)\n        //                 cw += this._virtualItems[i].width + this._columnGap;\n        //             if (cw > 0)\n        //                 cw -= this._columnGap;\n        //         }\n        //     }\n        //     else if (this._layout == ListLayoutType.SingleRow || this._layout == ListLayoutType.FlowVertical) {\n        //         for (i = 0; i < len; i += this._curLineItemCount)\n        //             cw += this._virtualItems[i].width + this._columnGap;\n        //         if (cw > 0)\n        //             cw -= this._columnGap;\n        //         if (this._autoResizeItem)\n        //             ch = this._scrollPane.viewHeight;\n        //         else {\n        //             for (i = 0; i < len2; i++)\n        //                 ch += this._virtualItems[i].height + this._lineGap;\n        //             if (ch > 0)\n        //                 ch -= this._lineGap;\n        //         }\n        //     }\n        //     else {\n        //         var pageCount: number = Math.ceil(len / (this._curLineItemCount * this._curLineItemCount2));\n        //         cw = pageCount * this.viewWidth;\n        //         ch = this.viewHeight;\n        //     }\n        // }\n        // this.handleAlign(cw, ch);\n        // this._scrollPane.setContentSize(cw, ch);\n        // this._eventLocked = false;\n        // this.handleScroll(true);\n    }\n    __scrolled(evt) {\n        throw new Error(\"TODO\");\n        // this.handleScroll(false);\n    }\n    getIndexOnPos1(forceUpdate) {\n        throw new Error(\"TODO\");\n        // if (this._realNumItems < this._curLineItemCount) {\n        //     s_n = 0;\n        //     return 0;\n        // }\n        // var i: number;\n        // var pos2: number;\n        // var pos3: number;\n        // if (this.numChildren > 0 && !forceUpdate) {\n        //     pos2 = this.getChildAt(0).y;\n        //     if (pos2 > s_n) {\n        //         for (i = this._firstIndex - this._curLineItemCount; i >= 0; i -= this._curLineItemCount) {\n        //             pos2 -= (this._virtualItems[i].height + this._lineGap);\n        //             if (pos2 <= s_n) {\n        //                 s_n = pos2;\n        //                 return i;\n        //             }\n        //         }\n        //         s_n = 0;\n        //         return 0;\n        //     }\n        //     else {\n        //         for (i = this._firstIndex; i < this._realNumItems; i += this._curLineItemCount) {\n        //             pos3 = pos2 + this._virtualItems[i].height + this._lineGap;\n        //             if (pos3 > s_n) {\n        //                 s_n = pos2;\n        //                 return i;\n        //             }\n        //             pos2 = pos3;\n        //         }\n        //         s_n = pos2;\n        //         return this._realNumItems - this._curLineItemCount;\n        //     }\n        // }\n        // else {\n        //     pos2 = 0;\n        //     for (i = 0; i < this._realNumItems; i += this._curLineItemCount) {\n        //         pos3 = pos2 + this._virtualItems[i].height + this._lineGap;\n        //         if (pos3 > s_n) {\n        //             s_n = pos2;\n        //             return i;\n        //         }\n        //         pos2 = pos3;\n        //     }\n        //     s_n = pos2;\n        //     return this._realNumItems - this._curLineItemCount;\n        // }\n    }\n    getIndexOnPos2(forceUpdate) {\n        throw new Error(\"TODO\");\n        // if (this._realNumItems < this._curLineItemCount) {\n        //     s_n = 0;\n        //     return 0;\n        // }\n        // var i: number;\n        // var pos2: number;\n        // var pos3: number;\n        // if (this.numChildren > 0 && !forceUpdate) {\n        //     pos2 = this.getChildAt(0).x;\n        //     if (pos2 > s_n) {\n        //         for (i = this._firstIndex - this._curLineItemCount; i >= 0; i -= this._curLineItemCount) {\n        //             pos2 -= (this._virtualItems[i].width + this._columnGap);\n        //             if (pos2 <= s_n) {\n        //                 s_n = pos2;\n        //                 return i;\n        //             }\n        //         }\n        //         s_n = 0;\n        //         return 0;\n        //     }\n        //     else {\n        //         for (i = this._firstIndex; i < this._realNumItems; i += this._curLineItemCount) {\n        //             pos3 = pos2 + this._virtualItems[i].width + this._columnGap;\n        //             if (pos3 > s_n) {\n        //                 s_n = pos2;\n        //                 return i;\n        //             }\n        //             pos2 = pos3;\n        //         }\n        //         s_n = pos2;\n        //         return this._realNumItems - this._curLineItemCount;\n        //     }\n        // }\n        // else {\n        //     pos2 = 0;\n        //     for (i = 0; i < this._realNumItems; i += this._curLineItemCount) {\n        //         pos3 = pos2 + this._virtualItems[i].width + this._columnGap;\n        //         if (pos3 > s_n) {\n        //             s_n = pos2;\n        //             return i;\n        //         }\n        //         pos2 = pos3;\n        //     }\n        //     s_n = pos2;\n        //     return this._realNumItems - this._curLineItemCount;\n        // }\n    }\n    getIndexOnPos3(forceUpdate) {\n        throw new Error(\"TODO\");\n        // if (this._realNumItems < this._curLineItemCount) {\n        //     s_n = 0;\n        //     return 0;\n        // }\n        // var viewWidth: number = this.viewWidth;\n        // var page: number = Math.floor(s_n / viewWidth);\n        // var startIndex: number = page * (this._curLineItemCount * this._curLineItemCount2);\n        // var pos2: number = page * viewWidth;\n        // var i: number;\n        // var pos3: number;\n        // for (i = 0; i < this._curLineItemCount; i++) {\n        //     pos3 = pos2 + this._virtualItems[startIndex + i].width + this._columnGap;\n        //     if (pos3 > s_n) {\n        //         s_n = pos2;\n        //         return startIndex + i;\n        //     }\n        //     pos2 = pos3;\n        // }\n        // s_n = pos2;\n        // return startIndex + this._curLineItemCount - 1;\n    }\n    handleScroll(forceUpdate) {\n        // if (this._eventLocked)\n        //     return;\n        // if (this._layout == ListLayoutType.SingleColumn || this._layout == ListLayoutType.FlowHorizontal) {\n        //     var enterCounter: number = 0;\n        //     while (this.handleScroll1(forceUpdate)) {\n        //         enterCounter++;\n        //         forceUpdate = false;\n        //         if (enterCounter > 20) {\n        //             console.log(\"FairyGUI: list will never be <the> filled item renderer function always returns a different size.\");\n        //             break;\n        //         }\n        //     }\n        //     this.handleArchOrder1();\n        // }\n        // else if (this._layout == ListLayoutType.SingleRow || this._layout == ListLayoutType.FlowVertical) {\n        //     enterCounter = 0;\n        //     while (this.handleScroll2(forceUpdate)) {\n        //         enterCounter++;\n        //         forceUpdate = false;\n        //         if (enterCounter > 20) {\n        //             console.log(\"FairyGUI: list will never be <the> filled item renderer function always returns a different size.\");\n        //             break;\n        //         }\n        //     }\n        //     this.handleArchOrder2();\n        // }\n        // else {\n        //     this.handleScroll3(forceUpdate);\n        // }\n        // this._boundsChanged = false;\n    }\n    handleScroll1(forceUpdate) {\n        throw new Error(\"TODO\");\n        // var pos: number = this._scrollPane.scrollingPosY;\n        // var max: number = pos + this._scrollPane.viewHeight;\n        // var end: boolean = max == this._scrollPane.contentHeight;//这个标志表示当前需要滚动到最末，无论内容变化大小\n        // //寻找当前位置的第一条项目\n        // s_n = pos;\n        // var newFirstIndex: number = this.getIndexOnPos1(forceUpdate);\n        // pos = s_n;\n        // if (newFirstIndex == this._firstIndex && !forceUpdate)\n        //     return false;\n        // var oldFirstIndex: number = this._firstIndex;\n        // this._firstIndex = newFirstIndex;\n        // var curIndex: number = newFirstIndex;\n        // var forward: boolean = oldFirstIndex > newFirstIndex;\n        // var childCount: number = this.numChildren;\n        // var lastIndex: number = oldFirstIndex + childCount - 1;\n        // var reuseIndex: number = forward ? lastIndex : oldFirstIndex;\n        // var curX: number = 0, curY: number = pos;\n        // var needRender: boolean;\n        // var deltaSize: number = 0;\n        // var firstItemDeltaSize: number = 0;\n        // var url: string = this._defaultItem;\n        // var ii: ItemInfo, ii2: ItemInfo;\n        // var i: number, j: number;\n        // var partSize: number = (this._scrollPane.viewWidth - this._columnGap * (this._curLineItemCount - 1)) / this._curLineItemCount;\n        // this.itemInfoVer++;\n        // while (curIndex < this._realNumItems && (end || curY < max)) {\n        //     ii = this._virtualItems[curIndex];\n        //     if (ii.obj == null || forceUpdate) {\n        //         if (this.itemProvider != null) {\n        //             url = this.itemProvider.runWith(curIndex % this._numItems);\n        //             if (url == null)\n        //                 url = this._defaultItem;\n        //             url = UIPackage.normalizeURL(url);\n        //         }\n        //         if (ii.obj && ii.obj.resourceURL != url) {\n        //             if (ii.obj instanceof GButton)\n        //                 ii.selected = ii.obj.selected;\n        //             this.removeChildToPool(ii.obj);\n        //             ii.obj = null;\n        //         }\n        //     }\n        //     if (ii.obj == null) {\n        //         //搜索最适合的重用item，保证每次刷新需要新建或者重新render的item最少\n        //         if (forward) {\n        //             for (j = reuseIndex; j >= oldFirstIndex; j--) {\n        //                 ii2 = this._virtualItems[j];\n        //                 if (ii2.obj && ii2.updateFlag != this.itemInfoVer && ii2.obj.resourceURL == url) {\n        //                     if (ii2.obj instanceof GButton)\n        //                         ii2.selected = ii2.obj.selected;\n        //                     ii.obj = ii2.obj;\n        //                     ii2.obj = null;\n        //                     if (j == reuseIndex)\n        //                         reuseIndex--;\n        //                     break;\n        //                 }\n        //             }\n        //         }\n        //         else {\n        //             for (j = reuseIndex; j <= lastIndex; j++) {\n        //                 ii2 = this._virtualItems[j];\n        //                 if (ii2.obj && ii2.updateFlag != this.itemInfoVer && ii2.obj.resourceURL == url) {\n        //                     if (ii2.obj instanceof GButton)\n        //                         ii2.selected = ii2.obj.selected;\n        //                     ii.obj = ii2.obj;\n        //                     ii2.obj = null;\n        //                     if (j == reuseIndex)\n        //                         reuseIndex++;\n        //                     break;\n        //                 }\n        //             }\n        //         }\n        //         if (ii.obj) {\n        //             this.setChildIndex(ii.obj, forward ? curIndex - newFirstIndex : this.numChildren);\n        //         }\n        //         else {\n        //             ii.obj = this._pool.getObject(url);\n        //             if (forward)\n        //                 this.addChildAt(ii.obj, curIndex - newFirstIndex);\n        //             else\n        //                 this.addChild(ii.obj);\n        //         }\n        //         if (ii.obj instanceof GButton)\n        //             ii.obj.selected = ii.selected;\n        //         needRender = true;\n        //     }\n        //     else\n        //         needRender = forceUpdate;\n        //     if (needRender) {\n        //         if (this._autoResizeItem && (this._layout == ListLayoutType.SingleColumn || this._columnCount > 0))\n        //             ii.obj.setSize(partSize, ii.obj.height, true);\n        //         this.itemRenderer.runWith([curIndex % this._numItems, ii.obj]);\n        //         if (curIndex % this._curLineItemCount == 0) {\n        //             deltaSize += Math.ceil(ii.obj.height) - ii.height;\n        //             if (curIndex == newFirstIndex && oldFirstIndex > newFirstIndex) {\n        //                 //当内容向下滚动时，如果新出现的项目大小发生变化，需要做一个位置补偿，才不会导致滚动跳动\n        //                 firstItemDeltaSize = Math.ceil(ii.obj.height) - ii.height;\n        //             }\n        //         }\n        //         ii.width = Math.ceil(ii.obj.width);\n        //         ii.height = Math.ceil(ii.obj.height);\n        //     }\n        //     ii.updateFlag = this.itemInfoVer;\n        //     ii.obj.setXY(curX, curY);\n        //     if (curIndex == newFirstIndex) //要显示多一条才不会穿帮\n        //         max += ii.height;\n        //     curX += ii.width + this._columnGap;\n        //     if (curIndex % this._curLineItemCount == this._curLineItemCount - 1) {\n        //         curX = 0;\n        //         curY += ii.height + this._lineGap;\n        //     }\n        //     curIndex++;\n        // }\n        // for (i = 0; i < childCount; i++) {\n        //     ii = this._virtualItems[oldFirstIndex + i];\n        //     if (ii.updateFlag != this.itemInfoVer && ii.obj) {\n        //         if (ii.obj instanceof GButton)\n        //             ii.selected = ii.obj.selected;\n        //         this.removeChildToPool(ii.obj);\n        //         ii.obj = null;\n        //     }\n        // }\n        // childCount = this._children.length;\n        // for (i = 0; i < childCount; i++) {\n        //     var obj: GObject = this._virtualItems[newFirstIndex + i].obj;\n        //     if (this._children[i] != obj)\n        //         this.setChildIndex(obj, i);\n        // }\n        // if (deltaSize != 0 || firstItemDeltaSize != 0)\n        //     this._scrollPane.changeContentSizeOnScrolling(0, deltaSize, 0, firstItemDeltaSize);\n        // if (curIndex > 0 && this.numChildren > 0 && this._container.y <= 0 && this.getChildAt(0).y > -this._container.y)//最后一页没填满！\n        //     return true;\n        // else\n        //     return false;\n    }\n    handleScroll2(forceUpdate) {\n        throw new Error(\"TODO\");\n        // var pos: number = this._scrollPane.scrollingPosX;\n        // var max: number = pos + this._scrollPane.viewWidth;\n        // var end: boolean = pos == this._scrollPane.contentWidth;//这个标志表示当前需要滚动到最末，无论内容变化大小\n        // //寻找当前位置的第一条项目\n        // s_n = pos;\n        // var newFirstIndex: number = this.getIndexOnPos2(forceUpdate);\n        // pos = s_n;\n        // if (newFirstIndex == this._firstIndex && !forceUpdate)\n        //     return false;\n        // var oldFirstIndex: number = this._firstIndex;\n        // this._firstIndex = newFirstIndex;\n        // var curIndex: number = newFirstIndex;\n        // var forward: boolean = oldFirstIndex > newFirstIndex;\n        // var childCount: number = this.numChildren;\n        // var lastIndex: number = oldFirstIndex + childCount - 1;\n        // var reuseIndex: number = forward ? lastIndex : oldFirstIndex;\n        // var curX: number = pos, curY: number = 0;\n        // var needRender: boolean;\n        // var deltaSize: number = 0;\n        // var firstItemDeltaSize: number = 0;\n        // var url: string = this._defaultItem;\n        // var ii: ItemInfo, ii2: ItemInfo;\n        // var i: number, j: number;\n        // var partSize: number = (this._scrollPane.viewHeight - this._lineGap * (this._curLineItemCount - 1)) / this._curLineItemCount;\n        // this.itemInfoVer++;\n        // while (curIndex < this._realNumItems && (end || curX < max)) {\n        //     ii = this._virtualItems[curIndex];\n        //     if (ii.obj == null || forceUpdate) {\n        //         if (this.itemProvider != null) {\n        //             url = this.itemProvider.runWith(curIndex % this._numItems);\n        //             if (url == null)\n        //                 url = this._defaultItem;\n        //             url = UIPackage.normalizeURL(url);\n        //         }\n        //         if (ii.obj && ii.obj.resourceURL != url) {\n        //             if (ii.obj instanceof GButton)\n        //                 ii.selected = ii.obj.selected;\n        //             this.removeChildToPool(ii.obj);\n        //             ii.obj = null;\n        //         }\n        //     }\n        //     if (ii.obj == null) {\n        //         if (forward) {\n        //             for (j = reuseIndex; j >= oldFirstIndex; j--) {\n        //                 ii2 = this._virtualItems[j];\n        //                 if (ii2.obj && ii2.updateFlag != this.itemInfoVer && ii2.obj.resourceURL == url) {\n        //                     if (ii2.obj instanceof GButton)\n        //                         ii2.selected = ii2.obj.selected;\n        //                     ii.obj = ii2.obj;\n        //                     ii2.obj = null;\n        //                     if (j == reuseIndex)\n        //                         reuseIndex--;\n        //                     break;\n        //                 }\n        //             }\n        //         }\n        //         else {\n        //             for (j = reuseIndex; j <= lastIndex; j++) {\n        //                 ii2 = this._virtualItems[j];\n        //                 if (ii2.obj && ii2.updateFlag != this.itemInfoVer && ii2.obj.resourceURL == url) {\n        //                     if (ii2.obj instanceof GButton)\n        //                         ii2.selected = ii2.obj.selected;\n        //                     ii.obj = ii2.obj;\n        //                     ii2.obj = null;\n        //                     if (j == reuseIndex)\n        //                         reuseIndex++;\n        //                     break;\n        //                 }\n        //             }\n        //         }\n        //         if (ii.obj) {\n        //             this.setChildIndex(ii.obj, forward ? curIndex - newFirstIndex : this.numChildren);\n        //         }\n        //         else {\n        //             ii.obj = this._pool.getObject(url);\n        //             if (forward)\n        //                 this.addChildAt(ii.obj, curIndex - newFirstIndex);\n        //             else\n        //                 this.addChild(ii.obj);\n        //         }\n        //         if (ii.obj instanceof GButton)\n        //             ii.obj.selected = ii.selected;\n        //         needRender = true;\n        //     }\n        //     else\n        //         needRender = forceUpdate;\n        //     if (needRender) {\n        //         if (this._autoResizeItem && (this._layout == ListLayoutType.SingleRow || this._lineCount > 0))\n        //             ii.obj.setSize(ii.obj.width, partSize, true);\n        //         this.itemRenderer.runWith([curIndex % this._numItems, ii.obj]);\n        //         if (curIndex % this._curLineItemCount == 0) {\n        //             deltaSize += Math.ceil(ii.obj.width) - ii.width;\n        //             if (curIndex == newFirstIndex && oldFirstIndex > newFirstIndex) {\n        //                 //当内容向下滚动时，如果新出现的一个项目大小发生变化，需要做一个位置补偿，才不会导致滚动跳动\n        //                 firstItemDeltaSize = Math.ceil(ii.obj.width) - ii.width;\n        //             }\n        //         }\n        //         ii.width = Math.ceil(ii.obj.width);\n        //         ii.height = Math.ceil(ii.obj.height);\n        //     }\n        //     ii.updateFlag = this.itemInfoVer;\n        //     ii.obj.setXY(curX, curY);\n        //     if (curIndex == newFirstIndex) //要显示多一条才不会穿帮\n        //         max += ii.width;\n        //     curY += ii.height + this._lineGap;\n        //     if (curIndex % this._curLineItemCount == this._curLineItemCount - 1) {\n        //         curY = 0;\n        //         curX += ii.width + this._columnGap;\n        //     }\n        //     curIndex++;\n        // }\n        // for (i = 0; i < childCount; i++) {\n        //     ii = this._virtualItems[oldFirstIndex + i];\n        //     if (ii.updateFlag != this.itemInfoVer && ii.obj) {\n        //         if (ii.obj instanceof GButton)\n        //             ii.selected = ii.obj.selected;\n        //         this.removeChildToPool(ii.obj);\n        //         ii.obj = null;\n        //     }\n        // }\n        // childCount = this._children.length;\n        // for (i = 0; i < childCount; i++) {\n        //     var obj: GObject = this._virtualItems[newFirstIndex + i].obj;\n        //     if (this._children[i] != obj)\n        //         this.setChildIndex(obj, i);\n        // }\n        // if (deltaSize != 0 || firstItemDeltaSize != 0)\n        //     this._scrollPane.changeContentSizeOnScrolling(deltaSize, 0, firstItemDeltaSize, 0);\n        // if (curIndex > 0 && this.numChildren > 0 && this._container.x <= 0 && this.getChildAt(0).x > - this._container.x)//最后一页没填满！\n        //     return true;\n        // else\n        //     return false;\n    }\n    handleScroll3(forceUpdate) {\n        throw new Error(\"TODO\");\n        // var pos: number = this._scrollPane.scrollingPosX;\n        // //寻找当前位置的第一条项目\n        // s_n = pos;\n        // var newFirstIndex: number = this.getIndexOnPos3(forceUpdate);\n        // pos = s_n;\n        // if (newFirstIndex == this._firstIndex && !forceUpdate)\n        //     return;\n        // var oldFirstIndex: number = this._firstIndex;\n        // this._firstIndex = newFirstIndex;\n        // //分页模式不支持不等高，所以渲染满一页就好了\n        // var reuseIndex: number = oldFirstIndex;\n        // var virtualItemCount: number = this._virtualItems.length;\n        // var pageSize: number = this._curLineItemCount * this._curLineItemCount2;\n        // var startCol: number = newFirstIndex % this._curLineItemCount;\n        // var viewWidth: number = this.viewWidth;\n        // var page: number = Math.floor(newFirstIndex / pageSize);\n        // var startIndex: number = page * pageSize;\n        // var lastIndex: number = startIndex + pageSize * 2; //测试两页\n        // var needRender: boolean;\n        // var i: number;\n        // var ii: ItemInfo, ii2: ItemInfo;\n        // var col: number;\n        // var url: string = this._defaultItem;\n        // var partWidth: number = (this._scrollPane.viewWidth - this._columnGap * (this._curLineItemCount - 1)) / this._curLineItemCount;\n        // var partHeight: number = (this._scrollPane.viewHeight - this._lineGap * (this._curLineItemCount2 - 1)) / this._curLineItemCount2;\n        // this.itemInfoVer++;\n        // //先标记这次要用到的项目\n        // for (i = startIndex; i < lastIndex; i++) {\n        //     if (i >= this._realNumItems)\n        //         continue;\n        //     col = i % this._curLineItemCount;\n        //     if (i - startIndex < pageSize) {\n        //         if (col < startCol)\n        //             continue;\n        //     }\n        //     else {\n        //         if (col > startCol)\n        //             continue;\n        //     }\n        //     ii = this._virtualItems[i];\n        //     ii.updateFlag = this.itemInfoVer;\n        // }\n        // var lastObj: GObject = null;\n        // var insertIndex: number = 0;\n        // for (i = startIndex; i < lastIndex; i++) {\n        //     if (i >= this._realNumItems)\n        //         continue;\n        //     ii = this._virtualItems[i];\n        //     if (ii.updateFlag != this.itemInfoVer)\n        //         continue;\n        //     if (ii.obj == null) {\n        //         //寻找看有没有可重用的\n        //         while (reuseIndex < virtualItemCount) {\n        //             ii2 = this._virtualItems[reuseIndex];\n        //             if (ii2.obj && ii2.updateFlag != this.itemInfoVer) {\n        //                 if (ii2.obj instanceof GButton)\n        //                     ii2.selected = ii2.obj.selected;\n        //                 ii.obj = ii2.obj;\n        //                 ii2.obj = null;\n        //                 break;\n        //             }\n        //             reuseIndex++;\n        //         }\n        //         if (insertIndex == -1)\n        //             insertIndex = this.getChildIndex(lastObj) + 1;\n        //         if (ii.obj == null) {\n        //             if (this.itemProvider != null) {\n        //                 url = this.itemProvider.runWith(i % this._numItems);\n        //                 if (url == null)\n        //                     url = this._defaultItem;\n        //                 url = UIPackage.normalizeURL(url);\n        //             }\n        //             ii.obj = this._pool.getObject(url);\n        //             this.addChildAt(ii.obj, insertIndex);\n        //         }\n        //         else {\n        //             insertIndex = this.setChildIndexBefore(ii.obj, insertIndex);\n        //         }\n        //         insertIndex++;\n        //         if (ii.obj instanceof GButton)\n        //             ii.obj.selected = ii.selected;\n        //         needRender = true;\n        //     }\n        //     else {\n        //         needRender = forceUpdate;\n        //         insertIndex = -1;\n        //         lastObj = ii.obj;\n        //     }\n        //     if (needRender) {\n        //         if (this._autoResizeItem) {\n        //             if (this._curLineItemCount == this._columnCount && this._curLineItemCount2 == this._lineCount)\n        //                 ii.obj.setSize(partWidth, partHeight, true);\n        //             else if (this._curLineItemCount == this._columnCount)\n        //                 ii.obj.setSize(partWidth, ii.obj.height, true);\n        //             else if (this._curLineItemCount2 == this._lineCount)\n        //                 ii.obj.setSize(ii.obj.width, partHeight, true);\n        //         }\n        //         this.itemRenderer.runWith([i % this._numItems, ii.obj]);\n        //         ii.width = Math.ceil(ii.obj.width);\n        //         ii.height = Math.ceil(ii.obj.height);\n        //     }\n        // }\n        // //排列item\n        // var borderX: number = (startIndex / pageSize) * viewWidth;\n        // var xx: number = borderX;\n        // var yy: number = 0;\n        // var lineHeight: number = 0;\n        // for (i = startIndex; i < lastIndex; i++) {\n        //     if (i >= this._realNumItems)\n        //         continue;\n        //     ii = this._virtualItems[i];\n        //     if (ii.updateFlag == this.itemInfoVer)\n        //         ii.obj.setXY(xx, yy);\n        //     if (ii.height > lineHeight)\n        //         lineHeight = ii.height;\n        //     if (i % this._curLineItemCount == this._curLineItemCount - 1) {\n        //         xx = borderX;\n        //         yy += lineHeight + this._lineGap;\n        //         lineHeight = 0;\n        //         if (i == startIndex + pageSize - 1) {\n        //             borderX += viewWidth;\n        //             xx = borderX;\n        //             yy = 0;\n        //         }\n        //     }\n        //     else\n        //         xx += ii.width + this._columnGap;\n        // }\n        // //释放未使用的\n        // for (i = reuseIndex; i < virtualItemCount; i++) {\n        //     ii = this._virtualItems[i];\n        //     if (ii.updateFlag != this.itemInfoVer && ii.obj) {\n        //         if (ii.obj instanceof GButton)\n        //             ii.selected = ii.obj.selected;\n        //         this.removeChildToPool(ii.obj);\n        //         ii.obj = null;\n        //     }\n        // }\n    }\n    handleArchOrder1() {\n        if (this.childrenRenderOrder == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ChildrenRenderOrder\"].Arch) {\n            var mid = this._scrollPane.posY + this.viewHeight / 2;\n            var minDist = Number.POSITIVE_INFINITY;\n            var dist = 0;\n            var apexIndex = 0;\n            var cnt = this.numChildren;\n            for (var i = 0; i < cnt; i++) {\n                var obj = this.getChildAt(i);\n                if (!this.foldInvisibleItems || obj.visible) {\n                    dist = Math.abs(mid - obj.y - obj.height / 2);\n                    if (dist < minDist) {\n                        minDist = dist;\n                        apexIndex = i;\n                    }\n                }\n            }\n            this.apexIndex = apexIndex;\n        }\n    }\n    handleArchOrder2() {\n        throw new Error(\"TODO\");\n        //     if (this.childrenRenderOrder == ChildrenRenderOrder.Arch) {\n        //         var mid: number = this._scrollPane.posX + this.viewWidth / 2;\n        //         var minDist: number = Number.POSITIVE_INFINITY;\n        //         var dist: number = 0;\n        //         var apexIndex: number = 0;\n        //         var cnt: number = this.numChildren;\n        //         for (var i: number = 0; i < cnt; i++) {\n        //             var obj: GObject = this.getChildAt(i);\n        //             if (!this.foldInvisibleItems || obj.visible) {\n        //                 dist = Math.abs(mid - obj.x - obj.width / 2);\n        //                 if (dist < minDist) {\n        //                     minDist = dist;\n        //                     apexIndex = i;\n        //                 }\n        //             }\n        //         }\n        //         this.apexIndex = apexIndex;\n        //     }\n        // }\n        // private handleAlign(contentWidth: number, contentHeight: number): void {\n        //     var newOffsetX: number = 0;\n        //     var newOffsetY: number = 0;\n        //     if (contentHeight < this.viewHeight) {\n        //         if (this._verticalAlign == \"middle\")\n        //             newOffsetY = Math.floor((this.viewHeight - contentHeight) / 2);\n        //         else if (this._verticalAlign == \"bottom\")\n        //             newOffsetY = this.viewHeight - contentHeight;\n        //     }\n        //     if (contentWidth < this.viewWidth) {\n        //         if (this._align == \"center\")\n        //             newOffsetX = Math.floor((this.viewWidth - contentWidth) / 2);\n        //         else if (this._align == \"right\")\n        //             newOffsetX = this.viewWidth - contentWidth;\n        //     }\n        //     if (newOffsetX != this._alignOffset.x || newOffsetY != this._alignOffset.y) {\n        //         this._alignOffset.setTo(newOffsetX, newOffsetY);\n        //         if (this._scrollPane)\n        //             this._scrollPane.adjustMaskContainer();\n        //         else\n        //             this._container.pos(this._margin.left + this._alignOffset.x, this._margin.top + this._alignOffset.y);\n        //     }\n    }\n    updateBounds() {\n        // if (this._virtual)\n        //     return;\n        // var i: number;\n        // var child: GObject;\n        // var curX: number = 0;\n        // var curY: number = 0;\n        // var maxWidth: number = 0;\n        // var maxHeight: number = 0;\n        // var cw: number, ch: number;\n        // var j: number = 0;\n        // var page: number = 0;\n        // var k: number = 0;\n        // var cnt: number = this._children.length;\n        // var viewWidth: number = this.viewWidth;\n        // var viewHeight: number = this.viewHeight;\n        // var lineSize: number = 0;\n        // var lineStart: number = 0;\n        // var ratio: number;\n        // if (this._layout == ListLayoutType.SingleColumn) {\n        //     for (i = 0; i < cnt; i++) {\n        //         child = this.getChildAt(i);\n        //         if (this.foldInvisibleItems && !child.visible)\n        //             continue;\n        //         if (curY != 0)\n        //             curY += this._lineGap;\n        //         child.y = curY;\n        //         if (this._autoResizeItem)\n        //             child.setSize(viewWidth, child.height, true);\n        //         curY += Math.ceil(child.height);\n        //         if (child.width > maxWidth)\n        //             maxWidth = child.width;\n        //     }\n        //     ch = curY;\n        //     if (ch <= viewHeight && this._autoResizeItem && this._scrollPane && this._scrollPane._displayInDemand && this._scrollPane.vtScrollBar) {\n        //         viewWidth += this._scrollPane.vtScrollBar.width;\n        //         for (i = 0; i < cnt; i++) {\n        //             child = this.getChildAt(i);\n        //             if (this.foldInvisibleItems && !child.visible)\n        //                 continue;\n        //             child.setSize(viewWidth, child.height, true);\n        //             if (child.width > maxWidth)\n        //                 maxWidth = child.width;\n        //         }\n        //     }\n        //     cw = Math.ceil(maxWidth);\n        // }\n        // else if (this._layout == ListLayoutType.SingleRow) {\n        //     for (i = 0; i < cnt; i++) {\n        //         child = this.getChildAt(i);\n        //         if (this.foldInvisibleItems && !child.visible)\n        //             continue;\n        //         if (curX != 0)\n        //             curX += this._columnGap;\n        //         child.x = curX;\n        //         if (this._autoResizeItem)\n        //             child.setSize(child.width, viewHeight, true);\n        //         curX += Math.ceil(child.width);\n        //         if (child.height > maxHeight)\n        //             maxHeight = child.height;\n        //     }\n        //     cw = curX;\n        //     if (cw <= viewWidth && this._autoResizeItem && this._scrollPane && this._scrollPane._displayInDemand && this._scrollPane.hzScrollBar) {\n        //         viewHeight += this._scrollPane.hzScrollBar.height;\n        //         for (i = 0; i < cnt; i++) {\n        //             child = this.getChildAt(i);\n        //             if (this.foldInvisibleItems && !child.visible)\n        //                 continue;\n        //             child.setSize(child.width, viewHeight, true);\n        //             if (child.height > maxHeight)\n        //                 maxHeight = child.height;\n        //         }\n        //     }\n        //     ch = Math.ceil(maxHeight);\n        // }\n        // else if (this._layout == ListLayoutType.FlowHorizontal) {\n        //     if (this._autoResizeItem && this._columnCount > 0) {\n        //         for (i = 0; i < cnt; i++) {\n        //             child = this.getChildAt(i);\n        //             if (this.foldInvisibleItems && !child.visible)\n        //                 continue;\n        //             lineSize += child.sourceWidth;\n        //             j++;\n        //             if (j == this._columnCount || i == cnt - 1) {\n        //                 ratio = (viewWidth - lineSize - (j - 1) * this._columnGap) / lineSize;\n        //                 curX = 0;\n        //                 for (j = lineStart; j <= i; j++) {\n        //                     child = this.getChildAt(j);\n        //                     if (this.foldInvisibleItems && !child.visible)\n        //                         continue;\n        //                     child.setXY(curX, curY);\n        //                     if (j < i) {\n        //                         child.setSize(child.sourceWidth + Math.round(child.sourceWidth * ratio), child.height, true);\n        //                         curX += Math.ceil(child.width) + this._columnGap;\n        //                     }\n        //                     else {\n        //                         child.setSize(viewWidth - curX, child.height, true);\n        //                     }\n        //                     if (child.height > maxHeight)\n        //                         maxHeight = child.height;\n        //                 }\n        //                 //new line\n        //                 curY += Math.ceil(maxHeight) + this._lineGap;\n        //                 maxHeight = 0;\n        //                 j = 0;\n        //                 lineStart = i + 1;\n        //                 lineSize = 0;\n        //             }\n        //         }\n        //         ch = curY + Math.ceil(maxHeight);\n        //         cw = viewWidth;\n        //     }\n        //     else {\n        //         for (i = 0; i < cnt; i++) {\n        //             child = this.getChildAt(i);\n        //             if (this.foldInvisibleItems && !child.visible)\n        //                 continue;\n        //             if (curX != 0)\n        //                 curX += this._columnGap;\n        //             if (this._columnCount != 0 && j >= this._columnCount\n        //                 || this._columnCount == 0 && curX + child.width > viewWidth && maxHeight != 0) {\n        //                 //new line\n        //                 curX = 0;\n        //                 curY += Math.ceil(maxHeight) + this._lineGap;\n        //                 maxHeight = 0;\n        //                 j = 0;\n        //             }\n        //             child.setXY(curX, curY);\n        //             curX += Math.ceil(child.width);\n        //             if (curX > maxWidth)\n        //                 maxWidth = curX;\n        //             if (child.height > maxHeight)\n        //                 maxHeight = child.height;\n        //             j++;\n        //         }\n        //         ch = curY + Math.ceil(maxHeight);\n        //         cw = Math.ceil(maxWidth);\n        //     }\n        // }\n        // else if (this._layout == ListLayoutType.FlowVertical) {\n        //     if (this._autoResizeItem && this._lineCount > 0) {\n        //         for (i = 0; i < cnt; i++) {\n        //             child = this.getChildAt(i);\n        //             if (this.foldInvisibleItems && !child.visible)\n        //                 continue;\n        //             lineSize += child.sourceHeight;\n        //             j++;\n        //             if (j == this._lineCount || i == cnt - 1) {\n        //                 ratio = (viewHeight - lineSize - (j - 1) * this._lineGap) / lineSize;\n        //                 curY = 0;\n        //                 for (j = lineStart; j <= i; j++) {\n        //                     child = this.getChildAt(j);\n        //                     if (this.foldInvisibleItems && !child.visible)\n        //                         continue;\n        //                     child.setXY(curX, curY);\n        //                     if (j < i) {\n        //                         child.setSize(child.width, child.sourceHeight + Math.round(child.sourceHeight * ratio), true);\n        //                         curY += Math.ceil(child.height) + this._lineGap;\n        //                     }\n        //                     else {\n        //                         child.setSize(child.width, viewHeight - curY, true);\n        //                     }\n        //                     if (child.width > maxWidth)\n        //                         maxWidth = child.width;\n        //                 }\n        //                 //new line\n        //                 curX += Math.ceil(maxWidth) + this._columnGap;\n        //                 maxWidth = 0;\n        //                 j = 0;\n        //                 lineStart = i + 1;\n        //                 lineSize = 0;\n        //             }\n        //         }\n        //         cw = curX + Math.ceil(maxWidth);\n        //         ch = viewHeight;\n        //     }\n        //     else {\n        //         for (i = 0; i < cnt; i++) {\n        //             child = this.getChildAt(i);\n        //             if (this.foldInvisibleItems && !child.visible)\n        //                 continue;\n        //             if (curY != 0)\n        //                 curY += this._lineGap;\n        //             if (this._lineCount != 0 && j >= this._lineCount\n        //                 || this._lineCount == 0 && curY + child.height > viewHeight && maxWidth != 0) {\n        //                 curY = 0;\n        //                 curX += Math.ceil(maxWidth) + this._columnGap;\n        //                 maxWidth = 0;\n        //                 j = 0;\n        //             }\n        //             child.setXY(curX, curY);\n        //             curY += Math.ceil(child.height);\n        //             if (curY > maxHeight)\n        //                 maxHeight = curY;\n        //             if (child.width > maxWidth)\n        //                 maxWidth = child.width;\n        //             j++;\n        //         }\n        //         cw = curX + Math.ceil(maxWidth);\n        //         ch = Math.ceil(maxHeight);\n        //     }\n        // }\n        // else //pagination\n        // {\n        //     var eachHeight: number;\n        //     if (this._autoResizeItem && this._lineCount > 0)\n        //         eachHeight = Math.floor((viewHeight - (this._lineCount - 1) * this._lineGap) / this._lineCount);\n        //     if (this._autoResizeItem && this._columnCount > 0) {\n        //         for (i = 0; i < cnt; i++) {\n        //             child = this.getChildAt(i);\n        //             if (this.foldInvisibleItems && !child.visible)\n        //                 continue;\n        //             if (j == 0 && (this._lineCount != 0 && k >= this._lineCount\n        //                 || this._lineCount == 0 && curY + child.height > viewHeight)) {\n        //                 //new page\n        //                 page++;\n        //                 curY = 0;\n        //                 k = 0;\n        //             }\n        //             lineSize += child.sourceWidth;\n        //             j++;\n        //             if (j == this._columnCount || i == cnt - 1) {\n        //                 ratio = (viewWidth - lineSize - (j - 1) * this._columnGap) / lineSize;\n        //                 curX = 0;\n        //                 for (j = lineStart; j <= i; j++) {\n        //                     child = this.getChildAt(j);\n        //                     if (this.foldInvisibleItems && !child.visible)\n        //                         continue;\n        //                     child.setXY(page * viewWidth + curX, curY);\n        //                     if (j < i) {\n        //                         child.setSize(child.sourceWidth + Math.round(child.sourceWidth * ratio),\n        //                             this._lineCount > 0 ? eachHeight : child.height, true);\n        //                         curX += Math.ceil(child.width) + this._columnGap;\n        //                     }\n        //                     else {\n        //                         child.setSize(viewWidth - curX, this._lineCount > 0 ? eachHeight : child.height, true);\n        //                     }\n        //                     if (child.height > maxHeight)\n        //                         maxHeight = child.height;\n        //                 }\n        //                 //new line\n        //                 curY += Math.ceil(maxHeight) + this._lineGap;\n        //                 maxHeight = 0;\n        //                 j = 0;\n        //                 lineStart = i + 1;\n        //                 lineSize = 0;\n        //                 k++;\n        //             }\n        //         }\n        //     }\n        //     else {\n        //         for (i = 0; i < cnt; i++) {\n        //             child = this.getChildAt(i);\n        //             if (this.foldInvisibleItems && !child.visible)\n        //                 continue;\n        //             if (curX != 0)\n        //                 curX += this._columnGap;\n        //             if (this._autoResizeItem && this._lineCount > 0)\n        //                 child.setSize(child.width, eachHeight, true);\n        //             if (this._columnCount != 0 && j >= this._columnCount\n        //                 || this._columnCount == 0 && curX + child.width > viewWidth && maxHeight != 0) {\n        //                 //new line\n        //                 curX = 0;\n        //                 curY += Math.ceil(maxHeight) + this._lineGap;\n        //                 maxHeight = 0;\n        //                 j = 0;\n        //                 k++;\n        //                 if (this._lineCount != 0 && k >= this._lineCount\n        //                     || this._lineCount == 0 && curY + child.height > viewHeight && maxWidth != 0)//new page\n        //                 {\n        //                     page++;\n        //                     curY = 0;\n        //                     k = 0;\n        //                 }\n        //             }\n        //             child.setXY(page * viewWidth + curX, curY);\n        //             curX += Math.ceil(child.width);\n        //             if (curX > maxWidth)\n        //                 maxWidth = curX;\n        //             if (child.height > maxHeight)\n        //                 maxHeight = child.height;\n        //             j++;\n        //         }\n        //     }\n        //     ch = page > 0 ? viewHeight : curY + Math.ceil(maxHeight);\n        //     cw = (page + 1) * viewWidth;\n        // }\n        // this.handleAlign(cw, ch);\n        // this.setBounds(0, 0, cw, ch);\n    }\n    setup_beforeAdd(buffer, beginPos) {\n        super.setup_beforeAdd(buffer, beginPos);\n        buffer.seek(beginPos, 5);\n        var i1;\n        this._layout = buffer.readByte();\n        this._selectionMode = buffer.readByte();\n        i1 = buffer.readByte();\n        this._align = i1 == 0 ? \"left\" : (i1 == 1 ? \"center\" : \"right\");\n        i1 = buffer.readByte();\n        this._verticalAlign = i1 == 0 ? \"top\" : (i1 == 1 ? \"middle\" : \"bottom\");\n        this._lineGap = buffer.readShort();\n        this._columnGap = buffer.readShort();\n        this._lineCount = buffer.readShort();\n        this._columnCount = buffer.readShort();\n        this._autoResizeItem = buffer.readBool();\n        this._childrenRenderOrder = buffer.readByte();\n        this._apexIndex = buffer.readShort();\n        if (buffer.readBool()) {\n            this._margin.top = buffer.readInt();\n            this._margin.bottom = buffer.readInt();\n            this._margin.left = buffer.readInt();\n            this._margin.right = buffer.readInt();\n        }\n        var overflow = buffer.readByte();\n        if (overflow == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"OverflowType\"].Scroll) {\n            var savedPos = buffer.position;\n            buffer.seek(beginPos, 7);\n            this.setupScroll(buffer);\n            buffer.position = savedPos;\n        }\n        else\n            this.setupOverflow(overflow);\n        if (buffer.readBool()) //clipSoftness\n            buffer.skip(8);\n        if (buffer.version >= 2) {\n            this.scrollItemToViewOnClick = buffer.readBool();\n            this.foldInvisibleItems = buffer.readBool();\n        }\n        buffer.seek(beginPos, 8);\n        this._defaultItem = buffer.readS();\n        this.readItems(buffer);\n    }\n    readItems(buffer) {\n        var cnt;\n        var i;\n        var nextPos;\n        var str;\n        cnt = buffer.readShort();\n        for (i = 0; i < cnt; i++) {\n            nextPos = buffer.readShort();\n            nextPos += buffer.position;\n            str = buffer.readS();\n            if (str == null) {\n                str = this._defaultItem;\n                if (!str) {\n                    buffer.position = nextPos;\n                    continue;\n                }\n            }\n            var obj = this.getFromPool(str);\n            if (obj) {\n                throw new Error(\"TODO\");\n                // this.addChild(obj);\n                this.setupItem(buffer, obj);\n            }\n            buffer.position = nextPos;\n        }\n    }\n    setupItem(buffer, obj) {\n        var str;\n        str = buffer.readS();\n        if (str != null)\n            obj.text = str;\n        str = buffer.readS();\n        if (str != null && (obj instanceof _GButton__WEBPACK_IMPORTED_MODULE_1__[\"GButton\"]))\n            obj.selectedTitle = str;\n        str = buffer.readS();\n        if (str != null)\n            obj.icon = str;\n        str = buffer.readS();\n        if (str != null && (obj instanceof _GButton__WEBPACK_IMPORTED_MODULE_1__[\"GButton\"]))\n            obj.selectedIcon = str;\n        str = buffer.readS();\n        if (str != null)\n            obj.name = str;\n        var cnt;\n        var i;\n        if (obj instanceof _GComponent__WEBPACK_IMPORTED_MODULE_4__[\"GComponent\"]) {\n            cnt = buffer.readShort();\n            for (i = 0; i < cnt; i++) {\n                var cc = obj.getController(buffer.readS());\n                str = buffer.readS();\n                if (cc)\n                    cc.selectedPageId = str;\n            }\n            if (buffer.version >= 2) {\n                cnt = buffer.readShort();\n                for (i = 0; i < cnt; i++) {\n                    var target = buffer.readS();\n                    var propertyId = buffer.readShort();\n                    var value = buffer.readS();\n                    var obj2 = obj.getChildByPath(target);\n                    if (obj2)\n                        obj2.setProp(propertyId, value);\n                }\n            }\n        }\n    }\n    setup_afterAdd(buffer, beginPos) {\n        super.setup_afterAdd(buffer, beginPos);\n        buffer.seek(beginPos, 6);\n        var i = buffer.readShort();\n        if (i != -1)\n            this._selectionController = this._parent.getControllerAt(i);\n    }\n}\nvar s_n = 0;\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/GList.ts?");

/***/ }),

/***/ "./src/GLoader.ts":
/*!************************!*\
  !*** ./src/GLoader.ts ***!
  \************************/
/*! exports provided: GLoader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GLoader\", function() { return GLoader; });\n/* harmony import */ var _UIConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UIConfig */ \"./src/UIConfig.ts\");\n/* harmony import */ var _utils_ToolSet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/ToolSet */ \"./src/utils/ToolSet.ts\");\n/* harmony import */ var _UIPackage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./UIPackage */ \"./src/UIPackage.ts\");\n/* harmony import */ var _FieldTypes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FieldTypes */ \"./src/FieldTypes.ts\");\n/* harmony import */ var _GObjectPool__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./GObjectPool */ \"./src/GObjectPool.ts\");\n/* harmony import */ var _GObject__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./GObject */ \"./src/GObject.ts\");\n/* harmony import */ var _GComponent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./GComponent */ \"./src/GComponent.ts\");\n/* harmony import */ var _AssetProxy__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./AssetProxy */ \"./src/AssetProxy.ts\");\n\n\n\n\n\n\n\n\nclass GLoader extends _GObject__WEBPACK_IMPORTED_MODULE_5__[\"GObject\"] {\n    constructor() {\n        super();\n        this._url = \"\";\n        this._fill = _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"LoaderFillType\"].None;\n        this._align = \"left\";\n        this._valign = \"top\";\n        this._showErrorSign = true;\n    }\n    createDisplayObject() {\n        super.createDisplayObject();\n        throw new Error(\"TODO\");\n        // this._content = new MovieClip();\n        // this._displayObject.addChild(this._content);\n        // this._displayObject.mouseEnabled = true;\n    }\n    dispose() {\n        if (!this._contentItem && this._content.texture) {\n            this.freeExternal(this._content.texture);\n        }\n        if (this._content2)\n            this._content2.dispose();\n        super.dispose();\n    }\n    get url() {\n        return this._url;\n    }\n    set url(value) {\n        if (this._url == value)\n            return;\n        this._url = value;\n        this.loadContent();\n        this.updateGear(7);\n    }\n    get icon() {\n        return this._url;\n    }\n    set icon(value) {\n        this.url = value;\n    }\n    get align() {\n        return this._align;\n    }\n    set align(value) {\n        if (this._align != value) {\n            this._align = value;\n            this.updateLayout();\n        }\n    }\n    get verticalAlign() {\n        return this._valign;\n    }\n    set verticalAlign(value) {\n        if (this._valign != value) {\n            this._valign = value;\n            this.updateLayout();\n        }\n    }\n    get fill() {\n        return this._fill;\n    }\n    set fill(value) {\n        if (this._fill != value) {\n            this._fill = value;\n            this.updateLayout();\n        }\n    }\n    get shrinkOnly() {\n        return this._shrinkOnly;\n    }\n    set shrinkOnly(value) {\n        if (this._shrinkOnly != value) {\n            this._shrinkOnly = value;\n            this.updateLayout();\n        }\n    }\n    get autoSize() {\n        return this._autoSize;\n    }\n    set autoSize(value) {\n        if (this._autoSize != value) {\n            this._autoSize = value;\n            this.updateLayout();\n        }\n    }\n    get playing() {\n        return this._content.playing;\n    }\n    set playing(value) {\n        if (this._content.playing != value) {\n            this._content.playing = value;\n            this.updateGear(5);\n        }\n    }\n    get frame() {\n        return this._content.frame;\n    }\n    set frame(value) {\n        if (this._content.frame != value) {\n            this._content.frame = value;\n            this.updateGear(5);\n        }\n    }\n    get color() {\n        return this._content.color;\n    }\n    set color(value) {\n        if (this._content.color != value) {\n            this._content.color = value;\n            this.updateGear(4);\n        }\n    }\n    get fillMethod() {\n        return this._content.fillMethod;\n    }\n    set fillMethod(value) {\n        this._content.fillMethod = value;\n    }\n    get fillOrigin() {\n        return this._content.fillOrigin;\n    }\n    set fillOrigin(value) {\n        this._content.fillOrigin = value;\n    }\n    get fillClockwise() {\n        return this._content.fillClockwise;\n    }\n    set fillClockwise(value) {\n        this._content.fillClockwise = value;\n    }\n    get fillAmount() {\n        return this._content.fillAmount;\n    }\n    set fillAmount(value) {\n        this._content.fillAmount = value;\n    }\n    get showErrorSign() {\n        return this._showErrorSign;\n    }\n    set showErrorSign(value) {\n        this._showErrorSign = value;\n    }\n    get content() {\n        return this._content;\n    }\n    get component() {\n        return this._content2;\n    }\n    loadContent() {\n        this.clearContent();\n        if (!this._url)\n            return;\n        if (_utils_ToolSet__WEBPACK_IMPORTED_MODULE_1__[\"ToolSet\"].startsWith(this._url, \"ui://\"))\n            this.loadFromPackage(this._url);\n        else\n            this.loadExternal();\n    }\n    loadFromPackage(itemURL) {\n        this._contentItem = _UIPackage__WEBPACK_IMPORTED_MODULE_2__[\"UIPackage\"].getItemByURL(itemURL);\n        if (this._contentItem) {\n            this._contentItem = this._contentItem.getBranch();\n            this.sourceWidth = this._contentItem.width;\n            this.sourceHeight = this._contentItem.height;\n            this._contentItem = this._contentItem.getHighResolution();\n            this._contentItem.load();\n            if (this._autoSize)\n                this.setSize(this.sourceWidth, this.sourceHeight);\n            if (this._contentItem.type == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"PackageItemType\"].Image) {\n                if (!this._contentItem.texture) {\n                    this.setErrorState();\n                }\n                else {\n                    this._content.texture = this._contentItem.texture;\n                    this._content.scale9Grid = this._contentItem.scale9Grid;\n                    this._content.scaleByTile = this._contentItem.scaleByTile;\n                    this._content.tileGridIndice = this._contentItem.tileGridIndice;\n                    this.sourceWidth = this._contentItem.width;\n                    this.sourceHeight = this._contentItem.height;\n                    this.updateLayout();\n                }\n            }\n            else if (this._contentItem.type == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"PackageItemType\"].MovieClip) {\n                this.sourceWidth = this._contentItem.width;\n                this.sourceHeight = this._contentItem.height;\n                this._content.interval = this._contentItem.interval;\n                this._content.swing = this._contentItem.swing;\n                this._content.repeatDelay = this._contentItem.repeatDelay;\n                this._content.frames = this._contentItem.frames;\n                this.updateLayout();\n            }\n            else if (this._contentItem.type == _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"PackageItemType\"].Component) {\n                var obj = _UIPackage__WEBPACK_IMPORTED_MODULE_2__[\"UIPackage\"].createObjectFromURL(itemURL);\n                if (!obj)\n                    this.setErrorState();\n                else if (!(obj instanceof _GComponent__WEBPACK_IMPORTED_MODULE_6__[\"GComponent\"])) {\n                    obj.dispose();\n                    this.setErrorState();\n                }\n                else {\n                    this._content2 = obj.asCom;\n                    this._displayObject.add(this._content2.displayObject);\n                    this.updateLayout();\n                }\n            }\n            else\n                this.setErrorState();\n        }\n        else\n            this.setErrorState();\n    }\n    loadExternal() {\n        _AssetProxy__WEBPACK_IMPORTED_MODULE_7__[\"AssetProxy\"].inst.load(this._url, this._url, _AssetProxy__WEBPACK_IMPORTED_MODULE_7__[\"LoaderType\"].IMAGE, this.__getResCompleted);\n        _AssetProxy__WEBPACK_IMPORTED_MODULE_7__[\"AssetProxy\"].inst.startLoad();\n        // AssetProxy.inst.load(this._url, Laya.Handler.create(this, this.__getResCompleted), null, Laya.Loader.IMAGE);\n    }\n    freeExternal(texture) {\n    }\n    onExternalLoadSuccess(texture) {\n        throw new Error(\"TODO\");\n        // this._content.texture = texture;\n        // this._content.scale9Grid = null;\n        // this._content.scaleByTile = false;\n        // this.sourceWidth = texture.width;\n        // this.sourceHeight = texture.height;\n        // this.updateLayout();\n    }\n    onExternalLoadFailed() {\n        this.setErrorState();\n    }\n    __getResCompleted(tex) {\n        if (tex != null)\n            this.onExternalLoadSuccess(tex);\n        else\n            this.onExternalLoadFailed();\n    }\n    setErrorState() {\n        if (!this._showErrorSign)\n            return;\n        if (!this._errorSign) {\n            if (_UIConfig__WEBPACK_IMPORTED_MODULE_0__[\"UIConfig\"].loaderErrorSign != null) {\n                this._errorSign = GLoader._errorSignPool.getObject(_UIConfig__WEBPACK_IMPORTED_MODULE_0__[\"UIConfig\"].loaderErrorSign);\n            }\n        }\n        if (this._errorSign) {\n            this._errorSign.setSize(this.width, this.height);\n            throw new Error(\"TODO\");\n            // this._displayObject.addChild(this._errorSign.displayObject);\n        }\n    }\n    clearErrorState() {\n        if (this._errorSign) {\n            throw new Error(\"TODO\");\n            // this._displayObject.removeChild(this._errorSign.displayObject);\n            GLoader._errorSignPool.returnObject(this._errorSign);\n            this._errorSign = null;\n        }\n    }\n    updateLayout() {\n        throw new Error(\"TODO\");\n        // if (!this._content2 && !this._content.texture && !this._content.frames) {\n        //     if (this._autoSize) {\n        //         this._updatingLayout = true;\n        //         this.setSize(50, 30);\n        //         this._updatingLayout = false;\n        //     }\n        //     return;\n        // }\n        // let cw = this.sourceWidth;\n        // let ch = this.sourceHeight;\n        // if (this._autoSize) {\n        //     this._updatingLayout = true;\n        //     if (cw == 0)\n        //         cw = 50;\n        //     if (ch == 0)\n        //         ch = 30;\n        //     this.setSize(cw, ch);\n        //     this._updatingLayout = false;\n        //     if (cw == this._width && ch == this._height) {\n        //         if (this._content2) {\n        //             this._content2.setXY(0, 0);\n        //             this._content2.setScale(1, 1);\n        //         }\n        //         else {\n        //             this._content.size(cw, ch);\n        //             this._content.pos(0, 0);\n        //         }\n        //         return;\n        //     }\n        // }\n        // var sx: number = 1, sy: number = 1;\n        // if (this._fill != LoaderFillType.None) {\n        //     sx = this.width / this.sourceWidth;\n        //     sy = this.height / this.sourceHeight;\n        //     if (sx != 1 || sy != 1) {\n        //         if (this._fill == LoaderFillType.ScaleMatchHeight)\n        //             sx = sy;\n        //         else if (this._fill == LoaderFillType.ScaleMatchWidth)\n        //             sy = sx;\n        //         else if (this._fill == LoaderFillType.Scale) {\n        //             if (sx > sy)\n        //                 sx = sy;\n        //             else\n        //                 sy = sx;\n        //         }\n        //         else if (this._fill == LoaderFillType.ScaleNoBorder) {\n        //             if (sx > sy)\n        //                 sy = sx;\n        //             else\n        //                 sx = sy;\n        //         }\n        //         if (this._shrinkOnly) {\n        //             if (sx > 1)\n        //                 sx = 1;\n        //             if (sy > 1)\n        //                 sy = 1;\n        //         }\n        //         cw = this.sourceWidth * sx;\n        //         ch = this.sourceHeight * sy;\n        //     }\n        // }\n        // if (this._content2)\n        //     this._content2.setScale(sx, sy);\n        // else\n        //     this._content.size(cw, ch);\n        // var nx: number, ny: number;\n        // if (this._align == \"center\")\n        //     nx = Math.floor((this.width - cw) / 2);\n        // else if (this._align == \"right\")\n        //     nx = this.width - cw;\n        // else\n        //     nx = 0;\n        // if (this._valign == \"middle\")\n        //     ny = Math.floor((this.height - ch) / 2);\n        // else if (this._valign == \"bottom\")\n        //     ny = this.height - ch;\n        // else\n        //     ny = 0;\n        // if (this._content2)\n        //     this._content2.setXY(nx, ny);\n        // else\n        //     this._content.pos(nx, ny);\n    }\n    clearContent() {\n        this.clearErrorState();\n        if (!this._contentItem && this._content.texture) {\n            this.freeExternal(this._content.texture);\n        }\n        this._content.texture = null;\n        this._content.frames = null;\n        if (this._content2) {\n            this._content2.dispose();\n            this._content2 = null;\n        }\n        this._contentItem = null;\n    }\n    handleSizeChanged() {\n        super.handleSizeChanged();\n        if (!this._updatingLayout)\n            this.updateLayout();\n    }\n    getProp(index) {\n        switch (index) {\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ObjectPropID\"].Color:\n                return this.color;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ObjectPropID\"].Playing:\n                return this.playing;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ObjectPropID\"].Frame:\n                return this.frame;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ObjectPropID\"].TimeScale:\n                return this._content.timeScale;\n            default:\n                return super.getProp(index);\n        }\n    }\n    setProp(index, value) {\n        switch (index) {\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ObjectPropID\"].Color:\n                this.color = value;\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ObjectPropID\"].Playing:\n                this.playing = value;\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ObjectPropID\"].Frame:\n                this.frame = value;\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ObjectPropID\"].TimeScale:\n                this._content.timeScale = value;\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ObjectPropID\"].DeltaTime:\n                this._content.advance(value);\n                break;\n            default:\n                super.setProp(index, value);\n                break;\n        }\n    }\n    setup_beforeAdd(buffer, beginPos) {\n        super.setup_beforeAdd(buffer, beginPos);\n        buffer.seek(beginPos, 5);\n        var iv;\n        this._url = buffer.readS();\n        iv = buffer.readByte();\n        this._align = iv == 0 ? \"left\" : (iv == 1 ? \"center\" : \"right\");\n        iv = buffer.readByte();\n        this._valign = iv == 0 ? \"top\" : (iv == 1 ? \"middle\" : \"bottom\");\n        this._fill = buffer.readByte();\n        this._shrinkOnly = buffer.readBool();\n        this._autoSize = buffer.readBool();\n        this._showErrorSign = buffer.readBool();\n        this._content.playing = buffer.readBool();\n        this._content.frame = buffer.readInt();\n        if (buffer.readBool())\n            this.color = buffer.readColorS();\n        this._content.fillMethod = buffer.readByte();\n        if (this._content.fillMethod != 0) {\n            this._content.fillOrigin = buffer.readByte();\n            this._content.fillClockwise = buffer.readBool();\n            this._content.fillAmount = buffer.readFloat();\n        }\n        if (this._url)\n            this.loadContent();\n    }\n}\nGLoader._errorSignPool = new _GObjectPool__WEBPACK_IMPORTED_MODULE_4__[\"GObjectPool\"]();\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/GLoader.ts?");

/***/ }),

/***/ "./src/GMovieClip.ts":
/*!***************************!*\
  !*** ./src/GMovieClip.ts ***!
  \***************************/
/*! exports provided: GMovieClip */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GMovieClip\", function() { return GMovieClip; });\n/* harmony import */ var _FieldTypes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FieldTypes */ \"./src/FieldTypes.ts\");\n/* harmony import */ var _GObject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GObject */ \"./src/GObject.ts\");\n\n\nclass GMovieClip extends _GObject__WEBPACK_IMPORTED_MODULE_1__[\"GObject\"] {\n    constructor() {\n        super();\n    }\n    get color() {\n        return this._movieClip.color;\n    }\n    set color(value) {\n        this._movieClip.color = value;\n    }\n    createDisplayObject() {\n        throw new Error(\"TODO\");\n        // this._displayObject = this._movieClip = new MovieClip();\n        // this._movieClip.mouseEnabled = false;\n        // this._displayObject[\"$owner\"] = this;\n    }\n    get playing() {\n        return this._movieClip.playing;\n    }\n    set playing(value) {\n        if (this._movieClip.playing != value) {\n            this._movieClip.playing = value;\n            this.updateGear(5);\n        }\n    }\n    get frame() {\n        return this._movieClip.frame;\n    }\n    set frame(value) {\n        if (this._movieClip.frame != value) {\n            this._movieClip.frame = value;\n            this.updateGear(5);\n        }\n    }\n    get timeScale() {\n        return this._movieClip.timeScale;\n    }\n    set timeScale(value) {\n        this._movieClip.timeScale = value;\n    }\n    rewind() {\n        this._movieClip.rewind();\n    }\n    syncStatus(anotherMc) {\n        this._movieClip.syncStatus(anotherMc._movieClip);\n    }\n    advance(timeInMiniseconds) {\n        this._movieClip.advance(timeInMiniseconds);\n    }\n    //从start帧开始，播放到end帧（-1表示结尾），重复times次（0表示无限循环），循环结束后，停止在endAt帧（-1表示参数end）\n    setPlaySettings(start, end, times, endAt, endHandler) {\n        this._movieClip.setPlaySettings(start, end, times, endAt, endHandler);\n    }\n    getProp(index) {\n        switch (index) {\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].Color:\n                return this.color;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].Playing:\n                return this.playing;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].Frame:\n                return this.frame;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].TimeScale:\n                return this.timeScale;\n            default:\n                return super.getProp(index);\n        }\n    }\n    setProp(index, value) {\n        switch (index) {\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].Color:\n                this.color = value;\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].Playing:\n                this.playing = value;\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].Frame:\n                this.frame = value;\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].TimeScale:\n                this.timeScale = value;\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].DeltaTime:\n                this.advance(value);\n                break;\n            default:\n                super.setProp(index, value);\n                break;\n        }\n    }\n    constructFromResource() {\n        var displayItem = this.packageItem.getBranch();\n        this.sourceWidth = displayItem.width;\n        this.sourceHeight = displayItem.height;\n        this.initWidth = this.sourceWidth;\n        this.initHeight = this.sourceHeight;\n        this.setSize(this.sourceWidth, this.sourceHeight);\n        displayItem = displayItem.getHighResolution();\n        displayItem.load();\n        this._movieClip.interval = displayItem.interval;\n        this._movieClip.swing = displayItem.swing;\n        this._movieClip.repeatDelay = displayItem.repeatDelay;\n        this._movieClip.frames = displayItem.frames;\n    }\n    setup_beforeAdd(buffer, beginPos) {\n        super.setup_beforeAdd(buffer, beginPos);\n        buffer.seek(beginPos, 5);\n        if (buffer.readBool())\n            this.color = buffer.readColorS();\n        buffer.readByte(); //flip\n        this._movieClip.frame = buffer.readInt();\n        this._movieClip.playing = buffer.readBool();\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/GMovieClip.ts?");

/***/ }),

/***/ "./src/GObject.ts":
/*!************************!*\
  !*** ./src/GObject.ts ***!
  \************************/
/*! exports provided: DisplayStyle, GObject, BlendMode */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DisplayStyle\", function() { return DisplayStyle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GObject\", function() { return GObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BlendMode\", function() { return BlendMode; });\n/* harmony import */ var _UIConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UIConfig */ \"./src/UIConfig.ts\");\n/* harmony import */ var _utils_ToolSet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/ToolSet */ \"./src/utils/ToolSet.ts\");\n/* harmony import */ var _GRoot__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GRoot */ \"./src/GRoot.ts\");\n/* harmony import */ var _FieldTypes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FieldTypes */ \"./src/FieldTypes.ts\");\n/* harmony import */ var _Events__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Events */ \"./src/Events.ts\");\n/* harmony import */ var _gears_GearBase__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./gears/GearBase */ \"./src/gears/GearBase.ts\");\n/* harmony import */ var _GGroup__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./GGroup */ \"./src/GGroup.ts\");\n/* harmony import */ var _Relations__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Relations */ \"./src/Relations.ts\");\n/* harmony import */ var _event_DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./event/DisplayObjectEvent */ \"./src/event/DisplayObjectEvent.ts\");\n\n\n\n\n\n\n\n\n\nclass DisplayStyle {\n    constructor() {\n        /**水平缩放 */\n        this.scaleX = 1;\n        /**垂直缩放 */\n        this.scaleY = 1;\n        /**水平倾斜角度 */\n        this.skewX = 0;\n        /**垂直倾斜角度 */\n        this.skewY = 0;\n        /**X轴心点 */\n        this.pivotX = 0;\n        /**Y轴心点 */\n        this.pivotY = 0;\n        /**旋转角度 */\n        this.rotation = 0;\n        /**透明度 */\n        this.alpha = 1;\n    }\n}\nDisplayStyle.EMPTY = new DisplayStyle();\nclass GObject {\n    constructor() {\n        this._x = 0;\n        this._y = 0;\n        this._alpha = 1;\n        this._rotation = 0;\n        this._visible = true;\n        this._dpr = 1;\n        // 可交互默认false\n        this._touchable = false;\n        this._scaleX = 1;\n        this._scaleY = 1;\n        this._skewX = 0;\n        this._skewY = 0;\n        this._pivotX = 0;\n        this._pivotY = 0;\n        this._pivotOffsetX = 0;\n        this._pivotOffsetY = 0;\n        this._sortingOrder = 0;\n        this._internalVisible = true;\n        this._yOffset = 0;\n        this.minWidth = 0;\n        this.minHeight = 0;\n        this.maxWidth = 0;\n        this.maxHeight = 0;\n        this.sourceWidth = 0;\n        this.sourceHeight = 0;\n        this.initWidth = 0;\n        this.initHeight = 0;\n        this._width = 0;\n        this._height = 0;\n        this._rawWidth = 0;\n        this._rawHeight = 0;\n        this._sizePercentInGroup = 0;\n        this._id = \"\" + _gInstanceCounter++;\n        this._name = \"\";\n        // todo 优先传入scene在创建display\n        // this.createDisplayObject();\n        this._displayStyle = new DisplayStyle();\n        this._relations = new _Relations__WEBPACK_IMPORTED_MODULE_7__[\"Relations\"](this);\n        this._gears = new Array(10);\n    }\n    get dpr() {\n        return this._dpr;\n    }\n    set dpr(value) {\n        this._dpr = value;\n    }\n    get id() {\n        return this._id;\n    }\n    set id(value) {\n        this._id = value;\n    }\n    get name() {\n        return this._name;\n    }\n    set name(value) {\n        this._name = value;\n    }\n    get x() {\n        return this._x;\n    }\n    set x(value) {\n        this.setXY(value, this._y);\n    }\n    get y() {\n        return this._y;\n    }\n    set y(value) {\n        this.setXY(this._x, value);\n    }\n    get scene() {\n        return this._scene;\n    }\n    set scene(value) {\n        this._scene = value;\n    }\n    get timeEvent() {\n        return this._timeEvent;\n    }\n    set timeEvent(value) {\n        this._timeEvent = value;\n    }\n    setXY(xv, yv) {\n        if (this._x != xv || this._y != yv) {\n            var dx = xv - this._x;\n            var dy = yv - this._y;\n            this._x = xv;\n            this._y = yv;\n            this.handleXYChanged();\n            if (this instanceof _GGroup__WEBPACK_IMPORTED_MODULE_6__[\"GGroup\"])\n                this.moveChildren(dx, dy);\n            this.updateGear(1);\n            // if (this._parent && !(this._parent instanceof GList)) {\n            if (this._parent) {\n                this._parent.setBoundsChangedFlag();\n                if (this._group)\n                    this._group.setBoundsChangedFlag(true);\n                this.displayObject.emit(_Events__WEBPACK_IMPORTED_MODULE_4__[\"Events\"].XY_CHANGED);\n            }\n            if (GObject.draggingObject == this && !sUpdateInDragging)\n                this.localToGlobalRect(0, 0, this.width, this.height, sGlobalRect);\n        }\n    }\n    get xMin() {\n        return this._pivotAsAnchor ? (this._x - this._width * this._pivotX) : this._x;\n    }\n    set xMin(value) {\n        if (this._pivotAsAnchor)\n            this.setXY(value + this._width * this._pivotX, this._y);\n        else\n            this.setXY(value, this._y);\n    }\n    get yMin() {\n        return this._pivotAsAnchor ? (this._y - this._height * this._pivotY) : this._y;\n    }\n    set yMin(value) {\n        if (this._pivotAsAnchor)\n            this.setXY(this._x, value + this._height * this._pivotY);\n        else\n            this.setXY(this._x, value);\n    }\n    get pixelSnapping() {\n        return this._pixelSnapping;\n    }\n    set pixelSnapping(value) {\n        if (this._pixelSnapping != value) {\n            this._pixelSnapping = value;\n            this.handleXYChanged();\n        }\n    }\n    center(restraint) {\n        let r;\n        if (this._parent)\n            r = this.parent;\n        else\n            r = this.root;\n        this.setXY((r.width - this.width) / 2, (r.height - this.height) / 2);\n        if (restraint) {\n            this.addRelation(r, _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"RelationType\"].Center_Center);\n            this.addRelation(r, _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"RelationType\"].Middle_Middle);\n        }\n    }\n    get width() {\n        this.ensureSizeCorrect();\n        if (this._relations.sizeDirty)\n            this._relations.ensureRelationsSizeCorrect();\n        return this._width;\n    }\n    set width(value) {\n        this.setSize(value, this._rawHeight);\n    }\n    get height() {\n        this.ensureSizeCorrect();\n        if (this._relations.sizeDirty)\n            this._relations.ensureRelationsSizeCorrect();\n        return this._height;\n    }\n    set height(value) {\n        this.setSize(this._rawWidth, value);\n    }\n    setSize(wv, hv, ignorePivot) {\n        if (this._rawWidth != wv || this._rawHeight != hv) {\n            this._rawWidth = wv;\n            this._rawHeight = hv;\n            if (wv < this.minWidth)\n                wv = this.minWidth;\n            if (hv < this.minHeight)\n                hv = this.minHeight;\n            if (this.maxWidth > 0 && wv > this.maxWidth)\n                wv = this.maxWidth;\n            if (this.maxHeight > 0 && hv > this.maxHeight)\n                hv = this.maxHeight;\n            var dWidth = wv - this._width;\n            var dHeight = hv - this._height;\n            this._width = wv;\n            this._height = hv;\n            this.handleSizeChanged();\n            if (this._pivotX != 0 || this._pivotY != 0) {\n                if (!this._pivotAsAnchor) {\n                    if (!ignorePivot)\n                        this.setXY(this.x - this._pivotX * dWidth, this.y - this._pivotY * dHeight);\n                    this.updatePivotOffset();\n                }\n                else\n                    this.applyPivot();\n            }\n            if (this instanceof _GGroup__WEBPACK_IMPORTED_MODULE_6__[\"GGroup\"])\n                this.resizeChildren(dWidth, dHeight);\n            this.updateGear(2);\n            if (this._parent) {\n                this._relations.onOwnerSizeChanged(dWidth, dHeight, this._pivotAsAnchor || !ignorePivot);\n                this._parent.setBoundsChangedFlag();\n                if (this._group)\n                    this._group.setBoundsChangedFlag();\n            }\n            this.displayObject.emit(_Events__WEBPACK_IMPORTED_MODULE_4__[\"Events\"].SIZE_CHANGED);\n        }\n    }\n    ensureSizeCorrect() {\n    }\n    makeFullScreen() {\n        this.setSize(_GRoot__WEBPACK_IMPORTED_MODULE_2__[\"GRoot\"].inst.width, _GRoot__WEBPACK_IMPORTED_MODULE_2__[\"GRoot\"].inst.height);\n    }\n    get actualWidth() {\n        return this.width * Math.abs(this._scaleX);\n    }\n    get actualHeight() {\n        return this.height * Math.abs(this._scaleY);\n    }\n    get scaleX() {\n        return this._scaleX;\n    }\n    set scaleX(value) {\n        this.setScale(value, this._scaleY);\n    }\n    get scaleY() {\n        return this._scaleY;\n    }\n    set scaleY(value) {\n        this.setScale(this._scaleX, value);\n    }\n    setScale(sx, sy) {\n        if (this._scaleX != sx || this._scaleY != sy) {\n            this._scaleX = sx;\n            this._scaleY = sy;\n            this.handleScaleChanged();\n            this.applyPivot();\n            this.updateGear(2);\n        }\n    }\n    get skewX() {\n        return this._skewX;\n    }\n    set skewX(value) {\n        this.setSkew(value, this._skewY);\n    }\n    get skewY() {\n        return this._skewY;\n    }\n    set skewY(value) {\n        this.setSkew(this._skewX, value);\n    }\n    setSkew(sx, sy) {\n        if (this._skewX != sx || this._skewY != sy) {\n            this._skewX = sx;\n            this._skewY = sy;\n            if (this._displayObject) {\n                this._displayStyle.skewX = -sx,\n                    this._displayStyle.skewY = sy;\n                this._adjustTransform();\n                // this._displayObject.skew(-sx, sy);\n                this.applyPivot();\n            }\n        }\n    }\n    _adjustTransform() {\n        var sx = this._displayStyle.scaleX, sy = this._displayStyle.scaleY;\n        var sskx = this._displayStyle.skewX;\n        var ssky = this._displayStyle.skewY;\n        var rot = this._displayStyle.rotation;\n        const m = this._displayObject.getLocalTransformMatrix();\n        // var m: Matrix = this._transform || (this._transform = this._createTransform());\n        if (rot || sx !== 1 || sy !== 1 || sskx !== 0 || ssky !== 0) {\n            // m._bTransform = true;\n            var skx = (rot - sskx) * 0.0174532922222222; //laya.CONST.PI180;\n            var sky = (rot + ssky) * 0.0174532922222222;\n            var cx = Math.cos(sky);\n            var ssx = Math.sin(sky);\n            var cy = Math.sin(skx);\n            var ssy = Math.cos(skx);\n            m.a = sx * cx;\n            m.b = sx * ssx;\n            m.c = -sy * cy;\n            m.d = sy * ssy;\n            m.tx = m.ty = 0;\n        }\n        else {\n            m.loadIdentity();\n            // this._renderType &= ~SpriteConst.TRANSFORM;\n            // this._setRenderType(this._renderType);\n        }\n        return m;\n    }\n    get pivotX() {\n        return this._pivotX;\n    }\n    set pivotX(value) {\n        this.setPivot(value, this._pivotY);\n    }\n    get pivotY() {\n        return this._pivotY;\n    }\n    set pivotY(value) {\n        this.setPivot(this._pivotX, value);\n    }\n    setPivot(xv, yv = 0, asAnchor) {\n        if (this._pivotX != xv || this._pivotY != yv || this._pivotAsAnchor != asAnchor) {\n            this._pivotX = xv;\n            this._pivotY = yv;\n            this._pivotAsAnchor = asAnchor;\n            this.updatePivotOffset();\n            this.handleXYChanged();\n        }\n    }\n    get pivotAsAnchor() {\n        return this._pivotAsAnchor;\n    }\n    internalSetPivot(xv, yv, asAnchor) {\n        this._pivotX = xv;\n        this._pivotY = yv;\n        this._pivotAsAnchor = asAnchor;\n        if (this._pivotAsAnchor)\n            this.handleXYChanged();\n    }\n    updatePivotOffset() {\n        if (this._displayObject) {\n            const transform = this._displayObject.getLocalTransformMatrix();\n            if (transform && (this._pivotX != 0 || this._pivotY != 0)) {\n                sHelperPoint.x = this._pivotX * this._width;\n                sHelperPoint.y = this._pivotY * this._height;\n                const pt = new Phaser.Geom.Point();\n                transform.transformPoint(this._pivotX * this._width, this._pivotY * this._height, pt);\n                this._pivotOffsetX = this._pivotX * this._width - pt.x;\n                this._pivotOffsetY = this._pivotY * this._height - pt.y;\n            }\n            else {\n                this._pivotOffsetX = 0;\n                this._pivotOffsetY = 0;\n            }\n        }\n    }\n    applyPivot() {\n        if (this._pivotX != 0 || this._pivotY != 0) {\n            this.updatePivotOffset();\n            this.handleXYChanged();\n        }\n    }\n    get touchable() {\n        return this._touchable;\n    }\n    set touchable(value) {\n        if (this._touchable != value) {\n            this._touchable = value;\n            this.updateGear(3);\n            // if ((this instanceof GImage) || (this instanceof GMovieClip)\n            //     || (this instanceof GTextField) && !(this instanceof GTextInput) && !(this instanceof GRichTextField))\n            //     //Touch is not supported by GImage/GMovieClip/GTextField\n            //     return;\n            if (this._displayObject)\n                if (this._touchable) {\n                    this._displayObject.setInteractive(new Phaser.Geom.Rectangle(0, 0, this._width / this.scaleX, this._height / this.scaleY), Phaser.Geom.Rectangle.Contains);\n                }\n                else {\n                    this._displayObject.disableInteractive();\n                }\n        }\n    }\n    get grayed() {\n        return this._grayed;\n    }\n    set grayed(value) {\n        if (this._grayed != value) {\n            this._grayed = value;\n            this.handleGrayedChanged();\n            this.updateGear(3);\n        }\n    }\n    get enabled() {\n        return !this._grayed && this._touchable;\n    }\n    set enabled(value) {\n        this.grayed = !value;\n        this.touchable = value;\n    }\n    get rotation() {\n        return this._rotation;\n    }\n    set rotation(value) {\n        if (this._rotation != value) {\n            this._rotation = value;\n            if (this._displayObject) {\n                this._displayObject.rotation = this.normalizeRotation;\n                this.applyPivot();\n            }\n            this.updateGear(3);\n        }\n    }\n    get normalizeRotation() {\n        var rot = this._rotation % 360;\n        if (rot > 180)\n            rot = rot - 360;\n        else if (rot < -180)\n            rot = 360 + rot;\n        return rot;\n    }\n    get alpha() {\n        return this._alpha;\n    }\n    set alpha(value) {\n        if (this._alpha != value) {\n            this._alpha = value;\n            this.handleAlphaChanged();\n            this.updateGear(3);\n        }\n    }\n    get visible() {\n        return this._visible;\n    }\n    set visible(value) {\n        if (this._visible != value) {\n            this._visible = value;\n            this.handleVisibleChanged();\n            if (this._parent)\n                this._parent.setBoundsChangedFlag();\n            if (this._group && this._group.excludeInvisibles)\n                this._group.setBoundsChangedFlag();\n        }\n    }\n    get internalVisible() {\n        return this._internalVisible && (!this._group || this._group.internalVisible)\n            && !this._displayObject._cacheStyle.maskParent;\n    }\n    get internalVisible2() {\n        return this._visible && (!this._group || this._group.internalVisible2);\n    }\n    get internalVisible3() {\n        return this._internalVisible && this._visible;\n    }\n    get sortingOrder() {\n        return this._sortingOrder;\n    }\n    set sortingOrder(value) {\n        if (value < 0)\n            value = 0;\n        if (this._sortingOrder != value) {\n            var old = this._sortingOrder;\n            this._sortingOrder = value;\n            if (this._parent)\n                this._parent.childSortingOrderChanged(this, old, this._sortingOrder);\n        }\n    }\n    get focused() {\n        return this.root.focus == this;\n    }\n    requestFocus() {\n        this.root.focus = this;\n    }\n    get tooltips() {\n        return this._tooltips;\n    }\n    set tooltips(value) {\n        if (this._tooltips) {\n            this.off(_event_DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_8__[\"InteractiveEvent\"].GAMEOBJECT_OVER, this.__rollOver);\n            this.off(_event_DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_8__[\"InteractiveEvent\"].GAMEOBJECT_OUT, this.__rollOut);\n        }\n        this._tooltips = value;\n        if (this._tooltips) {\n            this.on(_event_DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_8__[\"InteractiveEvent\"].GAMEOBJECT_OVER, this.__rollOver);\n            this.on(_event_DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_8__[\"InteractiveEvent\"].GAMEOBJECT_OUT, this.__rollOut);\n        }\n    }\n    __rollOver(evt) {\n        this._timeEvent = _GRoot__WEBPACK_IMPORTED_MODULE_2__[\"GRoot\"].inst.addTimeEvent(new Phaser.Time.TimerEvent({ delay: 100, callback: this.__doShowTooltips }));\n        // Laya.timer.once(100, this, this.__doShowTooltips);\n    }\n    __doShowTooltips() {\n        // var r: GRoot = this.root;\n        // if (r)\n        // this.root.showTooltips(this._tooltips);\n    }\n    __rollOut(evt) {\n        if (this._timeEvent)\n            _GRoot__WEBPACK_IMPORTED_MODULE_2__[\"GRoot\"].inst.removeTimeEvent(this._timeEvent);\n        // Laya.timer.clear(this, this.__doShowTooltips);\n        // this.root.hideTooltips();\n    }\n    get blendMode() {\n        return this._displayObject.blendMode;\n    }\n    set blendMode(value) {\n        this._displayObject.blendMode = value;\n    }\n    get filters() {\n        return null; // this._displayObject.filters;\n    }\n    set filters(value) {\n        // this._displayObject.filters = value;\n    }\n    get inContainer() {\n        return this._displayObject != null && this._displayObject.parentContainer != null;\n    }\n    get onStage() {\n        return this._displayObject != null;\n        // return this._displayObject != null && this._displayObject.stage != null;\n    }\n    get resourceURL() {\n        if (this.packageItem)\n            return \"ui://\" + this.packageItem.owner.id + this.packageItem.id;\n        else\n            return null;\n    }\n    set group(value) {\n        if (this._group != value) {\n            if (this._group)\n                this._group.setBoundsChangedFlag();\n            this._group = value;\n            if (this._group)\n                this._group.setBoundsChangedFlag();\n        }\n    }\n    get group() {\n        return this._group;\n    }\n    getGear(index) {\n        var gear = this._gears[index];\n        if (!gear)\n            this._gears[index] = gear = _gears_GearBase__WEBPACK_IMPORTED_MODULE_5__[\"GearBase\"].create(this, index);\n        return gear;\n    }\n    updateGear(index) {\n        if (this._underConstruct || this._gearLocked)\n            return;\n        var gear = this._gears[index];\n        if (gear && gear.controller)\n            gear.updateState();\n    }\n    checkGearController(index, c) {\n        return this._gears[index] && this._gears[index].controller == c;\n    }\n    updateGearFromRelations(index, dx, dy) {\n        if (this._gears[index])\n            this._gears[index].updateFromRelations(dx, dy);\n    }\n    addDisplayLock() {\n        var gearDisplay = (this._gears[0]);\n        if (gearDisplay && gearDisplay.controller) {\n            var ret = gearDisplay.addLock();\n            this.checkGearDisplay();\n            return ret;\n        }\n        else\n            return 0;\n    }\n    releaseDisplayLock(token) {\n        var gearDisplay = (this._gears[0]);\n        if (gearDisplay && gearDisplay.controller) {\n            gearDisplay.releaseLock(token);\n            this.checkGearDisplay();\n        }\n    }\n    checkGearDisplay() {\n        if (this._handlingController)\n            return;\n        var connected = !this._gears[0] || (this._gears[0]).connected;\n        if (this._gears[8])\n            connected = this._gears[8].evaluate(connected);\n        if (connected != this._internalVisible) {\n            this._internalVisible = connected;\n            if (this._parent) {\n                this._parent.childStateChanged(this);\n                if (this._group && this._group.excludeInvisibles)\n                    this._group.setBoundsChangedFlag();\n            }\n        }\n    }\n    get relations() {\n        return this._relations;\n    }\n    addRelation(target, relationType, usePercent) {\n        this._relations.add(target, relationType, usePercent);\n    }\n    removeRelation(target, relationType) {\n        this._relations.remove(target, relationType);\n    }\n    get displayObject() {\n        return this._displayObject;\n    }\n    get parent() {\n        return this._parent;\n    }\n    set parent(val) {\n        this._parent = val;\n    }\n    removeFromParent() {\n        if (this._parent)\n            this._parent.removeChild(this);\n    }\n    get root() {\n        if (this instanceof _GRoot__WEBPACK_IMPORTED_MODULE_2__[\"GRoot\"])\n            return this;\n        let p = this._parent;\n        while (p) {\n            if (p instanceof _GRoot__WEBPACK_IMPORTED_MODULE_2__[\"GRoot\"])\n                return p;\n            p = p.parent;\n        }\n        return _GRoot__WEBPACK_IMPORTED_MODULE_2__[\"GRoot\"].inst;\n    }\n    get asCom() {\n        return this;\n    }\n    // public get asButton(): GButton {\n    //     return <GButton><any>this;\n    // }\n    // public get asLabel(): GLabel {\n    //     return <GLabel><any>this;\n    // }\n    // public get asProgress(): GProgressBar {\n    //     return <GProgressBar><any>this;\n    // }\n    // public get asTextField(): GTextField {\n    //     return <GTextField><any>this;\n    // }\n    // public get asRichTextField(): GRichTextField {\n    //     return <GRichTextField><any>this;\n    // }\n    // public get asTextInput(): GTextInput {\n    //     return <GTextInput><any>this;\n    // }\n    // public get asLoader(): GLoader {\n    //     return <GLoader><any>this;\n    // }\n    // public get asList(): GList {\n    //     return <GList><any>this;\n    // }\n    get asTree() {\n        return this;\n    }\n    // public get asGraph(): GGraph {\n    //     return <GGraph><any>this;\n    // }\n    get asGroup() {\n        return this;\n    }\n    // public get asSlider(): GSlider {\n    //     return <GSlider><any>this;\n    // }\n    // public get asComboBox(): GComboBox {\n    //     return <GComboBox><any>this;\n    // }\n    // public get asImage(): GImage {\n    //     return <GImage><any>this;\n    // }\n    // public get asMovieClip(): GMovieClip {\n    //     return <GMovieClip><any>this;\n    // }\n    get text() {\n        return null;\n    }\n    set text(value) {\n    }\n    get icon() {\n        return null;\n    }\n    set icon(value) {\n    }\n    get treeNode() {\n        return this._treeNode;\n    }\n    get isDisposed() {\n        return this._displayObject == null;\n    }\n    get scrollRect() {\n        return this._displayStyle && this._displayStyle.scrollRect;\n    }\n    set scrollRect(val) {\n        this._displayStyle.scrollRect = val;\n    }\n    /**\n     * <p>可以设置一个Rectangle区域作为点击区域，或者设置一个<code>HitArea</code>实例作为点击区域，HitArea内可以设置可点击和不可点击区域。</p>\n     * <p>如果不设置hitArea，则根据宽高形成的区域进行碰撞。</p>\n    */\n    get hitArea() {\n        return this._displayStyle.hitArea;\n    }\n    set hitArea(value) {\n        this._displayStyle.hitArea = value;\n    }\n    dispose() {\n        this.removeFromParent();\n        this._relations.dispose();\n        this._displayObject.destroy();\n        this._displayObject = null;\n        for (var i = 0; i < 10; i++) {\n            var gear = this._gears[i];\n            if (gear)\n                gear.dispose();\n        }\n    }\n    onClick(listener) {\n        this.on(_event_DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_8__[\"InteractiveEvent\"].GAMEOBJECT_UP, listener);\n    }\n    offClick(listener, once = false) {\n        this.off(_event_DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_8__[\"InteractiveEvent\"].GAMEOBJECT_UP, listener, once);\n    }\n    hasClickListener() {\n        return this._displayObject && this._touchable; // hasListener(InteractiveEvent.CLICK);\n    }\n    on(type, listener) {\n        this._displayObject.on(type, listener, this);\n    }\n    off(type, listener, once = false) {\n        this._displayObject.off(type, listener, this, once);\n    }\n    get draggable() {\n        return this._draggable;\n    }\n    set draggable(value) {\n        if (this._draggable != value) {\n            this._draggable = value;\n            this.initDrag();\n        }\n    }\n    get dragBounds() {\n        return this._dragBounds;\n    }\n    set dragBounds(value) {\n        this._dragBounds = value;\n    }\n    startDrag(touchID) {\n        // if (this._displayObject.stage == null)\n        //     return;\n        this.dragBegin(touchID);\n    }\n    stopDrag() {\n        this.dragEnd();\n    }\n    get dragging() {\n        return GObject.draggingObject == this;\n    }\n    localToGlobal(ax, ay, result) {\n        ax = ax || 0;\n        ay = ay || 0;\n        if (this._pivotAsAnchor) {\n            ax += this._pivotX * this._width;\n            ay += this._pivotY * this._height;\n        }\n        result = result || new Phaser.Geom.Point();\n        result.x = ax;\n        result.y = ay;\n        return this._localToGlobal(result, false);\n    }\n    _localToGlobal(point, createNewPoint = false) {\n        if (createNewPoint === true) {\n            point = new Phaser.Geom.Point(point.x, point.y);\n        }\n        let ele = this._displayObject;\n        while (ele) {\n            if (!ele.parentContainer)\n                break;\n            ele = ele.parentContainer;\n        }\n        return new Phaser.Geom.Point(ele.x, ele.y);\n    }\n    globalToLocal(ax, ay, result) {\n        ax = ax || 0;\n        ay = ay || 0;\n        result = result || new Phaser.Geom.Point();\n        result.x = ax;\n        result.y = ay;\n        result = this._globalToLocal(result, false);\n        if (this._pivotAsAnchor) {\n            result.x -= this._pivotX * this._width;\n            result.y -= this._pivotY * this._height;\n        }\n        return result;\n        // let ele: Phaser.GameObjects.Container = this._displayObject;\n        // let list: any[] = [];\n        // while (ele) {\n        //     list.push(ele);\n        //     if (!ele.parentContainer) break;\n        //     ele = ele.parentContainer;\n        // }\n        // var i: number = list.length - 1;\n        // while (i >= 0) {\n        //     ele = list[i];\n        //     i--;\n        // }\n        // return new Phaser.Geom.Point(ele.x, ele.y);\n    }\n    _globalToLocal(point, createNewPoint = false) {\n        if (createNewPoint) {\n            point = new Phaser.Geom.Point(point.x, point.y);\n        }\n        let ele = this._displayObject;\n        let list = [];\n        while (ele) {\n            list.push(ele);\n            if (!ele.parentContainer)\n                break;\n            ele = ele.parentContainer;\n        }\n        var i = list.length - 1;\n        while (i >= 0) {\n            ele = list[i];\n            point = this.fromParentPoint(point);\n            i--;\n        }\n        return point;\n    }\n    /**\n * 将本地坐标系坐标转转换到父容器坐标系。\n * @param point 本地坐标点。\n * @return  转换后的点。\n */\n    toParentPoint(point) {\n        if (!point)\n            return point;\n        point.x -= this.pivotX;\n        point.y -= this.pivotY;\n        const tmpPoint = new Phaser.Geom.Point();\n        if (this._displayObject) {\n            const matrix = this._displayObject.getLocalTransformMatrix();\n            matrix.transformPoint(point.x, point.y, tmpPoint);\n        }\n        tmpPoint.x += this._displayObject.x;\n        tmpPoint.y += this._displayObject.y;\n        var scroll = this._displayStyle.scrollRect;\n        if (scroll) {\n            point.x -= scroll.x;\n            point.y -= scroll.y;\n        }\n        return point;\n    }\n    /**\n     * 将父容器坐标系坐标转换到本地坐标系。\n     * @param point 父容器坐标点。\n     * @return  转换后的点。\n     */\n    fromParentPoint(point) {\n        if (!point)\n            return point;\n        point.x -= this._displayObject.x;\n        point.y -= this._displayObject.y;\n        var scroll = this._displayStyle.scrollRect;\n        if (scroll) {\n            point.x += scroll.x;\n            point.y += scroll.y;\n        }\n        const matrix = this._displayObject.getLocalTransformMatrix();\n        if (matrix) {\n            //_transform.setTranslate(0,0);\n            this.invertTransformPoint(point);\n        }\n        point.x += this.pivotX;\n        point.y += this.pivotY;\n        return point;\n    }\n    /**\n * 对指定的点应用当前矩阵的逆转化并返回此点。\n * @param\tout 待转化的点 Point 对象。\n * @return\t返回out\n */\n    invertTransformPoint(out) {\n        const matrix = this._displayObject.getLocalTransformMatrix();\n        var a1 = matrix.a;\n        var b1 = matrix.b;\n        var c1 = matrix.c;\n        var d1 = matrix.d;\n        var tx1 = matrix.tx;\n        var n = a1 * d1 - b1 * c1;\n        var a2 = d1 / n;\n        var b2 = -b1 / n;\n        var c2 = -c1 / n;\n        var d2 = a1 / n;\n        var tx2 = (c1 * matrix.ty - d1 * tx1) / n;\n        var ty2 = -(a1 * matrix.ty - b1 * tx1) / n;\n        return out.setTo(a2 * out.x + c2 * out.y + tx2, b2 * out.x + d2 * out.y + ty2);\n    }\n    localToGlobalRect(ax, ay, aw, ah, result) {\n        ax = ax || 0;\n        ay = ay || 0;\n        aw = aw || 0;\n        ah = ah || 0;\n        result = result || new Phaser.Geom.Rectangle();\n        var pt = this.localToGlobal(ax, ay);\n        result.x = pt.x;\n        result.y = pt.y;\n        pt = this.localToGlobal(ax + aw, ay + ah);\n        result.width = pt.x - result.x;\n        result.height = pt.y - result.y;\n        return result;\n    }\n    globalToLocalRect(ax, ay, aw, ah, result) {\n        ax = ax || 0;\n        ay = ay || 0;\n        aw = aw || 0;\n        ah = ah || 0;\n        result = result || new Phaser.Geom.Rectangle();\n        var pt = this.globalToLocal(ax, ay);\n        result.x = pt.x;\n        result.y = pt.y;\n        pt = this.globalToLocal(ax + aw, ay + ah);\n        result.width = pt.x - result.x;\n        result.height = pt.y - result.y;\n        return result;\n    }\n    handleControllerChanged(c) {\n        this._handlingController = true;\n        for (var i = 0; i < 10; i++) {\n            var gear = this._gears[i];\n            if (gear && gear.controller == c)\n                gear.apply();\n        }\n        this._handlingController = false;\n        this.checkGearDisplay();\n    }\n    createDisplayObject() {\n        this._displayObject = new Phaser.GameObjects.Container(this.scene);\n        this._displayObject[\"$owner\"] = this;\n    }\n    setDisplayObject(val) {\n        this._displayObject = val;\n        this._displayObject[\"$owner\"] = this;\n    }\n    handleXYChanged() {\n        var xv = this._x;\n        var yv = this._y + this._yOffset;\n        if (this._pivotAsAnchor) {\n            xv -= this._pivotX * this._width;\n            yv -= this._pivotY * this._height;\n        }\n        if (this._pixelSnapping) {\n            xv = Math.round(xv);\n            yv = Math.round(yv);\n        }\n        this._displayObject.setPosition(xv + this._pivotOffsetX, yv + this._pivotOffsetY);\n    }\n    handleSizeChanged() {\n        this._displayObject.setSize(this._width, this._height);\n    }\n    handleScaleChanged() {\n        this._displayObject.setScale(this._scaleX, this._scaleY);\n    }\n    handleGrayedChanged() {\n        _utils_ToolSet__WEBPACK_IMPORTED_MODULE_1__[\"ToolSet\"].setColorFilter(this._displayObject, this._grayed);\n    }\n    handleAlphaChanged() {\n        this._displayObject.alpha = this._alpha;\n    }\n    handleVisibleChanged() {\n        this._displayObject.visible = this.internalVisible2;\n    }\n    getProp(index) {\n        switch (index) {\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ObjectPropID\"].Text:\n                return this.text;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ObjectPropID\"].Icon:\n                return this.icon;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ObjectPropID\"].Color:\n                return null;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ObjectPropID\"].OutlineColor:\n                return null;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ObjectPropID\"].Playing:\n                return false;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ObjectPropID\"].Frame:\n                return 0;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ObjectPropID\"].DeltaTime:\n                return 0;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ObjectPropID\"].TimeScale:\n                return 1;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ObjectPropID\"].FontSize:\n                return 0;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ObjectPropID\"].Selected:\n                return false;\n            default:\n                return undefined;\n        }\n    }\n    setProp(index, value) {\n        switch (index) {\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ObjectPropID\"].Text:\n                this.text = value;\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_3__[\"ObjectPropID\"].Icon:\n                this.icon = value;\n                break;\n        }\n    }\n    constructFromResource() {\n    }\n    setup_beforeAdd(buffer, beginPos) {\n        buffer.seek(beginPos, 0);\n        buffer.skip(5);\n        var f1;\n        var f2;\n        this._id = buffer.readS();\n        this._name = buffer.readS();\n        f1 = buffer.readInt();\n        f2 = buffer.readInt();\n        this.setXY(f1, f2);\n        if (buffer.readBool()) {\n            this.initWidth = buffer.readInt();\n            this.initHeight = buffer.readInt();\n            this.setSize(this.initWidth, this.initHeight, true);\n        }\n        if (buffer.readBool()) {\n            this.minWidth = buffer.readInt();\n            this.maxWidth = buffer.readInt();\n            this.minHeight = buffer.readInt();\n            this.maxHeight = buffer.readInt();\n        }\n        if (buffer.readBool()) {\n            f1 = buffer.readShort();\n            f2 = buffer.readShort();\n            this.setScale(f1, f2);\n        }\n        if (buffer.readBool()) {\n            f1 = buffer.readShort();\n            f2 = buffer.readShort();\n            this.setSkew(f1, f2);\n        }\n        if (buffer.readBool()) {\n            f1 = buffer.readShort();\n            f2 = buffer.readShort();\n            this.setPivot(f1, f2, buffer.readBool());\n        }\n        f1 = buffer.readShort();\n        if (f1 != 1)\n            this.alpha = f1;\n        f1 = buffer.readShort();\n        if (f1 != 0)\n            this.rotation = f1;\n        if (!buffer.readBool())\n            this.visible = false;\n        if (!buffer.readBool())\n            this.touchable = false;\n        if (buffer.readBool())\n            this.grayed = true;\n        var bm = buffer.readByte();\n        if (BlendMode[bm])\n            this.blendMode = BlendMode[bm];\n        var filter = buffer.readByte();\n        if (filter == 1) {\n            _utils_ToolSet__WEBPACK_IMPORTED_MODULE_1__[\"ToolSet\"].setColorFilter(this._displayObject, [buffer.readFloat(), buffer.readFloat(), buffer.readFloat(), buffer.readFloat()]);\n        }\n        var str = buffer.readS();\n        if (str != null)\n            this.data = str;\n    }\n    setup_afterAdd(buffer, beginPos) {\n        buffer.seek(beginPos, 1);\n        var str = buffer.readS();\n        if (str != null)\n            this.tooltips = str;\n        var groupId = buffer.readShort();\n        if (groupId >= 0)\n            this.group = this.parent.getChildAt(groupId);\n        buffer.seek(beginPos, 2);\n        var cnt = buffer.readShort();\n        for (var i = 0; i < cnt; i++) {\n            var nextPos = buffer.readShort();\n            nextPos += buffer.position;\n            var gear = this.getGear(buffer.readByte());\n            gear.setup(buffer);\n            buffer.position = nextPos;\n        }\n    }\n    //drag support\n    //-------------------------------------------------------------------\n    initDrag() {\n        if (this._draggable)\n            this.on(_event_DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_8__[\"InteractiveEvent\"].GAMEOBJECT_DOWN, this.__begin);\n        else\n            this.off(_event_DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_8__[\"InteractiveEvent\"].GAMEOBJECT_DOWN, this.__begin);\n    }\n    dragBegin(touchID) {\n        if (GObject.draggingObject) {\n            let tmp = GObject.draggingObject;\n            tmp.stopDrag();\n            GObject.draggingObject = null;\n            _Events__WEBPACK_IMPORTED_MODULE_4__[\"Events\"].dispatch(_Events__WEBPACK_IMPORTED_MODULE_4__[\"Events\"].DRAG_END, tmp._displayObject, { touchId: touchID });\n        }\n        sGlobalDragStart.x = this.scene.input.activePointer.x; // Laya.stage.mouseX;\n        sGlobalDragStart.y = this.scene.input.activePointer.y; // Laya.stage.mouseY;\n        this.localToGlobalRect(0, 0, this.width, this.height, sGlobalRect);\n        this._dragTesting = true;\n        GObject.draggingObject = this;\n        this._displayObject.on(_event_DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_8__[\"InteractiveEvent\"].GAMEOBJECT_MOVE, this.__moving);\n        this._displayObject.on(_event_DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_8__[\"InteractiveEvent\"].GAMEOBJECT_UP, this.__end);\n    }\n    dragEnd() {\n        if (GObject.draggingObject == this) {\n            this.reset();\n            this._dragTesting = false;\n            GObject.draggingObject = null;\n        }\n        sDraggingQuery = false;\n    }\n    reset() {\n        this._displayObject.off(_event_DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_8__[\"InteractiveEvent\"].GAMEOBJECT_MOVE, this.__moving);\n        this._displayObject.off(_event_DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_8__[\"InteractiveEvent\"].GAMEOBJECT_UP, this.__end);\n    }\n    __begin() {\n        if (!this._dragStartPos)\n            this._dragStartPos = new Phaser.Geom.Point();\n        this._dragStartPos.x = this.scene.input.activePointer.x;\n        this._dragStartPos.y = this.scene.input.activePointer.y;\n        this._dragTesting = true;\n        this._displayObject.on(_event_DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_8__[\"InteractiveEvent\"].GAMEOBJECT_MOVE, this.__moving);\n        this._displayObject.on(_event_DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_8__[\"InteractiveEvent\"].GAMEOBJECT_UP, this.__end);\n    }\n    __moving(evt) {\n        if (GObject.draggingObject != this && this._draggable && this._dragTesting) {\n            var sensitivity = _UIConfig__WEBPACK_IMPORTED_MODULE_0__[\"UIConfig\"].touchDragSensitivity;\n            if (this._dragStartPos\n                && Math.abs(this._dragStartPos.x - this.scene.input.activePointer.x) < sensitivity\n                && Math.abs(this._dragStartPos.y - this.scene.input.activePointer.y) < sensitivity)\n                return;\n            this._dragTesting = false;\n            sDraggingQuery = true;\n            _Events__WEBPACK_IMPORTED_MODULE_4__[\"Events\"].dispatch(_Events__WEBPACK_IMPORTED_MODULE_4__[\"Events\"].DRAG_START, this._displayObject, evt);\n            if (sDraggingQuery)\n                this.dragBegin();\n        }\n        if (GObject.draggingObject == this) {\n            var xx = this.scene.input.activePointer.x - sGlobalDragStart.x + sGlobalRect.x;\n            var yy = this.scene.input.activePointer.y - sGlobalDragStart.y + sGlobalRect.y;\n            if (this._dragBounds) {\n                var rect = _GRoot__WEBPACK_IMPORTED_MODULE_2__[\"GRoot\"].inst.localToGlobalRect(this._dragBounds.x, this._dragBounds.y, this._dragBounds.width, this._dragBounds.height, sDragHelperRect);\n                if (xx < rect.x)\n                    xx = rect.x;\n                else if (xx + sGlobalRect.width > rect.right) {\n                    xx = rect.right - sGlobalRect.width;\n                    if (xx < rect.x)\n                        xx = rect.x;\n                }\n                if (yy < rect.y)\n                    yy = rect.y;\n                else if (yy + sGlobalRect.height > rect.bottom) {\n                    yy = rect.bottom - sGlobalRect.height;\n                    if (yy < rect.y)\n                        yy = rect.y;\n                }\n            }\n            sUpdateInDragging = true;\n            var pt = this.parent.globalToLocal(xx, yy, sHelperPoint);\n            this.setXY(Math.round(pt.x), Math.round(pt.y));\n            sUpdateInDragging = false;\n            _Events__WEBPACK_IMPORTED_MODULE_4__[\"Events\"].dispatch(_Events__WEBPACK_IMPORTED_MODULE_4__[\"Events\"].DRAG_MOVE, this._displayObject, evt);\n        }\n    }\n    __end(evt) {\n        if (GObject.draggingObject == this) {\n            GObject.draggingObject = null;\n            this.reset();\n            _Events__WEBPACK_IMPORTED_MODULE_4__[\"Events\"].dispatch(_Events__WEBPACK_IMPORTED_MODULE_4__[\"Events\"].DRAG_END, this._displayObject, evt);\n        }\n        else if (this._dragTesting) {\n            this._dragTesting = false;\n            this.reset();\n        }\n    }\n    //-------------------------------------------------------------------\n    static cast(sprite) {\n        return (sprite[\"$owner\"]);\n    }\n}\nconst BlendMode = {\n    2: Phaser.BlendModes.LIGHTER,\n    3: Phaser.BlendModes.MULTIPLY,\n    4: Phaser.BlendModes.SCREEN\n};\nvar _gInstanceCounter = 0;\nvar sGlobalDragStart = new Phaser.Geom.Point();\nvar sGlobalRect = new Phaser.Geom.Rectangle();\nvar sHelperPoint = new Phaser.Geom.Point();\nvar sDragHelperRect = new Phaser.Geom.Rectangle();\nvar sUpdateInDragging;\nvar sDraggingQuery;\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/GObject.ts?");

/***/ }),

/***/ "./src/GObjectPool.ts":
/*!****************************!*\
  !*** ./src/GObjectPool.ts ***!
  \****************************/
/*! exports provided: GObjectPool */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GObjectPool\", function() { return GObjectPool; });\n/* harmony import */ var _UIPackage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UIPackage */ \"./src/UIPackage.ts\");\n\nclass GObjectPool {\n    constructor() {\n        this._count = 0;\n        this._pool = {};\n    }\n    clear() {\n        for (var i1 in this._pool) {\n            var arr = this._pool[i1];\n            var cnt = arr.length;\n            for (var i = 0; i < cnt; i++)\n                arr[i].dispose();\n        }\n        this._pool = {};\n        this._count = 0;\n    }\n    get count() {\n        return this._count;\n    }\n    getObject(url) {\n        url = _UIPackage__WEBPACK_IMPORTED_MODULE_0__[\"UIPackage\"].normalizeURL(url);\n        if (url == null)\n            return null;\n        var arr = this._pool[url];\n        if (arr && arr.length > 0) {\n            this._count--;\n            return arr.shift();\n        }\n        var child = _UIPackage__WEBPACK_IMPORTED_MODULE_0__[\"UIPackage\"].createObjectFromURL(url);\n        return child;\n    }\n    returnObject(obj) {\n        var url = obj.resourceURL;\n        if (!url)\n            return;\n        var arr = this._pool[url];\n        if (arr == null) {\n            arr = [];\n            this._pool[url] = arr;\n        }\n        this._count++;\n        arr.push(obj);\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/GObjectPool.ts?");

/***/ }),

/***/ "./src/GProgressBar.ts":
/*!*****************************!*\
  !*** ./src/GProgressBar.ts ***!
  \*****************************/
/*! exports provided: GProgressBar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GProgressBar\", function() { return GProgressBar; });\n/* harmony import */ var _GLoader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GLoader */ \"./src/GLoader.ts\");\n/* harmony import */ var _GImage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GImage */ \"./src/GImage.ts\");\n/* harmony import */ var _utils_ToolSet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/ToolSet */ \"./src/utils/ToolSet.ts\");\n/* harmony import */ var _tween_EaseType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./tween/EaseType */ \"./src/tween/EaseType.ts\");\n/* harmony import */ var _FieldTypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./FieldTypes */ \"./src/FieldTypes.ts\");\n/* harmony import */ var _GComponent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./GComponent */ \"./src/GComponent.ts\");\n/* harmony import */ var _tween_GTween__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./tween/GTween */ \"./src/tween/GTween.ts\");\n\n\n\n\n\n\n\nclass GProgressBar extends _GComponent__WEBPACK_IMPORTED_MODULE_5__[\"GComponent\"] {\n    constructor() {\n        super();\n        this._min = 0;\n        this._max = 0;\n        this._value = 0;\n        this._barMaxWidth = 0;\n        this._barMaxHeight = 0;\n        this._barMaxWidthDelta = 0;\n        this._barMaxHeightDelta = 0;\n        this._barStartX = 0;\n        this._barStartY = 0;\n        this._titleType = _FieldTypes__WEBPACK_IMPORTED_MODULE_4__[\"ProgressTitleType\"].Percent;\n        this._value = 50;\n        this._max = 100;\n    }\n    get titleType() {\n        return this._titleType;\n    }\n    set titleType(value) {\n        if (this._titleType != value) {\n            this._titleType = value;\n            this.update(value);\n        }\n    }\n    get min() {\n        return this._min;\n    }\n    set min(value) {\n        if (this._min != value) {\n            this._min = value;\n            this.update(this._value);\n        }\n    }\n    get max() {\n        return this._max;\n    }\n    set max(value) {\n        if (this._max != value) {\n            this._max = value;\n            this.update(this._value);\n        }\n    }\n    get value() {\n        return this._value;\n    }\n    set value(value) {\n        if (this._value != value) {\n            _tween_GTween__WEBPACK_IMPORTED_MODULE_6__[\"GTween\"].kill(this, false, this.update);\n            this._value = value;\n            this.update(value);\n        }\n    }\n    tweenValue(value, duration) {\n        var oldValule;\n        var tweener = _tween_GTween__WEBPACK_IMPORTED_MODULE_6__[\"GTween\"].getTween(this, this.update);\n        if (tweener) {\n            oldValule = tweener.value.x;\n            tweener.kill();\n        }\n        else\n            oldValule = this._value;\n        this._value = value;\n        return _tween_GTween__WEBPACK_IMPORTED_MODULE_6__[\"GTween\"].to(oldValule, this._value, duration).setTarget(this, this.update).setEase(_tween_EaseType__WEBPACK_IMPORTED_MODULE_3__[\"EaseType\"].Linear);\n    }\n    update(newValue) {\n        var percent = _utils_ToolSet__WEBPACK_IMPORTED_MODULE_2__[\"ToolSet\"].clamp01((newValue - this._min) / (this._max - this._min));\n        if (this._titleObject) {\n            switch (this._titleType) {\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_4__[\"ProgressTitleType\"].Percent:\n                    this._titleObject.text = Math.floor(percent * 100) + \"%\";\n                    break;\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_4__[\"ProgressTitleType\"].ValueAndMax:\n                    this._titleObject.text = Math.floor(newValue) + \"/\" + Math.floor(this._max);\n                    break;\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_4__[\"ProgressTitleType\"].Value:\n                    this._titleObject.text = \"\" + Math.floor(newValue);\n                    break;\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_4__[\"ProgressTitleType\"].Max:\n                    this._titleObject.text = \"\" + Math.floor(this._max);\n                    break;\n            }\n        }\n        var fullWidth = this.width - this._barMaxWidthDelta;\n        var fullHeight = this.height - this._barMaxHeightDelta;\n        if (!this._reverse) {\n            if (this._barObjectH) {\n                if (!this.setFillAmount(this._barObjectH, percent))\n                    this._barObjectH.width = Math.round(fullWidth * percent);\n            }\n            if (this._barObjectV) {\n                if (!this.setFillAmount(this._barObjectV, percent))\n                    this._barObjectV.height = Math.round(fullHeight * percent);\n            }\n        }\n        else {\n            if (this._barObjectH) {\n                if (!this.setFillAmount(this._barObjectH, 1 - percent)) {\n                    this._barObjectH.width = Math.round(fullWidth * percent);\n                    this._barObjectH.x = this._barStartX + (fullWidth - this._barObjectH.width);\n                }\n            }\n            if (this._barObjectV) {\n                if (!this.setFillAmount(this._barObjectV, 1 - percent)) {\n                    this._barObjectV.height = Math.round(fullHeight * percent);\n                    this._barObjectV.y = this._barStartY + (fullHeight - this._barObjectV.height);\n                }\n            }\n        }\n        if (this._aniObject)\n            this._aniObject.setProp(_FieldTypes__WEBPACK_IMPORTED_MODULE_4__[\"ObjectPropID\"].Frame, Math.floor(percent * 100));\n    }\n    setFillAmount(bar, percent) {\n        if (((bar instanceof _GImage__WEBPACK_IMPORTED_MODULE_1__[\"GImage\"]) || (bar instanceof _GLoader__WEBPACK_IMPORTED_MODULE_0__[\"GLoader\"])) && bar.fillMethod != _FieldTypes__WEBPACK_IMPORTED_MODULE_4__[\"FillMethod\"].None) {\n            bar.fillAmount = percent;\n            return true;\n        }\n        else\n            return false;\n    }\n    constructExtension(buffer) {\n        buffer.seek(0, 6);\n        this._titleType = buffer.readByte();\n        this._reverse = buffer.readBool();\n        this._titleObject = this.getChild(\"title\");\n        this._barObjectH = this.getChild(\"bar\");\n        this._barObjectV = this.getChild(\"bar_v\");\n        this._aniObject = this.getChild(\"ani\");\n        if (this._barObjectH) {\n            this._barMaxWidth = this._barObjectH.width;\n            this._barMaxWidthDelta = this.width - this._barMaxWidth;\n            this._barStartX = this._barObjectH.x;\n        }\n        if (this._barObjectV) {\n            this._barMaxHeight = this._barObjectV.height;\n            this._barMaxHeightDelta = this.height - this._barMaxHeight;\n            this._barStartY = this._barObjectV.y;\n        }\n    }\n    handleSizeChanged() {\n        super.handleSizeChanged();\n        if (this._barObjectH)\n            this._barMaxWidth = this.width - this._barMaxWidthDelta;\n        if (this._barObjectV)\n            this._barMaxHeight = this.height - this._barMaxHeightDelta;\n        if (!this._underConstruct)\n            this.update(this._value);\n    }\n    setup_afterAdd(buffer, beginPos) {\n        super.setup_afterAdd(buffer, beginPos);\n        if (!buffer.seek(beginPos, 6)) {\n            this.update(this._value);\n            return;\n        }\n        if (buffer.readByte() != this.packageItem.objectType) {\n            this.update(this._value);\n            return;\n        }\n        this._value = buffer.readInt();\n        this._max = buffer.readInt();\n        if (buffer.version >= 2)\n            this._min = buffer.readInt();\n        this.update(this._value);\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/GProgressBar.ts?");

/***/ }),

/***/ "./src/GRichTextField.ts":
/*!*******************************!*\
  !*** ./src/GRichTextField.ts ***!
  \*******************************/
/*! exports provided: GRichTextField */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GRichTextField\", function() { return GRichTextField; });\n/* harmony import */ var _UIConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UIConfig */ \"./src/UIConfig.ts\");\n/* harmony import */ var _utils_UBBParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/UBBParser */ \"./src/utils/UBBParser.ts\");\n/* harmony import */ var _GTextField__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GTextField */ \"./src/GTextField.ts\");\n\n\n\nclass GRichTextField extends _GTextField__WEBPACK_IMPORTED_MODULE_2__[\"GTextField\"] {\n    constructor() {\n        super();\n        this._text = \"\";\n    }\n    createDisplayObject() {\n        // this._displayObject = this._div = new Laya.HTMLDivElement();\n        // this._displayObject.mouseEnabled = true;\n        // this._displayObject[\"$owner\"] = this;\n        throw new Error(\"TODO\");\n    }\n    get div() {\n        throw new Error(\"TODO\");\n        return this._div;\n    }\n    set text(value) {\n        this._text = value;\n        var text2 = this._text;\n        if (this._templateVars)\n            text2 = this.parseTemplate(text2);\n        try {\n            this._div.size(this._width, this._height);\n            if (this._ubbEnabled)\n                this._div.innerHTML = _utils_UBBParser__WEBPACK_IMPORTED_MODULE_1__[\"UBBParser\"].inst.parse(text2);\n            else\n                this._div.innerHTML = text2;\n            if (this._widthAutoSize || this._heightAutoSize) {\n                var w, h = 0;\n                if (this._widthAutoSize) {\n                    w = this._div.contextWidth;\n                    if (w > 0)\n                        w += 8;\n                }\n                else\n                    w = this._width;\n                if (this._heightAutoSize)\n                    h = this._div.contextHeight;\n                else\n                    h = this._height;\n                this._updatingSize = true;\n                this.setSize(w, h);\n                this._updatingSize = false;\n            }\n        }\n        catch (err) {\n            console.log(\"laya reports html error:\" + err);\n        }\n    }\n    get text() {\n        return this._text;\n    }\n    get font() {\n        return this._div.style.font;\n    }\n    set font(value) {\n        if (value)\n            this._div.style.font = value;\n        else\n            this._div.style.font = _UIConfig__WEBPACK_IMPORTED_MODULE_0__[\"UIConfig\"].defaultFont;\n    }\n    get fontSize() {\n        return this._div.style.fontSize;\n    }\n    set fontSize(value) {\n        this._div.style.fontSize = value;\n    }\n    get color() {\n        return this._div.style.color;\n    }\n    set color(value) {\n        if (this._div.style.color != value) {\n            this._div.style.color = value;\n            this.refresh();\n            this.updateGear(4);\n        }\n    }\n    get align() {\n        return this._div.style.align;\n    }\n    set align(value) {\n        if (this._div.style.align != value) {\n            this._div.style.align = value;\n            this.refresh();\n        }\n    }\n    get valign() {\n        return this._div.style.valign;\n    }\n    set valign(value) {\n        if (this._div.style.valign != value) {\n            this._div.style.valign = value;\n            this.refresh();\n        }\n    }\n    get leading() {\n        return this._div.style.leading;\n    }\n    set leading(value) {\n        if (this._div.style.leading != value) {\n            this._div.style.leading = value;\n            this.refresh();\n        }\n    }\n    get bold() {\n        return this._div.style.bold;\n    }\n    set bold(value) {\n        if (this._div.style.bold != value) {\n            this._div.style.bold = value;\n            this.refresh();\n        }\n    }\n    get italic() {\n        return this._div.style.italic;\n    }\n    set italic(value) {\n        if (this._div.style.italic != value) {\n            this._div.style.italic = value;\n            this.refresh();\n        }\n    }\n    get stroke() {\n        return this._div.style.stroke;\n    }\n    set stroke(value) {\n        if (this._div.style.stroke != value) {\n            this._div.style.stroke = value;\n            this.refresh();\n        }\n    }\n    get strokeColor() {\n        return this._div.style.strokeColor;\n    }\n    set strokeColor(value) {\n        if (this._div.style.strokeColor != value) {\n            this._div.style.strokeColor = value;\n            this.refresh();\n            this.updateGear(4);\n        }\n    }\n    set ubbEnabled(value) {\n        this._ubbEnabled = value;\n    }\n    get ubbEnabled() {\n        return this._ubbEnabled;\n    }\n    get textWidth() {\n        var w = this._div.contextWidth;\n        if (w > 0)\n            w += 8;\n        return w;\n    }\n    refresh() {\n        if (this._text.length > 0 && this._div._refresh)\n            this._div._refresh();\n    }\n    updateAutoSize() {\n        this._div.style.wordWrap = !this._widthAutoSize;\n    }\n    handleSizeChanged() {\n        if (this._updatingSize)\n            return;\n        this._div.size(this._width, this._height);\n        this._div.style.width = this._width;\n        this._div.style.height = this._height;\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/GRichTextField.ts?");

/***/ }),

/***/ "./src/GRoot.ts":
/*!**********************!*\
  !*** ./src/GRoot.ts ***!
  \**********************/
/*! exports provided: GRootMouseStatus, UISceneDisplay, GRoot */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GRootMouseStatus\", function() { return GRootMouseStatus; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UISceneDisplay\", function() { return UISceneDisplay; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GRoot\", function() { return GRoot; });\n/* harmony import */ var _utils_ToolSet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/ToolSet */ \"./src/utils/ToolSet.ts\");\n/* harmony import */ var _display_UIStage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./display/UIStage */ \"./src/display/UIStage.ts\");\n/* harmony import */ var _GComponent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GComponent */ \"./src/GComponent.ts\");\n/* harmony import */ var _event_DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./event/DisplayObjectEvent */ \"./src/event/DisplayObjectEvent.ts\");\n\n\n\n\nclass GRootMouseStatus {\n    constructor() {\n        this.touchDown = false;\n        this.mouseX = 0;\n        this.mouseY = 0;\n    }\n}\nvar UISceneDisplay;\n(function (UISceneDisplay) {\n    UISceneDisplay[UISceneDisplay[\"LAYER_ROOT\"] = 0] = \"LAYER_ROOT\";\n    UISceneDisplay[UISceneDisplay[\"LAYER_UI\"] = 1] = \"LAYER_UI\";\n    UISceneDisplay[UISceneDisplay[\"LAYER_DIALOG\"] = 2] = \"LAYER_DIALOG\";\n    UISceneDisplay[UISceneDisplay[\"LAYER_TOOLTIPS\"] = 3] = \"LAYER_TOOLTIPS\";\n    UISceneDisplay[UISceneDisplay[\"LAYER_MASK\"] = 4] = \"LAYER_MASK\";\n})(UISceneDisplay || (UISceneDisplay = {}));\n/**\n * gui根对象（逻辑对象）\n */\nclass GRoot extends _GComponent__WEBPACK_IMPORTED_MODULE_2__[\"GComponent\"] {\n    constructor() {\n        super();\n    }\n    get displayObject() {\n        return this._container;\n    }\n    static get inst() {\n        if (GRoot._inst == null)\n            new GRoot();\n        return GRoot._inst;\n    }\n    /**\n    * the current mouse/pointer data\n    */\n    static get globalMouseStatus() {\n        return GRoot._gmStatus;\n    }\n    get focus() {\n        return null;\n    }\n    set focus(value) {\n        this.setFocus(value);\n    }\n    setFocus(value) {\n    }\n    /**\n     * 游戏/编辑器启动ui入口,注入uiScene\n     * @param scene\n     * @param stageOptions\n     */\n    attachTo(scene, stageOptions) {\n        this._scene = scene;\n        this.createDisplayObject();\n        // todo deal stageoptions\n        if (this._uiStage) {\n            this.removeListen();\n            this._uiStage.removeChild(this._container, UISceneDisplay.LAYER_ROOT);\n            this._uiStage.destroy();\n        }\n        this._uiStage = new _display_UIStage__WEBPACK_IMPORTED_MODULE_1__[\"UIStage\"](scene);\n        this._uiStage.addChild(this._container, UISceneDisplay.LAYER_ROOT);\n        this.addListen();\n    }\n    addListen() {\n        this.removeListen();\n        this._uiStage.on(_event_DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_3__[\"DisplayObjectEvent\"].SIZE_CHANGED, this.$winResize, this);\n        this._uiStage.nativeStage.on(\"pointerdown\", this.onStageDown, this);\n        this._uiStage.nativeStage.on(\"pointerup\", this.onStageUp, this);\n        this._uiStage.nativeStage.on(\"pointermove\", this.onStageMove, this);\n    }\n    removeListen() {\n        this._uiStage.off(_event_DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_3__[\"DisplayObjectEvent\"].SIZE_CHANGED, this.$winResize, this);\n        this._uiStage.nativeStage.off(\"pointerdown\", this.onStageDown, this);\n        this._uiStage.nativeStage.off(\"pointerup\", this.onStageUp, this);\n        this._uiStage.nativeStage.off(\"pointermove\", this.onStageMove, this);\n    }\n    addTimeEvent(timeEvent) {\n        return this.scene.time.addEvent(timeEvent);\n    }\n    removeTimeEvent(timeEvent) {\n        if (timeEvent)\n            timeEvent.remove();\n    }\n    playOneShotSound(url, volumeScale) {\n        if (_utils_ToolSet__WEBPACK_IMPORTED_MODULE_0__[\"ToolSet\"].startsWith(url, \"ui://\"))\n            return;\n        this.scene.sound.play(url);\n    }\n    createDisplayObject() {\n        this._container = this._scene.add.container(0, 0);\n    }\n    onStageDown(pointer) {\n        GRoot._gmStatus.mouseX = pointer.worldX;\n        GRoot._gmStatus.mouseY = pointer.worldY;\n        GRoot._gmStatus.touchDown = true;\n    }\n    onStageUp(pointer) {\n        GRoot._gmStatus.touchDown = false;\n    }\n    onStageMove(pointer) {\n        GRoot._gmStatus.mouseX = pointer.worldX;\n        GRoot._gmStatus.mouseY = pointer.worldY;\n    }\n    $winResize(stage) {\n        this._container.setSize(stage.stageWidth, stage.stageHeight);\n    }\n}\nGRoot._gmStatus = new GRootMouseStatus();\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/GRoot.ts?");

/***/ }),

/***/ "./src/GScrollBar.ts":
/*!***************************!*\
  !*** ./src/GScrollBar.ts ***!
  \***************************/
/*! exports provided: GScrollBar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GScrollBar\", function() { return GScrollBar; });\n/* harmony import */ var _GComponent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GComponent */ \"./src/GComponent.ts\");\n\nclass GScrollBar extends _GComponent__WEBPACK_IMPORTED_MODULE_0__[\"GComponent\"] {\n    constructor() {\n        super();\n        this._dragOffset = new Phaser.Geom.Point();\n        this._scrollPerc = 0;\n    }\n    setScrollPane(target, vertical) {\n        this._target = target;\n        this._vertical = vertical;\n    }\n    setDisplayPerc(value) {\n        if (this._vertical) {\n            if (!this._fixedGripSize)\n                this._grip.height = Math.floor(value * this._bar.height);\n            this._grip.y = this._bar.y + (this._bar.height - this._grip.height) * this._scrollPerc;\n        }\n        else {\n            if (!this._fixedGripSize)\n                this._grip.width = Math.floor(value * this._bar.width);\n            this._grip.x = this._bar.x + (this._bar.width - this._grip.width) * this._scrollPerc;\n        }\n        this._grip.visible = value != 0 && value != 1;\n    }\n    setScrollPerc(val) {\n        this._scrollPerc = val;\n        if (this._vertical)\n            this._grip.y = this._bar.y + (this._bar.height - this._grip.height) * this._scrollPerc;\n        else\n            this._grip.x = this._bar.x + (this._bar.width - this._grip.width) * this._scrollPerc;\n    }\n    get minSize() {\n        if (this._vertical)\n            return (this._arrowButton1 ? this._arrowButton1.height : 0) + (this._arrowButton2 ? this._arrowButton2.height : 0);\n        else\n            return (this._arrowButton1 ? this._arrowButton1.width : 0) + (this._arrowButton2 ? this._arrowButton2.width : 0);\n    }\n    get gripDragging() {\n        return this._gripDragging;\n    }\n    constructExtension(buffer) {\n        throw new Error(\"TODO\");\n        // buffer.seek(0, 6);\n        // this._fixedGripSize = buffer.readBool();\n        // this._grip = this.getChild(\"grip\");\n        // if (!this._grip) {\n        //     Laya.Log.print(\"需要定义grip\");\n        //     return;\n        // }\n        // this._bar = this.getChild(\"bar\");\n        // if (!this._bar) {\n        //     Laya.Log.print(\"需要定义bar\");\n        //     return;\n        // }\n        // this._arrowButton1 = this.getChild(\"arrow1\");\n        // this._arrowButton2 = this.getChild(\"arrow2\");\n        // this._grip.on(Laya.Event.MOUSE_DOWN, this, this.__gripMouseDown);\n        // if (this._arrowButton1)\n        //     this._arrowButton1.on(Laya.Event.MOUSE_DOWN, this, this.__arrowButton1Click);\n        // if (this._arrowButton2)\n        //     this._arrowButton2.on(Laya.Event.MOUSE_DOWN, this, this.__arrowButton2Click);\n        // this.on(Laya.Event.MOUSE_DOWN, this, this.__barMouseDown);\n    }\n    __gripMouseDown(evt) {\n        throw new Error(\"TODO\");\n        // evt.stopPropagation();\n        // this._gripDragging = true;\n        // this._target.updateScrollBarVisible();\n        // Laya.stage.on(Laya.Event.MOUSE_MOVE, this, this.__gripMouseMove);\n        // Laya.stage.on(Laya.Event.MOUSE_UP, this, this.__gripMouseUp);\n        // this.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY, this._dragOffset);\n        // this._dragOffset.x -= this._grip.x;\n        // this._dragOffset.y -= this._grip.y;\n    }\n    __gripMouseMove() {\n        throw new Error(\"TODO\");\n        // if (!this.onStage)\n        //     return;\n        // var pt: Laya.Point = this.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY, s_vec2);\n        // if (this._vertical) {\n        //     var curY: number = pt.y - this._dragOffset.y;\n        //     this._target.setPercY((curY - this._bar.y) / (this._bar.height - this._grip.height), false);\n        // }\n        // else {\n        //     var curX: number = pt.x - this._dragOffset.x;\n        //     this._target.setPercX((curX - this._bar.x) / (this._bar.width - this._grip.width), false);\n        // }\n    }\n    __gripMouseUp(evt) {\n        throw new Error(\"TODO\");\n        // if (!this.onStage)\n        //     return;\n        // Laya.stage.off(Laya.Event.MOUSE_MOVE, this, this.__gripMouseMove);\n        // Laya.stage.off(Laya.Event.MOUSE_UP, this, this.__gripMouseUp);\n        // this._gripDragging = false;\n        // this._target.updateScrollBarVisible();\n    }\n    __arrowButton1Click(evt) {\n        throw new Error(\"TODO\");\n        // evt.stopPropagation();\n        // if (this._vertical)\n        //     this._target.scrollUp();\n        // else\n        //     this._target.scrollLeft();\n    }\n    __arrowButton2Click(evt) {\n        throw new Error(\"TODO\");\n        // evt.stopPropagation();\n        // if (this._vertical)\n        //     this._target.scrollDown();\n        // else\n        //     this._target.scrollRight();\n    }\n    __barMouseDown(evt) {\n        throw new Error(\"TODO\");\n        // var pt: Laya.Point = this._grip.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY, s_vec2);\n        // if (this._vertical) {\n        //     if (pt.y < 0)\n        //         this._target.scrollUp(4);\n        //     else\n        //         this._target.scrollDown(4);\n        // }\n        // else {\n        //     if (pt.x < 0)\n        //         this._target.scrollLeft(4);\n        //     else\n        //         this._target.scrollRight(4);\n        // }\n    }\n}\nvar s_vec2 = new Phaser.Geom.Point();\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/GScrollBar.ts?");

/***/ }),

/***/ "./src/GSlider.ts":
/*!************************!*\
  !*** ./src/GSlider.ts ***!
  \************************/
/*! exports provided: GSlider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GSlider\", function() { return GSlider; });\n/* harmony import */ var _Events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Events */ \"./src/Events.ts\");\n/* harmony import */ var _utils_ToolSet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/ToolSet */ \"./src/utils/ToolSet.ts\");\n/* harmony import */ var _FieldTypes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FieldTypes */ \"./src/FieldTypes.ts\");\n/* harmony import */ var _GComponent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./GComponent */ \"./src/GComponent.ts\");\n\n\n\n\nclass GSlider extends _GComponent__WEBPACK_IMPORTED_MODULE_3__[\"GComponent\"] {\n    constructor() {\n        super();\n        this._min = 0;\n        this._max = 0;\n        this._value = 0;\n        this._barMaxWidth = 0;\n        this._barMaxHeight = 0;\n        this._barMaxWidthDelta = 0;\n        this._barMaxHeightDelta = 0;\n        this._clickPercent = 0;\n        this._barStartX = 0;\n        this._barStartY = 0;\n        this.changeOnClick = true;\n        /**是否可拖动开关**/\n        this.canDrag = true;\n        this._titleType = _FieldTypes__WEBPACK_IMPORTED_MODULE_2__[\"ProgressTitleType\"].Percent;\n        this._value = 50;\n        this._max = 100;\n        this._clickPos = new Phaser.Geom.Point();\n    }\n    get titleType() {\n        return this._titleType;\n    }\n    set titleType(value) {\n        this._titleType = value;\n    }\n    get wholeNumbers() {\n        return this._wholeNumbers;\n    }\n    set wholeNumbers(value) {\n        if (this._wholeNumbers != value) {\n            this._wholeNumbers = value;\n            this.update();\n        }\n    }\n    get min() {\n        return this._min;\n    }\n    set min(value) {\n        if (this._min != value) {\n            this._min = value;\n            this.update();\n        }\n    }\n    get max() {\n        return this._max;\n    }\n    set max(value) {\n        if (this._max != value) {\n            this._max = value;\n            this.update();\n        }\n    }\n    get value() {\n        return this._value;\n    }\n    set value(value) {\n        if (this._value != value) {\n            this._value = value;\n            this.update();\n        }\n    }\n    update() {\n        this.updateWithPercent((this._value - this._min) / (this._max - this._min));\n    }\n    updateWithPercent(percent, evt) {\n        percent = _utils_ToolSet__WEBPACK_IMPORTED_MODULE_1__[\"ToolSet\"].clamp01(percent);\n        if (evt) {\n            throw new Error(\"TODO\");\n            var newValue = _utils_ToolSet__WEBPACK_IMPORTED_MODULE_1__[\"ToolSet\"].clamp(this._min + (this._max - this._min) * percent, this._min, this._max);\n            if (this._wholeNumbers) {\n                newValue = Math.round(newValue);\n                percent = _utils_ToolSet__WEBPACK_IMPORTED_MODULE_1__[\"ToolSet\"].clamp01((newValue - this._min) / (this._max - this._min));\n            }\n            if (newValue != this._value) {\n                this._value = newValue;\n                _Events__WEBPACK_IMPORTED_MODULE_0__[\"Events\"].dispatch(_Events__WEBPACK_IMPORTED_MODULE_0__[\"Events\"].STATE_CHANGED, this.displayObject, evt);\n            }\n        }\n        if (this._titleObject) {\n            switch (this._titleType) {\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_2__[\"ProgressTitleType\"].Percent:\n                    this._titleObject.text = Math.floor(percent * 100) + \"%\";\n                    break;\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_2__[\"ProgressTitleType\"].ValueAndMax:\n                    this._titleObject.text = this._value + \"/\" + this._max;\n                    break;\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_2__[\"ProgressTitleType\"].Value:\n                    this._titleObject.text = \"\" + this._value;\n                    break;\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_2__[\"ProgressTitleType\"].Max:\n                    this._titleObject.text = \"\" + this._max;\n                    break;\n            }\n        }\n        var fullWidth = this.width - this._barMaxWidthDelta;\n        var fullHeight = this.height - this._barMaxHeightDelta;\n        if (!this._reverse) {\n            if (this._barObjectH)\n                this._barObjectH.width = Math.round(fullWidth * percent);\n            if (this._barObjectV)\n                this._barObjectV.height = Math.round(fullHeight * percent);\n        }\n        else {\n            if (this._barObjectH) {\n                this._barObjectH.width = Math.round(fullWidth * percent);\n                this._barObjectH.x = this._barStartX + (fullWidth - this._barObjectH.width);\n            }\n            if (this._barObjectV) {\n                this._barObjectV.height = Math.round(fullHeight * percent);\n                this._barObjectV.y = this._barStartY + (fullHeight - this._barObjectV.height);\n            }\n        }\n    }\n    constructExtension(buffer) {\n        throw new Error(\"TODO\");\n        buffer.seek(0, 6);\n        this._titleType = buffer.readByte();\n        this._reverse = buffer.readBool();\n        if (buffer.version >= 2) {\n            this._wholeNumbers = buffer.readBool();\n            this.changeOnClick = buffer.readBool();\n        }\n        this._titleObject = this.getChild(\"title\");\n        this._barObjectH = this.getChild(\"bar\");\n        this._barObjectV = this.getChild(\"bar_v\");\n        this._gripObject = this.getChild(\"grip\");\n        if (this._barObjectH) {\n            this._barMaxWidth = this._barObjectH.width;\n            this._barMaxWidthDelta = this.width - this._barMaxWidth;\n            this._barStartX = this._barObjectH.x;\n        }\n        if (this._barObjectV) {\n            this._barMaxHeight = this._barObjectV.height;\n            this._barMaxHeightDelta = this.height - this._barMaxHeight;\n            this._barStartY = this._barObjectV.y;\n        }\n        if (this._gripObject) {\n            // this._gripObject.on(Laya.Event.MOUSE_DOWN, this, this.__gripMouseDown);\n        }\n        // this.displayObject.on(Laya.Event.MOUSE_DOWN, this, this.__barMouseDown);\n    }\n    handleSizeChanged() {\n        super.handleSizeChanged();\n        if (this._barObjectH)\n            this._barMaxWidth = this.width - this._barMaxWidthDelta;\n        if (this._barObjectV)\n            this._barMaxHeight = this.height - this._barMaxHeightDelta;\n        if (!this._underConstruct)\n            this.update();\n    }\n    setup_afterAdd(buffer, beginPos) {\n        super.setup_afterAdd(buffer, beginPos);\n        if (!buffer.seek(beginPos, 6)) {\n            this.update();\n            return;\n        }\n        if (buffer.readByte() != this.packageItem.objectType) {\n            this.update();\n            return;\n        }\n        this._value = buffer.readInt();\n        this._max = buffer.readInt();\n        if (buffer.version >= 2)\n            this._min = buffer.readInt();\n        this.update();\n    }\n    __gripMouseDown(evt) {\n        // this.canDrag = true;\n        // evt.stopPropagation();\n        // this._clickPos = this.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY);\n        // this._clickPercent = ToolSet.clamp01((this._value - this._min) / (this._max - this._min));\n        // Laya.stage.on(Laya.Event.MOUSE_MOVE, this, this.__gripMouseMove);\n        // Laya.stage.on(Laya.Event.MOUSE_UP, this, this.__gripMouseUp);\n    }\n    __gripMouseMove(evt) {\n        throw new Error(\"TODO\");\n        // if (!this.canDrag) {\n        //     return;\n        // }\n        // var pt: Laya.Point = this.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY, s_vec2);\n        // var deltaX: number = pt.x - this._clickPos.x;\n        // var deltaY: number = pt.y - this._clickPos.y;\n        // if (this._reverse) {\n        //     deltaX = -deltaX;\n        //     deltaY = -deltaY;\n        // }\n        // var percent: number;\n        // if (this._barObjectH)\n        //     percent = this._clickPercent + deltaX / this._barMaxWidth;\n        // else\n        //     percent = this._clickPercent + deltaY / this._barMaxHeight;\n        // this.updateWithPercent(percent, evt);\n    }\n    __gripMouseUp(evt) {\n        throw new Error(\"TODO\");\n        // Laya.stage.off(Laya.Event.MOUSE_MOVE, this, this.__gripMouseMove);\n        // Laya.stage.off(Laya.Event.MOUSE_UP, this, this.__gripMouseUp);\n    }\n    __barMouseDown(evt) {\n        throw new Error(\"TODO\");\n        // if (!this.changeOnClick)\n        //     return;\n        // var pt: Laya.Point = this._gripObject.globalToLocal(evt.stageX, evt.stageY, s_vec2);\n        // var percent: number = ToolSet.clamp01((this._value - this._min) / (this._max - this._min));\n        // var delta: number;\n        // if (this._barObjectH)\n        //     delta = pt.x / this._barMaxWidth;\n        // if (this._barObjectV)\n        //     delta = pt.y / this._barMaxHeight;\n        // if (this._reverse)\n        //     percent -= delta;\n        // else\n        //     percent += delta;\n        // this.updateWithPercent(percent, evt);\n    }\n}\nvar s_vec2 = new Phaser.Geom.Point();\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/GSlider.ts?");

/***/ }),

/***/ "./src/GTextField.ts":
/*!***************************!*\
  !*** ./src/GTextField.ts ***!
  \***************************/
/*! exports provided: GTextField */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GTextField\", function() { return GTextField; });\n/* harmony import */ var _FieldTypes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FieldTypes */ \"./src/FieldTypes.ts\");\n/* harmony import */ var _GObject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GObject */ \"./src/GObject.ts\");\n\n\nclass GTextField extends _GObject__WEBPACK_IMPORTED_MODULE_1__[\"GObject\"] {\n    constructor() {\n        super();\n    }\n    get font() {\n        return null;\n    }\n    set font(value) {\n    }\n    get fontSize() {\n        return 0;\n    }\n    set fontSize(value) {\n    }\n    get color() {\n        return null;\n    }\n    set color(value) {\n    }\n    get align() {\n        return null;\n    }\n    set align(value) {\n    }\n    get valign() {\n        return null;\n    }\n    set valign(value) {\n    }\n    get leading() {\n        return 0;\n    }\n    set leading(value) {\n    }\n    get letterSpacing() {\n        return 0;\n    }\n    set letterSpacing(value) {\n    }\n    get bold() {\n        return false;\n    }\n    set bold(value) {\n    }\n    get italic() {\n        return false;\n    }\n    set italic(value) {\n    }\n    get underline() {\n        return false;\n    }\n    set underline(value) {\n    }\n    get singleLine() {\n        return false;\n    }\n    set singleLine(value) {\n    }\n    get stroke() {\n        return 0;\n    }\n    set stroke(value) {\n    }\n    get strokeColor() {\n        return null;\n    }\n    set strokeColor(value) {\n    }\n    set ubbEnabled(value) {\n        this._ubbEnabled = value;\n    }\n    get ubbEnabled() {\n        return this._ubbEnabled;\n    }\n    get autoSize() {\n        return this._autoSize;\n    }\n    set autoSize(value) {\n        if (this._autoSize != value) {\n            this._autoSize = value;\n            this._widthAutoSize = this._autoSize == _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"AutoSizeType\"].Both;\n            this._heightAutoSize = this._autoSize == _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"AutoSizeType\"].Both || this._autoSize == _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"AutoSizeType\"].Height;\n            this.updateAutoSize();\n        }\n    }\n    updateAutoSize() {\n    }\n    get textWidth() {\n        return 0;\n    }\n    parseTemplate(template) {\n        var pos1 = 0, pos2, pos3;\n        var tag;\n        var value;\n        var result = \"\";\n        while ((pos2 = template.indexOf(\"{\", pos1)) != -1) {\n            if (pos2 > 0 && template.charCodeAt(pos2 - 1) == 92) //\\\n             {\n                result += template.substring(pos1, pos2 - 1);\n                result += \"{\";\n                pos1 = pos2 + 1;\n                continue;\n            }\n            result += template.substring(pos1, pos2);\n            pos1 = pos2;\n            pos2 = template.indexOf(\"}\", pos1);\n            if (pos2 == -1)\n                break;\n            if (pos2 == pos1 + 1) {\n                result += template.substr(pos1, 2);\n                pos1 = pos2 + 1;\n                continue;\n            }\n            tag = template.substring(pos1 + 1, pos2);\n            pos3 = tag.indexOf(\"=\");\n            if (pos3 != -1) {\n                value = this._templateVars[tag.substring(0, pos3)];\n                if (value == null)\n                    result += tag.substring(pos3 + 1);\n                else\n                    result += value;\n            }\n            else {\n                value = this._templateVars[tag];\n                if (value != null)\n                    result += value;\n            }\n            pos1 = pos2 + 1;\n        }\n        if (pos1 < template.length)\n            result += template.substr(pos1);\n        return result;\n    }\n    get templateVars() {\n        return this._templateVars;\n    }\n    set templateVars(value) {\n        if (!this._templateVars && !value)\n            return;\n        this._templateVars = value;\n        this.flushVars();\n    }\n    setVar(name, value) {\n        if (!this._templateVars)\n            this._templateVars = {};\n        this._templateVars[name] = value;\n        return this;\n    }\n    flushVars() {\n        this.text = this._text;\n    }\n    getProp(index) {\n        switch (index) {\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].Color:\n                return this.color;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].OutlineColor:\n                return this.strokeColor;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].FontSize:\n                return this.fontSize;\n            default:\n                return super.getProp(index);\n        }\n    }\n    setProp(index, value) {\n        switch (index) {\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].Color:\n                this.color = value;\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].OutlineColor:\n                this.strokeColor = value;\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].FontSize:\n                this.fontSize = value;\n                break;\n            default:\n                super.setProp(index, value);\n                break;\n        }\n    }\n    setup_beforeAdd(buffer, beginPos) {\n        super.setup_beforeAdd(buffer, beginPos);\n        buffer.seek(beginPos, 5);\n        var iv;\n        this.font = buffer.readS();\n        this.fontSize = buffer.readShort();\n        this.color = buffer.readColorS();\n        iv = buffer.readByte();\n        this.align = iv == 0 ? \"left\" : (iv == 1 ? \"center\" : \"right\");\n        iv = buffer.readByte();\n        this.valign = iv == 0 ? \"top\" : (iv == 1 ? \"middle\" : \"bottom\");\n        this.leading = buffer.readShort();\n        this.letterSpacing = buffer.readShort();\n        this.ubbEnabled = buffer.readBool();\n        this.autoSize = buffer.readByte();\n        this.underline = buffer.readBool();\n        this.italic = buffer.readBool();\n        this.bold = buffer.readBool();\n        this.singleLine = buffer.readBool();\n        if (buffer.readBool()) {\n            this.strokeColor = buffer.readColorS();\n            this.stroke = buffer.readFloat() + 1;\n        }\n        if (buffer.readBool()) //shadow\n            buffer.skip(12);\n        if (buffer.readBool())\n            this._templateVars = {};\n    }\n    setup_afterAdd(buffer, beginPos) {\n        super.setup_afterAdd(buffer, beginPos);\n        buffer.seek(beginPos, 6);\n        var str = buffer.readS();\n        if (str != null)\n            this.text = str;\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/GTextField.ts?");

/***/ }),

/***/ "./src/GTextInput.ts":
/*!***************************!*\
  !*** ./src/GTextInput.ts ***!
  \***************************/
/*! exports provided: GTextInput */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GTextInput\", function() { return GTextInput; });\n/* harmony import */ var _utils_UBBParser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/UBBParser */ \"./src/utils/UBBParser.ts\");\n/* harmony import */ var _UIConfig__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UIConfig */ \"./src/UIConfig.ts\");\n/* harmony import */ var _GTextField__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GTextField */ \"./src/GTextField.ts\");\n\n\n\nclass GTextInput extends _GTextField__WEBPACK_IMPORTED_MODULE_2__[\"GTextField\"] {\n    constructor() {\n        super();\n    }\n    createDisplayObject() {\n        throw new Error(\"TODO\");\n        // this._displayObject = this._input = new Laya.Input();\n        // this._displayObject.mouseEnabled = true;\n        // this._displayObject[\"$owner\"] = this;\n    }\n    get nativeInput() {\n        return this._input;\n    }\n    set text(value) {\n        this._input.text = value;\n    }\n    get text() {\n        return this._input.text;\n    }\n    get font() {\n        return this._input.font;\n    }\n    set font(value) {\n        if (value)\n            this._input.font = value;\n        else\n            this._input.font = _UIConfig__WEBPACK_IMPORTED_MODULE_1__[\"UIConfig\"].defaultFont;\n    }\n    get fontSize() {\n        return this._input.fontSize;\n    }\n    set fontSize(value) {\n        this._input.fontSize = value;\n    }\n    get color() {\n        return this._input.color;\n    }\n    set color(value) {\n        this._input.color = value;\n    }\n    get align() {\n        return this._input.align;\n    }\n    set align(value) {\n        this._input.align = value;\n    }\n    get valign() {\n        return this._input.valign;\n    }\n    set valign(value) {\n        this._input.valign = value;\n    }\n    get leading() {\n        return this._input.leading;\n    }\n    set leading(value) {\n        this._input.leading = value;\n    }\n    get bold() {\n        return this._input.bold;\n    }\n    set bold(value) {\n        this._input.bold = value;\n    }\n    get italic() {\n        return this._input.italic;\n    }\n    set italic(value) {\n        this._input.italic = value;\n    }\n    get singleLine() {\n        return !this._input.multiline;\n    }\n    set singleLine(value) {\n        this._input.multiline = !value;\n    }\n    get stroke() {\n        return this._input.stroke;\n    }\n    set stroke(value) {\n        this._input.stroke = value;\n    }\n    get strokeColor() {\n        return this._input.strokeColor;\n    }\n    set strokeColor(value) {\n        this._input.strokeColor = value;\n        this.updateGear(4);\n    }\n    get password() {\n        return this._input.type == \"password\";\n    }\n    set password(value) {\n        if (value)\n            this._input.type = \"password\";\n        else\n            this._input.type = \"text\";\n    }\n    get keyboardType() {\n        return this._input.type;\n    }\n    set keyboardType(value) {\n        this._input.type = value;\n    }\n    set editable(value) {\n        this._input.editable = value;\n    }\n    get editable() {\n        return this._input.editable;\n    }\n    set maxLength(value) {\n        this._input.maxChars = value;\n    }\n    get maxLength() {\n        return this._input.maxChars;\n    }\n    set promptText(value) {\n        this._prompt = value;\n        var str = _utils_UBBParser__WEBPACK_IMPORTED_MODULE_0__[\"UBBParser\"].inst.parse(value, true);\n        this._input.prompt = str;\n        if (_utils_UBBParser__WEBPACK_IMPORTED_MODULE_0__[\"UBBParser\"].inst.lastColor)\n            this._input.promptColor = _utils_UBBParser__WEBPACK_IMPORTED_MODULE_0__[\"UBBParser\"].inst.lastColor;\n    }\n    get promptText() {\n        return this._prompt;\n    }\n    set restrict(value) {\n        this._input.restrict = value;\n    }\n    get restrict() {\n        return this._input.restrict;\n    }\n    get textWidth() {\n        return this._input.textWidth;\n    }\n    requestFocus() {\n        this._input.focus = true;\n        super.requestFocus();\n    }\n    handleSizeChanged() {\n        this._input.size(this._width, this._height);\n    }\n    setup_beforeAdd(buffer, beginPos) {\n        super.setup_beforeAdd(buffer, beginPos);\n        buffer.seek(beginPos, 4);\n        var str = buffer.readS();\n        if (str != null)\n            this.promptText = str;\n        str = buffer.readS();\n        if (str != null)\n            this._input.restrict = str;\n        var iv = buffer.readInt();\n        if (iv != 0)\n            this._input.maxChars = iv;\n        iv = buffer.readInt();\n        if (iv != 0) {\n            // TODO keyboardType\n            throw new Error(\"TODO\");\n            // if (iv == 4)\n            //     this.keyboardType = Laya.Input.TYPE_NUMBER;\n            // else if (iv == 3)\n            //     this.keyboardType = Laya.Input.TYPE_URL;\n        }\n        if (buffer.readBool())\n            this.password = true;\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/GTextInput.ts?");

/***/ }),

/***/ "./src/GTree.ts":
/*!**********************!*\
  !*** ./src/GTree.ts ***!
  \**********************/
/*! exports provided: GTree */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GTree\", function() { return GTree; });\n/* harmony import */ var _GObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GObject */ \"./src/GObject.ts\");\n/* harmony import */ var _GTreeNode__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GTreeNode */ \"./src/GTreeNode.ts\");\n/* harmony import */ var _GList__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GList */ \"./src/GList.ts\");\n\n\n\nclass GTree extends _GList__WEBPACK_IMPORTED_MODULE_2__[\"GList\"] {\n    constructor() {\n        super();\n        this._indent = 15;\n        this._rootNode = new _GTreeNode__WEBPACK_IMPORTED_MODULE_1__[\"GTreeNode\"](true);\n        this._rootNode._setTree(this);\n        this._rootNode.expanded = true;\n    }\n    get rootNode() {\n        return this._rootNode;\n    }\n    get indent() {\n        return this._indent;\n    }\n    set indent(value) {\n        this._indent = value;\n    }\n    get clickToExpand() {\n        return this._clickToExpand;\n    }\n    set clickToExpand(value) {\n        this._clickToExpand = value;\n    }\n    getSelectedNode() {\n        throw new Error(\"TODO\");\n        // if (this.selectedIndex != -1)\n        //     return this.getChildAt(this.selectedIndex)._treeNode;\n        // else\n        //     return null;\n    }\n    getSelectedNodes(result) {\n        throw new Error(\"TODO\");\n        // if (!result)\n        //     result = new Array<GTreeNode>();\n        // s_list.length = 0;\n        // super.getSelection(s_list);\n        // var cnt: number = s_list.length;\n        // var ret: Array<GTreeNode> = new Array<GTreeNode>();\n        // for (var i: number = 0; i < cnt; i++) {\n        //     var node: GTreeNode = this.getChildAt(s_list[i])._treeNode;\n        //     ret.push(node);\n        // }\n        // return ret;\n    }\n    selectNode(node, scrollItToView) {\n        var parentNode = node.parent;\n        while (parentNode && parentNode != this._rootNode) {\n            parentNode.expanded = true;\n            parentNode = parentNode.parent;\n        }\n        if (!node._cell)\n            return;\n        this.addSelection(this.getChildIndex(node._cell), scrollItToView);\n    }\n    unselectNode(node) {\n        if (!node._cell)\n            return;\n        this.removeSelection(this.getChildIndex(node._cell));\n    }\n    expandAll(folderNode) {\n        if (!folderNode)\n            folderNode = this._rootNode;\n        folderNode.expanded = true;\n        var cnt = folderNode.numChildren;\n        for (var i = 0; i < cnt; i++) {\n            var node = folderNode.getChildAt(i);\n            if (node.isFolder)\n                this.expandAll(node);\n        }\n    }\n    collapseAll(folderNode) {\n        if (!folderNode)\n            folderNode = this._rootNode;\n        if (folderNode != this._rootNode)\n            folderNode.expanded = false;\n        var cnt = folderNode.numChildren;\n        for (var i = 0; i < cnt; i++) {\n            var node = folderNode.getChildAt(i);\n            if (node.isFolder)\n                this.collapseAll(node);\n        }\n    }\n    createCell(node) {\n        throw new Error(\"TODO\");\n        //     var child: GComponent = <GComponent>this.getFromPool(node._resURL ? node._resURL : this.defaultItem);\n        //     if (!child)\n        //         throw new Error(\"cannot create tree node object.\");\n        //     child._treeNode = node;\n        //     node._cell = child;\n        //     var indentObj: GObject = child.getChild(\"indent\");\n        //     if (indentObj)\n        //         indentObj.width = (node.level - 1) * this._indent;\n        //     var cc: Controller;\n        //     cc = child.getController(\"expanded\");\n        //     if (cc) {\n        //         cc.on(Events.STATE_CHANGED, this, this.__expandedStateChanged);\n        //         cc.selectedIndex = node.expanded ? 1 : 0;\n        //     }\n        //     cc = child.getController(\"leaf\");\n        //     if (cc)\n        //         cc.selectedIndex = node.isFolder ? 0 : 1;\n        //     if (node.isFolder)\n        //         child.on(Laya.Event.MOUSE_DOWN, this, this.__cellMouseDown);\n        //     if (this.treeNodeRender)\n        //         this.treeNodeRender.runWith([node, child]);\n        // }\n        // public _afterInserted(node: GTreeNode): void {\n        //     if (!node._cell)\n        //         this.createCell(node);\n        //     var index: number = this.getInsertIndexForNode(node);\n        //     this.addChildAt(node._cell, index);\n        //     if (this.treeNodeRender)\n        //         this.treeNodeRender.runWith([node, node._cell]);\n        //     if (node.isFolder && node.expanded)\n        //         this.checkChildren(node, index);\n    }\n    getInsertIndexForNode(node) {\n        var prevNode = node.getPrevSibling();\n        if (!prevNode)\n            prevNode = node.parent;\n        var insertIndex = this.getChildIndex(prevNode._cell) + 1;\n        var myLevel = node.level;\n        var cnt = this.numChildren;\n        for (var i = insertIndex; i < cnt; i++) {\n            var testNode = this.getChildAt(i)._treeNode;\n            if (testNode.level <= myLevel)\n                break;\n            insertIndex++;\n        }\n        return insertIndex;\n    }\n    _afterRemoved(node) {\n        this.removeNode(node);\n    }\n    _afterExpanded(node) {\n        if (node == this._rootNode) {\n            this.checkChildren(this._rootNode, 0);\n            return;\n        }\n        if (this.treeNodeWillExpand != null)\n            this.treeNodeWillExpand(node, true);\n        if (!node._cell)\n            return;\n        if (this.treeNodeRender)\n            this.treeNodeRender(node, node._cell);\n        var cc = node._cell.getController(\"expanded\");\n        if (cc)\n            cc.selectedIndex = 1;\n        if (node._cell.parent)\n            this.checkChildren(node, this.getChildIndex(node._cell));\n    }\n    _afterCollapsed(node) {\n        if (node == this._rootNode) {\n            this.checkChildren(this._rootNode, 0);\n            return;\n        }\n        if (this.treeNodeWillExpand)\n            this.treeNodeWillExpand(node, false);\n        if (!node._cell)\n            return;\n        if (this.treeNodeRender)\n            this.treeNodeRender(node, node._cell);\n        var cc = node._cell.getController(\"expanded\");\n        if (cc)\n            cc.selectedIndex = 0;\n        if (node._cell.parent)\n            this.hideFolderNode(node);\n    }\n    _afterMoved(node) {\n        var startIndex = this.getChildIndex(node._cell);\n        var endIndex;\n        if (node.isFolder)\n            endIndex = this.getFolderEndIndex(startIndex, node.level);\n        else\n            endIndex = startIndex + 1;\n        var insertIndex = this.getInsertIndexForNode(node);\n        var i;\n        var cnt = endIndex - startIndex;\n        var obj;\n        if (insertIndex < startIndex) {\n            for (i = 0; i < cnt; i++) {\n                obj = this.getChildAt(startIndex + i);\n                this.setChildIndex(obj, insertIndex + i);\n            }\n        }\n        else {\n            for (i = 0; i < cnt; i++) {\n                obj = this.getChildAt(startIndex);\n                this.setChildIndex(obj, insertIndex);\n            }\n        }\n    }\n    getFolderEndIndex(startIndex, level) {\n        var cnt = this.numChildren;\n        for (var i = startIndex + 1; i < cnt; i++) {\n            var node = this.getChildAt(i)._treeNode;\n            if (node.level <= level)\n                return i;\n        }\n        return cnt;\n    }\n    checkChildren(folderNode, index) {\n        var cnt = folderNode.numChildren;\n        for (var i = 0; i < cnt; i++) {\n            index++;\n            var node = folderNode.getChildAt(i);\n            if (!node._cell)\n                this.createCell(node);\n            if (!node._cell.parent)\n                this.addChildAt(node._cell, index);\n            if (node.isFolder && node.expanded)\n                index = this.checkChildren(node, index);\n        }\n        return index;\n    }\n    hideFolderNode(folderNode) {\n        var cnt = folderNode.numChildren;\n        for (var i = 0; i < cnt; i++) {\n            var node = folderNode.getChildAt(i);\n            if (node._cell)\n                this.removeChild(node._cell);\n            if (node.isFolder && node.expanded)\n                this.hideFolderNode(node);\n        }\n    }\n    removeNode(node) {\n        if (node._cell) {\n            if (node._cell.parent)\n                this.removeChild(node._cell);\n            this.returnToPool(node._cell);\n            node._cell._treeNode = null;\n            node._cell = null;\n        }\n        if (node.isFolder) {\n            var cnt = node.numChildren;\n            for (var i = 0; i < cnt; i++) {\n                var node2 = node.getChildAt(i);\n                this.removeNode(node2);\n            }\n        }\n    }\n    __cellMouseDown(evt) {\n        throw new Error(\"TODO\");\n        var node = _GObject__WEBPACK_IMPORTED_MODULE_0__[\"GObject\"].cast(evt.currentTarget)._treeNode;\n        this._expandedStatusInEvt = node.expanded;\n    }\n    __expandedStateChanged(cc) {\n        var node = cc.parent._treeNode;\n        node.expanded = cc.selectedIndex == 1;\n    }\n    dispatchItemEvent(item, evt) {\n        throw new Error(\"TODO\");\n        if (this._clickToExpand != 0) {\n            var node = item._treeNode;\n            if (node && node.isFolder && this._expandedStatusInEvt == node.expanded) {\n                if (this._clickToExpand == 2) {\n                    //if (evt.clickCount == 2)\n                    // node.expanded = !node.expanded;\n                }\n                else\n                    node.expanded = !node.expanded;\n            }\n        }\n        super.dispatchItemEvent(item, evt);\n    }\n    setup_beforeAdd(buffer, beginPos) {\n        super.setup_beforeAdd(buffer, beginPos);\n        buffer.seek(beginPos, 9);\n        this._indent = buffer.readInt();\n        this._clickToExpand = buffer.readByte();\n    }\n    readItems(buffer) {\n        var cnt;\n        var i;\n        var nextPos;\n        var str;\n        var isFolder;\n        var lastNode;\n        var level;\n        var prevLevel = 0;\n        cnt = buffer.readShort();\n        for (i = 0; i < cnt; i++) {\n            nextPos = buffer.readShort();\n            nextPos += buffer.position;\n            str = buffer.readS();\n            if (str == null) {\n                str = this.defaultItem;\n                if (!str) {\n                    buffer.position = nextPos;\n                    continue;\n                }\n            }\n            isFolder = buffer.readBool();\n            level = buffer.readByte();\n            var node = new _GTreeNode__WEBPACK_IMPORTED_MODULE_1__[\"GTreeNode\"](isFolder, str);\n            node.expanded = true;\n            if (i == 0)\n                this._rootNode.addChild(node);\n            else {\n                if (level > prevLevel)\n                    lastNode.addChild(node);\n                else if (level < prevLevel) {\n                    for (var j = level; j <= prevLevel; j++)\n                        lastNode = lastNode.parent;\n                    lastNode.addChild(node);\n                }\n                else\n                    lastNode.parent.addChild(node);\n            }\n            lastNode = node;\n            prevLevel = level;\n            this.setupItem(buffer, node.cell);\n            buffer.position = nextPos;\n        }\n    }\n}\nvar s_list = new Array();\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/GTree.ts?");

/***/ }),

/***/ "./src/GTreeNode.ts":
/*!**************************!*\
  !*** ./src/GTreeNode.ts ***!
  \**************************/
/*! exports provided: GTreeNode */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GTreeNode\", function() { return GTreeNode; });\nclass GTreeNode {\n    constructor(hasChild, resURL) {\n        this._level = 0;\n        this._resURL = resURL;\n        if (hasChild)\n            this._children = new Array();\n    }\n    set expanded(value) {\n        if (this._children == null)\n            return;\n        if (this._expanded != value) {\n            this._expanded = value;\n            if (this._tree) {\n                if (this._expanded)\n                    this._tree._afterExpanded(this);\n                else\n                    this._tree._afterCollapsed(this);\n            }\n        }\n    }\n    get expanded() {\n        return this._expanded;\n    }\n    get isFolder() {\n        return this._children != null;\n    }\n    get parent() {\n        return this._parent;\n    }\n    get text() {\n        if (this._cell)\n            return this._cell.text;\n        else\n            return null;\n    }\n    set text(value) {\n        if (this._cell)\n            this._cell.text = value;\n    }\n    get icon() {\n        if (this._cell)\n            return this._cell.icon;\n        else\n            return null;\n    }\n    set icon(value) {\n        if (this._cell)\n            this._cell.icon = value;\n    }\n    get cell() {\n        return this._cell;\n    }\n    get level() {\n        return this._level;\n    }\n    _setLevel(value) {\n        this._level = value;\n    }\n    addChild(child) {\n        this.addChildAt(child, this._children.length);\n        return child;\n    }\n    addChildAt(child, index) {\n        if (!child)\n            throw new Error(\"child is null\");\n        var numChildren = this._children.length;\n        if (index >= 0 && index <= numChildren) {\n            if (child._parent == this) {\n                this.setChildIndex(child, index);\n            }\n            else {\n                if (child._parent)\n                    child._parent.removeChild(child);\n                var cnt = this._children.length;\n                if (index == cnt)\n                    this._children.push(child);\n                else\n                    this._children.splice(index, 0, child);\n                child._parent = this;\n                child._level = this._level + 1;\n                child._setTree(this._tree);\n                if (this._tree && this == this._tree.rootNode || this._cell && this._cell.parent && this._expanded)\n                    throw new Error(\"TODO\");\n                // this._tree._afterInserted(child);\n            }\n            return child;\n        }\n        else {\n            throw new RangeError(\"Invalid child index\");\n        }\n    }\n    removeChild(child) {\n        var childIndex = this._children.indexOf(child);\n        if (childIndex != -1) {\n            this.removeChildAt(childIndex);\n        }\n        return child;\n    }\n    removeChildAt(index) {\n        if (index >= 0 && index < this.numChildren) {\n            var child = this._children[index];\n            this._children.splice(index, 1);\n            child._parent = null;\n            if (this._tree) {\n                child._setTree(null);\n                this._tree._afterRemoved(child);\n            }\n            return child;\n        }\n        else {\n            throw \"Invalid child index\";\n        }\n    }\n    removeChildren(beginIndex, endIndex) {\n        beginIndex = beginIndex || 0;\n        if (endIndex == null)\n            endIndex = -1;\n        if (endIndex < 0 || endIndex >= this.numChildren)\n            endIndex = this.numChildren - 1;\n        for (var i = beginIndex; i <= endIndex; ++i)\n            this.removeChildAt(beginIndex);\n    }\n    getChildAt(index) {\n        if (index >= 0 && index < this.numChildren)\n            return this._children[index];\n        else\n            throw \"Invalid child index\";\n    }\n    getChildIndex(child) {\n        return this._children.indexOf(child);\n    }\n    getPrevSibling() {\n        if (this._parent == null)\n            return null;\n        var i = this._parent._children.indexOf(this);\n        if (i <= 0)\n            return null;\n        return this._parent._children[i - 1];\n    }\n    getNextSibling() {\n        if (this._parent == null)\n            return null;\n        var i = this._parent._children.indexOf(this);\n        if (i < 0 || i >= this._parent._children.length - 1)\n            return null;\n        return this._parent._children[i + 1];\n    }\n    setChildIndex(child, index) {\n        var oldIndex = this._children.indexOf(child);\n        if (oldIndex == -1)\n            throw \"Not a child of this container\";\n        var cnt = this._children.length;\n        if (index < 0)\n            index = 0;\n        else if (index > cnt)\n            index = cnt;\n        if (oldIndex == index)\n            return;\n        this._children.splice(oldIndex, 1);\n        this._children.splice(index, 0, child);\n        if (this._tree && this == this._tree.rootNode || this._cell && this._cell.parent && this._expanded)\n            this._tree._afterMoved(child);\n    }\n    swapChildren(child1, child2) {\n        var index1 = this._children.indexOf(child1);\n        var index2 = this._children.indexOf(child2);\n        if (index1 == -1 || index2 == -1)\n            throw \"Not a child of this container\";\n        this.swapChildrenAt(index1, index2);\n    }\n    swapChildrenAt(index1, index2) {\n        var child1 = this._children[index1];\n        var child2 = this._children[index2];\n        this.setChildIndex(child1, index2);\n        this.setChildIndex(child2, index1);\n    }\n    get numChildren() {\n        return this._children.length;\n    }\n    expandToRoot() {\n        var p = this;\n        while (p) {\n            p.expanded = true;\n            p = p.parent;\n        }\n    }\n    get tree() {\n        return this._tree;\n    }\n    _setTree(value) {\n        this._tree = value;\n        if (this._tree && this._tree.treeNodeWillExpand && this._expanded)\n            this._tree.treeNodeWillExpand(this, true);\n        if (this._children) {\n            var cnt = this._children.length;\n            for (var i = 0; i < cnt; i++) {\n                var node = this._children[i];\n                node._level = this._level + 1;\n                node._setTree(value);\n            }\n        }\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/GTreeNode.ts?");

/***/ }),

/***/ "./src/IUISource.ts":
/*!**************************!*\
  !*** ./src/IUISource.ts ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("\n\n//# sourceURL=webpack://fairygui-phaser/./src/IUISource.ts?");

/***/ }),

/***/ "./src/Margin.ts":
/*!***********************!*\
  !*** ./src/Margin.ts ***!
  \***********************/
/*! exports provided: Margin */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Margin\", function() { return Margin; });\nclass Margin {\n    constructor() {\n        this.left = 0;\n        this.right = 0;\n        this.top = 0;\n        this.bottom = 0;\n    }\n    copy(source) {\n        this.top = source.top;\n        this.bottom = source.bottom;\n        this.left = source.left;\n        this.right = source.right;\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/Margin.ts?");

/***/ }),

/***/ "./src/PackageItem.ts":
/*!****************************!*\
  !*** ./src/PackageItem.ts ***!
  \****************************/
/*! exports provided: PackageItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PackageItem\", function() { return PackageItem; });\nclass PackageItem {\n    constructor() {\n        this.width = 0;\n        this.height = 0;\n    }\n    getBranch() {\n        if (this.branches && this.owner._branchIndex != -1) {\n            var itemId = this.branches[this.owner._branchIndex];\n            if (itemId)\n                return this.owner.getItemById(itemId);\n        }\n        return this;\n    }\n    getHighResolution() {\n        // if (this.highResolution && GRoot.contentScaleLevel > 0) {\n        //     var itemId: string = this.highResolution[GRoot.contentScaleLevel - 1];\n        //     if (itemId)\n        //         return this.owner.getItemById(itemId);\n        // }\n        throw new Error(\"TODO\");\n        return this;\n    }\n    toString() {\n        return this.name;\n    }\n    load() {\n        return this.owner.getItemAsset(this);\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/PackageItem.ts?");

/***/ }),

/***/ "./src/PopupMenu.ts":
/*!**************************!*\
  !*** ./src/PopupMenu.ts ***!
  \**************************/
/*! exports provided: PopupMenu */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PopupMenu\", function() { return PopupMenu; });\n/* harmony import */ var _UIConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UIConfig */ \"./src/UIConfig.ts\");\n\nclass PopupMenu {\n    constructor(resourceURL) {\n        if (!resourceURL) {\n            resourceURL = _UIConfig__WEBPACK_IMPORTED_MODULE_0__[\"UIConfig\"].popupMenu;\n            if (!resourceURL)\n                throw \"UIConfig.popupMenu not defined\";\n        }\n        throw \"TODO\";\n        // this._contentPane = UIPackage.createObjectFromURL(resourceURL).asCom;\n        // this._contentPane.on(Laya.Event.DISPLAY, this, this.__addedToStage);\n        // this._list = <GList>(this._contentPane.getChild(\"list\"));\n        // this._list.removeChildrenToPool();\n        // this._list.addRelation(this._contentPane, RelationType.Width);\n        // this._list.removeRelation(this._contentPane, RelationType.Height);\n        // this._contentPane.addRelation(this._list, RelationType.Height);\n        // this._list.on(Events.CLICK_ITEM, this, this.__clickItem);\n    }\n    dispose() {\n        this._contentPane.dispose();\n    }\n    addItem(caption, handler) {\n        throw new Error(\"TODO\");\n        // var item: GButton = this._list.addItemFromPool().asButton;\n        // item.title = caption;\n        // item.data = handler;\n        // item.grayed = false;\n        // var c: Controller = item.getController(\"checked\");\n        // if (c)\n        //     c.selectedIndex = 0;\n        // return item;\n    }\n    addItemAt(caption, index, handler) {\n        throw new Error(\"TODO\");\n        // var item: GButton = this._list.getFromPool().asButton;\n        // this._list.addChildAt(item, index);\n        // item.title = caption;\n        // item.data = handler;\n        // item.grayed = false;\n        // var c: Controller = item.getController(\"checked\");\n        // if (c)\n        //     c.selectedIndex = 0;\n        // return item;\n    }\n    addSeperator() {\n        throw new Error(\"TODO\");\n        // if (UIConfig.popupMenu_seperator == null)\n        //     throw \"UIConfig.popupMenu_seperator not defined\";\n        // this.list.addItemFromPool(UIConfig.popupMenu_seperator);\n    }\n    getItemName(index) {\n        var item = this._list.getChildAt(index);\n        return item.name;\n    }\n    setItemText(name, caption) {\n        var item = this._list.getChild(name);\n        item.title = caption;\n    }\n    setItemVisible(name, visible) {\n        var item = this._list.getChild(name);\n        if (item.visible != visible) {\n            item.visible = visible;\n            this._list.setBoundsChangedFlag();\n        }\n    }\n    setItemGrayed(name, grayed) {\n        var item = this._list.getChild(name);\n        item.grayed = grayed;\n    }\n    setItemCheckable(name, checkable) {\n        var item = this._list.getChild(name);\n        var c = item.getController(\"checked\");\n        if (c) {\n            if (checkable) {\n                if (c.selectedIndex == 0)\n                    c.selectedIndex = 1;\n            }\n            else\n                c.selectedIndex = 0;\n        }\n    }\n    setItemChecked(name, checked) {\n        var item = this._list.getChild(name);\n        var c = item.getController(\"checked\");\n        if (c)\n            c.selectedIndex = checked ? 2 : 1;\n    }\n    isItemChecked(name) {\n        var item = this._list.getChild(name);\n        var c = item.getController(\"checked\");\n        if (c)\n            return c.selectedIndex == 2;\n        else\n            return false;\n    }\n    removeItem(name) {\n        throw new Error(\"TODO\");\n        // var item: GObject = this._list.getChild(name);\n        // if (item) {\n        //     var index: number = this._list.getChildIndex(item);\n        //     this._list.removeChildToPoolAt(index);\n        //     return true;\n        // }\n        // else\n        //     return false;\n    }\n    clearItems() {\n        throw new Error(\"TODO\");\n        // this._list.removeChildrenToPool();\n    }\n    get itemCount() {\n        return this._list.numChildren;\n    }\n    get contentPane() {\n        return this._contentPane;\n    }\n    get list() {\n        return this._list;\n    }\n    show(target = null, dir) {\n        throw \"TODO\";\n        // var r: GRoot = target != null ? target.root : GRoot.inst;\n        // r.showPopup(this.contentPane, (target instanceof GRoot) ? null : target, dir);\n    }\n    __clickItem(itemObject) {\n        throw \"TODO\";\n        // Laya.timer.once(100, this, this.__clickItem2, [itemObject]);\n    }\n    __clickItem2(itemObject) {\n        throw \"TODO\";\n        // if (!(itemObject instanceof GButton))\n        //     return;\n        // if (itemObject.grayed) {\n        //     this._list.selectedIndex = -1;\n        //     return;\n        // }\n        // var c: Controller = itemObject.asCom.getController(\"checked\");\n        // if (c && c.selectedIndex != 0) {\n        //     if (c.selectedIndex == 1)\n        //         c.selectedIndex = 2;\n        //     else\n        //         c.selectedIndex = 1;\n        // }\n        // var r: GRoot = <GRoot>(this._contentPane.parent);\n        // r.hidePopup(this.contentPane);\n        // if (itemObject.data != null) {\n        //     itemObject.data();\n        // }\n    }\n    __addedToStage() {\n        throw new Error(\"TODO\");\n        // this._list.selectedIndex = -1;\n        // this._list.resizeToFit(100000, 10);\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/PopupMenu.ts?");

/***/ }),

/***/ "./src/RelationItem.ts":
/*!*****************************!*\
  !*** ./src/RelationItem.ts ***!
  \*****************************/
/*! exports provided: RelationItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RelationItem\", function() { return RelationItem; });\n/* harmony import */ var _FieldTypes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FieldTypes */ \"./src/FieldTypes.ts\");\n\nclass RelationItem {\n    constructor(owner) {\n        this._owner = owner;\n        this._defs = new Array();\n    }\n    get owner() {\n        return this._owner;\n    }\n    set target(value) {\n        if (this._target != value) {\n            if (this._target)\n                this.releaseRefTarget();\n            this._target = value;\n            if (this._target)\n                this.addRefTarget();\n        }\n    }\n    get target() {\n        return this._target;\n    }\n    add(relationType, usePercent) {\n        if (relationType == _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Size) {\n            this.add(_FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Width, usePercent);\n            this.add(_FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Height, usePercent);\n            return;\n        }\n        var cnt = this._defs.length;\n        for (var i = 0; i < cnt; i++) {\n            if (this._defs[i].type == relationType)\n                return;\n        }\n        this.internalAdd(relationType, usePercent);\n    }\n    internalAdd(relationType, usePercent) {\n        if (relationType == _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Size) {\n            this.internalAdd(_FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Width, usePercent);\n            this.internalAdd(_FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Height, usePercent);\n            return;\n        }\n        var info = new RelationDef();\n        info.percent = usePercent;\n        info.type = relationType;\n        info.axis = (relationType <= _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Right_Right || relationType == _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Width || relationType >= _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].LeftExt_Left && relationType <= _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].RightExt_Right) ? 0 : 1;\n        this._defs.push(info);\n    }\n    remove(relationType) {\n        if (relationType == _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Size) {\n            this.remove(_FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Width);\n            this.remove(_FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Height);\n            return;\n        }\n        var dc = this._defs.length;\n        for (var k = 0; k < dc; k++) {\n            if (this._defs[k].type == relationType) {\n                this._defs.splice(k, 1);\n                break;\n            }\n        }\n    }\n    copyFrom(source) {\n        this._target = source.target;\n        this._defs.length = 0;\n        var cnt = source._defs.length;\n        for (var i = 0; i < cnt; i++) {\n            var info = source._defs[i];\n            var info2 = new RelationDef();\n            info2.copyFrom(info);\n            this._defs.push(info2);\n        }\n    }\n    dispose() {\n        if (this._target) {\n            this.releaseRefTarget();\n            this._target = null;\n        }\n    }\n    get isEmpty() {\n        return this._defs.length == 0;\n    }\n    applyOnSelfResized(dWidth, dHeight, applyPivot) {\n        var cnt = this._defs.length;\n        if (cnt == 0)\n            return;\n        var ox = this._owner.x;\n        var oy = this._owner.y;\n        for (var i = 0; i < cnt; i++) {\n            var info = this._defs[i];\n            switch (info.type) {\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Center_Center:\n                    this._owner.x -= (0.5 - (applyPivot ? this._owner.pivotX : 0)) * dWidth;\n                    break;\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Right_Center:\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Right_Left:\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Right_Right:\n                    this._owner.x -= (1 - (applyPivot ? this._owner.pivotX : 0)) * dWidth;\n                    break;\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Middle_Middle:\n                    this._owner.y -= (0.5 - (applyPivot ? this._owner.pivotY : 0)) * dHeight;\n                    break;\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Bottom_Middle:\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Bottom_Top:\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Bottom_Bottom:\n                    this._owner.y -= (1 - (applyPivot ? this._owner.pivotY : 0)) * dHeight;\n                    break;\n            }\n        }\n        if (ox != this._owner.x || oy != this._owner.y) {\n            ox = this._owner.x - ox;\n            oy = this._owner.y - oy;\n            this._owner.updateGearFromRelations(1, ox, oy);\n            if (this._owner.parent && this._owner.parent._transitions.length > 0) {\n                cnt = this._owner.parent._transitions.length;\n                for (var j = 0; j < cnt; j++) {\n                    var trans = this._owner.parent._transitions[j];\n                    trans.updateFromRelations(this._owner.id, ox, oy);\n                }\n            }\n        }\n    }\n    applyOnXYChanged(info, dx, dy) {\n        var tmp;\n        switch (info.type) {\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Left_Left:\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Left_Center:\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Left_Right:\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Center_Center:\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Right_Left:\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Right_Center:\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Right_Right:\n                this._owner.x += dx;\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Top_Top:\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Top_Middle:\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Top_Bottom:\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Middle_Middle:\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Bottom_Top:\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Bottom_Middle:\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Bottom_Bottom:\n                this._owner.y += dy;\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Width:\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Height:\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].LeftExt_Left:\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].LeftExt_Right:\n                if (this._owner != this._target.parent) {\n                    tmp = this._owner.xMin;\n                    this._owner.width = this._owner._rawWidth - dx;\n                    this._owner.xMin = tmp + dx;\n                }\n                else\n                    this._owner.width = this._owner._rawWidth - dx;\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].RightExt_Left:\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].RightExt_Right:\n                if (this._owner != this._target.parent) {\n                    tmp = this._owner.xMin;\n                    this._owner.width = this._owner._rawWidth + dx;\n                    this._owner.xMin = tmp;\n                }\n                else\n                    this._owner.width = this._owner._rawWidth + dx;\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].TopExt_Top:\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].TopExt_Bottom:\n                if (this._owner != this._target.parent) {\n                    tmp = this._owner.yMin;\n                    this._owner.height = this._owner._rawHeight - dy;\n                    this._owner.yMin = tmp + dy;\n                }\n                else\n                    this._owner.height = this._owner._rawHeight - dy;\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].BottomExt_Top:\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].BottomExt_Bottom:\n                if (this._owner != this._target.parent) {\n                    tmp = this._owner.yMin;\n                    this._owner.height = this._owner._rawHeight + dy;\n                    this._owner.yMin = tmp;\n                }\n                else\n                    this._owner.height = this._owner._rawHeight + dy;\n                break;\n        }\n    }\n    applyOnSizeChanged(info) {\n        var pos = 0, pivot = 0, delta = 0;\n        var v, tmp;\n        if (info.axis == 0) {\n            if (this._target != this._owner.parent) {\n                pos = this._target.x;\n                if (this._target.pivotAsAnchor)\n                    pivot = this._target.pivotX;\n            }\n            if (info.percent) {\n                if (this._targetWidth != 0)\n                    delta = this._target._width / this._targetWidth;\n            }\n            else\n                delta = this._target._width - this._targetWidth;\n        }\n        else {\n            if (this._target != this._owner.parent) {\n                pos = this._target.y;\n                if (this._target.pivotAsAnchor)\n                    pivot = this._target.pivotY;\n            }\n            if (info.percent) {\n                if (this._targetHeight != 0)\n                    delta = this._target._height / this._targetHeight;\n            }\n            else\n                delta = this._target._height - this._targetHeight;\n        }\n        switch (info.type) {\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Left_Left:\n                if (info.percent)\n                    this._owner.xMin = pos + (this._owner.xMin - pos) * delta;\n                else if (pivot != 0)\n                    this._owner.x += delta * (-pivot);\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Left_Center:\n                if (info.percent)\n                    this._owner.xMin = pos + (this._owner.xMin - pos) * delta;\n                else\n                    this._owner.x += delta * (0.5 - pivot);\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Left_Right:\n                if (info.percent)\n                    this._owner.xMin = pos + (this._owner.xMin - pos) * delta;\n                else\n                    this._owner.x += delta * (1 - pivot);\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Center_Center:\n                if (info.percent)\n                    this._owner.xMin = pos + (this._owner.xMin + this._owner._rawWidth * 0.5 - pos) * delta - this._owner._rawWidth * 0.5;\n                else\n                    this._owner.x += delta * (0.5 - pivot);\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Right_Left:\n                if (info.percent)\n                    this._owner.xMin = pos + (this._owner.xMin + this._owner._rawWidth - pos) * delta - this._owner._rawWidth;\n                else if (pivot != 0)\n                    this._owner.x += delta * (-pivot);\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Right_Center:\n                if (info.percent)\n                    this._owner.xMin = pos + (this._owner.xMin + this._owner._rawWidth - pos) * delta - this._owner._rawWidth;\n                else\n                    this._owner.x += delta * (0.5 - pivot);\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Right_Right:\n                if (info.percent)\n                    this._owner.xMin = pos + (this._owner.xMin + this._owner._rawWidth - pos) * delta - this._owner._rawWidth;\n                else\n                    this._owner.x += delta * (1 - pivot);\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Top_Top:\n                if (info.percent)\n                    this._owner.yMin = pos + (this._owner.yMin - pos) * delta;\n                else if (pivot != 0)\n                    this._owner.y += delta * (-pivot);\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Top_Middle:\n                if (info.percent)\n                    this._owner.yMin = pos + (this._owner.yMin - pos) * delta;\n                else\n                    this._owner.y += delta * (0.5 - pivot);\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Top_Bottom:\n                if (info.percent)\n                    this._owner.yMin = pos + (this._owner.yMin - pos) * delta;\n                else\n                    this._owner.y += delta * (1 - pivot);\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Middle_Middle:\n                if (info.percent)\n                    this._owner.yMin = pos + (this._owner.yMin + this._owner._rawHeight * 0.5 - pos) * delta - this._owner._rawHeight * 0.5;\n                else\n                    this._owner.y += delta * (0.5 - pivot);\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Bottom_Top:\n                if (info.percent)\n                    this._owner.yMin = pos + (this._owner.yMin + this._owner._rawHeight - pos) * delta - this._owner._rawHeight;\n                else if (pivot != 0)\n                    this._owner.y += delta * (-pivot);\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Bottom_Middle:\n                if (info.percent)\n                    this._owner.yMin = pos + (this._owner.yMin + this._owner._rawHeight - pos) * delta - this._owner._rawHeight;\n                else\n                    this._owner.y += delta * (0.5 - pivot);\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Bottom_Bottom:\n                if (info.percent)\n                    this._owner.yMin = pos + (this._owner.yMin + this._owner._rawHeight - pos) * delta - this._owner._rawHeight;\n                else\n                    this._owner.y += delta * (1 - pivot);\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Width:\n                if (this._owner._underConstruct && this._owner == this._target.parent)\n                    v = this._owner.sourceWidth - this._target.initWidth;\n                else\n                    v = this._owner._rawWidth - this._targetWidth;\n                if (info.percent)\n                    v = v * delta;\n                if (this._target == this._owner.parent) {\n                    if (this._owner.pivotAsAnchor) {\n                        tmp = this._owner.xMin;\n                        this._owner.setSize(this._target._width + v, this._owner._rawHeight, true);\n                        this._owner.xMin = tmp;\n                    }\n                    else\n                        this._owner.setSize(this._target._width + v, this._owner._rawHeight, true);\n                }\n                else\n                    this._owner.width = this._target._width + v;\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].Height:\n                if (this._owner._underConstruct && this._owner == this._target.parent)\n                    v = this._owner.sourceHeight - this._target.initHeight;\n                else\n                    v = this._owner._rawHeight - this._targetHeight;\n                if (info.percent)\n                    v = v * delta;\n                if (this._target == this._owner.parent) {\n                    if (this._owner.pivotAsAnchor) {\n                        tmp = this._owner.yMin;\n                        this._owner.setSize(this._owner._rawWidth, this._target._height + v, true);\n                        this._owner.yMin = tmp;\n                    }\n                    else\n                        this._owner.setSize(this._owner._rawWidth, this._target._height + v, true);\n                }\n                else\n                    this._owner.height = this._target._height + v;\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].LeftExt_Left:\n                tmp = this._owner.xMin;\n                if (info.percent)\n                    v = pos + (tmp - pos) * delta - tmp;\n                else\n                    v = delta * (-pivot);\n                this._owner.width = this._owner._rawWidth - v;\n                this._owner.xMin = tmp + v;\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].LeftExt_Right:\n                tmp = this._owner.xMin;\n                if (info.percent)\n                    v = pos + (tmp - pos) * delta - tmp;\n                else\n                    v = delta * (1 - pivot);\n                this._owner.width = this._owner._rawWidth - v;\n                this._owner.xMin = tmp + v;\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].RightExt_Left:\n                tmp = this._owner.xMin;\n                if (info.percent)\n                    v = pos + (tmp + this._owner._rawWidth - pos) * delta - (tmp + this._owner._rawWidth);\n                else\n                    v = delta * (-pivot);\n                this._owner.width = this._owner._rawWidth + v;\n                this._owner.xMin = tmp;\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].RightExt_Right:\n                tmp = this._owner.xMin;\n                if (info.percent) {\n                    if (this._owner == this._target.parent) {\n                        if (this._owner._underConstruct)\n                            this._owner.width = pos + this._target._width - this._target._width * pivot +\n                                (this._owner.sourceWidth - pos - this._target.initWidth + this._target.initWidth * pivot) * delta;\n                        else\n                            this._owner.width = pos + (this._owner._rawWidth - pos) * delta;\n                    }\n                    else {\n                        v = pos + (tmp + this._owner._rawWidth - pos) * delta - (tmp + this._owner._rawWidth);\n                        this._owner.width = this._owner._rawWidth + v;\n                        this._owner.xMin = tmp;\n                    }\n                }\n                else {\n                    if (this._owner == this._target.parent) {\n                        if (this._owner._underConstruct)\n                            this._owner.width = this._owner.sourceWidth + (this._target._width - this._target.initWidth) * (1 - pivot);\n                        else\n                            this._owner.width = this._owner._rawWidth + delta * (1 - pivot);\n                    }\n                    else {\n                        v = delta * (1 - pivot);\n                        this._owner.width = this._owner._rawWidth + v;\n                        this._owner.xMin = tmp;\n                    }\n                }\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].TopExt_Top:\n                tmp = this._owner.yMin;\n                if (info.percent)\n                    v = pos + (tmp - pos) * delta - tmp;\n                else\n                    v = delta * (-pivot);\n                this._owner.height = this._owner._rawHeight - v;\n                this._owner.yMin = tmp + v;\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].TopExt_Bottom:\n                tmp = this._owner.yMin;\n                if (info.percent)\n                    v = pos + (tmp - pos) * delta - tmp;\n                else\n                    v = delta * (1 - pivot);\n                this._owner.height = this._owner._rawHeight - v;\n                this._owner.yMin = tmp + v;\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].BottomExt_Top:\n                tmp = this._owner.yMin;\n                if (info.percent)\n                    v = pos + (tmp + this._owner._rawHeight - pos) * delta - (tmp + this._owner._rawHeight);\n                else\n                    v = delta * (-pivot);\n                this._owner.height = this._owner._rawHeight + v;\n                this._owner.yMin = tmp;\n                break;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"RelationType\"].BottomExt_Bottom:\n                tmp = this._owner.yMin;\n                if (info.percent) {\n                    if (this._owner == this._target.parent) {\n                        if (this._owner._underConstruct)\n                            this._owner.height = pos + this._target._height - this._target._height * pivot +\n                                (this._owner.sourceHeight - pos - this._target.initHeight + this._target.initHeight * pivot) * delta;\n                        else\n                            this._owner.height = pos + (this._owner._rawHeight - pos) * delta;\n                    }\n                    else {\n                        v = pos + (tmp + this._owner._rawHeight - pos) * delta - (tmp + this._owner._rawHeight);\n                        this._owner.height = this._owner._rawHeight + v;\n                        this._owner.yMin = tmp;\n                    }\n                }\n                else {\n                    if (this._owner == this._target.parent) {\n                        if (this._owner._underConstruct)\n                            this._owner.height = this._owner.sourceHeight + (this._target._height - this._target.initHeight) * (1 - pivot);\n                        else\n                            this._owner.height = this._owner._rawHeight + delta * (1 - pivot);\n                    }\n                    else {\n                        v = delta * (1 - pivot);\n                        this._owner.height = this._owner._rawHeight + v;\n                        this._owner.yMin = tmp;\n                    }\n                }\n                break;\n        }\n    }\n    addRefTarget() {\n        throw new Error(\"TODO\");\n        // if (this._target != this._owner.parent)\n        //     this._target.on(Events.XY_CHANGED, this, this.__targetXYChanged);\n        // this._target.on(Events.SIZE_CHANGED, this, this.__targetSizeChanged);\n        // this._target.on(Events.SIZE_DELAY_CHANGE, this, this.__targetSizeWillChange);\n        // this._targetX = this._target.x;\n        // this._targetY = this._target.y;\n        // this._targetWidth = this._target._width;\n        // this._targetHeight = this._target._height;\n    }\n    releaseRefTarget() {\n        throw new Error(\"TODO\");\n        // if (this._target.displayObject == null)\n        //     return;\n        // this._target.off(Events.XY_CHANGED, this, this.__targetXYChanged);\n        // this._target.off(Events.SIZE_CHANGED, this, this.__targetSizeChanged);\n        // this._target.off(Events.SIZE_DELAY_CHANGE, this, this.__targetSizeWillChange);\n    }\n    __targetXYChanged() {\n        if (this._owner.relations.handling != null || this._owner.group != null && this._owner.group._updating) {\n            this._targetX = this._target.x;\n            this._targetY = this._target.y;\n            return;\n        }\n        this._owner.relations.handling = this._target;\n        var ox = this._owner.x;\n        var oy = this._owner.y;\n        var dx = this._target.x - this._targetX;\n        var dy = this._target.y - this._targetY;\n        var cnt = this._defs.length;\n        for (var i = 0; i < cnt; i++) {\n            this.applyOnXYChanged(this._defs[i], dx, dy);\n        }\n        this._targetX = this._target.x;\n        this._targetY = this._target.y;\n        if (ox != this._owner.x || oy != this._owner.y) {\n            ox = this._owner.x - ox;\n            oy = this._owner.y - oy;\n            this._owner.updateGearFromRelations(1, ox, oy);\n            if (this._owner.parent && this._owner.parent._transitions.length > 0) {\n                cnt = this._owner.parent._transitions.length;\n                for (var j = 0; j < cnt; j++) {\n                    var trans = this._owner.parent._transitions[j];\n                    trans.updateFromRelations(this._owner.id, ox, oy);\n                }\n            }\n        }\n        this._owner.relations.handling = null;\n    }\n    __targetSizeChanged() {\n        if (this._owner.relations.sizeDirty)\n            this._owner.relations.ensureRelationsSizeCorrect();\n        if (this._owner.relations.handling != null) {\n            this._targetWidth = this._target._width;\n            this._targetHeight = this._target._height;\n            return;\n        }\n        this._owner.relations.handling = this._target;\n        var ox = this._owner.x;\n        var oy = this._owner.y;\n        var ow = this._owner._rawWidth;\n        var oh = this._owner._rawHeight;\n        var cnt = this._defs.length;\n        for (var i = 0; i < cnt; i++) {\n            this.applyOnSizeChanged(this._defs[i]);\n        }\n        this._targetWidth = this._target._width;\n        this._targetHeight = this._target._height;\n        if (ox != this._owner.x || oy != this._owner.y) {\n            ox = this._owner.x - ox;\n            oy = this._owner.y - oy;\n            this._owner.updateGearFromRelations(1, ox, oy);\n            if (this._owner.parent && this._owner.parent._transitions.length > 0) {\n                cnt = this._owner.parent._transitions.length;\n                for (var j = 0; j < cnt; j++) {\n                    var trans = this._owner.parent._transitions[j];\n                    trans.updateFromRelations(this._owner.id, ox, oy);\n                }\n            }\n        }\n        if (ow != this._owner._rawWidth || oh != this._owner._rawHeight) {\n            ow = this._owner._rawWidth - ow;\n            oh = this._owner._rawHeight - oh;\n            this._owner.updateGearFromRelations(2, ow, oh);\n        }\n        this._owner.relations.handling = null;\n    }\n    __targetSizeWillChange() {\n        this._owner.relations.sizeDirty = true;\n    }\n}\nclass RelationDef {\n    constructor() {\n    }\n    copyFrom(source) {\n        this.percent = source.percent;\n        this.type = source.type;\n        this.axis = source.axis;\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/RelationItem.ts?");

/***/ }),

/***/ "./src/Relations.ts":
/*!**************************!*\
  !*** ./src/Relations.ts ***!
  \**************************/
/*! exports provided: Relations */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Relations\", function() { return Relations; });\n/* harmony import */ var _RelationItem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RelationItem */ \"./src/RelationItem.ts\");\n\nclass Relations {\n    constructor(owner) {\n        this._owner = owner;\n        this._items = [];\n    }\n    add(target, relationType, usePercent) {\n        var length = this._items.length;\n        for (var i = 0; i < length; i++) {\n            var item = this._items[i];\n            if (item.target == target) {\n                item.add(relationType, usePercent);\n                return;\n            }\n        }\n        var newItem = new _RelationItem__WEBPACK_IMPORTED_MODULE_0__[\"RelationItem\"](this._owner);\n        newItem.target = target;\n        newItem.add(relationType, usePercent);\n        this._items.push(newItem);\n    }\n    remove(target, relationType) {\n        relationType = relationType || 0;\n        var cnt = this._items.length;\n        var i = 0;\n        while (i < cnt) {\n            var item = this._items[i];\n            if (item.target == target) {\n                item.remove(relationType);\n                if (item.isEmpty) {\n                    item.dispose();\n                    this._items.splice(i, 1);\n                    cnt--;\n                }\n                else\n                    i++;\n            }\n            else\n                i++;\n        }\n    }\n    contains(target) {\n        var length = this._items.length;\n        for (var i = 0; i < length; i++) {\n            var item = this._items[i];\n            if (item.target == target)\n                return true;\n        }\n        return false;\n    }\n    clearFor(target) {\n        var cnt = this._items.length;\n        var i = 0;\n        while (i < cnt) {\n            var item = this._items[i];\n            if (item.target == target) {\n                item.dispose();\n                this._items.splice(i, 1);\n                cnt--;\n            }\n            else\n                i++;\n        }\n    }\n    clearAll() {\n        var length = this._items.length;\n        for (var i = 0; i < length; i++) {\n            var item = this._items[i];\n            item.dispose();\n        }\n        this._items.length = 0;\n    }\n    copyFrom(source) {\n        this.clearAll();\n        var arr = source._items;\n        var length = arr.length;\n        for (var i = 0; i < length; i++) {\n            var ri = arr[i];\n            var item = new _RelationItem__WEBPACK_IMPORTED_MODULE_0__[\"RelationItem\"](this._owner);\n            item.copyFrom(ri);\n            this._items.push(item);\n        }\n    }\n    dispose() {\n        this.clearAll();\n    }\n    onOwnerSizeChanged(dWidth, dHeight, applyPivot) {\n        if (this._items.length == 0)\n            return;\n        var length = this._items.length;\n        for (var i = 0; i < length; i++) {\n            var item = this._items[i];\n            item.applyOnSelfResized(dWidth, dHeight, applyPivot);\n        }\n    }\n    ensureRelationsSizeCorrect() {\n        if (this._items.length == 0)\n            return;\n        this.sizeDirty = false;\n        var length = this._items.length;\n        for (var i = 0; i < length; i++) {\n            var item = this._items[i];\n            item.target.ensureSizeCorrect();\n        }\n    }\n    get empty() {\n        return this._items.length == 0;\n    }\n    setup(buffer, parentToChild) {\n        var cnt = buffer.readByte();\n        var target;\n        for (var i = 0; i < cnt; i++) {\n            var targetIndex = buffer.readShort();\n            if (targetIndex == -1)\n                target = this._owner.parent;\n            else if (parentToChild)\n                target = (this._owner).getChildAt(targetIndex);\n            else\n                target = this._owner.parent.getChildAt(targetIndex);\n            var newItem = new _RelationItem__WEBPACK_IMPORTED_MODULE_0__[\"RelationItem\"](this._owner);\n            newItem.target = target;\n            this._items.push(newItem);\n            var cnt2 = buffer.readByte();\n            for (var j = 0; j < cnt2; j++) {\n                var rt = buffer.readByte();\n                var usePercent = buffer.readBool();\n                newItem.internalAdd(rt, usePercent);\n            }\n        }\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/Relations.ts?");

/***/ }),

/***/ "./src/ScrollPane.ts":
/*!***************************!*\
  !*** ./src/ScrollPane.ts ***!
  \***************************/
/*! exports provided: ScrollPane */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ScrollPane\", function() { return ScrollPane; });\n/* harmony import */ var _FieldTypes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FieldTypes */ \"./src/FieldTypes.ts\");\n/* harmony import */ var _GObject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GObject */ \"./src/GObject.ts\");\n/* harmony import */ var _utils_ToolSet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/ToolSet */ \"./src/utils/ToolSet.ts\");\n/* harmony import */ var _UIConfig__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./UIConfig */ \"./src/UIConfig.ts\");\n/* harmony import */ var _Margin__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Margin */ \"./src/Margin.ts\");\n\n\n\n\n\nclass ScrollPane {\n    constructor(owner) {\n        this._owner = owner;\n        throw new Error(\"TODO\");\n        // this._maskContainer = new Laya.Sprite();\n        // this._owner.displayObject.addChild(this._maskContainer);\n        // this._container = this._owner._container;\n        // this._container.pos(0, 0);\n        // this._maskContainer.addChild(this._container);\n        this._mouseWheelEnabled = true;\n        this._xPos = 0;\n        this._yPos = 0;\n        this._aniFlag = 0;\n        this._tweening = 0;\n        this._loop = 0;\n        this._footerLockedSize = 0;\n        this._headerLockedSize = 0;\n        this._scrollBarMargin = new _Margin__WEBPACK_IMPORTED_MODULE_4__[\"Margin\"]();\n        this._viewSize = new Phaser.Geom.Point();\n        this._contentSize = new Phaser.Geom.Point();\n        this._pageSize = new Phaser.Geom.Point(1, 1);\n        this._overlapSize = new Phaser.Geom.Point();\n        this._tweenTime = new Phaser.Geom.Point();\n        this._tweenStart = new Phaser.Geom.Point();\n        this._tweenDuration = new Phaser.Geom.Point();\n        this._tweenChange = new Phaser.Geom.Point();\n        this._velocity = new Phaser.Geom.Point();\n        this._containerPos = new Phaser.Geom.Point();\n        this._beginTouchPos = new Phaser.Geom.Point();\n        this._lastTouchPos = new Phaser.Geom.Point();\n        this._lastTouchGlobalPos = new Phaser.Geom.Point();\n        this._scrollStep = _UIConfig__WEBPACK_IMPORTED_MODULE_3__[\"UIConfig\"].defaultScrollStep;\n        this._mouseWheelStep = this._scrollStep * 2;\n        this._decelerationRate = _UIConfig__WEBPACK_IMPORTED_MODULE_3__[\"UIConfig\"].defaultScrollDecelerationRate;\n        // this._owner.on(Laya.Event.MOUSE_DOWN, this, this.__mouseDown);\n        // this._owner.on(Laya.Event.MOUSE_WHEEL, this, this.__mouseWheel);\n    }\n    setup(buffer) {\n        throw new Error(\"TODO\");\n        // this._scrollType = buffer.readByte();\n        // var scrollBarDisplay: number = buffer.readByte();\n        // var flags: number = buffer.readInt();\n        // if (buffer.readBool()) {\n        //     this._scrollBarMargin.top = buffer.readInt();\n        //     this._scrollBarMargin.bottom = buffer.readInt();\n        //     this._scrollBarMargin.left = buffer.readInt();\n        //     this._scrollBarMargin.right = buffer.readInt();\n        // }\n        // var vtScrollBarRes: string = buffer.readS();\n        // var hzScrollBarRes: string = buffer.readS();\n        // var headerRes: string = buffer.readS();\n        // var footerRes: string = buffer.readS();\n        // if ((flags & 1) != 0) this._displayOnLeft = true;\n        // if ((flags & 2) != 0) this._snapToItem = true;\n        // if ((flags & 4) != 0) this._displayInDemand = true;\n        // if ((flags & 8) != 0) this._pageMode = true;\n        // if (flags & 16)\n        //     this._touchEffect = true;\n        // else if (flags & 32)\n        //     this._touchEffect = false;\n        // else\n        //     this._touchEffect = UIConfig.defaultScrollTouchEffect;\n        // if (flags & 64)\n        //     this._bouncebackEffect = true;\n        // else if (flags & 128)\n        //     this._bouncebackEffect = false;\n        // else\n        //     this._bouncebackEffect = UIConfig.defaultScrollBounceEffect;\n        // if ((flags & 256) != 0) this._inertiaDisabled = true;\n        // if ((flags & 512) == 0) this._maskContainer.scrollRect = new Laya.Rectangle();\n        // if ((flags & 1024) != 0) this._floating = true;\n        // if ((flags & 2048) != 0) this._dontClipMargin = true;\n        // if (scrollBarDisplay == ScrollBarDisplayType.Default)\n        //     scrollBarDisplay = UIConfig.defaultScrollBarDisplay;\n        // if (scrollBarDisplay != ScrollBarDisplayType.Hidden) {\n        //     if (this._scrollType == ScrollType.Both || this._scrollType == ScrollType.Vertical) {\n        //         var res: string = vtScrollBarRes ? vtScrollBarRes : UIConfig.verticalScrollBar;\n        //         if (res) {\n        //             this._vtScrollBar = <GScrollBar>(UIPackage.createObjectFromURL(res));\n        //             if (!this._vtScrollBar)\n        //                 throw \"cannot create scrollbar from \" + res;\n        //             this._vtScrollBar.setScrollPane(this, true);\n        //             this._owner.displayObject.addChild(this._vtScrollBar.displayObject);\n        //         }\n        //     }\n        //     if (this._scrollType == ScrollType.Both || this._scrollType == ScrollType.Horizontal) {\n        //         res = hzScrollBarRes ? hzScrollBarRes : UIConfig.horizontalScrollBar;\n        //         if (res) {\n        //             this._hzScrollBar = <GScrollBar>(UIPackage.createObjectFromURL(res));\n        //             if (!this._hzScrollBar)\n        //                 throw \"cannot create scrollbar from \" + res;\n        //             this._hzScrollBar.setScrollPane(this, false);\n        //             this._owner.displayObject.addChild(this._hzScrollBar.displayObject);\n        //         }\n        //     }\n        //     if (scrollBarDisplay == ScrollBarDisplayType.Auto)\n        //         this._scrollBarDisplayAuto = true;\n        //     if (this._scrollBarDisplayAuto) {\n        //         if (this._vtScrollBar)\n        //             this._vtScrollBar.displayObject.visible = false;\n        //         if (this._hzScrollBar)\n        //             this._hzScrollBar.displayObject.visible = false;\n        //     }\n        // }\n        // else\n        //     this._mouseWheelEnabled = false;\n        // if (headerRes) {\n        //     this._header = <GComponent>UIPackage.createObjectFromURL(headerRes);\n        //     if (!this._header)\n        //         throw new Error(\"FairyGUI: cannot create scrollPane this.header from \" + headerRes);\n        // }\n        // if (footerRes) {\n        //     this._footer = <GComponent>UIPackage.createObjectFromURL(footerRes);\n        //     if (!this._footer)\n        //         throw new Error(\"FairyGUI: cannot create scrollPane this.footer from \" + footerRes);\n        // }\n        // if (this._header || this._footer)\n        //     this._refreshBarAxis = (this._scrollType == ScrollType.Both || this._scrollType == ScrollType.Vertical) ? \"y\" : \"x\";\n        // this.setSize(this.owner.width, this.owner.height);\n    }\n    dispose() {\n        if (ScrollPane.draggingPane == this) {\n            ScrollPane.draggingPane = null;\n        }\n        if (this._tweening != 0)\n            throw new Error(\"TODO\");\n        // Laya.timer.clear(this, this.tweenUpdate);\n        this._pageController = null;\n        if (this._hzScrollBar)\n            this._hzScrollBar.dispose();\n        if (this._vtScrollBar)\n            this._vtScrollBar.dispose();\n        if (this._header)\n            this._header.dispose();\n        if (this._footer)\n            this._footer.dispose();\n    }\n    get owner() {\n        return this._owner;\n    }\n    get hzScrollBar() {\n        return this._hzScrollBar;\n    }\n    get vtScrollBar() {\n        return this._vtScrollBar;\n    }\n    get header() {\n        return this._header;\n    }\n    get footer() {\n        return this._footer;\n    }\n    get bouncebackEffect() {\n        return this._bouncebackEffect;\n    }\n    set bouncebackEffect(sc) {\n        this._bouncebackEffect = sc;\n    }\n    get touchEffect() {\n        return this._touchEffect;\n    }\n    set touchEffect(sc) {\n        this._touchEffect = sc;\n    }\n    set scrollStep(val) {\n        this._scrollStep = val;\n        if (this._scrollStep == 0)\n            this._scrollStep = _UIConfig__WEBPACK_IMPORTED_MODULE_3__[\"UIConfig\"].defaultScrollStep;\n        this._mouseWheelStep = this._scrollStep * 2;\n    }\n    get scrollStep() {\n        return this._scrollStep;\n    }\n    get snapToItem() {\n        return this._snapToItem;\n    }\n    set snapToItem(value) {\n        this._snapToItem = value;\n    }\n    get mouseWheelEnabled() {\n        return this._mouseWheelEnabled;\n    }\n    set mouseWheelEnabled(value) {\n        this._mouseWheelEnabled = value;\n    }\n    get decelerationRate() {\n        return this._decelerationRate;\n    }\n    set decelerationRate(value) {\n        this._decelerationRate = value;\n    }\n    get isDragged() {\n        return this._dragged;\n    }\n    get percX() {\n        return this._overlapSize.x == 0 ? 0 : this._xPos / this._overlapSize.x;\n    }\n    set percX(value) {\n        this.setPercX(value, false);\n    }\n    setPercX(value, ani) {\n        this._owner.ensureBoundsCorrect();\n        this.setPosX(this._overlapSize.x * _utils_ToolSet__WEBPACK_IMPORTED_MODULE_2__[\"ToolSet\"].clamp01(value), ani);\n    }\n    get percY() {\n        return this._overlapSize.y == 0 ? 0 : this._yPos / this._overlapSize.y;\n    }\n    set percY(value) {\n        this.setPercY(value, false);\n    }\n    setPercY(value, ani) {\n        this._owner.ensureBoundsCorrect();\n        this.setPosY(this._overlapSize.y * _utils_ToolSet__WEBPACK_IMPORTED_MODULE_2__[\"ToolSet\"].clamp01(value), ani);\n    }\n    get posX() {\n        return this._xPos;\n    }\n    set posX(value) {\n        this.setPosX(value, false);\n    }\n    setPosX(value, ani) {\n        this._owner.ensureBoundsCorrect();\n        if (this._loop == 1)\n            value = this.loopCheckingNewPos(value, \"x\");\n        value = _utils_ToolSet__WEBPACK_IMPORTED_MODULE_2__[\"ToolSet\"].clamp(value, 0, this._overlapSize.x);\n        if (value != this._xPos) {\n            this._xPos = value;\n            this.posChanged(ani);\n        }\n    }\n    get posY() {\n        return this._yPos;\n    }\n    set posY(value) {\n        this.setPosY(value, false);\n    }\n    setPosY(value, ani) {\n        this._owner.ensureBoundsCorrect();\n        if (this._loop == 1)\n            value = this.loopCheckingNewPos(value, \"y\");\n        value = _utils_ToolSet__WEBPACK_IMPORTED_MODULE_2__[\"ToolSet\"].clamp(value, 0, this._overlapSize.y);\n        if (value != this._yPos) {\n            this._yPos = value;\n            this.posChanged(ani);\n        }\n    }\n    get contentWidth() {\n        return this._contentSize.x;\n    }\n    get contentHeight() {\n        return this._contentSize.y;\n    }\n    get viewWidth() {\n        return this._viewSize.x;\n    }\n    set viewWidth(value) {\n        value = value + this._owner.margin.left + this._owner.margin.right;\n        if (this._vtScrollBar && !this._floating)\n            value += this._vtScrollBar.width;\n        this._owner.width = value;\n    }\n    get viewHeight() {\n        return this._viewSize.y;\n    }\n    set viewHeight(value) {\n        value = value + this._owner.margin.top + this._owner.margin.bottom;\n        if (this._hzScrollBar && !this._floating)\n            value += this._hzScrollBar.height;\n        this._owner.height = value;\n    }\n    get currentPageX() {\n        if (!this._pageMode)\n            return 0;\n        var page = Math.floor(this._xPos / this._pageSize.x);\n        if (this._xPos - page * this._pageSize.x > this._pageSize.x * 0.5)\n            page++;\n        return page;\n    }\n    set currentPageX(value) {\n        this.setCurrentPageX(value, false);\n    }\n    get currentPageY() {\n        if (!this._pageMode)\n            return 0;\n        var page = Math.floor(this._yPos / this._pageSize.y);\n        if (this._yPos - page * this._pageSize.y > this._pageSize.y * 0.5)\n            page++;\n        return page;\n    }\n    set currentPageY(value) {\n        this.setCurrentPageY(value, false);\n    }\n    setCurrentPageX(value, ani) {\n        if (!this._pageMode)\n            return;\n        this._owner.ensureBoundsCorrect();\n        if (this._overlapSize.x > 0)\n            this.setPosX(value * this._pageSize.x, ani);\n    }\n    setCurrentPageY(value, ani) {\n        if (!this._pageMode)\n            return;\n        this._owner.ensureBoundsCorrect();\n        if (this._overlapSize.y > 0)\n            this.setPosY(value * this._pageSize.y, ani);\n    }\n    get isBottomMost() {\n        return this._yPos == this._overlapSize.y || this._overlapSize.y == 0;\n    }\n    get isRightMost() {\n        return this._xPos == this._overlapSize.x || this._overlapSize.x == 0;\n    }\n    get pageController() {\n        return this._pageController;\n    }\n    set pageController(value) {\n        this._pageController = value;\n    }\n    get scrollingPosX() {\n        return _utils_ToolSet__WEBPACK_IMPORTED_MODULE_2__[\"ToolSet\"].clamp(-this._container.x, 0, this._overlapSize.x);\n    }\n    get scrollingPosY() {\n        return _utils_ToolSet__WEBPACK_IMPORTED_MODULE_2__[\"ToolSet\"].clamp(-this._container.y, 0, this._overlapSize.y);\n    }\n    scrollTop(ani) {\n        this.setPercY(0, ani);\n    }\n    scrollBottom(ani) {\n        this.setPercY(1, ani);\n    }\n    scrollUp(ratio, ani) {\n        ratio = ratio || 1;\n        if (this._pageMode)\n            this.setPosY(this._yPos - this._pageSize.y * ratio, ani);\n        else\n            this.setPosY(this._yPos - this._scrollStep * ratio, ani);\n        ;\n    }\n    scrollDown(ratio, ani) {\n        ratio = ratio || 1;\n        if (this._pageMode)\n            this.setPosY(this._yPos + this._pageSize.y * ratio, ani);\n        else\n            this.setPosY(this._yPos + this._scrollStep * ratio, ani);\n    }\n    scrollLeft(ratio, ani) {\n        ratio = ratio || 1;\n        if (this._pageMode)\n            this.setPosX(this._xPos - this._pageSize.x * ratio, ani);\n        else\n            this.setPosX(this._xPos - this._scrollStep * ratio, ani);\n    }\n    scrollRight(ratio, ani) {\n        ratio = ratio || 1;\n        if (this._pageMode)\n            this.setPosX(this._xPos + this._pageSize.x * ratio, ani);\n        else\n            this.setPosX(this._xPos + this._scrollStep * ratio, ani);\n    }\n    scrollToView(target, ani, setFirst) {\n        this._owner.ensureBoundsCorrect();\n        if (this._needRefresh)\n            this.refresh();\n        var rect;\n        if (target instanceof _GObject__WEBPACK_IMPORTED_MODULE_1__[\"GObject\"]) {\n            if (target.parent != this._owner) {\n                target.parent.localToGlobalRect(target.x, target.y, target.width, target.height, s_rect);\n                rect = this._owner.globalToLocalRect(s_rect.x, s_rect.y, s_rect.width, s_rect.height, s_rect);\n            }\n            else {\n                rect = s_rect;\n                rect.setTo(target.x, target.y, target.width, target.height);\n            }\n        }\n        else\n            rect = target;\n        if (this._overlapSize.y > 0) {\n            var bottom = this._yPos + this._viewSize.y;\n            if (setFirst || rect.y <= this._yPos || rect.height >= this._viewSize.y) {\n                if (this._pageMode)\n                    this.setPosY(Math.floor(rect.y / this._pageSize.y) * this._pageSize.y, ani);\n                else\n                    this.setPosY(rect.y, ani);\n            }\n            else if (rect.y + rect.height > bottom) {\n                if (this._pageMode)\n                    this.setPosY(Math.floor(rect.y / this._pageSize.y) * this._pageSize.y, ani);\n                else if (rect.height <= this._viewSize.y / 2)\n                    this.setPosY(rect.y + rect.height * 2 - this._viewSize.y, ani);\n                else\n                    this.setPosY(rect.y + rect.height - this._viewSize.y, ani);\n            }\n        }\n        if (this._overlapSize.x > 0) {\n            var right = this._xPos + this._viewSize.x;\n            if (setFirst || rect.x <= this._xPos || rect.width >= this._viewSize.x) {\n                if (this._pageMode)\n                    this.setPosX(Math.floor(rect.x / this._pageSize.x) * this._pageSize.x, ani);\n                else\n                    this.setPosX(rect.x, ani);\n            }\n            else if (rect.x + rect.width > right) {\n                if (this._pageMode)\n                    this.setPosX(Math.floor(rect.x / this._pageSize.x) * this._pageSize.x, ani);\n                else if (rect.width <= this._viewSize.x / 2)\n                    this.setPosX(rect.x + rect.width * 2 - this._viewSize.x, ani);\n                else\n                    this.setPosX(rect.x + rect.width - this._viewSize.x, ani);\n            }\n        }\n        if (!ani && this._needRefresh)\n            this.refresh();\n    }\n    isChildInView(obj) {\n        if (this._overlapSize.y > 0) {\n            var dist = obj.y + this._container.y;\n            if (dist < -obj.height || dist > this._viewSize.y)\n                return false;\n        }\n        if (this._overlapSize.x > 0) {\n            dist = obj.x + this._container.x;\n            if (dist < -obj.width || dist > this._viewSize.x)\n                return false;\n        }\n        return true;\n    }\n    cancelDragging() {\n        throw new Error(\"TODO\");\n        // this._owner.displayObject.stage.off(Laya.Event.MOUSE_MOVE, this, this.__mouseMove);\n        // this._owner.displayObject.stage.off(Laya.Event.MOUSE_UP, this, this.__mouseUp);\n        // this._owner.displayObject.stage.off(Laya.Event.CLICK, this, this.__click);\n        // if (ScrollPane.draggingPane == this)\n        //     ScrollPane.draggingPane = null;\n        // _gestureFlag = 0;\n        // this._dragged = false;\n        // this._maskContainer.mouseEnabled = true;\n    }\n    lockHeader(size) {\n        if (this._headerLockedSize == size)\n            return;\n        this._headerLockedSize = size;\n        if (!this._refreshEventDispatching && this._container[this._refreshBarAxis] >= 0) {\n            this._tweenStart.setTo(this._container.x, this._container.y);\n            this._tweenChange.setTo(0, 0);\n            this._tweenChange[this._refreshBarAxis] = this._headerLockedSize - this._tweenStart[this._refreshBarAxis];\n            this._tweenDuration.setTo(TWEEN_TIME_DEFAULT, TWEEN_TIME_DEFAULT);\n            this.startTween(2);\n        }\n    }\n    lockFooter(size) {\n        if (this._footerLockedSize == size)\n            return;\n        this._footerLockedSize = size;\n        if (!this._refreshEventDispatching && this._container[this._refreshBarAxis] <= -this._overlapSize[this._refreshBarAxis]) {\n            this._tweenStart.setTo(this._container.x, this._container.y);\n            this._tweenChange.setTo(0, 0);\n            var max = this._overlapSize[this._refreshBarAxis];\n            if (max == 0)\n                max = Math.max(this._contentSize[this._refreshBarAxis] + this._footerLockedSize - this._viewSize[this._refreshBarAxis], 0);\n            else\n                max += this._footerLockedSize;\n            this._tweenChange[this._refreshBarAxis] = -max - this._tweenStart[this._refreshBarAxis];\n            this._tweenDuration.setTo(TWEEN_TIME_DEFAULT, TWEEN_TIME_DEFAULT);\n            this.startTween(2);\n        }\n    }\n    onOwnerSizeChanged() {\n        this.setSize(this._owner.width, this._owner.height);\n        this.posChanged(false);\n    }\n    handleControllerChanged(c) {\n        if (this._pageController == c) {\n            if (this._scrollType == _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ScrollType\"].Horizontal)\n                this.setCurrentPageX(c.selectedIndex, true);\n            else\n                this.setCurrentPageY(c.selectedIndex, true);\n        }\n    }\n    updatePageController() {\n        if (this._pageController != null && !this._pageController.changing) {\n            var index;\n            if (this._scrollType == _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ScrollType\"].Horizontal)\n                index = this.currentPageX;\n            else\n                index = this.currentPageY;\n            if (index < this._pageController.pageCount) {\n                var c = this._pageController;\n                this._pageController = null; //防止HandleControllerChanged的调用\n                c.selectedIndex = index;\n                this._pageController = c;\n            }\n        }\n    }\n    adjustMaskContainer() {\n        throw new Error(\"TODO\");\n        // var mx: number = 0, my: number = 0;\n        // if (this._dontClipMargin) {\n        //     if (this._displayOnLeft && this._vtScrollBar && !this._floating)\n        //         mx = this._vtScrollBar.width;\n        // }\n        // else {\n        //     if (this._displayOnLeft && this._vtScrollBar && !this._floating)\n        //         mx = this._owner.margin.left + this._vtScrollBar.width;\n        //     else\n        //         mx = this._owner.margin.left;\n        //     my = this._owner.margin.top;\n        // }\n        // this._maskContainer.pos(mx, my);\n        // mx = this._owner._alignOffset.x;\n        // my = this._owner._alignOffset.y;\n        // if (mx != 0 || my != 0 || this._dontClipMargin) {\n        //     if (!this._alignContainer) {\n        //         throw new Error(\"TODO\");\n        //         // this._alignContainer = new Laya.Sprite();\n        //         // this._maskContainer.addChild(this._alignContainer);\n        //         // this._alignContainer.addChild(this._container);\n        //     }\n        // }\n        // if (this._alignContainer) {\n        //     if (this._dontClipMargin) {\n        //         mx += this._owner.margin.left;\n        //         my += this._owner.margin.top;\n        //     }\n        //     this._alignContainer.pos(mx, my);\n        // }\n    }\n    setSize(aWidth, aHeight) {\n        this.adjustMaskContainer();\n        if (this._hzScrollBar) {\n            this._hzScrollBar.y = aHeight - this._hzScrollBar.height;\n            if (this._vtScrollBar) {\n                this._hzScrollBar.width = aWidth - this._vtScrollBar.width - this._scrollBarMargin.left - this._scrollBarMargin.right;\n                if (this._displayOnLeft)\n                    this._hzScrollBar.x = this._scrollBarMargin.left + this._vtScrollBar.width;\n                else\n                    this._hzScrollBar.x = this._scrollBarMargin.left;\n            }\n            else {\n                this._hzScrollBar.width = aWidth - this._scrollBarMargin.left - this._scrollBarMargin.right;\n                this._hzScrollBar.x = this._scrollBarMargin.left;\n            }\n        }\n        if (this._vtScrollBar) {\n            if (!this._displayOnLeft)\n                this._vtScrollBar.x = aWidth - this._vtScrollBar.width;\n            if (this._hzScrollBar)\n                this._vtScrollBar.height = aHeight - this._hzScrollBar.height - this._scrollBarMargin.top - this._scrollBarMargin.bottom;\n            else\n                this._vtScrollBar.height = aHeight - this._scrollBarMargin.top - this._scrollBarMargin.bottom;\n            this._vtScrollBar.y = this._scrollBarMargin.top;\n        }\n        this._viewSize.x = aWidth;\n        this._viewSize.y = aHeight;\n        if (this._hzScrollBar && !this._floating)\n            this._viewSize.y -= this._hzScrollBar.height;\n        if (this._vtScrollBar && !this._floating)\n            this._viewSize.x -= this._vtScrollBar.width;\n        this._viewSize.x -= (this._owner.margin.left + this._owner.margin.right);\n        this._viewSize.y -= (this._owner.margin.top + this._owner.margin.bottom);\n        this._viewSize.x = Math.max(1, this._viewSize.x);\n        this._viewSize.y = Math.max(1, this._viewSize.y);\n        this._pageSize.x = this._viewSize.x;\n        this._pageSize.y = this._viewSize.y;\n        this.handleSizeChanged();\n    }\n    setContentSize(aWidth, aHeight) {\n        if (this._contentSize.x == aWidth && this._contentSize.y == aHeight)\n            return;\n        this._contentSize.x = aWidth;\n        this._contentSize.y = aHeight;\n        this.handleSizeChanged();\n    }\n    changeContentSizeOnScrolling(deltaWidth, deltaHeight, deltaPosX, deltaPosY) {\n        var isRightmost = this._xPos == this._overlapSize.x;\n        var isBottom = this._yPos == this._overlapSize.y;\n        this._contentSize.x += deltaWidth;\n        this._contentSize.y += deltaHeight;\n        this.handleSizeChanged();\n        if (this._tweening == 1) {\n            //如果原来滚动位置是贴边，加入处理继续贴边。\n            if (deltaWidth != 0 && isRightmost && this._tweenChange.x < 0) {\n                this._xPos = this._overlapSize.x;\n                this._tweenChange.x = -this._xPos - this._tweenStart.x;\n            }\n            if (deltaHeight != 0 && isBottom && this._tweenChange.y < 0) {\n                this._yPos = this._overlapSize.y;\n                this._tweenChange.y = -this._yPos - this._tweenStart.y;\n            }\n        }\n        else if (this._tweening == 2) {\n            //重新调整起始位置，确保能够顺滑滚下去\n            if (deltaPosX != 0) {\n                this._container.x -= deltaPosX;\n                this._tweenStart.x -= deltaPosX;\n                this._xPos = -this._container.x;\n            }\n            if (deltaPosY != 0) {\n                this._container.y -= deltaPosY;\n                this._tweenStart.y -= deltaPosY;\n                this._yPos = -this._container.y;\n            }\n        }\n        else if (this._dragged) {\n            if (deltaPosX != 0) {\n                this._container.x -= deltaPosX;\n                this._containerPos.x -= deltaPosX;\n                this._xPos = -this._container.x;\n            }\n            if (deltaPosY != 0) {\n                this._container.y -= deltaPosY;\n                this._containerPos.y -= deltaPosY;\n                this._yPos = -this._container.y;\n            }\n        }\n        else {\n            //如果原来滚动位置是贴边，加入处理继续贴边。\n            if (deltaWidth != 0 && isRightmost) {\n                this._xPos = this._overlapSize.x;\n                this._container.x = -this._xPos;\n            }\n            if (deltaHeight != 0 && isBottom) {\n                this._yPos = this._overlapSize.y;\n                this._container.y = -this._yPos;\n            }\n        }\n        if (this._pageMode)\n            this.updatePageController();\n    }\n    handleSizeChanged() {\n        throw new Error(\"TODO\");\n        // if (this._displayInDemand) {\n        //     this._vScrollNone = this._contentSize.y <= this._viewSize.y;\n        //     this._hScrollNone = this._contentSize.x <= this._viewSize.x;\n        // }\n        // if (this._vtScrollBar) {\n        //     if (this._contentSize.y == 0)\n        //         this._vtScrollBar.setDisplayPerc(0);\n        //     else\n        //         this._vtScrollBar.setDisplayPerc(Math.min(1, this._viewSize.y / this._contentSize.y));\n        // }\n        // if (this._hzScrollBar) {\n        //     if (this._contentSize.x == 0)\n        //         this._hzScrollBar.setDisplayPerc(0);\n        //     else\n        //         this._hzScrollBar.setDisplayPerc(Math.min(1, this._viewSize.x / this._contentSize.x));\n        // }\n        // this.updateScrollBarVisible();\n        // var rect: Phaser.Geom.Rectangle = this._maskContainer.scrollRect;\n        // if (rect) {\n        //     rect.width = this._viewSize.x;\n        //     rect.height = this._viewSize.y;\n        //     if (this._vScrollNone && this._vtScrollBar)\n        //         rect.width += this._vtScrollBar.width;\n        //     if (this._hScrollNone && this._hzScrollBar)\n        //         rect.height += this._hzScrollBar.height;\n        //     if (this._dontClipMargin) {\n        //         rect.width += (this._owner.margin.left + this._owner.margin.right);\n        //         rect.height += (this._owner.margin.top + this._owner.margin.bottom);\n        //     }\n        //     this._maskContainer.scrollRect = rect;\n        // }\n        // if (this._scrollType == ScrollType.Horizontal || this._scrollType == ScrollType.Both)\n        //     this._overlapSize.x = Math.ceil(Math.max(0, this._contentSize.x - this._viewSize.x));\n        // else\n        //     this._overlapSize.x = 0;\n        // if (this._scrollType == ScrollType.Vertical || this._scrollType == ScrollType.Both)\n        //     this._overlapSize.y = Math.ceil(Math.max(0, this._contentSize.y - this._viewSize.y));\n        // else\n        //     this._overlapSize.y = 0;\n        // //边界检查\n        // this._xPos = ToolSet.clamp(this._xPos, 0, this._overlapSize.x);\n        // this._yPos = ToolSet.clamp(this._yPos, 0, this._overlapSize.y);\n        // if (this._refreshBarAxis != null) {\n        //     var max: number = this._overlapSize[this._refreshBarAxis];\n        //     if (max == 0)\n        //         max = Math.max(this._contentSize[this._refreshBarAxis] + this._footerLockedSize - this._viewSize[this._refreshBarAxis], 0);\n        //     else\n        //         max += this._footerLockedSize;\n        //     if (this._refreshBarAxis == \"x\") {\n        //         this._container.pos(ToolSet.clamp(this._container.x, -max, this._headerLockedSize),\n        //             ToolSet.clamp(this._container.y, -this._overlapSize.y, 0));\n        //     }\n        //     else {\n        //         this._container.pos(ToolSet.clamp(this._container.x, -this._overlapSize.x, 0),\n        //             ToolSet.clamp(this._container.y, -max, this._headerLockedSize));\n        //     }\n        //     if (this._header) {\n        //         if (this._refreshBarAxis == \"x\")\n        //             this._header.height = this._viewSize.y;\n        //         else\n        //             this._header.width = this._viewSize.x;\n        //     }\n        //     if (this._footer) {\n        //         if (this._refreshBarAxis == \"y\")\n        //             this._footer.height = this._viewSize.y;\n        //         else\n        //             this._footer.width = this._viewSize.x;\n        //     }\n        // }\n        // else {\n        //     this._container.pos(ToolSet.clamp(this._container.x, -this._overlapSize.x, 0),\n        //         ToolSet.clamp(this._container.y, -this._overlapSize.y, 0));\n        // }\n        // this.updateScrollBarPos();\n        // if (this._pageMode)\n        //     this.updatePageController();\n    }\n    posChanged(ani) {\n        throw new Error(\"TODO\");\n        // if (this._aniFlag == 0)\n        //     this._aniFlag = ani ? 1 : -1;\n        // else if (this._aniFlag == 1 && !ani)\n        //     this._aniFlag = -1;\n        // this._needRefresh = true;\n        // Laya.timer.callLater(this, this.refresh);\n    }\n    refresh() {\n        throw new Error(\"TODO\");\n        // if (!this._owner.displayObject) {\n        //     return;\n        // }\n        // this._needRefresh = false;\n        // Laya.timer.clear(this, this.refresh);\n        // if (this._pageMode || this._snapToItem) {\n        //     sEndPos.setTo(-this._xPos, -this._yPos);\n        //     this.alignPosition(sEndPos, false);\n        //     this._xPos = -sEndPos.x;\n        //     this._yPos = -sEndPos.y;\n        // }\n        // this.refresh2();\n        // Events.dispatch(Events.SCROLL, this._owner.displayObject);\n        // if (this._needRefresh) //在onScroll事件里开发者可能修改位置，这里再刷新一次，避免闪烁\n        // {\n        //     this._needRefresh = false;\n        //     Laya.timer.clear(this, this.refresh);\n        //     this.refresh2();\n        // }\n        // this.updateScrollBarPos();\n        // this._aniFlag = 0;\n    }\n    refresh2() {\n        throw new Error(\"TODO\");\n        // if (this._aniFlag == 1 && !this._dragged) {\n        //     var posX: number;\n        //     var posY: number;\n        //     if (this._overlapSize.x > 0)\n        //         posX = -Math.floor(this._xPos);\n        //     else {\n        //         if (this._container.x != 0)\n        //             this._container.x = 0;\n        //         posX = 0;\n        //     }\n        //     if (this._overlapSize.y > 0)\n        //         posY = -Math.floor(this._yPos);\n        //     else {\n        //         if (this._container.y != 0)\n        //             this._container.y = 0;\n        //         posY = 0;\n        //     }\n        //     if (posX != this._container.x || posY != this._container.y) {\n        //         this._tweenDuration.setTo(TWEEN_TIME_GO, TWEEN_TIME_GO);\n        //         this._tweenStart.setTo(this._container.x, this._container.y);\n        //         this._tweenChange.setTo(posX - this._tweenStart.x, posY - this._tweenStart.y);\n        //         this.startTween(1);\n        //     }\n        //     else if (this._tweening != 0)\n        //         this.killTween();\n        // }\n        // else {\n        //     if (this._tweening != 0)\n        //         this.killTween();\n        //     this._container.pos(Math.floor(-this._xPos), Math.floor(-this._yPos));\n        //     this.loopCheckingCurrent();\n        // }\n        // if (this._pageMode)\n        //     this.updatePageController();\n    }\n    __mouseDown() {\n        throw new Error(\"TODO\");\n        // if (!this._touchEffect)\n        //     return;\n        // if (this._tweening != 0) {\n        //     this.killTween();\n        //     this._dragged = true;\n        // }\n        // else\n        //     this._dragged = false;\n        // var pt = this._owner.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY, s_vec2);\n        // this._containerPos.setTo(this._container.x, this._container.y);\n        // this._beginTouchPos.setTo(pt.x, pt.y);\n        // this._lastTouchPos.setTo(pt.x, pt.y);\n        // this._lastTouchGlobalPos.setTo(Laya.stage.mouseX, Laya.stage.mouseY);\n        // this._isHoldAreaDone = false;\n        // this._velocity.setTo(0, 0);\n        // this._velocityScale = 1;\n        // this._lastMoveTime = Laya.timer.currTimer / 1000;\n        // this._owner.displayObject.stage.on(Laya.Event.MOUSE_MOVE, this, this.__mouseMove);\n        // this._owner.displayObject.stage.on(Laya.Event.MOUSE_UP, this, this.__mouseUp);\n        // this._owner.displayObject.stage.on(Laya.Event.CLICK, this, this.__click);\n    }\n    __mouseMove() {\n        // if (!this._touchEffect || this.owner.isDisposed)\n        //     return;\n        // if (ScrollPane.draggingPane && ScrollPane.draggingPane != this || GObject.draggingObject) //已经有其他拖动\n        //     return;\n        // var sensitivity: number = UIConfig.touchScrollSensitivity;\n        // var pt: Laya.Point = this._owner.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY, s_vec2);\n        // var diff: number, diff2: number;\n        // var sv: boolean, sh: boolean, st: boolean;\n        // if (this._scrollType == ScrollType.Vertical) {\n        //     if (!this._isHoldAreaDone) {\n        //         //表示正在监测垂直方向的手势\n        //         _gestureFlag |= 1;\n        //         diff = Math.abs(this._beginTouchPos.y - pt.y);\n        //         if (diff < sensitivity)\n        //             return;\n        //         if ((_gestureFlag & 2) != 0) //已经有水平方向的手势在监测，那么我们用严格的方式检查是不是按垂直方向移动，避免冲突\n        //         {\n        //             diff2 = Math.abs(this._beginTouchPos.x - pt.x);\n        //             if (diff < diff2) //不通过则不允许滚动了\n        //                 return;\n        //         }\n        //     }\n        //     sv = true;\n        // }\n        // else if (this._scrollType == ScrollType.Horizontal) {\n        //     if (!this._isHoldAreaDone) {\n        //         _gestureFlag |= 2;\n        //         diff = Math.abs(this._beginTouchPos.x - pt.x);\n        //         if (diff < sensitivity)\n        //             return;\n        //         if ((_gestureFlag & 1) != 0) {\n        //             diff2 = Math.abs(this._beginTouchPos.y - pt.y);\n        //             if (diff < diff2)\n        //                 return;\n        //         }\n        //     }\n        //     sh = true;\n        // }\n        // else {\n        //     _gestureFlag = 3;\n        //     if (!this._isHoldAreaDone) {\n        //         diff = Math.abs(this._beginTouchPos.y - pt.y);\n        //         if (diff < sensitivity) {\n        //             diff = Math.abs(this._beginTouchPos.x - pt.x);\n        //             if (diff < sensitivity)\n        //                 return;\n        //         }\n        //     }\n        //     sv = sh = true;\n        // }\n        // var newPosX: number = Math.floor(this._containerPos.x + pt.x - this._beginTouchPos.x);\n        // var newPosY: number = Math.floor(this._containerPos.y + pt.y - this._beginTouchPos.y);\n        // if (sv) {\n        //     if (newPosY > 0) {\n        //         if (!this._bouncebackEffect)\n        //             this._container.y = 0;\n        //         else if (this._header && this._header.maxHeight != 0)\n        //             this._container.y = Math.floor(Math.min(newPosY * 0.5, this._header.maxHeight));\n        //         else\n        //             this._container.y = Math.floor(Math.min(newPosY * 0.5, this._viewSize.y * PULL_RATIO));\n        //     }\n        //     else if (newPosY < -this._overlapSize.y) {\n        //         if (!this._bouncebackEffect)\n        //             this._container.y = -this._overlapSize.y;\n        //         else if (this._footer && this._footer.maxHeight > 0)\n        //             this._container.y = Math.floor(Math.max((newPosY + this._overlapSize.y) * 0.5, -this._footer.maxHeight) - this._overlapSize.y);\n        //         else\n        //             this._container.y = Math.floor(Math.max((newPosY + this._overlapSize.y) * 0.5, -this._viewSize.y * PULL_RATIO) - this._overlapSize.y);\n        //     }\n        //     else\n        //         this._container.y = newPosY;\n        // }\n        // if (sh) {\n        //     if (newPosX > 0) {\n        //         if (!this._bouncebackEffect)\n        //             this._container.x = 0;\n        //         else if (this._header && this._header.maxWidth != 0)\n        //             this._container.x = Math.floor(Math.min(newPosX * 0.5, this._header.maxWidth));\n        //         else\n        //             this._container.x = Math.floor(Math.min(newPosX * 0.5, this._viewSize.x * PULL_RATIO));\n        //     }\n        //     else if (newPosX < 0 - this._overlapSize.x) {\n        //         if (!this._bouncebackEffect)\n        //             this._container.x = -this._overlapSize.x;\n        //         else if (this._footer && this._footer.maxWidth > 0)\n        //             this._container.x = Math.floor(Math.max((newPosX + this._overlapSize.x) * 0.5, -this._footer.maxWidth) - this._overlapSize.x);\n        //         else\n        //             this._container.x = Math.floor(Math.max((newPosX + this._overlapSize.x) * 0.5, -this._viewSize.x * PULL_RATIO) - this._overlapSize.x);\n        //     }\n        //     else\n        //         this._container.x = newPosX;\n        // }\n        // //更新速度\n        // var frameRate: number = Laya.stage.frameRate == Laya.Stage.FRAME_SLOW ? 30 : 60;\n        // var now: number = Laya.timer.currTimer / 1000;\n        // var deltaTime: number = Math.max(now - this._lastMoveTime, 1 / frameRate);\n        // var deltaPositionX: number = pt.x - this._lastTouchPos.x;\n        // var deltaPositionY: number = pt.y - this._lastTouchPos.y;\n        // if (!sh)\n        //     deltaPositionX = 0;\n        // if (!sv)\n        //     deltaPositionY = 0;\n        // if (deltaTime != 0) {\n        //     var elapsed: number = deltaTime * frameRate - 1;\n        //     if (elapsed > 1) //速度衰减\n        //     {\n        //         var factor: number = Math.pow(0.833, elapsed);\n        //         this._velocity.x = this._velocity.x * factor;\n        //         this._velocity.y = this._velocity.y * factor;\n        //     }\n        //     this._velocity.x = ToolSet.lerp(this._velocity.x, deltaPositionX * 60 / frameRate / deltaTime, deltaTime * 10);\n        //     this._velocity.y = ToolSet.lerp(this._velocity.y, deltaPositionY * 60 / frameRate / deltaTime, deltaTime * 10);\n        // }\n        // /*速度计算使用的是本地位移，但在后续的惯性滚动判断中需要用到屏幕位移，所以这里要记录一个位移的比例。\n        // */\n        // var deltaGlobalPositionX: number = this._lastTouchGlobalPos.x - Laya.stage.mouseX;\n        // var deltaGlobalPositionY: number = this._lastTouchGlobalPos.y - Laya.stage.mouseY;\n        // if (deltaPositionX != 0)\n        //     this._velocityScale = Math.abs(deltaGlobalPositionX / deltaPositionX);\n        // else if (deltaPositionY != 0)\n        //     this._velocityScale = Math.abs(deltaGlobalPositionY / deltaPositionY);\n        // this._lastTouchPos.setTo(pt.x, pt.y);\n        // this._lastTouchGlobalPos.setTo(Laya.stage.mouseX, Laya.stage.mouseY);\n        // this._lastMoveTime = now;\n        // //同步更新pos值\n        // if (this._overlapSize.x > 0)\n        //     this._xPos = ToolSet.clamp(-this._container.x, 0, this._overlapSize.x);\n        // if (this._overlapSize.y > 0)\n        //     this._yPos = ToolSet.clamp(-this._container.y, 0, this._overlapSize.y);\n        // //循环滚动特别检查\n        // if (this._loop != 0) {\n        //     newPosX = this._container.x;\n        //     newPosY = this._container.y;\n        //     if (this.loopCheckingCurrent()) {\n        //         this._containerPos.x += this._container.x - newPosX;\n        //         this._containerPos.y += this._container.y - newPosY;\n        //     }\n        // }\n        // ScrollPane.draggingPane = this;\n        // this._isHoldAreaDone = true;\n        // this._dragged = true;\n        // this._maskContainer.mouseEnabled = false;\n        // this.updateScrollBarPos();\n        // this.updateScrollBarVisible();\n        // if (this._pageMode)\n        //     this.updatePageController();\n        // Events.dispatch(Events.SCROLL, this._owner.displayObject);\n    }\n    __mouseUp() {\n        throw new Error(\"TODO\");\n        // if (this._owner.isDisposed)\n        //     return;\n        // this._owner.displayObject.stage.off(Laya.Event.MOUSE_MOVE, this, this.__mouseMove);\n        // this._owner.displayObject.stage.off(Laya.Event.MOUSE_UP, this, this.__mouseUp);\n        // this._owner.displayObject.stage.off(Laya.Event.CLICK, this, this.__click);\n        // if (ScrollPane.draggingPane == this)\n        //     ScrollPane.draggingPane = null;\n        // _gestureFlag = 0;\n        // if (!this._dragged || !this._touchEffect) {\n        //     this._dragged = false;\n        //     this._maskContainer.mouseEnabled = true;\n        //     return;\n        // }\n        // this._dragged = false;\n        // this._maskContainer.mouseEnabled = true;\n        // this._tweenStart.setTo(this._container.x, this._container.y);\n        // sEndPos.setTo(this._tweenStart.x, this._tweenStart.y);\n        // var flag: boolean = false;\n        // if (this._container.x > 0) {\n        //     sEndPos.x = 0;\n        //     flag = true;\n        // }\n        // else if (this._container.x < -this._overlapSize.x) {\n        //     sEndPos.x = -this._overlapSize.x;\n        //     flag = true;\n        // }\n        // if (this._container.y > 0) {\n        //     sEndPos.y = 0;\n        //     flag = true;\n        // }\n        // else if (this._container.y < -this._overlapSize.y) {\n        //     sEndPos.y = -this._overlapSize.y;\n        //     flag = true;\n        // }\n        // if (flag) {\n        //     this._tweenChange.setTo(sEndPos.x - this._tweenStart.x, sEndPos.y - this._tweenStart.y);\n        //     if (this._tweenChange.x < -UIConfig.touchDragSensitivity || this._tweenChange.y < -UIConfig.touchDragSensitivity) {\n        //         this._refreshEventDispatching = true;\n        //         Events.dispatch(Events.PULL_DOWN_RELEASE, this._owner.displayObject);\n        //         this._refreshEventDispatching = false;\n        //     }\n        //     else if (this._tweenChange.x > UIConfig.touchDragSensitivity || this._tweenChange.y > UIConfig.touchDragSensitivity) {\n        //         this._refreshEventDispatching = true;\n        //         Events.dispatch(Events.PULL_UP_RELEASE, this._owner.displayObject);\n        //         this._refreshEventDispatching = false;\n        //     }\n        //     if (this._headerLockedSize > 0 && sEndPos[this._refreshBarAxis] == 0) {\n        //         sEndPos[this._refreshBarAxis] = this._headerLockedSize;\n        //         this._tweenChange.x = sEndPos.x - this._tweenStart.x;\n        //         this._tweenChange.y = sEndPos.y - this._tweenStart.y;\n        //     }\n        //     else if (this._footerLockedSize > 0 && sEndPos[this._refreshBarAxis] == -this._overlapSize[this._refreshBarAxis]) {\n        //         var max: number = this._overlapSize[this._refreshBarAxis];\n        //         if (max == 0)\n        //             max = Math.max(this._contentSize[this._refreshBarAxis] + this._footerLockedSize - this._viewSize[this._refreshBarAxis], 0);\n        //         else\n        //             max += this._footerLockedSize;\n        //         sEndPos[this._refreshBarAxis] = -max;\n        //         this._tweenChange.x = sEndPos.x - this._tweenStart.x;\n        //         this._tweenChange.y = sEndPos.y - this._tweenStart.y;\n        //     }\n        //     this._tweenDuration.setTo(TWEEN_TIME_DEFAULT, TWEEN_TIME_DEFAULT);\n        // }\n        // else {\n        //     //更新速度\n        //     if (!this._inertiaDisabled) {\n        //         var frameRate: number = Laya.stage.frameRate == Laya.Stage.FRAME_SLOW ? 30 : 60;\n        //         var elapsed: number = (Laya.timer.currTimer / 1000 - this._lastMoveTime) * frameRate - 1;\n        //         if (elapsed > 1) {\n        //             var factor: number = Math.pow(0.833, elapsed);\n        //             this._velocity.x = this._velocity.x * factor;\n        //             this._velocity.y = this._velocity.y * factor;\n        //         }\n        //         //根据速度计算目标位置和需要时间\n        //         this.updateTargetAndDuration(this._tweenStart, sEndPos);\n        //     }\n        //     else\n        //         this._tweenDuration.setTo(TWEEN_TIME_DEFAULT, TWEEN_TIME_DEFAULT);\n        //     sOldChange.setTo(sEndPos.x - this._tweenStart.x, sEndPos.y - this._tweenStart.y);\n        //     //调整目标位置\n        //     this.loopCheckingTarget(sEndPos);\n        //     if (this._pageMode || this._snapToItem)\n        //         this.alignPosition(sEndPos, true);\n        //     this._tweenChange.x = sEndPos.x - this._tweenStart.x;\n        //     this._tweenChange.y = sEndPos.y - this._tweenStart.y;\n        //     if (this._tweenChange.x == 0 && this._tweenChange.y == 0) {\n        //         this.updateScrollBarVisible();\n        //         return;\n        //     }\n        //     //如果目标位置已调整，随之调整需要时间\n        //     if (this._pageMode || this._snapToItem) {\n        //         this.fixDuration(\"x\", sOldChange.x);\n        //         this.fixDuration(\"y\", sOldChange.y);\n        //     }\n        // }\n        // this.startTween(2);\n    }\n    __click() {\n        this._dragged = false;\n    }\n    __mouseWheel(evt) {\n        throw new Error(\"TODO\");\n        if (!this._mouseWheelEnabled)\n            return;\n        var delta = evt[\"delta\"];\n        delta = delta > 0 ? -1 : (delta < 0 ? 1 : 0);\n        if (this._overlapSize.x > 0 && this._overlapSize.y == 0) {\n            if (this._pageMode)\n                this.setPosX(this._xPos + this._pageSize.x * delta, false);\n            else\n                this.setPosX(this._xPos + this._mouseWheelStep * delta, false);\n        }\n        else {\n            if (this._pageMode)\n                this.setPosY(this._yPos + this._pageSize.y * delta, false);\n            else\n                this.setPosY(this._yPos + this._mouseWheelStep * delta, false);\n        }\n    }\n    updateScrollBarPos() {\n        if (this._vtScrollBar)\n            this._vtScrollBar.setScrollPerc(this._overlapSize.y == 0 ? 0 : _utils_ToolSet__WEBPACK_IMPORTED_MODULE_2__[\"ToolSet\"].clamp(-this._container.y, 0, this._overlapSize.y) / this._overlapSize.y);\n        if (this._hzScrollBar)\n            this._hzScrollBar.setScrollPerc(this._overlapSize.x == 0 ? 0 : _utils_ToolSet__WEBPACK_IMPORTED_MODULE_2__[\"ToolSet\"].clamp(-this._container.x, 0, this._overlapSize.x) / this._overlapSize.x);\n        this.checkRefreshBar();\n    }\n    updateScrollBarVisible() {\n        throw new Error(\"TODO\");\n        // if (this._vtScrollBar) {\n        //     if (this._viewSize.y <= this._vtScrollBar.minSize || this._vScrollNone)\n        //         this._vtScrollBar.displayObject.visible = false;\n        //     else\n        //         this.updateScrollBarVisible2(this._vtScrollBar);\n        // }\n        // if (this._hzScrollBar) {\n        //     if (this._viewSize.x <= this._hzScrollBar.minSize || this._hScrollNone)\n        //         this._hzScrollBar.displayObject.visible = false;\n        //     else\n        //         this.updateScrollBarVisible2(this._hzScrollBar);\n        // }\n    }\n    updateScrollBarVisible2(bar) {\n        throw new Error(\"TODO\");\n        // if (this._scrollBarDisplayAuto)\n        //     GTween.kill(bar, false, \"alpha\");\n        // if (this._scrollBarDisplayAuto && this._tweening == 0 && !this._dragged && !bar.gripDragging) {\n        //     if (bar.displayObject.visible)\n        //         GTween.to(1, 0, 0.5).setDelay(0.5).onComplete(this.__barTweenComplete, this).setTarget(bar, \"alpha\");\n        // }\n        // else {\n        //     bar.alpha = 1;\n        //     bar.displayObject.visible = true;\n        // }\n    }\n    __barTweenComplete(tweener) {\n        throw new Error(\"TODO\");\n        // var bar: GObject = <GObject>(tweener.target);\n        // bar.alpha = 1;\n        // bar.displayObject.visible = false;\n    }\n    getLoopPartSize(division, axis) {\n        // return (this._contentSize[axis] + (axis == \"x\" ? (<GList>(this._owner)).columnGap : (<GList>(this._owner)).lineGap)) / division;\n        return 0;\n    }\n    loopCheckingCurrent() {\n        throw new Error(\"TODO\");\n        return false;\n        // var changed: boolean = false;\n        // if (this._loop == 1 && this._overlapSize.x > 0) {\n        //     if (this._xPos < 0.001) {\n        //         this._xPos += this.getLoopPartSize(2, \"x\");\n        //         changed = true;\n        //     }\n        //     else if (this._xPos >= this._overlapSize.x) {\n        //         this._xPos -= this.getLoopPartSize(2, \"x\");\n        //         changed = true;\n        //     }\n        // }\n        // else if (this._loop == 2 && this._overlapSize.y > 0) {\n        //     if (this._yPos < 0.001) {\n        //         this._yPos += this.getLoopPartSize(2, \"y\");\n        //         changed = true;\n        //     }\n        //     else if (this._yPos >= this._overlapSize.y) {\n        //         this._yPos -= this.getLoopPartSize(2, \"y\");\n        //         changed = true;\n        //     }\n        // }\n        // if (changed)\n        //     this._container.pos(Math.floor(-this._xPos), Math.floor(-this._yPos));\n        // return changed;\n    }\n    loopCheckingTarget(endPos) {\n        if (this._loop == 1)\n            this.loopCheckingTarget2(endPos, \"x\");\n        if (this._loop == 2)\n            this.loopCheckingTarget2(endPos, \"y\");\n    }\n    loopCheckingTarget2(endPos, axis) {\n        var halfSize;\n        var tmp;\n        if (endPos[axis] > 0) {\n            halfSize = this.getLoopPartSize(2, axis);\n            tmp = this._tweenStart[axis] - halfSize;\n            if (tmp <= 0 && tmp >= -this._overlapSize[axis]) {\n                endPos[axis] -= halfSize;\n                this._tweenStart[axis] = tmp;\n            }\n        }\n        else if (endPos[axis] < -this._overlapSize[axis]) {\n            halfSize = this.getLoopPartSize(2, axis);\n            tmp = this._tweenStart[axis] + halfSize;\n            if (tmp <= 0 && tmp >= -this._overlapSize[axis]) {\n                endPos[axis] += halfSize;\n                this._tweenStart[axis] = tmp;\n            }\n        }\n    }\n    loopCheckingNewPos(value, axis) {\n        if (this._overlapSize[axis] == 0)\n            return value;\n        var pos = axis == \"x\" ? this._xPos : this._yPos;\n        var changed = false;\n        var v;\n        if (value < 0.001) {\n            value += this.getLoopPartSize(2, axis);\n            if (value > pos) {\n                v = this.getLoopPartSize(6, axis);\n                v = Math.ceil((value - pos) / v) * v;\n                pos = _utils_ToolSet__WEBPACK_IMPORTED_MODULE_2__[\"ToolSet\"].clamp(pos + v, 0, this._overlapSize[axis]);\n                changed = true;\n            }\n        }\n        else if (value >= this._overlapSize[axis]) {\n            value -= this.getLoopPartSize(2, axis);\n            if (value < pos) {\n                v = this.getLoopPartSize(6, axis);\n                v = Math.ceil((pos - value) / v) * v;\n                pos = _utils_ToolSet__WEBPACK_IMPORTED_MODULE_2__[\"ToolSet\"].clamp(pos - v, 0, this._overlapSize[axis]);\n                changed = true;\n            }\n        }\n        if (changed) {\n            if (axis == \"x\")\n                this._container.x = -Math.floor(pos);\n            else\n                this._container.y = -Math.floor(pos);\n        }\n        return value;\n    }\n    alignPosition(pos, inertialScrolling) {\n        if (this._pageMode) {\n            pos.x = this.alignByPage(pos.x, \"x\", inertialScrolling);\n            pos.y = this.alignByPage(pos.y, \"y\", inertialScrolling);\n        }\n        else if (this._snapToItem) {\n            var xDir = 0;\n            var yDir = 0;\n            if (inertialScrolling) {\n                xDir = pos.x - this._containerPos.x;\n                yDir = pos.y - this._containerPos.y;\n            }\n            var pt = this._owner.getSnappingPositionWithDir(-pos.x, -pos.y, xDir, yDir, s_vec2);\n            if (pos.x < 0 && pos.x > -this._overlapSize.x)\n                pos.x = -pt.x;\n            if (pos.y < 0 && pos.y > -this._overlapSize.y)\n                pos.y = -pt.y;\n        }\n    }\n    alignByPage(pos, axis, inertialScrolling) {\n        var page;\n        if (pos > 0)\n            page = 0;\n        else if (pos < -this._overlapSize[axis])\n            page = Math.ceil(this._contentSize[axis] / this._pageSize[axis]) - 1;\n        else {\n            page = Math.floor(-pos / this._pageSize[axis]);\n            var change = inertialScrolling ? (pos - this._containerPos[axis]) : (pos - this._container[axis]);\n            var testPageSize = Math.min(this._pageSize[axis], this._contentSize[axis] - (page + 1) * this._pageSize[axis]);\n            var delta = -pos - page * this._pageSize[axis];\n            //页面吸附策略\n            if (Math.abs(change) > this._pageSize[axis]) //如果滚动距离超过1页,则需要超过页面的一半，才能到更下一页\n             {\n                if (delta > testPageSize * 0.5)\n                    page++;\n            }\n            else //否则只需要页面的1/3，当然，需要考虑到左移和右移的情况\n             {\n                if (delta > testPageSize * (change < 0 ? _UIConfig__WEBPACK_IMPORTED_MODULE_3__[\"UIConfig\"].defaultScrollPagingThreshold : (1 - _UIConfig__WEBPACK_IMPORTED_MODULE_3__[\"UIConfig\"].defaultScrollPagingThreshold)))\n                    page++;\n            }\n            //重新计算终点\n            pos = -page * this._pageSize[axis];\n            if (pos < -this._overlapSize[axis]) //最后一页未必有pageSize那么大\n                pos = -this._overlapSize[axis];\n        }\n        //惯性滚动模式下，会增加判断尽量不要滚动超过一页\n        if (inertialScrolling) {\n            var oldPos = this._tweenStart[axis];\n            var oldPage;\n            if (oldPos > 0)\n                oldPage = 0;\n            else if (oldPos < -this._overlapSize[axis])\n                oldPage = Math.ceil(this._contentSize[axis] / this._pageSize[axis]) - 1;\n            else\n                oldPage = Math.floor(-oldPos / this._pageSize[axis]);\n            var startPage = Math.floor(-this._containerPos[axis] / this._pageSize[axis]);\n            if (Math.abs(page - startPage) > 1 && Math.abs(oldPage - startPage) <= 1) {\n                if (page > startPage)\n                    page = startPage + 1;\n                else\n                    page = startPage - 1;\n                pos = -page * this._pageSize[axis];\n            }\n        }\n        return pos;\n    }\n    updateTargetAndDuration(orignPos, resultPos) {\n        resultPos.x = this.updateTargetAndDuration2(orignPos.x, \"x\");\n        resultPos.y = this.updateTargetAndDuration2(orignPos.y, \"y\");\n    }\n    updateTargetAndDuration2(pos, axis) {\n        var v = this._velocity[axis];\n        var duration = 0;\n        if (pos > 0)\n            pos = 0;\n        else if (pos < -this._overlapSize[axis])\n            pos = -this._overlapSize[axis];\n        else {\n            throw new Error(\"TODO\");\n            // //以屏幕像素为基准\n            // var v2: number = Math.abs(v) * this._velocityScale;\n            // //在移动设备上，需要对不同分辨率做一个适配，我们的速度判断以1136分辨率为基准\n            // if (Laya.Browser.onMobile)\n            //     v2 *= 1136 / Math.max(Laya.stage.width, Laya.stage.height);\n            // //这里有一些阈值的处理，因为在低速内，不希望产生较大的滚动（甚至不滚动）\n            // var ratio: number = 0;\n            // if (this._pageMode || !Laya.Browser.onMobile) {\n            //     if (v2 > 500)\n            //         ratio = Math.pow((v2 - 500) / 500, 2);\n            // }\n            // else {\n            //     if (v2 > 1000)\n            //         ratio = Math.pow((v2 - 1000) / 1000, 2);\n            // }\n            // if (ratio != 0) {\n            //     if (ratio > 1)\n            //         ratio = 1;\n            //     v2 *= ratio;\n            //     v *= ratio;\n            //     this._velocity[axis] = v;\n            //     //算法：v*（_decelerationRate的n次幂）= 60，即在n帧后速度降为60（假设每秒60帧）。\n            //     duration = Math.log(60 / v2) / Math.log(this._decelerationRate) / 60;\n            //     //计算距离要使用本地速度\n            //     //理论公式貌似滚动的距离不够，改为经验公式\n            //     //var change:number = (v/ 60 - 1) / (1 - this._decelerationRate);\n            //     var change: number = Math.floor(v * duration * 0.4);\n            //     pos += change;\n            // }\n        }\n        if (duration < TWEEN_TIME_DEFAULT)\n            duration = TWEEN_TIME_DEFAULT;\n        this._tweenDuration[axis] = duration;\n        return pos;\n    }\n    fixDuration(axis, oldChange) {\n        if (this._tweenChange[axis] == 0 || Math.abs(this._tweenChange[axis]) >= Math.abs(oldChange))\n            return;\n        var newDuration = Math.abs(this._tweenChange[axis] / oldChange) * this._tweenDuration[axis];\n        if (newDuration < TWEEN_TIME_DEFAULT)\n            newDuration = TWEEN_TIME_DEFAULT;\n        this._tweenDuration[axis] = newDuration;\n    }\n    startTween(type) {\n        throw new Error(\"TODO\");\n        // this._tweenTime.setTo(0, 0);\n        // this._tweening = type;\n        // Laya.timer.frameLoop(1, this, this.tweenUpdate);\n        // this.updateScrollBarVisible();\n    }\n    killTween() {\n        throw new Error(\"TODO\");\n        // if (this._tweening == 1) //取消类型为1的tween需立刻设置到终点\n        // {\n        //     this._container.pos(this._tweenStart.x + this._tweenChange.x, this._tweenStart.y + this._tweenChange.y);\n        //     Events.dispatch(Events.SCROLL, this._owner.displayObject);\n        // }\n        // this._tweening = 0;\n        // Laya.timer.clear(this, this.tweenUpdate);\n        // this.updateScrollBarVisible();\n        // Events.dispatch(Events.SCROLL_END, this._owner.displayObject);\n    }\n    checkRefreshBar() {\n        throw new Error(\"TODO\");\n        // if (!this._header && !this._footer)\n        //     return;\n        // var pos: number = this._container[this._refreshBarAxis];\n        // if (this._header) {\n        //     if (pos > 0) {\n        //         if (!this._header.displayObject.parent)\n        //             this._maskContainer.addChildAt(this._header.displayObject, 0);\n        //         var pt: Phaser.Geom.Point = s_vec2;\n        //         pt.setTo(this._header.width, this._header.height);\n        //         pt[this._refreshBarAxis] = pos;\n        //         this._header.setSize(pt.x, pt.y);\n        //     }\n        //     else {\n        //         if (this._header.displayObject.parent)\n        //             this._maskContainer.removeChild(this._header.displayObject);\n        //     }\n        // }\n        // if (this._footer) {\n        //     var max: number = this._overlapSize[this._refreshBarAxis];\n        //     if (pos < -max || max == 0 && this._footerLockedSize > 0) {\n        //         if (!this._footer.displayObject.parent)\n        //             this._maskContainer.addChildAt(this._footer.displayObject, 0);\n        //         pt = s_vec2;\n        //         pt.setTo(this._footer.x, this._footer.y);\n        //         if (max > 0)\n        //             pt[this._refreshBarAxis] = pos + this._contentSize[this._refreshBarAxis];\n        //         else\n        //             pt[this._refreshBarAxis] = Math.max(Math.min(pos + this._viewSize[this._refreshBarAxis], this._viewSize[this._refreshBarAxis] - this._footerLockedSize),\n        //                 this._viewSize[this._refreshBarAxis] - this._contentSize[this._refreshBarAxis]);\n        //         this._footer.setXY(pt.x, pt.y);\n        //         pt.setTo(this._footer.width, this._footer.height);\n        //         if (max > 0)\n        //             pt[this._refreshBarAxis] = -max - pos;\n        //         else\n        //             pt[this._refreshBarAxis] = this._viewSize[this._refreshBarAxis] - this._footer[this._refreshBarAxis];\n        //         this._footer.setSize(pt.x, pt.y);\n        //     }\n        //     else {\n        //         if (this._footer.displayObject.parent)\n        //             this._maskContainer.removeChild(this._footer.displayObject);\n        //     }\n        // }\n    }\n    tweenUpdate() {\n        throw new Error(\"TODO\");\n        // var nx: number = this.runTween(\"x\");\n        // var ny: number = this.runTween(\"y\");\n        // this._container.pos(nx, ny);\n        // if (this._tweening == 2) {\n        //     if (this._overlapSize.x > 0)\n        //         this._xPos = ToolSet.clamp(-nx, 0, this._overlapSize.x);\n        //     if (this._overlapSize.y > 0)\n        //         this._yPos = ToolSet.clamp(-ny, 0, this._overlapSize.y);\n        //     if (this._pageMode)\n        //         this.updatePageController();\n        // }\n        // if (this._tweenChange.x == 0 && this._tweenChange.y == 0) {\n        //     throw new Error(\"TODO\");\n        //     // this._tweening = 0;\n        //     // Laya.timer.clear(this, this.tweenUpdate);\n        //     // this.loopCheckingCurrent();\n        //     // this.updateScrollBarPos();\n        //     // this.updateScrollBarVisible();\n        //     // Events.dispatch(Events.SCROLL, this._owner.displayObject);\n        //     // Events.dispatch(Events.SCROLL_END, this._owner.displayObject);\n        // }\n        // else {\n        //     this.updateScrollBarPos();\n        //     Events.dispatch(Events.SCROLL, this._owner.displayObject);\n        // }\n    }\n    runTween(axis) {\n        var newValue;\n        if (this._tweenChange[axis] != 0) {\n            throw new Error(\"TODO\");\n            // this._tweenTime[axis] += Laya.timer.delta / 1000;\n            if (this._tweenTime[axis] >= this._tweenDuration[axis]) {\n                newValue = this._tweenStart[axis] + this._tweenChange[axis];\n                this._tweenChange[axis] = 0;\n            }\n            else {\n                var ratio = easeFunc(this._tweenTime[axis], this._tweenDuration[axis]);\n                newValue = this._tweenStart[axis] + Math.floor(this._tweenChange[axis] * ratio);\n            }\n            var threshold1 = 0;\n            var threshold2 = -this._overlapSize[axis];\n            if (this._headerLockedSize > 0 && this._refreshBarAxis == axis)\n                threshold1 = this._headerLockedSize;\n            if (this._footerLockedSize > 0 && this._refreshBarAxis == axis) {\n                var max = this._overlapSize[this._refreshBarAxis];\n                if (max == 0)\n                    max = Math.max(this._contentSize[this._refreshBarAxis] + this._footerLockedSize - this._viewSize[this._refreshBarAxis], 0);\n                else\n                    max += this._footerLockedSize;\n                threshold2 = -max;\n            }\n            if (this._tweening == 2 && this._bouncebackEffect) {\n                if (newValue > 20 + threshold1 && this._tweenChange[axis] > 0\n                    || newValue > threshold1 && this._tweenChange[axis] == 0) //开始回弹\n                 {\n                    this._tweenTime[axis] = 0;\n                    this._tweenDuration[axis] = TWEEN_TIME_DEFAULT;\n                    this._tweenChange[axis] = -newValue + threshold1;\n                    this._tweenStart[axis] = newValue;\n                }\n                else if (newValue < threshold2 - 20 && this._tweenChange[axis] < 0\n                    || newValue < threshold2 && this._tweenChange[axis] == 0) //开始回弹\n                 {\n                    this._tweenTime[axis] = 0;\n                    this._tweenDuration[axis] = TWEEN_TIME_DEFAULT;\n                    this._tweenChange[axis] = threshold2 - newValue;\n                    this._tweenStart[axis] = newValue;\n                }\n            }\n            else {\n                if (newValue > threshold1) {\n                    newValue = threshold1;\n                    this._tweenChange[axis] = 0;\n                }\n                else if (newValue < threshold2) {\n                    newValue = threshold2;\n                    this._tweenChange[axis] = 0;\n                }\n            }\n        }\n        else\n            newValue = this._container[axis];\n        return newValue;\n    }\n}\nvar _gestureFlag = 0;\nconst TWEEN_TIME_GO = 0.5; //调用SetPos(ani)时使用的缓动时间\nconst TWEEN_TIME_DEFAULT = 0.3; //惯性滚动的最小缓动时间\nconst PULL_RATIO = 0.5; //下拉过顶或者上拉过底时允许超过的距离占显示区域的比例\nvar s_vec2 = new Phaser.Geom.Point();\nvar s_rect = new Phaser.Geom.Rectangle();\nvar sEndPos = new Phaser.Geom.Point();\nvar sOldChange = new Phaser.Geom.Point();\nfunction easeFunc(t, d) {\n    return (t = t / d - 1) * t * t + 1; //cubicOut\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/ScrollPane.ts?");

/***/ }),

/***/ "./src/Transition.ts":
/*!***************************!*\
  !*** ./src/Transition.ts ***!
  \***************************/
/*! exports provided: Transition */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Transition\", function() { return Transition; });\n/* harmony import */ var _tween_EaseType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tween/EaseType */ \"./src/tween/EaseType.ts\");\n/* harmony import */ var _tween_GPathPoint__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./tween/GPathPoint */ \"./src/tween/GPathPoint.ts\");\n/* harmony import */ var _GRoot__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GRoot */ \"./src/GRoot.ts\");\n/* harmony import */ var _UIPackage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./UIPackage */ \"./src/UIPackage.ts\");\n/* harmony import */ var _utils_ToolSet__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils/ToolSet */ \"./src/utils/ToolSet.ts\");\n/* harmony import */ var _FieldTypes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./FieldTypes */ \"./src/FieldTypes.ts\");\n/* harmony import */ var _tween_GTween__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./tween/GTween */ \"./src/tween/GTween.ts\");\n/* harmony import */ var _tween_GPath__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./tween/GPath */ \"./src/tween/GPath.ts\");\n\n\n\n\n\n\n\n\nclass Transition {\n    constructor(owner) {\n        this._owner = owner;\n        this._items = new Array();\n        this._totalDuration = 0;\n        this._autoPlayTimes = 1;\n        this._autoPlayDelay = 0;\n        this._timeScale = 1;\n        this._startTime = 0;\n        this._endTime = 0;\n    }\n    play(onComplete, times, delay, startTime, endTime) {\n        this._play(onComplete, times, delay, startTime, endTime, false);\n    }\n    playReverse(onComplete, times, delay, startTime, endTime) {\n        this._play(onComplete, 1, delay, startTime, endTime, true);\n    }\n    changePlayTimes(value) {\n        this._totalTimes = value;\n    }\n    setAutoPlay(value, times, delay) {\n        if (times == undefined)\n            times = -1;\n        if (delay == undefined)\n            delay = 0;\n        if (this._autoPlay != value) {\n            this._autoPlay = value;\n            this._autoPlayTimes = times;\n            this._autoPlayDelay = delay;\n            if (this._autoPlay) {\n                if (this._owner.onStage)\n                    this.play(null, null, this._autoPlayTimes, this._autoPlayDelay);\n            }\n            else {\n                if (!this._owner.onStage)\n                    this.stop(false, true);\n            }\n        }\n    }\n    _play(onComplete, times, delay, startTime, endTime, reversed) {\n        if (times == undefined)\n            times = 1;\n        if (delay == undefined)\n            delay = 0;\n        if (startTime == undefined)\n            startTime = 0;\n        if (endTime == undefined)\n            endTime = -1;\n        this.stop(true, true);\n        this._totalTimes = times;\n        this._reversed = reversed;\n        this._startTime = startTime;\n        this._endTime = endTime;\n        this._playing = true;\n        this._paused = false;\n        this._onComplete = onComplete;\n        var cnt = this._items.length;\n        for (var i = 0; i < cnt; i++) {\n            var item = this._items[i];\n            if (item.target == null) {\n                if (item.targetId)\n                    item.target = this._owner.getChildById(item.targetId);\n                else\n                    item.target = this._owner;\n            }\n            else if (item.target != this._owner && item.target.parent != this._owner)\n                item.target = null;\n            if (item.target && item.type == ActionType.Transition) {\n                var trans = item.target.getTransition(item.value.transName);\n                if (trans == this)\n                    trans = null;\n                if (trans) {\n                    if (item.value.playTimes == 0) //this.stop\n                     {\n                        var j;\n                        for (j = i - 1; j >= 0; j--) {\n                            var item2 = this._items[j];\n                            if (item2.type == ActionType.Transition) {\n                                if (item2.value.trans == trans) {\n                                    item2.value.stopTime = item.time - item2.time;\n                                    break;\n                                }\n                            }\n                        }\n                        if (j < 0)\n                            item.value.stopTime = 0;\n                        else\n                            trans = null; //no need to handle this.stop anymore\n                    }\n                    else\n                        item.value.stopTime = -1;\n                }\n                item.value.trans = trans;\n            }\n        }\n        if (delay == 0)\n            this.onDelayedPlay();\n        else\n            _tween_GTween__WEBPACK_IMPORTED_MODULE_6__[\"GTween\"].delayedCall(delay).setTarget(this).onComplete(this.onDelayedPlay, this);\n    }\n    stop(setToComplete, processCallback) {\n        if (!this._playing)\n            return;\n        if (setToComplete == undefined)\n            setToComplete = true;\n        this._playing = false;\n        this._totalTasks = 0;\n        this._totalTimes = 0;\n        var handler = this._onComplete;\n        this._onComplete = null;\n        _tween_GTween__WEBPACK_IMPORTED_MODULE_6__[\"GTween\"].kill(this); //delay start\n        var cnt = this._items.length;\n        if (this._reversed) {\n            for (var i = cnt - 1; i >= 0; i--) {\n                var item = this._items[i];\n                if (item.target == null)\n                    continue;\n                this.stopItem(item, setToComplete);\n            }\n        }\n        else {\n            for (i = 0; i < cnt; i++) {\n                item = this._items[i];\n                if (item.target == null)\n                    continue;\n                this.stopItem(item, setToComplete);\n            }\n        }\n        if (processCallback && handler) {\n            handler();\n        }\n    }\n    stopItem(item, setToComplete) {\n        if (item.displayLockToken != 0) {\n            item.target.releaseDisplayLock(item.displayLockToken);\n            item.displayLockToken = 0;\n        }\n        if (item.tweener) {\n            item.tweener.kill(setToComplete);\n            item.tweener = null;\n            if (item.type == ActionType.Shake && !setToComplete) //震动必须归位，否则下次就越震越远了。\n             {\n                item.target._gearLocked = true;\n                item.target.setXY(item.target.x - item.value.lastOffsetX, item.target.y - item.value.lastOffsetY);\n                item.target._gearLocked = false;\n            }\n        }\n        if (item.type == ActionType.Transition) {\n            var trans = item.value.trans;\n            if (trans)\n                trans.stop(setToComplete, false);\n        }\n    }\n    setPaused(paused) {\n        if (!this._playing || this._paused == paused)\n            return;\n        this._paused = paused;\n        var tweener = _tween_GTween__WEBPACK_IMPORTED_MODULE_6__[\"GTween\"].getTween(this);\n        if (tweener)\n            tweener.setPaused(paused);\n        var cnt = this._items.length;\n        for (var i = 0; i < cnt; i++) {\n            var item = this._items[i];\n            if (item.target == null)\n                continue;\n            if (item.type == ActionType.Transition) {\n                if (item.value.trans)\n                    item.value.trans.setPaused(paused);\n            }\n            else if (item.type == ActionType.Animation) {\n                if (paused) {\n                    item.value.flag = item.target.getProp(_FieldTypes__WEBPACK_IMPORTED_MODULE_5__[\"ObjectPropID\"].Playing);\n                    item.target.setProp(_FieldTypes__WEBPACK_IMPORTED_MODULE_5__[\"ObjectPropID\"].Playing, false);\n                }\n                else\n                    item.target.setProp(_FieldTypes__WEBPACK_IMPORTED_MODULE_5__[\"ObjectPropID\"].Playing, item.value.flag);\n            }\n            if (item.tweener)\n                item.tweener.setPaused(paused);\n        }\n    }\n    dispose() {\n        if (this._playing)\n            _tween_GTween__WEBPACK_IMPORTED_MODULE_6__[\"GTween\"].kill(this); //delay start\n        var cnt = this._items.length;\n        for (var i = 0; i < cnt; i++) {\n            var item = this._items[i];\n            if (item.tweener) {\n                item.tweener.kill();\n                item.tweener = null;\n            }\n            item.target = null;\n            item.hook = null;\n            if (item.tweenConfig)\n                item.tweenConfig.endHook = null;\n        }\n        this._items.length = 0;\n        this._playing = false;\n        this._onComplete = null;\n    }\n    get playing() {\n        return this._playing;\n    }\n    setValue(label, ...args) {\n        var cnt = this._items.length;\n        var found = false;\n        var value;\n        for (var i = 0; i < cnt; i++) {\n            var item = this._items[i];\n            if (item.label == label) {\n                if (item.tweenConfig)\n                    value = item.tweenConfig.startValue;\n                else\n                    value = item.value;\n                found = true;\n            }\n            else if (item.tweenConfig && item.tweenConfig.endLabel == label) {\n                value = item.tweenConfig.endValue;\n                found = true;\n            }\n            else\n                continue;\n            switch (item.type) {\n                case ActionType.XY:\n                case ActionType.Size:\n                case ActionType.Pivot:\n                case ActionType.Scale:\n                case ActionType.Skew:\n                    value.b1 = true;\n                    value.b2 = true;\n                    value.f1 = parseFloat(args[0]);\n                    value.f2 = parseFloat(args[1]);\n                    break;\n                case ActionType.Alpha:\n                    value.f1 = parseFloat(args[0]);\n                    break;\n                case ActionType.Rotation:\n                    value.f1 = parseFloat(args[0]);\n                    break;\n                case ActionType.Color:\n                    value.f1 = parseFloat(args[0]);\n                    break;\n                case ActionType.Animation:\n                    value.frame = parseInt(args[0]);\n                    if (args.length > 1)\n                        value.playing = args[1];\n                    break;\n                case ActionType.Visible:\n                    value.visible = args[0];\n                    break;\n                case ActionType.Sound:\n                    value.sound = args[0];\n                    if (args.length > 1)\n                        value.volume = parseFloat(args[1]);\n                    break;\n                case ActionType.Transition:\n                    value.transName = args[0];\n                    if (args.length > 1)\n                        value.playTimes = parseInt(args[1]);\n                    break;\n                case ActionType.Shake:\n                    value.amplitude = parseFloat(args[0]);\n                    if (args.length > 1)\n                        value.duration = parseFloat(args[1]);\n                    break;\n                case ActionType.ColorFilter:\n                    value.f1 = parseFloat(args[0]);\n                    value.f2 = parseFloat(args[1]);\n                    value.f3 = parseFloat(args[2]);\n                    value.f4 = parseFloat(args[3]);\n                    break;\n                case ActionType.Text:\n                case ActionType.Icon:\n                    value.text = args[0];\n                    break;\n            }\n        }\n        if (!found)\n            throw new Error(\"this.label not exists\");\n    }\n    setHook(label, callback) {\n        var cnt = this._items.length;\n        var found = false;\n        for (var i = 0; i < cnt; i++) {\n            var item = this._items[i];\n            if (item.label == label) {\n                item.hook = callback;\n                found = true;\n                break;\n            }\n            else if (item.tweenConfig && item.tweenConfig.endLabel == label) {\n                item.tweenConfig.endHook = callback;\n                found = true;\n                break;\n            }\n        }\n        if (!found)\n            throw new Error(\"this.label not exists\");\n    }\n    clearHooks() {\n        var cnt = this._items.length;\n        for (var i = 0; i < cnt; i++) {\n            var item = this._items[i];\n            item.hook = null;\n            if (item.tweenConfig)\n                item.tweenConfig.endHook = null;\n        }\n    }\n    setTarget(label, newTarget) {\n        var cnt = this._items.length;\n        var found = false;\n        for (var i = 0; i < cnt; i++) {\n            var item = this._items[i];\n            if (item.label == label) {\n                item.targetId = (newTarget == this._owner || newTarget == null) ? \"\" : newTarget.id;\n                if (this._playing) {\n                    if (item.targetId.length > 0)\n                        item.target = this._owner.getChildById(item.targetId);\n                    else\n                        item.target = this._owner;\n                }\n                else\n                    item.target = null;\n                found = true;\n            }\n        }\n        if (!found)\n            throw new Error(\"this.label not exists\");\n    }\n    setDuration(label, value) {\n        var cnt = this._items.length;\n        var found = false;\n        for (var i = 0; i < cnt; i++) {\n            var item = this._items[i];\n            if (item.tweenConfig && item.label == label) {\n                item.tweenConfig.duration = value;\n                found = true;\n            }\n        }\n        if (!found)\n            throw new Error(\"this.label not exists\");\n    }\n    getLabelTime(label) {\n        var cnt = this._items.length;\n        for (var i = 0; i < cnt; i++) {\n            var item = this._items[i];\n            if (item.label == label)\n                return item.time;\n            else if (item.tweenConfig && item.tweenConfig.endLabel == label)\n                return item.time + item.tweenConfig.duration;\n        }\n        return NaN;\n    }\n    get timeScale() {\n        return this._timeScale;\n    }\n    set timeScale(value) {\n        if (this._timeScale != value) {\n            this._timeScale = value;\n            if (this._playing) {\n                var cnt = this._items.length;\n                for (var i = 0; i < cnt; i++) {\n                    var item = this._items[i];\n                    if (item.tweener)\n                        item.tweener.setTimeScale(value);\n                    else if (item.type == ActionType.Transition) {\n                        if (item.value.trans)\n                            item.value.trans.timeScale = value;\n                    }\n                    else if (item.type == ActionType.Animation) {\n                        if (item.target)\n                            item.target.setProp(_FieldTypes__WEBPACK_IMPORTED_MODULE_5__[\"ObjectPropID\"].TimeScale, value);\n                    }\n                }\n            }\n        }\n    }\n    updateFromRelations(targetId, dx, dy) {\n        var cnt = this._items.length;\n        if (cnt == 0)\n            return;\n        for (var i = 0; i < cnt; i++) {\n            var item = this._items[i];\n            if (item.type == ActionType.XY && item.targetId == targetId) {\n                if (item.tweenConfig) {\n                    if (!item.tweenConfig.startValue.b3) {\n                        item.tweenConfig.startValue.f1 += dx;\n                        item.tweenConfig.startValue.f2 += dy;\n                    }\n                    if (!item.tweenConfig.endValue.b3) {\n                        item.tweenConfig.endValue.f1 += dx;\n                        item.tweenConfig.endValue.f2 += dy;\n                    }\n                }\n                else {\n                    if (!item.value.b3) {\n                        item.value.f1 += dx;\n                        item.value.f2 += dy;\n                    }\n                }\n            }\n        }\n    }\n    onOwnerAddedToStage() {\n        if (this._autoPlay && !this._playing)\n            this.play(null, this._autoPlayTimes, this._autoPlayDelay);\n    }\n    onOwnerRemovedFromStage() {\n        if ((this._options & OPTION_AUTO_STOP_DISABLED) == 0)\n            this.stop((this._options & OPTION_AUTO_STOP_AT_END) != 0 ? true : false, false);\n    }\n    onDelayedPlay() {\n        this.internalPlay();\n        this._playing = this._totalTasks > 0;\n        if (this._playing) {\n            if ((this._options & OPTION_IGNORE_DISPLAY_CONTROLLER) != 0) {\n                var cnt = this._items.length;\n                for (var i = 0; i < cnt; i++) {\n                    var item = this._items[i];\n                    if (item.target && item.target != this._owner)\n                        item.displayLockToken = item.target.addDisplayLock();\n                }\n            }\n        }\n        else if (this._onComplete) {\n            var handler = this._onComplete;\n            this._onComplete = null;\n            handler();\n        }\n    }\n    internalPlay() {\n        this._ownerBaseX = this._owner.x;\n        this._ownerBaseY = this._owner.y;\n        this._totalTasks = 1;\n        var cnt = this._items.length;\n        var item;\n        var needSkipAnimations = false;\n        if (!this._reversed) {\n            for (var i = 0; i < cnt; i++) {\n                item = this._items[i];\n                if (item.target == null)\n                    continue;\n                if (item.type == ActionType.Animation && this._startTime != 0 && item.time <= this._startTime) {\n                    needSkipAnimations = true;\n                    item.value.flag = false;\n                }\n                else\n                    this.playItem(item);\n            }\n        }\n        else {\n            for (i = cnt - 1; i >= 0; i--) {\n                item = this._items[i];\n                if (item.target == null)\n                    continue;\n                this.playItem(item);\n            }\n        }\n        if (needSkipAnimations)\n            this.skipAnimations();\n        this._totalTasks--;\n    }\n    playItem(item) {\n        var time;\n        if (item.tweenConfig) {\n            if (this._reversed)\n                time = (this._totalDuration - item.time - item.tweenConfig.duration);\n            else\n                time = item.time;\n            if (this._endTime == -1 || time <= this._endTime) {\n                var startValue;\n                var endValue;\n                if (this._reversed) {\n                    startValue = item.tweenConfig.endValue;\n                    endValue = item.tweenConfig.startValue;\n                }\n                else {\n                    startValue = item.tweenConfig.startValue;\n                    endValue = item.tweenConfig.endValue;\n                }\n                item.value.b1 = startValue.b1 || endValue.b1;\n                item.value.b2 = startValue.b2 || endValue.b2;\n                switch (item.type) {\n                    case ActionType.XY:\n                    case ActionType.Size:\n                    case ActionType.Scale:\n                    case ActionType.Skew:\n                        item.tweener = _tween_GTween__WEBPACK_IMPORTED_MODULE_6__[\"GTween\"].to2(startValue.f1, startValue.f2, endValue.f1, endValue.f2, item.tweenConfig.duration);\n                        break;\n                    case ActionType.Alpha:\n                    case ActionType.Rotation:\n                        item.tweener = _tween_GTween__WEBPACK_IMPORTED_MODULE_6__[\"GTween\"].to(startValue.f1, endValue.f1, item.tweenConfig.duration);\n                        break;\n                    case ActionType.Color:\n                        item.tweener = _tween_GTween__WEBPACK_IMPORTED_MODULE_6__[\"GTween\"].toColor(startValue.f1, endValue.f1, item.tweenConfig.duration);\n                        break;\n                    case ActionType.ColorFilter:\n                        item.tweener = _tween_GTween__WEBPACK_IMPORTED_MODULE_6__[\"GTween\"].to4(startValue.f1, startValue.f2, startValue.f3, startValue.f4, endValue.f1, endValue.f2, endValue.f3, endValue.f4, item.tweenConfig.duration);\n                        break;\n                }\n                item.tweener.setDelay(time)\n                    .setEase(item.tweenConfig.easeType)\n                    .setRepeat(item.tweenConfig.repeat, item.tweenConfig.yoyo)\n                    .setTimeScale(this._timeScale)\n                    .setTarget(item)\n                    .onStart(this.onTweenStart, this)\n                    .onUpdate(this.onTweenUpdate, this)\n                    .onComplete(this.onTweenComplete, this);\n                if (this._endTime >= 0)\n                    item.tweener.setBreakpoint(this._endTime - time);\n                this._totalTasks++;\n            }\n        }\n        else if (item.type == ActionType.Shake) {\n            if (this._reversed)\n                time = (this._totalDuration - item.time - item.value.duration);\n            else\n                time = item.time;\n            item.value.offsetX = item.value.offsetY = 0;\n            item.value.lastOffsetX = item.value.lastOffsetY = 0;\n            item.tweener = _tween_GTween__WEBPACK_IMPORTED_MODULE_6__[\"GTween\"].shake(0, 0, item.value.amplitude, item.value.duration)\n                .setDelay(time)\n                .setTimeScale(this._timeScale)\n                .setTarget(item)\n                .onUpdate(this.onTweenUpdate, this)\n                .onComplete(this.onTweenComplete, this);\n            if (this._endTime >= 0)\n                item.tweener.setBreakpoint(this._endTime - item.time);\n            this._totalTasks++;\n        }\n        else {\n            if (this._reversed)\n                time = (this._totalDuration - item.time);\n            else\n                time = item.time;\n            if (time <= this._startTime) {\n                this.applyValue(item);\n                this.callHook(item, false);\n            }\n            else if (this._endTime == -1 || time <= this._endTime) {\n                this._totalTasks++;\n                item.tweener = _tween_GTween__WEBPACK_IMPORTED_MODULE_6__[\"GTween\"].delayedCall(time)\n                    .setTimeScale(this._timeScale)\n                    .setTarget(item)\n                    .onComplete(this.onDelayedPlayItem, this);\n            }\n        }\n        if (item.tweener)\n            item.tweener.seek(this._startTime);\n    }\n    skipAnimations() {\n        var frame;\n        var playStartTime;\n        var playTotalTime;\n        var value;\n        var target;\n        var item;\n        var cnt = this._items.length;\n        for (var i = 0; i < cnt; i++) {\n            item = this._items[i];\n            if (item.type != ActionType.Animation || item.time > this._startTime)\n                continue;\n            value = item.value;\n            if (value.flag)\n                continue;\n            target = item.target;\n            frame = target.getProp(_FieldTypes__WEBPACK_IMPORTED_MODULE_5__[\"ObjectPropID\"].Frame);\n            playStartTime = target.getProp(_FieldTypes__WEBPACK_IMPORTED_MODULE_5__[\"ObjectPropID\"].Playing) ? 0 : -1;\n            playTotalTime = 0;\n            for (var j = i; j < cnt; j++) {\n                item = this._items[j];\n                if (item.type != ActionType.Animation || item.target != target || item.time > this._startTime)\n                    continue;\n                value = item.value;\n                value.flag = true;\n                if (value.frame != -1) {\n                    frame = value.frame;\n                    if (value.playing)\n                        playStartTime = item.time;\n                    else\n                        playStartTime = -1;\n                    playTotalTime = 0;\n                }\n                else {\n                    if (value.playing) {\n                        if (playStartTime < 0)\n                            playStartTime = item.time;\n                    }\n                    else {\n                        if (playStartTime >= 0)\n                            playTotalTime += (item.time - playStartTime);\n                        playStartTime = -1;\n                    }\n                }\n                this.callHook(item, false);\n            }\n            if (playStartTime >= 0)\n                playTotalTime += (this._startTime - playStartTime);\n            target.setProp(_FieldTypes__WEBPACK_IMPORTED_MODULE_5__[\"ObjectPropID\"].Playing, playStartTime >= 0);\n            target.setProp(_FieldTypes__WEBPACK_IMPORTED_MODULE_5__[\"ObjectPropID\"].Frame, frame);\n            if (playTotalTime > 0)\n                target.setProp(_FieldTypes__WEBPACK_IMPORTED_MODULE_5__[\"ObjectPropID\"].DeltaTime, playTotalTime * 1000);\n        }\n    }\n    onDelayedPlayItem(tweener) {\n        var item = tweener.target;\n        item.tweener = null;\n        this._totalTasks--;\n        this.applyValue(item);\n        this.callHook(item, false);\n        this.checkAllComplete();\n    }\n    onTweenStart(tweener) {\n        var item = tweener.target;\n        if (item.type == ActionType.XY || item.type == ActionType.Size) //位置和大小要到start才最终确认起始值\n         {\n            var startValue;\n            var endValue;\n            if (this._reversed) {\n                startValue = item.tweenConfig.endValue;\n                endValue = item.tweenConfig.startValue;\n            }\n            else {\n                startValue = item.tweenConfig.startValue;\n                endValue = item.tweenConfig.endValue;\n            }\n            if (item.type == ActionType.XY) {\n                if (item.target != this._owner) {\n                    if (!startValue.b1)\n                        tweener.startValue.x = item.target.x;\n                    else if (startValue.b3) //percent\n                        tweener.startValue.x = startValue.f1 * this._owner.width;\n                    if (!startValue.b2)\n                        tweener.startValue.y = item.target.y;\n                    else if (startValue.b3) //percent\n                        tweener.startValue.y = startValue.f2 * this._owner.height;\n                    if (!endValue.b1)\n                        tweener.endValue.x = tweener.startValue.x;\n                    else if (endValue.b3)\n                        tweener.endValue.x = endValue.f1 * this._owner.width;\n                    if (!endValue.b2)\n                        tweener.endValue.y = tweener.startValue.y;\n                    else if (endValue.b3)\n                        tweener.endValue.y = endValue.f2 * this._owner.height;\n                }\n                else {\n                    if (!startValue.b1)\n                        tweener.startValue.x = item.target.x - this._ownerBaseX;\n                    if (!startValue.b2)\n                        tweener.startValue.y = item.target.y - this._ownerBaseY;\n                    if (!endValue.b1)\n                        tweener.endValue.x = tweener.startValue.x;\n                    if (!endValue.b2)\n                        tweener.endValue.y = tweener.startValue.y;\n                }\n            }\n            else {\n                if (!startValue.b1)\n                    tweener.startValue.x = item.target.width;\n                if (!startValue.b2)\n                    tweener.startValue.y = item.target.height;\n                if (!endValue.b1)\n                    tweener.endValue.x = tweener.startValue.x;\n                if (!endValue.b2)\n                    tweener.endValue.y = tweener.startValue.y;\n            }\n            if (item.tweenConfig.path) {\n                item.value.b1 = item.value.b2 = true;\n                tweener.setPath(item.tweenConfig.path);\n            }\n        }\n        this.callHook(item, false);\n    }\n    onTweenUpdate(tweener) {\n        var item = tweener.target;\n        switch (item.type) {\n            case ActionType.XY:\n            case ActionType.Size:\n            case ActionType.Scale:\n            case ActionType.Skew:\n                item.value.f1 = tweener.value.x;\n                item.value.f2 = tweener.value.y;\n                if (item.tweenConfig.path) {\n                    item.value.f1 += tweener.startValue.x;\n                    item.value.f2 += tweener.startValue.y;\n                }\n                break;\n            case ActionType.Alpha:\n            case ActionType.Rotation:\n                item.value.f1 = tweener.value.x;\n                break;\n            case ActionType.Color:\n                item.value.f1 = tweener.value.color;\n                break;\n            case ActionType.ColorFilter:\n                item.value.f1 = tweener.value.x;\n                item.value.f2 = tweener.value.y;\n                item.value.f3 = tweener.value.z;\n                item.value.f4 = tweener.value.w;\n                break;\n            case ActionType.Shake:\n                item.value.offsetX = tweener.deltaValue.x;\n                item.value.offsetY = tweener.deltaValue.y;\n                break;\n        }\n        this.applyValue(item);\n    }\n    onTweenComplete(tweener) {\n        var item = tweener.target;\n        item.tweener = null;\n        this._totalTasks--;\n        if (tweener.allCompleted) //当整体播放结束时间在这个tween的中间时不应该调用结尾钩子\n            this.callHook(item, true);\n        this.checkAllComplete();\n    }\n    onPlayTransCompleted(item) {\n        this._totalTasks--;\n        this.checkAllComplete();\n    }\n    callHook(item, tweenEnd) {\n        if (tweenEnd) {\n            if (item.tweenConfig && item.tweenConfig.endHook)\n                item.tweenConfig.endHook();\n        }\n        else {\n            if (item.time >= this._startTime && item.hook)\n                item.hook();\n        }\n    }\n    checkAllComplete() {\n        if (this._playing && this._totalTasks == 0) {\n            if (this._totalTimes < 0) {\n                this.internalPlay();\n                if (this._totalTasks == 0)\n                    _tween_GTween__WEBPACK_IMPORTED_MODULE_6__[\"GTween\"].delayedCall(0).setTarget(this).onComplete(this.checkAllComplete, this);\n            }\n            else {\n                this._totalTimes--;\n                if (this._totalTimes > 0) {\n                    this.internalPlay();\n                    if (this._totalTasks == 0)\n                        _tween_GTween__WEBPACK_IMPORTED_MODULE_6__[\"GTween\"].delayedCall(0).setTarget(this).onComplete(this.checkAllComplete, this);\n                }\n                else {\n                    this._playing = false;\n                    var cnt = this._items.length;\n                    for (var i = 0; i < cnt; i++) {\n                        var item = this._items[i];\n                        if (item.target && item.displayLockToken != 0) {\n                            item.target.releaseDisplayLock(item.displayLockToken);\n                            item.displayLockToken = 0;\n                        }\n                    }\n                    if (this._onComplete) {\n                        var handler = this._onComplete;\n                        this._onComplete = null;\n                        handler();\n                    }\n                }\n            }\n        }\n    }\n    applyValue(item) {\n        item.target._gearLocked = true;\n        var value = item.value;\n        switch (item.type) {\n            case ActionType.XY:\n                if (item.target == this._owner) {\n                    if (value.b1 && value.b2)\n                        item.target.setXY(value.f1 + this._ownerBaseX, value.f2 + this._ownerBaseY);\n                    else if (value.b1)\n                        item.target.x = value.f1 + this._ownerBaseX;\n                    else\n                        item.target.y = value.f2 + this._ownerBaseY;\n                }\n                else {\n                    if (value.b3) //position in percent\n                     {\n                        if (value.b1 && value.b2)\n                            item.target.setXY(value.f1 * this._owner.width, value.f2 * this._owner.height);\n                        else if (value.b1)\n                            item.target.x = value.f1 * this._owner.width;\n                        else if (value.b2)\n                            item.target.y = value.f2 * this._owner.height;\n                    }\n                    else {\n                        if (value.b1 && value.b2)\n                            item.target.setXY(value.f1, value.f2);\n                        else if (value.b1)\n                            item.target.x = value.f1;\n                        else if (value.b2)\n                            item.target.y = value.f2;\n                    }\n                }\n                break;\n            case ActionType.Size:\n                if (!value.b1)\n                    value.f1 = item.target.width;\n                if (!value.b2)\n                    value.f2 = item.target.height;\n                item.target.setSize(value.f1, value.f2);\n                break;\n            case ActionType.Pivot:\n                item.target.setPivot(value.f1, value.f2, item.target.pivotAsAnchor);\n                break;\n            case ActionType.Alpha:\n                item.target.alpha = value.f1;\n                break;\n            case ActionType.Rotation:\n                item.target.rotation = value.f1;\n                break;\n            case ActionType.Scale:\n                item.target.setScale(value.f1, value.f2);\n                break;\n            case ActionType.Skew:\n                item.target.setSkew(value.f1, value.f2);\n                break;\n            case ActionType.Color:\n                item.target.setProp(_FieldTypes__WEBPACK_IMPORTED_MODULE_5__[\"ObjectPropID\"].Color, _utils_ToolSet__WEBPACK_IMPORTED_MODULE_4__[\"ToolSet\"].convertToHtmlColor(value.f1, false));\n                break;\n            case ActionType.Animation:\n                if (value.frame >= 0)\n                    item.target.setProp(_FieldTypes__WEBPACK_IMPORTED_MODULE_5__[\"ObjectPropID\"].Frame, value.frame);\n                item.target.setProp(_FieldTypes__WEBPACK_IMPORTED_MODULE_5__[\"ObjectPropID\"].Playing, value.playing);\n                item.target.setProp(_FieldTypes__WEBPACK_IMPORTED_MODULE_5__[\"ObjectPropID\"].TimeScale, this._timeScale);\n                break;\n            case ActionType.Visible:\n                item.target.visible = value.visible;\n                break;\n            case ActionType.Transition:\n                if (this._playing) {\n                    var trans = value.trans;\n                    if (trans) {\n                        this._totalTasks++;\n                        var startTime = this._startTime > item.time ? (this._startTime - item.time) : 0;\n                        var endTime = this._endTime >= 0 ? (this._endTime - item.time) : -1;\n                        if (value.stopTime >= 0 && (endTime < 0 || endTime > value.stopTime))\n                            endTime = value.stopTime;\n                        trans.timeScale = this._timeScale;\n                        trans._play(() => this.onPlayTransCompleted(item), value.playTimes, 0, startTime, endTime, this._reversed);\n                    }\n                }\n                break;\n            case ActionType.Sound:\n                if (this._playing && item.time >= this._startTime) {\n                    if (value.audioClip == null) {\n                        var pi = _UIPackage__WEBPACK_IMPORTED_MODULE_3__[\"UIPackage\"].getItemByURL(value.sound);\n                        if (pi)\n                            value.audioClip = pi.file;\n                        else\n                            value.audioClip = value.sound;\n                    }\n                    if (value.audioClip)\n                        _GRoot__WEBPACK_IMPORTED_MODULE_2__[\"GRoot\"].inst.playOneShotSound(value.audioClip, value.volume);\n                }\n                break;\n            case ActionType.Shake:\n                item.target.setXY(item.target.x - value.lastOffsetX + value.offsetX, item.target.y - value.lastOffsetY + value.offsetY);\n                value.lastOffsetX = value.offsetX;\n                value.lastOffsetY = value.offsetY;\n                break;\n            case ActionType.ColorFilter:\n                {\n                    _utils_ToolSet__WEBPACK_IMPORTED_MODULE_4__[\"ToolSet\"].setColorFilter(item.target.displayObject, [value.f1, value.f2, value.f3, value.f4]);\n                    break;\n                }\n            case ActionType.Text:\n                item.target.text = value.text;\n                break;\n            case ActionType.Icon:\n                item.target.icon = value.text;\n                break;\n        }\n        item.target._gearLocked = false;\n    }\n    setup(buffer) {\n        this.name = buffer.readS();\n        this._options = buffer.readInt();\n        this._autoPlay = buffer.readBool();\n        this._autoPlayTimes = buffer.readInt();\n        this._autoPlayDelay = buffer.readFloat();\n        var cnt = buffer.readShort();\n        for (var i = 0; i < cnt; i++) {\n            var dataLen = buffer.readShort();\n            var curPos = buffer.position;\n            buffer.seek(curPos, 0);\n            var item = new Item(buffer.readByte());\n            this._items[i] = item;\n            item.time = buffer.readFloat();\n            var targetId = buffer.readShort();\n            if (targetId < 0)\n                item.targetId = \"\";\n            else\n                item.targetId = this._owner.getChildAt(targetId).id;\n            item.label = buffer.readS();\n            if (buffer.readBool()) {\n                buffer.seek(curPos, 1);\n                item.tweenConfig = new TweenConfig();\n                item.tweenConfig.duration = buffer.readFloat();\n                if (item.time + item.tweenConfig.duration > this._totalDuration)\n                    this._totalDuration = item.time + item.tweenConfig.duration;\n                item.tweenConfig.easeType = buffer.readByte();\n                item.tweenConfig.repeat = buffer.readInt();\n                item.tweenConfig.yoyo = buffer.readBool();\n                item.tweenConfig.endLabel = buffer.readS();\n                buffer.seek(curPos, 2);\n                this.decodeValue(item, buffer, item.tweenConfig.startValue);\n                buffer.seek(curPos, 3);\n                this.decodeValue(item, buffer, item.tweenConfig.endValue);\n                if (buffer.version >= 2) {\n                    var pathLen = buffer.readInt();\n                    if (pathLen > 0) {\n                        item.tweenConfig.path = new _tween_GPath__WEBPACK_IMPORTED_MODULE_7__[\"GPath\"]();\n                        var pts = new Array();\n                        for (var j = 0; j < pathLen; j++) {\n                            var curveType = buffer.readByte();\n                            switch (curveType) {\n                                case _tween_GPathPoint__WEBPACK_IMPORTED_MODULE_1__[\"CurveType\"].Bezier:\n                                    pts.push(_tween_GPathPoint__WEBPACK_IMPORTED_MODULE_1__[\"GPathPoint\"].newBezierPoint(buffer.readFloat(), buffer.readFloat(), buffer.readFloat(), buffer.readFloat()));\n                                    break;\n                                case _tween_GPathPoint__WEBPACK_IMPORTED_MODULE_1__[\"CurveType\"].CubicBezier:\n                                    pts.push(_tween_GPathPoint__WEBPACK_IMPORTED_MODULE_1__[\"GPathPoint\"].newCubicBezierPoint(buffer.readFloat(), buffer.readFloat(), buffer.readFloat(), buffer.readFloat(), buffer.readFloat(), buffer.readFloat()));\n                                    break;\n                                default:\n                                    pts.push(_tween_GPathPoint__WEBPACK_IMPORTED_MODULE_1__[\"GPathPoint\"].newPoint(buffer.readFloat(), buffer.readFloat(), curveType));\n                                    break;\n                            }\n                        }\n                        item.tweenConfig.path.create(pts);\n                    }\n                }\n            }\n            else {\n                if (item.time > this._totalDuration)\n                    this._totalDuration = item.time;\n                buffer.seek(curPos, 2);\n                this.decodeValue(item, buffer, item.value);\n            }\n            buffer.position = curPos + dataLen;\n        }\n    }\n    decodeValue(item, buffer, value) {\n        switch (item.type) {\n            case ActionType.XY:\n            case ActionType.Size:\n            case ActionType.Pivot:\n            case ActionType.Skew:\n                value.b1 = buffer.readBool();\n                value.b2 = buffer.readBool();\n                value.f1 = buffer.readFloat();\n                value.f2 = buffer.readFloat();\n                if (buffer.version >= 2 && item.type == ActionType.XY)\n                    value.b3 = buffer.readBool(); //percent\n                break;\n            case ActionType.Alpha:\n            case ActionType.Rotation:\n                value.f1 = buffer.readFloat();\n                break;\n            case ActionType.Scale:\n                value.f1 = buffer.readFloat();\n                value.f2 = buffer.readFloat();\n                break;\n            case ActionType.Color:\n                value.f1 = buffer.readColor();\n                break;\n            case ActionType.Animation:\n                value.playing = buffer.readBool();\n                value.frame = buffer.readInt();\n                break;\n            case ActionType.Visible:\n                value.visible = buffer.readBool();\n                break;\n            case ActionType.Sound:\n                value.sound = buffer.readS();\n                value.volume = buffer.readFloat();\n                break;\n            case ActionType.Transition:\n                value.transName = buffer.readS();\n                value.playTimes = buffer.readInt();\n                break;\n            case ActionType.Shake:\n                value.amplitude = buffer.readFloat();\n                value.duration = buffer.readFloat();\n                break;\n            case ActionType.ColorFilter:\n                value.f1 = buffer.readFloat();\n                value.f2 = buffer.readFloat();\n                value.f3 = buffer.readFloat();\n                value.f4 = buffer.readFloat();\n                break;\n            case ActionType.Text:\n            case ActionType.Icon:\n                value.text = buffer.readS();\n                break;\n        }\n    }\n}\nclass ActionType {\n}\nActionType.XY = 0;\nActionType.Size = 1;\nActionType.Scale = 2;\nActionType.Pivot = 3;\nActionType.Alpha = 4;\nActionType.Rotation = 5;\nActionType.Color = 6;\nActionType.Animation = 7;\nActionType.Visible = 8;\nActionType.Sound = 9;\nActionType.Transition = 10;\nActionType.Shake = 11;\nActionType.ColorFilter = 12;\nActionType.Skew = 13;\nActionType.Text = 14;\nActionType.Icon = 15;\nActionType.Unknown = 16;\nclass Item {\n    constructor(type) {\n        this.type = type;\n        this.value = {};\n        this.displayLockToken = 0;\n    }\n}\nclass TweenConfig {\n    constructor() {\n        this.easeType = _tween_EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].QuadOut;\n        this.startValue = { b1: true, b2: true };\n        this.endValue = { b1: true, b2: true };\n    }\n}\nconst OPTION_IGNORE_DISPLAY_CONTROLLER = 1;\nconst OPTION_AUTO_STOP_DISABLED = 2;\nconst OPTION_AUTO_STOP_AT_END = 4;\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/Transition.ts?");

/***/ }),

/***/ "./src/TranslationHelper.ts":
/*!**********************************!*\
  !*** ./src/TranslationHelper.ts ***!
  \**********************************/
/*! exports provided: TranslationHelper */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TranslationHelper\", function() { return TranslationHelper; });\n/* harmony import */ var _FieldTypes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FieldTypes */ \"./src/FieldTypes.ts\");\n\nclass TranslationHelper {\n    static loadFromXML(source) {\n        let strings = {};\n        TranslationHelper.strings = strings;\n        const xml = Phaser.DOM.ParseXML(source);\n        const resNode = findChildNode(xml, \"resources\");\n        const nodes = resNode.childNodes;\n        const length1 = nodes.length;\n        for (let i1 = 0; i1 < length1; i1++) {\n            const cxml = nodes[i1];\n            if (cxml.nodeName == \"string\") {\n                var key = cxml.getAttribute(\"name\");\n                var text = cxml.textContent;\n                var i = key.indexOf(\"-\");\n                if (i == -1)\n                    continue;\n                var key2 = key.substr(0, i);\n                var key3 = key.substr(i + 1);\n                var col = strings[key2];\n                if (!col) {\n                    col = {};\n                    strings[key2] = col;\n                }\n                col[key3] = text;\n            }\n        }\n    }\n    static translateComponent(item) {\n        if (TranslationHelper.strings == null) {\n            return;\n        }\n        const compStrings = TranslationHelper.strings[item.owner.id + item.id];\n        if (compStrings == null) {\n            return;\n        }\n        var elementId, value;\n        var buffer = item.rawData;\n        var nextPos;\n        var itemCount;\n        var i, j, k;\n        var dataLen;\n        var curPos;\n        var valueCnt;\n        var page;\n        buffer.seek(0, 2);\n        var childCount = buffer.readShort();\n        for (i = 0; i < childCount; i++) {\n            dataLen = buffer.readShort();\n            curPos = buffer.position;\n            buffer.seek(curPos, 0);\n            var baseType = buffer.readByte();\n            var type = baseType;\n            buffer.skip(4);\n            elementId = buffer.readS();\n            if (type == _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectType\"].Component) {\n                if (buffer.seek(curPos, 6))\n                    type = buffer.readByte();\n            }\n            buffer.seek(curPos, 1);\n            if ((value = compStrings[elementId + \"-tips\"]) != null)\n                buffer.writeS(value);\n            buffer.seek(curPos, 2);\n            var gearCnt = buffer.readShort();\n            for (j = 0; j < gearCnt; j++) {\n                nextPos = buffer.readShort();\n                nextPos += buffer.position;\n                if (buffer.readByte() == 6) //gearText\n                 {\n                    buffer.skip(2); //controller\n                    valueCnt = buffer.readShort();\n                    for (k = 0; k < valueCnt; k++) {\n                        page = buffer.readS();\n                        if (page != null) {\n                            if ((value = compStrings[elementId + \"-texts_\" + k]) != null)\n                                buffer.writeS(value);\n                            else\n                                buffer.skip(2);\n                        }\n                    }\n                    if (buffer.readBool() && (value = compStrings[elementId + \"-texts_def\"]) != null)\n                        buffer.writeS(value);\n                }\n                buffer.position = nextPos;\n            }\n            if (baseType == _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectType\"].Component && buffer.version >= 2) {\n                buffer.seek(curPos, 4);\n                buffer.skip(2); //pageController\n                buffer.skip(4 * buffer.readShort());\n                var cpCount = buffer.readShort();\n                for (var k = 0; k < cpCount; k++) {\n                    var target = buffer.readS();\n                    var propertyId = buffer.readShort();\n                    if (propertyId == 0 && (value = compStrings[elementId + \"-cp-\" + target]) != null)\n                        buffer.writeS(value);\n                    else\n                        buffer.skip(2);\n                }\n            }\n            switch (type) {\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectType\"].Text:\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectType\"].RichText:\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectType\"].InputText:\n                    {\n                        if ((value = compStrings[elementId]) != null) {\n                            buffer.seek(curPos, 6);\n                            buffer.writeS(value);\n                        }\n                        if ((value = compStrings[elementId + \"-prompt\"]) != null) {\n                            buffer.seek(curPos, 4);\n                            buffer.writeS(value);\n                        }\n                        break;\n                    }\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectType\"].List:\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectType\"].Tree:\n                    {\n                        buffer.seek(curPos, 8);\n                        buffer.skip(2);\n                        itemCount = buffer.readShort();\n                        for (j = 0; j < itemCount; j++) {\n                            nextPos = buffer.readShort();\n                            nextPos += buffer.position;\n                            buffer.skip(2); //url\n                            if (type == _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectType\"].Tree)\n                                buffer.skip(2);\n                            //title\n                            if ((value = compStrings[elementId + \"-\" + j]) != null)\n                                buffer.writeS(value);\n                            else\n                                buffer.skip(2);\n                            //selected title\n                            if ((value = compStrings[elementId + \"-\" + j + \"-0\"]) != null)\n                                buffer.writeS(value);\n                            else\n                                buffer.skip(2);\n                            if (buffer.version >= 2) {\n                                buffer.skip(6);\n                                buffer.skip(buffer.readUshort() * 4); //controllers\n                                var cpCount = buffer.readUshort();\n                                for (var k = 0; k < cpCount; k++) {\n                                    var target = buffer.readS();\n                                    var propertyId = buffer.readUshort();\n                                    if (propertyId == 0 && (value = compStrings[elementId + \"-\" + j + \"-\" + target]) != null)\n                                        buffer.writeS(value);\n                                    else\n                                        buffer.skip(2);\n                                }\n                            }\n                            buffer.position = nextPos;\n                        }\n                        break;\n                    }\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectType\"].Label:\n                    {\n                        if (buffer.seek(curPos, 6) && buffer.readByte() == type) {\n                            if ((value = compStrings[elementId]) != null)\n                                buffer.writeS(value);\n                            else\n                                buffer.skip(2);\n                            buffer.skip(2);\n                            if (buffer.readBool())\n                                buffer.skip(4);\n                            buffer.skip(4);\n                            if (buffer.readBool() && (value = compStrings[elementId + \"-prompt\"]) != null)\n                                buffer.writeS(value);\n                        }\n                        break;\n                    }\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectType\"].Button:\n                    {\n                        if (buffer.seek(curPos, 6) && buffer.readByte() == type) {\n                            if ((value = compStrings[elementId]) != null)\n                                buffer.writeS(value);\n                            else\n                                buffer.skip(2);\n                            if ((value = compStrings[elementId + \"-0\"]) != null)\n                                buffer.writeS(value);\n                        }\n                        break;\n                    }\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectType\"].ComboBox:\n                    {\n                        if (buffer.seek(curPos, 6) && buffer.readByte() == type) {\n                            itemCount = buffer.readShort();\n                            for (j = 0; j < itemCount; j++) {\n                                nextPos = buffer.readShort();\n                                nextPos += buffer.position;\n                                if ((value = compStrings[elementId + \"-\" + j]) != null)\n                                    buffer.writeS(value);\n                                buffer.position = nextPos;\n                            }\n                            if ((value = compStrings[elementId]) != null)\n                                buffer.writeS(value);\n                        }\n                        break;\n                    }\n            }\n            buffer.position = curPos + dataLen;\n        }\n    }\n}\nfunction findChildNode(xml, name) {\n    var col = xml.childNodes;\n    var length1 = col.length;\n    if (length1 > 0) {\n        for (var i1 = 0; i1 < length1; i1++) {\n            var cxml = col[i1];\n            if (cxml.nodeName == name) {\n                return cxml;\n            }\n        }\n    }\n    return null;\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/TranslationHelper.ts?");

/***/ }),

/***/ "./src/UIConfig.ts":
/*!*************************!*\
  !*** ./src/UIConfig.ts ***!
  \*************************/
/*! exports provided: UIConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UIConfig\", function() { return UIConfig; });\n/* harmony import */ var _FieldTypes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FieldTypes */ \"./src/FieldTypes.ts\");\n\nclass UIConfig {\n    constructor() {\n    }\n}\n//Default font name\nUIConfig.defaultFont = \"SimSun\";\n//When a modal window is in front, the background becomes dark.\nUIConfig.modalLayerColor = \"rgba(33,33,33,0.2)\";\nUIConfig.buttonSoundVolumeScale = 1;\n//Scrolling step in pixels\nUIConfig.defaultScrollStep = 25;\n//Deceleration ratio of scrollpane when its in touch dragging.\nUIConfig.defaultScrollDecelerationRate = 0.967;\n//Default scrollbar display mode. Recommened visible for Desktop and Auto for mobile.\nUIConfig.defaultScrollBarDisplay = _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ScrollBarDisplayType\"].Visible;\n//Allow dragging the content to scroll. Recommeded true for mobile.\nUIConfig.defaultScrollTouchEffect = true;\n//The \"rebound\" effect in the scolling container. Recommeded true for mobile.\nUIConfig.defaultScrollBounceEffect = true;\n/**\n  * 当滚动容器设置为“贴近ITEM”时，判定贴近到哪一个ITEM的滚动距离阀值。\n  */\nUIConfig.defaultScrollSnappingThreshold = 0.1;\n/**\n  * 当滚动容器设置为“页面模式”时，判定翻到哪一页的滚动距离阀值。\n  */\nUIConfig.defaultScrollPagingThreshold = 0.3;\n//Max items displayed in combobox without scrolling.\nUIConfig.defaultComboBoxVisibleItemCount = 10;\n// Pixel offsets of finger to trigger scrolling.\nUIConfig.touchScrollSensitivity = 20;\n// Pixel offsets of finger to trigger dragging.\nUIConfig.touchDragSensitivity = 10;\n// Pixel offsets of mouse pointer to trigger dragging.\nUIConfig.clickDragSensitivity = 2;\n// When click the window, brings to front automatically.\nUIConfig.bringWindowToFrontOnClick = true;\nUIConfig.frameTimeForAsyncUIConstruction = 2;\nUIConfig.textureLinearSampling = true;\nUIConfig.packageFileExtension = \"fui\";\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/UIConfig.ts?");

/***/ }),

/***/ "./src/UIObjectFactory.ts":
/*!********************************!*\
  !*** ./src/UIObjectFactory.ts ***!
  \********************************/
/*! exports provided: UIObjectFactory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UIObjectFactory\", function() { return UIObjectFactory; });\n/* harmony import */ var _GList__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GList */ \"./src/GList.ts\");\n/* harmony import */ var _GGroup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GGroup */ \"./src/GGroup.ts\");\n/* harmony import */ var _GComboBox__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GComboBox */ \"./src/GComboBox.ts\");\n/* harmony import */ var _GScrollBar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./GScrollBar */ \"./src/GScrollBar.ts\");\n/* harmony import */ var _GSlider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./GSlider */ \"./src/GSlider.ts\");\n/* harmony import */ var _GProgressBar__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./GProgressBar */ \"./src/GProgressBar.ts\");\n/* harmony import */ var _GLabel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./GLabel */ \"./src/GLabel.ts\");\n/* harmony import */ var _GButton__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./GButton */ \"./src/GButton.ts\");\n/* harmony import */ var _GImage__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./GImage */ \"./src/GImage.ts\");\n/* harmony import */ var _FieldTypes__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./FieldTypes */ \"./src/FieldTypes.ts\");\n/* harmony import */ var _UIPackage__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./UIPackage */ \"./src/UIPackage.ts\");\n/* harmony import */ var _GComponent__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./GComponent */ \"./src/GComponent.ts\");\n/* harmony import */ var _GTree__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./GTree */ \"./src/GTree.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass UIObjectFactory {\n    constructor() {\n    }\n    static setExtension(url, type) {\n        if (url == null)\n            throw \"Invaild url: \" + url;\n        var pi = _UIPackage__WEBPACK_IMPORTED_MODULE_10__[\"UIPackage\"].getItemByURL(url);\n        if (pi)\n            pi.extensionType = type;\n        UIObjectFactory.extensions[url] = type;\n    }\n    static setPackageItemExtension(url, type) {\n        UIObjectFactory.setExtension(url, type);\n    }\n    static setLoaderExtension(type) {\n        UIObjectFactory.loaderType = type;\n    }\n    static resolvePackageItemExtension(pi) {\n        var extensionType = UIObjectFactory.extensions[\"ui://\" + pi.owner.id + pi.id];\n        if (!extensionType)\n            extensionType = UIObjectFactory.extensions[\"ui://\" + pi.owner.name + \"/\" + pi.name];\n        if (extensionType)\n            pi.extensionType = extensionType;\n    }\n    static newObject(type, userClass) {\n        var obj;\n        if (typeof type === 'number') {\n            switch (type) {\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_9__[\"ObjectType\"].Image:\n                    return new _GImage__WEBPACK_IMPORTED_MODULE_8__[\"GImage\"]();\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_9__[\"ObjectType\"].MovieClip:\n                // return new GMovieClip();\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_9__[\"ObjectType\"].Component:\n                    return new _GComponent__WEBPACK_IMPORTED_MODULE_11__[\"GComponent\"]();\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_9__[\"ObjectType\"].Text:\n                // return new GBasicTextField();\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_9__[\"ObjectType\"].RichText:\n                // return new GRichTextField();\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_9__[\"ObjectType\"].InputText:\n                // return new GTextInput();\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_9__[\"ObjectType\"].Group:\n                    return new _GGroup__WEBPACK_IMPORTED_MODULE_1__[\"GGroup\"]();\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_9__[\"ObjectType\"].List:\n                    return new _GList__WEBPACK_IMPORTED_MODULE_0__[\"GList\"]();\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_9__[\"ObjectType\"].Graph:\n                // return new GGraph();\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_9__[\"ObjectType\"].Loader:\n                    // if (UIObjectFactory.loaderType)\n                    // return new UIObjectFactory.loaderType();\n                    // else\n                    // return new GLoader();\n                    return;\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_9__[\"ObjectType\"].Button:\n                    return new _GButton__WEBPACK_IMPORTED_MODULE_7__[\"GButton\"]();\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_9__[\"ObjectType\"].Label:\n                    return new _GLabel__WEBPACK_IMPORTED_MODULE_6__[\"GLabel\"]();\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_9__[\"ObjectType\"].ProgressBar:\n                    return new _GProgressBar__WEBPACK_IMPORTED_MODULE_5__[\"GProgressBar\"]();\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_9__[\"ObjectType\"].Slider:\n                    return new _GSlider__WEBPACK_IMPORTED_MODULE_4__[\"GSlider\"]();\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_9__[\"ObjectType\"].ScrollBar:\n                    return new _GScrollBar__WEBPACK_IMPORTED_MODULE_3__[\"GScrollBar\"]();\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_9__[\"ObjectType\"].ComboBox:\n                    return new _GComboBox__WEBPACK_IMPORTED_MODULE_2__[\"GComboBox\"]();\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_9__[\"ObjectType\"].Tree:\n                    return new _GTree__WEBPACK_IMPORTED_MODULE_12__[\"GTree\"]();\n                default:\n                    return null;\n            }\n        }\n        else {\n            if (type.type == _FieldTypes__WEBPACK_IMPORTED_MODULE_9__[\"PackageItemType\"].Component) {\n                if (userClass)\n                    obj = new userClass();\n                else if (type.extensionType)\n                    obj = new type.extensionType();\n                else\n                    obj = UIObjectFactory.newObject(type.objectType);\n            }\n            else\n                obj = UIObjectFactory.newObject(type.objectType);\n            if (obj)\n                obj.packageItem = type;\n        }\n        return obj;\n    }\n}\nUIObjectFactory.extensions = {};\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/UIObjectFactory.ts?");

/***/ }),

/***/ "./src/UIPackage.ts":
/*!**************************!*\
  !*** ./src/UIPackage.ts ***!
  \**************************/
/*! exports provided: UIPackage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UIPackage\", function() { return UIPackage; });\n/* harmony import */ var _UIObjectFactory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UIObjectFactory */ \"./src/UIObjectFactory.ts\");\n/* harmony import */ var _TranslationHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TranslationHelper */ \"./src/TranslationHelper.ts\");\n/* harmony import */ var _FieldTypes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FieldTypes */ \"./src/FieldTypes.ts\");\n/* harmony import */ var _GRoot__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./GRoot */ \"./src/GRoot.ts\");\n/* harmony import */ var _UIConfig__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./UIConfig */ \"./src/UIConfig.ts\");\n/* harmony import */ var _utils_ByteBuffer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils/ByteBuffer */ \"./src/utils/ByteBuffer.ts\");\n/* harmony import */ var _PackageItem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./PackageItem */ \"./src/PackageItem.ts\");\n\n\n\n\n\n\n\nclass UIPackage {\n    constructor() {\n        this._items = [];\n        this._itemsById = {};\n        this._itemsByName = {};\n        this._sprites = {};\n        this._dependencies = [];\n        this._branches = [];\n        this._branchIndex = -1;\n    }\n    static get branch() {\n        return UIPackage._branch;\n    }\n    static set branch(value) {\n        UIPackage._branch = value;\n        for (const pkgId in UIPackage._instById) {\n            const pkg = UIPackage._instById[pkgId];\n            if (pkg._branches) {\n                pkg._branchIndex = pkg._branches.indexOf(value);\n            }\n        }\n    }\n    static getVar(key) {\n        return UIPackage._vars[key];\n    }\n    static setVar(key, value) {\n        UIPackage._vars[key] = value;\n    }\n    static getById(id) {\n        return UIPackage._instById[id];\n    }\n    static getByName(name) {\n        return UIPackage._instByName[name];\n    }\n    static addPackage(resKey, descData) {\n        if (!descData) {\n            // TODO\n        }\n        const buffer = new _utils_ByteBuffer__WEBPACK_IMPORTED_MODULE_5__[\"ByteBuffer\"](descData);\n        const pkg = new UIPackage();\n        pkg._resKey = resKey;\n        pkg.loadPackage(buffer);\n        UIPackage._instById[pkg.id] = pkg;\n        UIPackage._instByName[pkg.name] = pkg;\n        UIPackage._instById[resKey] = pkg;\n        return pkg;\n    }\n    static loadPackage(resKey, onProgress) {\n        return new Promise((resolve) => {\n            let pkg = this._instById[resKey];\n            if (pkg) {\n                resolve(pkg);\n            }\n            let url = resKey;\n            const extension = `.${_UIConfig__WEBPACK_IMPORTED_MODULE_4__[\"UIConfig\"].packageFileExtension}`;\n            if (!resKey.endsWith(extension)) {\n                url += extension;\n            }\n            const scene = _GRoot__WEBPACK_IMPORTED_MODULE_3__[\"GRoot\"].inst.scene;\n            scene.load.binary(resKey, url);\n            scene.load.once(`filecomplete-spritesheet-${resKey}`, () => {\n                pkg = new UIPackage();\n                pkg._resKey = resKey;\n                pkg.loadPackage(new _utils_ByteBuffer__WEBPACK_IMPORTED_MODULE_5__[\"ByteBuffer\"](scene.cache.binary.get(resKey)));\n                const promises = [];\n                for (const item of pkg._items) {\n                    if (item.type === _FieldTypes__WEBPACK_IMPORTED_MODULE_2__[\"PackageItemType\"].Atlas) {\n                        // TODO loadTexture\n                        promises.push();\n                    }\n                    else if (item.type === _FieldTypes__WEBPACK_IMPORTED_MODULE_2__[\"PackageItemType\"].Sound) {\n                        // TODO loadSound\n                        promises.push();\n                    }\n                }\n                Promise.all(promises).then(() => {\n                    // this._instById\n                    resolve(pkg);\n                });\n            });\n        });\n    }\n    static removePackage(packageIdOrName) {\n        let pkg = UIPackage._instById[packageIdOrName];\n        if (!pkg) {\n            pkg = UIPackage._instByName[packageIdOrName];\n        }\n        if (!pkg) {\n            throw new Error(`unknown package: ${packageIdOrName}`);\n        }\n        pkg.dispose();\n        delete UIPackage._instById[pkg.id];\n        delete UIPackage._instByName[pkg.name];\n        delete UIPackage._instById[pkg._resKey];\n        if (pkg._customId) {\n            delete UIPackage._instById[pkg._customId];\n        }\n    }\n    static createObject(pkgName, resName, userClass) {\n        const pkg = UIPackage.getByName(pkgName);\n        if (pkg) {\n            return pkg.createObject(resName, userClass);\n        }\n        return null;\n    }\n    static createObjectFromURL(url, userClass) {\n        var pi = UIPackage.getItemByURL(url);\n        if (pi) {\n            return pi.owner.internalCreateObject(pi, userClass);\n        }\n        return null;\n    }\n    static getItemURL(pkgName, resName) {\n        var pkg = UIPackage.getByName(pkgName);\n        if (!pkg)\n            return null;\n        var pi = pkg._itemsByName[resName];\n        if (!pi)\n            return null;\n        return \"ui://\" + pkg.id + pi.id;\n    }\n    static getItemByURL(url) {\n        var pos1 = url.indexOf(\"//\");\n        if (pos1 == -1)\n            return null;\n        var pos2 = url.indexOf(\"/\", pos1 + 2);\n        if (pos2 == -1) {\n            if (url.length > 13) {\n                var pkgId = url.substr(5, 8);\n                var pkg = UIPackage.getById(pkgId);\n                if (pkg) {\n                    var srcId = url.substr(13);\n                    return pkg.getItemById(srcId);\n                }\n            }\n        }\n        else {\n            var pkgName = url.substr(pos1 + 2, pos2 - pos1 - 2);\n            pkg = UIPackage.getByName(pkgName);\n            if (pkg) {\n                var srcName = url.substr(pos2 + 1);\n                return pkg.getItemByName(srcName);\n            }\n        }\n        return null;\n    }\n    static getItemAssetByURL(url) {\n        var item = UIPackage.getItemByURL(url);\n        if (item == null)\n            return null;\n        return item.owner.getItemAsset(item);\n    }\n    static normalizeURL(url) {\n        if (url == null)\n            return null;\n        var pos1 = url.indexOf(\"//\");\n        if (pos1 == -1)\n            return null;\n        var pos2 = url.indexOf(\"/\", pos1 + 2);\n        if (pos2 == -1)\n            return url;\n        var pkgName = url.substr(pos1 + 2, pos2 - pos1 - 2);\n        var srcName = url.substr(pos2 + 1);\n        return UIPackage.getItemURL(pkgName, srcName);\n    }\n    static setStringsSource(source) {\n        _TranslationHelper__WEBPACK_IMPORTED_MODULE_1__[\"TranslationHelper\"].loadFromXML(source);\n    }\n    loadPackage(buffer) {\n        if (buffer.readUint() != 0x46475549)\n            throw new Error(\"FairyGUI: old package format found in '\" + this._resKey + \"'\");\n        buffer.version = buffer.readInt();\n        var compressed = buffer.readBool();\n        this._id = buffer.readString();\n        this._name = buffer.readString();\n        buffer.skip(20);\n        if (compressed) {\n            // todo uncompress\n            // var buf: Uint8Array = new Uint8Array(buffer.buffer, buffer.position, buffer.length - buffer.position);\n            // var inflater = new Zlib.RawInflate(buf);\n            // buf = inflater.decompress();\n            // let buffer2: ByteBuffer = new ByteBuffer(buf);\n            // buffer2.version = buffer.version;\n            // buffer = buffer2;\n        }\n        var ver2 = buffer.version >= 2;\n        var indexTablePos = buffer.position;\n        var cnt;\n        var i;\n        var j;\n        var nextPos;\n        var str;\n        var branchIncluded;\n        buffer.seek(indexTablePos, 4);\n        cnt = buffer.readInt();\n        var stringTable = [];\n        for (i = 0; i < cnt; i++)\n            stringTable[i] = buffer.readString();\n        buffer.stringTable = stringTable;\n        buffer.seek(indexTablePos, 0);\n        cnt = buffer.readShort();\n        for (i = 0; i < cnt; i++)\n            this._dependencies.push({ id: buffer.readS(), name: buffer.readS() });\n        if (ver2) {\n            cnt = buffer.readShort();\n            if (cnt > 0) {\n                this._branches = buffer.readSArray(cnt);\n                if (UIPackage._branch)\n                    this._branchIndex = this._branches.indexOf(UIPackage._branch);\n            }\n            branchIncluded = cnt > 0;\n        }\n        buffer.seek(indexTablePos, 1);\n        var pi;\n        var path = this._resKey;\n        let pos = path.lastIndexOf('/');\n        let shortPath = pos == -1 ? \"\" : path.substr(0, pos + 1);\n        path = path + \"_\";\n        cnt = buffer.readShort();\n        for (i = 0; i < cnt; i++) {\n            nextPos = buffer.readInt();\n            nextPos += buffer.position;\n            pi = new _PackageItem__WEBPACK_IMPORTED_MODULE_6__[\"PackageItem\"]();\n            pi.owner = this;\n            pi.type = buffer.readByte();\n            pi.id = buffer.readS();\n            pi.name = buffer.readS();\n            buffer.readS(); //path\n            str = buffer.readS();\n            if (str)\n                pi.file = str;\n            buffer.readBool(); //exported\n            pi.width = buffer.readInt();\n            pi.height = buffer.readInt();\n            switch (pi.type) {\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_2__[\"PackageItemType\"].Image:\n                    {\n                        // pi.objectType = ObjectType.Image;\n                        // var scaleOption: number = buffer.readByte();\n                        // if (scaleOption == 1) {\n                        // pi.scale9Grid = new Laya.Rectangle();\n                        // pi.scale9Grid.x = buffer.getInt32();\n                        // pi.scale9Grid.y = buffer.getInt32();\n                        // pi.scale9Grid.width = buffer.getInt32();\n                        // pi.scale9Grid.height = buffer.getInt32();\n                        // pi.tileGridIndice = buffer.getInt32();\n                        // }\n                        // else if (scaleOption == 2)\n                        //     pi.scaleByTile = true;\n                        // pi.smoothing = buffer.readBool();\n                        break;\n                    }\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_2__[\"PackageItemType\"].MovieClip:\n                    {\n                        // pi.smoothing = buffer.readBool();\n                        // pi.objectType = ObjectType.MovieClip;\n                        // pi.rawData = buffer.readBuffer();\n                        break;\n                    }\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_2__[\"PackageItemType\"].Font:\n                    {\n                        pi.rawData = buffer.readBuffer();\n                        break;\n                    }\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_2__[\"PackageItemType\"].Component:\n                    {\n                        var extension = buffer.readByte();\n                        if (extension > 0)\n                            pi.objectType = extension;\n                        else\n                            pi.objectType = _FieldTypes__WEBPACK_IMPORTED_MODULE_2__[\"ObjectType\"].Component;\n                        pi.rawData = buffer.readBuffer();\n                        _UIObjectFactory__WEBPACK_IMPORTED_MODULE_0__[\"UIObjectFactory\"].resolvePackageItemExtension(pi);\n                        break;\n                    }\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_2__[\"PackageItemType\"].Atlas:\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_2__[\"PackageItemType\"].Sound:\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_2__[\"PackageItemType\"].Misc:\n                    {\n                        pi.file = path + pi.file;\n                        break;\n                    }\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_2__[\"PackageItemType\"].Spine:\n                case _FieldTypes__WEBPACK_IMPORTED_MODULE_2__[\"PackageItemType\"].DragonBones:\n                    {\n                        pi.file = shortPath + pi.file;\n                        // pi.skeletonAnchor = new Laya.Point();\n                        // pi.skeletonAnchor.x = buffer.getFloat32();\n                        // pi.skeletonAnchor.y = buffer.getFloat32();\n                        break;\n                    }\n            }\n            if (ver2) {\n                str = buffer.readS(); //branch\n                if (str)\n                    pi.name = str + \"/\" + pi.name;\n                var branchCnt = buffer.readByte();\n                if (branchCnt > 0) {\n                    if (branchIncluded)\n                        pi.branches = buffer.readSArray(branchCnt);\n                    else\n                        this._itemsById[buffer.readS()] = pi;\n                }\n                var highResCnt = buffer.readByte();\n                if (highResCnt > 0)\n                    pi.highResolution = buffer.readSArray(highResCnt);\n            }\n            this._items.push(pi);\n            this._itemsById[pi.id] = pi;\n            if (pi.name != null)\n                this._itemsByName[pi.name] = pi;\n            buffer.position = nextPos;\n        }\n        buffer.seek(indexTablePos, 2);\n        cnt = buffer.readShort();\n        for (i = 0; i < cnt; i++) {\n            nextPos = buffer.readShort();\n            nextPos += buffer.position;\n            var itemId = buffer.readS();\n            pi = this._itemsById[buffer.readS()];\n            let sprite = { atlas: pi, rect: new Phaser.Geom.Rectangle(), offset: new Phaser.Geom.Point(), originalSize: new Phaser.Geom.Point() };\n            sprite.atlas = pi;\n            sprite.rect.x = buffer.readInt();\n            sprite.rect.y = buffer.readInt();\n            sprite.rect.width = buffer.readInt();\n            sprite.rect.height = buffer.readInt();\n            sprite.rotated = buffer.readBool();\n            if (ver2 && buffer.readBool()) {\n                sprite.offset.x = buffer.readInt();\n                sprite.offset.y = buffer.readInt();\n                sprite.originalSize.x = buffer.readInt();\n                sprite.originalSize.y = buffer.readInt();\n            }\n            else {\n                sprite.originalSize.x = sprite.rect.width;\n                sprite.originalSize.y = sprite.rect.height;\n            }\n            this._sprites[itemId] = sprite;\n            buffer.position = nextPos;\n        }\n        if (buffer.seek(indexTablePos, 3)) {\n            cnt = buffer.readShort();\n            for (i = 0; i < cnt; i++) {\n                nextPos = buffer.readInt();\n                nextPos += buffer.position;\n                pi = this._itemsById[buffer.readS()];\n                // if (pi && pi.type == PackageItemType.Image) {\n                //     pi.pixelHitTestData = new PixelHitTestData();\n                //     pi.pixelHitTestData.load(buffer);\n                // }\n                buffer.position = nextPos;\n            }\n        }\n    }\n    loadAllAssets() {\n        const cnt = this._items.length;\n        for (const item of this._items) {\n            this.getItemAsset(item);\n        }\n    }\n    unloadAssets() {\n        for (const item of this._items) {\n            if (item.type === _FieldTypes__WEBPACK_IMPORTED_MODULE_2__[\"PackageItemType\"].Atlas) {\n                // if (item.texture)\n                throw new Error(\"TODO\");\n            }\n        }\n    }\n    dispose() {\n        for (const item of this._items) {\n            throw new Error(\"TODO\");\n        }\n    }\n    get id() {\n        return this._id;\n    }\n    get name() {\n        return this._name;\n    }\n    get customId() {\n        return this._customId;\n    }\n    set customId(value) {\n        if (this._customId) {\n            delete UIPackage._instById[this._customId];\n        }\n        this._customId = value;\n        if (this._customId) {\n            UIPackage._instById[this._customId] = this;\n        }\n    }\n    createObject(resName, userClass) {\n        const pi = this._itemsByName[resName];\n        if (pi) {\n            return this.internalCreateObject(pi, userClass);\n        }\n        else {\n            return null;\n        }\n    }\n    internalCreateObject(item, userClass) {\n        const g = _UIObjectFactory__WEBPACK_IMPORTED_MODULE_0__[\"UIObjectFactory\"].newObject(item, userClass);\n        if (g == null) {\n            return null;\n        }\n        UIPackage._constructing++;\n        g.constructFromResource();\n        UIPackage._constructing--;\n        return g;\n    }\n    getItemById(itemId) {\n        return this._itemsById[itemId];\n    }\n    getItemByName(resName) {\n        return this._itemsByName[resName];\n    }\n    getItemAssetByName(resName) {\n        var pi = this._itemsByName[resName];\n        if (pi == null) {\n            throw \"Resource not found -\" + resName;\n        }\n        return this.getItemAsset(pi);\n    }\n    getItemAsset(item) {\n        switch (item.type) {\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_2__[\"PackageItemType\"].Image:\n            // if (!item.decoded) {\n            //     item.decoded = true;\n            //     var sprite: AtlasSprite = this._sprites[item.id];\n            //     if (sprite) {\n            //         var atlasTexture: Laya.Texture = <Laya.Texture>(this.getItemAsset(sprite.atlas));\n            //         if (atlasTexture) {\n            //             item.texture = Laya.Texture.create(atlasTexture,\n            //                 sprite.rect.x, sprite.rect.y, sprite.rect.width, sprite.rect.height,\n            //                 sprite.offset.x, sprite.offset.y,\n            //                 sprite.originalSize.x, sprite.originalSize.y);\n            //         } else {\n            //             item.texture = null;\n            //         }\n            //     }\n            //     else\n            //         item.texture = null;\n            // }\n            // return item.texture;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_2__[\"PackageItemType\"].Atlas:\n                if (!item.decoded) {\n                    item.decoded = true;\n                    // item.texture = AssetProxy.inst.getRes(item.file);\n                    //if(!fgui.UIConfig.textureLinearSampling)\n                    //item.texture.isLinearSampling = false;\n                }\n            // return item.texture;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_2__[\"PackageItemType\"].Font:\n            // if (!item.decoded) {\n            //     item.decoded = true;\n            // this.loadFont(item);\n            // }\n            // return item.bitmapFont;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_2__[\"PackageItemType\"].MovieClip:\n            // if (!item.decoded) {\n            //     item.decoded = true;\n            //     this.loadMovieClip(item);\n            // }\n            // return item.frames;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_2__[\"PackageItemType\"].Component:\n                return item.rawData;\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_2__[\"PackageItemType\"].Misc:\n            // if (item.file)\n            //     return AssetProxy.inst.getRes(item.file);\n            // else\n            //     return null;\n            default:\n                return null;\n        }\n    }\n    getItemAssetAsync(item, onComplete) {\n        if (item.decoded) {\n            onComplete(null, item);\n            return;\n        }\n        if (item.loading) {\n            item.loading.push(onComplete);\n            return;\n        }\n        switch (item.type) {\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_2__[\"PackageItemType\"].Spine:\n            case _FieldTypes__WEBPACK_IMPORTED_MODULE_2__[\"PackageItemType\"].DragonBones:\n            // \n            default:\n                this.getItemAsset(item);\n                onComplete(null, item);\n                break;\n        }\n    }\n    loadMovieClip(item) {\n    }\n    loadFont(item) {\n    }\n    loadSpine() {\n        // TODO\n    }\n    loadDragonBones() {\n        // TODO\n    }\n}\nUIPackage._constructing = 0;\nUIPackage._instById = {};\nUIPackage._instByName = {};\nUIPackage._branch = \"\";\nUIPackage._vars = {};\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/UIPackage.ts?");

/***/ }),

/***/ "./src/Window.ts":
/*!***********************!*\
  !*** ./src/Window.ts ***!
  \***********************/
/*! exports provided: Window */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Window\", function() { return Window; });\n/* harmony import */ var _UIPackage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UIPackage */ \"./src/UIPackage.ts\");\n/* harmony import */ var _GRoot__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GRoot */ \"./src/GRoot.ts\");\n/* harmony import */ var _GGraph__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GGraph */ \"./src/GGraph.ts\");\n/* harmony import */ var _Events__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Events */ \"./src/Events.ts\");\n/* harmony import */ var _FieldTypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./FieldTypes */ \"./src/FieldTypes.ts\");\n/* harmony import */ var _UIConfig__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./UIConfig */ \"./src/UIConfig.ts\");\n/* harmony import */ var _GObject__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./GObject */ \"./src/GObject.ts\");\n/* harmony import */ var tooqingphaser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! tooqingphaser */ \"tooqingphaser\");\n/* harmony import */ var tooqingphaser__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(tooqingphaser__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _GComponent__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./GComponent */ \"./src/GComponent.ts\");\n\n\n\n\n\n\n\n\n\nclass Window extends _GComponent__WEBPACK_IMPORTED_MODULE_8__[\"GComponent\"] {\n    constructor() {\n        super();\n        this._requestingCmd = 0;\n        this._uiSources = [];\n        this.bringToFontOnClick = _UIConfig__WEBPACK_IMPORTED_MODULE_5__[\"UIConfig\"].bringWindowToFrontOnClick;\n        // this.displayObject.on(Phaser.GameObjects.Events.ADDED_TO_SCENE, this, this.__onShown);\n        // this.displayObject.on(Phaser.GameObjects.Events.REMOVED_FROM_SCENE, this, this.__onHidden);\n        // this.displayObject.on(Laya.Event.MOUSE_DOWN, this, this.__mouseDown);\n    }\n    addUISource(source) {\n        this._uiSources.push(source);\n    }\n    set contentPane(val) {\n        if (this._contentPane != val) {\n            if (this._contentPane)\n                this.removeChild(this._contentPane);\n            this._contentPane = val;\n            if (this._contentPane) {\n                // this.addChild(this._contentPane);\n                this.setSize(this._contentPane.width, this._contentPane.height);\n                this._contentPane.addRelation(this, _FieldTypes__WEBPACK_IMPORTED_MODULE_4__[\"RelationType\"].Size);\n                this._frame = (this._contentPane.getChild(\"frame\"));\n                if (this._frame) {\n                    this.closeButton = this._frame.getChild(\"closeButton\");\n                    this.dragArea = this._frame.getChild(\"dragArea\");\n                    this.contentArea = this._frame.getChild(\"contentArea\");\n                }\n            }\n        }\n    }\n    get contentPane() {\n        return this._contentPane;\n    }\n    get frame() {\n        return this._frame;\n    }\n    get closeButton() {\n        return this._closeButton;\n    }\n    set closeButton(value) {\n        if (this._closeButton)\n            this._closeButton.offClick(this.closeEventHandler);\n        this._closeButton = value;\n        if (this._closeButton)\n            this._closeButton.onClick(this.closeEventHandler);\n    }\n    get dragArea() {\n        return this._dragArea;\n    }\n    set dragArea(value) {\n        if (this._dragArea != value) {\n            if (this._dragArea) {\n                this._dragArea.draggable = false;\n                this._dragArea.off(_Events__WEBPACK_IMPORTED_MODULE_3__[\"Events\"].DRAG_START, this.__dragStart);\n            }\n            this._dragArea = value;\n            if (this._dragArea) {\n                if (this._dragArea instanceof _GGraph__WEBPACK_IMPORTED_MODULE_2__[\"GGraph\"])\n                    this._dragArea.drawRect(0, null, null);\n                this._dragArea.draggable = true;\n                // this._dragArea.on(Events.DRAG_START, this, this.__dragStart);\n            }\n        }\n    }\n    get contentArea() {\n        return this._contentArea;\n    }\n    set contentArea(value) {\n        this._contentArea = value;\n    }\n    show() {\n        // GRoot.inst.showWindow(this);\n    }\n    showOn(root) {\n        // root.showWindow(this);\n    }\n    hide() {\n        if (this.isShowing)\n            this.doHideAnimation();\n    }\n    hideImmediately() {\n        var r = (this.parent instanceof _GRoot__WEBPACK_IMPORTED_MODULE_1__[\"GRoot\"]) ? this.parent : null;\n        if (!r)\n            r = _GRoot__WEBPACK_IMPORTED_MODULE_1__[\"GRoot\"].inst;\n        // r.hideWindowImmediately(this);\n    }\n    centerOn(r, restraint) {\n        this.setXY(Math.round((r.width - this.width) / 2), Math.round((r.height - this.height) / 2));\n        if (restraint) {\n            this.addRelation(r, _FieldTypes__WEBPACK_IMPORTED_MODULE_4__[\"RelationType\"].Center_Center);\n            this.addRelation(r, _FieldTypes__WEBPACK_IMPORTED_MODULE_4__[\"RelationType\"].Middle_Middle);\n        }\n    }\n    toggleStatus() {\n        if (this.isTop)\n            this.hide();\n        else\n            this.show();\n    }\n    get isShowing() {\n        return this.parent != null;\n    }\n    get isTop() {\n        return this.parent != null && this.parent.getChildIndex(this) == this.parent.numChildren - 1;\n    }\n    get modal() {\n        return this._modal;\n    }\n    set modal(val) {\n        this._modal = val;\n    }\n    bringToFront() {\n        // this.root.bringToFront(this);\n    }\n    showModalWait(requestingCmd) {\n        if (requestingCmd != null)\n            this._requestingCmd = requestingCmd;\n        if (_UIConfig__WEBPACK_IMPORTED_MODULE_5__[\"UIConfig\"].windowModalWaiting) {\n            if (!this._modalWaitPane)\n                this._modalWaitPane = _UIPackage__WEBPACK_IMPORTED_MODULE_0__[\"UIPackage\"].createObjectFromURL(_UIConfig__WEBPACK_IMPORTED_MODULE_5__[\"UIConfig\"].windowModalWaiting);\n            this.layoutModalWaitPane();\n            // this.addChild(this._modalWaitPane);\n        }\n    }\n    layoutModalWaitPane() {\n        if (this._contentArea) {\n            var pt = this._frame.localToGlobal();\n            pt = this.globalToLocal(pt.x, pt.y, pt);\n            this._modalWaitPane.setXY(pt.x + this._contentArea.x, pt.y + this._contentArea.y);\n            this._modalWaitPane.setSize(this._contentArea.width, this._contentArea.height);\n        }\n        else\n            this._modalWaitPane.setSize(this.width, this.height);\n    }\n    closeModalWait(requestingCmd) {\n        if (requestingCmd != null) {\n            if (this._requestingCmd != requestingCmd)\n                return false;\n        }\n        this._requestingCmd = 0;\n        if (this._modalWaitPane && this._modalWaitPane.parent != null)\n            this.removeChild(this._modalWaitPane);\n        return true;\n    }\n    get modalWaiting() {\n        return this._modalWaitPane && this._modalWaitPane.parent != null;\n    }\n    init() {\n        if (this._inited || this._loading)\n            return;\n        if (this._uiSources.length > 0) {\n            this._loading = false;\n            var cnt = this._uiSources.length;\n            for (var i = 0; i < cnt; i++) {\n                var lib = this._uiSources[i];\n                if (!lib.loaded) {\n                    lib.load(this.__uiLoadComplete, this);\n                    this._loading = true;\n                }\n            }\n            if (!this._loading)\n                this._init();\n        }\n        else\n            this._init();\n    }\n    onInit() {\n    }\n    onShown() {\n    }\n    onHide() {\n    }\n    doShowAnimation() {\n        this.onShown();\n    }\n    doHideAnimation() {\n        this.hideImmediately();\n    }\n    __uiLoadComplete() {\n        var cnt = this._uiSources.length;\n        for (var i = 0; i < cnt; i++) {\n            var lib = this._uiSources[i];\n            if (!lib.loaded)\n                return;\n        }\n        this._loading = false;\n        this._init();\n    }\n    _init() {\n        this._inited = true;\n        this.onInit();\n        if (this.isShowing)\n            this.doShowAnimation();\n    }\n    dispose() {\n        if (this.parent)\n            this.hideImmediately();\n        super.dispose();\n    }\n    closeEventHandler() {\n        this.hide();\n    }\n    __onShown() {\n        if (!this._inited)\n            this.init();\n        else\n            this.doShowAnimation();\n    }\n    __onHidden() {\n        this.closeModalWait();\n        this.onHide();\n    }\n    __mouseDown() {\n        if (this.isShowing && this.bringToFontOnClick)\n            this.bringToFront();\n    }\n    // private __dragStart(evt: Laya.Event): void {\n    __dragStart(evt) {\n        // TODO\n        throw new Error(\"TODO\");\n        _GObject__WEBPACK_IMPORTED_MODULE_6__[\"GObject\"].cast(evt.currentTarget).stopDrag();\n        this.startDrag();\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/Window.ts?");

/***/ }),

/***/ "./src/action/ChangePageAction.ts":
/*!****************************************!*\
  !*** ./src/action/ChangePageAction.ts ***!
  \****************************************/
/*! exports provided: ChangePageAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ChangePageAction\", function() { return ChangePageAction; });\n/* harmony import */ var _ControllerAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ControllerAction */ \"./src/action/ControllerAction.ts\");\n\nclass ChangePageAction extends _ControllerAction__WEBPACK_IMPORTED_MODULE_0__[\"ControllerAction\"] {\n    constructor() {\n        super();\n    }\n    enter(controller) {\n        if (!this.controllerName)\n            return;\n        var gcom;\n        if (this.objectId)\n            gcom = controller.parent.getChildById(this.objectId);\n        else\n            gcom = controller.parent;\n        if (gcom) {\n            var cc = gcom.getController(this.controllerName);\n            if (cc && cc != controller && !cc.changing) {\n                if (this.targetPage == \"~1\") {\n                    if (controller.selectedIndex < cc.pageCount)\n                        cc.selectedIndex = controller.selectedIndex;\n                }\n                else if (this.targetPage == \"~2\")\n                    cc.selectedPage = controller.selectedPage;\n                else\n                    cc.selectedPageId = this.targetPage;\n            }\n        }\n    }\n    setup(buffer) {\n        super.setup(buffer);\n        this.objectId = buffer.readS();\n        this.controllerName = buffer.readS();\n        this.targetPage = buffer.readS();\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/action/ChangePageAction.ts?");

/***/ }),

/***/ "./src/action/ControllerAction.ts":
/*!****************************************!*\
  !*** ./src/action/ControllerAction.ts ***!
  \****************************************/
/*! exports provided: ControllerAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ControllerAction\", function() { return ControllerAction; });\n/* harmony import */ var _ChangePageAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ChangePageAction */ \"./src/action/ChangePageAction.ts\");\n/* harmony import */ var _PlayTransitionAction__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PlayTransitionAction */ \"./src/action/PlayTransitionAction.ts\");\n\n\nclass ControllerAction {\n    constructor() {\n    }\n    static createAction(type) {\n        switch (type) {\n            case 0:\n                return new _PlayTransitionAction__WEBPACK_IMPORTED_MODULE_1__[\"PlayTransitionAction\"]();\n            case 1:\n                return new _ChangePageAction__WEBPACK_IMPORTED_MODULE_0__[\"ChangePageAction\"]();\n        }\n        return null;\n    }\n    run(controller, prevPage, curPage) {\n        if ((this.fromPage == null || this.fromPage.length == 0 || this.fromPage.indexOf(prevPage) != -1)\n            && (this.toPage == null || this.toPage.length == 0 || this.toPage.indexOf(curPage) != -1))\n            this.enter(controller);\n        else\n            this.leave(controller);\n    }\n    enter(controller) {\n    }\n    leave(controller) {\n    }\n    setup(buffer) {\n        var cnt;\n        var i;\n        cnt = buffer.readShort();\n        this.fromPage = [];\n        for (i = 0; i < cnt; i++)\n            this.fromPage[i] = buffer.readS();\n        cnt = buffer.readShort();\n        this.toPage = [];\n        for (i = 0; i < cnt; i++)\n            this.toPage[i] = buffer.readS();\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/action/ControllerAction.ts?");

/***/ }),

/***/ "./src/action/PlayTransitionAction.ts":
/*!********************************************!*\
  !*** ./src/action/PlayTransitionAction.ts ***!
  \********************************************/
/*! exports provided: PlayTransitionAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PlayTransitionAction\", function() { return PlayTransitionAction; });\n/* harmony import */ var _ControllerAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ControllerAction */ \"./src/action/ControllerAction.ts\");\n\nclass PlayTransitionAction extends _ControllerAction__WEBPACK_IMPORTED_MODULE_0__[\"ControllerAction\"] {\n    constructor() {\n        super();\n    }\n    enter(controller) {\n        var trans = controller.parent.getTransition(this.transitionName);\n        if (trans) {\n            if (this._currentTransition && this._currentTransition.playing)\n                trans.changePlayTimes(this.playTimes);\n            else\n                trans.play(null, this.playTimes, this.delay);\n            this._currentTransition = trans;\n        }\n    }\n    leave(controller) {\n        if (this.stopOnExit && this._currentTransition) {\n            this._currentTransition.stop();\n            this._currentTransition = null;\n        }\n    }\n    setup(buffer) {\n        super.setup(buffer);\n        this.transitionName = buffer.readS();\n        this.playTimes = buffer.readInt();\n        this.delay = buffer.readFloat();\n        this.stopOnExit = buffer.readBool();\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/action/PlayTransitionAction.ts?");

/***/ }),

/***/ "./src/action/index.ts":
/*!*****************************!*\
  !*** ./src/action/index.ts ***!
  \*****************************/
/*! exports provided: ChangePageAction, ControllerAction, PlayTransitionAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ChangePageAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ChangePageAction */ \"./src/action/ChangePageAction.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ChangePageAction\", function() { return _ChangePageAction__WEBPACK_IMPORTED_MODULE_0__[\"ChangePageAction\"]; });\n\n/* harmony import */ var _ControllerAction__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ControllerAction */ \"./src/action/ControllerAction.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ControllerAction\", function() { return _ControllerAction__WEBPACK_IMPORTED_MODULE_1__[\"ControllerAction\"]; });\n\n/* harmony import */ var _PlayTransitionAction__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PlayTransitionAction */ \"./src/action/PlayTransitionAction.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"PlayTransitionAction\", function() { return _PlayTransitionAction__WEBPACK_IMPORTED_MODULE_2__[\"PlayTransitionAction\"]; });\n\n\n\n\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/action/index.ts?");

/***/ }),

/***/ "./src/display/BitmapFont.ts":
/*!***********************************!*\
  !*** ./src/display/BitmapFont.ts ***!
  \***********************************/
/*! exports provided: BitmapFont */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BitmapFont\", function() { return BitmapFont; });\nclass BitmapFont {\n    constructor() {\n        this.size = 0;\n        this.glyphs = {};\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/display/BitmapFont.ts?");

/***/ }),

/***/ "./src/display/FillUtils.ts":
/*!**********************************!*\
  !*** ./src/display/FillUtils.ts ***!
  \**********************************/
/*! exports provided: fillImage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fillImage\", function() { return fillImage; });\n/* harmony import */ var _FieldTypes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../FieldTypes */ \"./src/FieldTypes.ts\");\n\nfunction fillImage(w, h, method, origin, clockwise, amount) {\n    if (amount <= 0)\n        return null;\n    else if (amount >= 0.9999)\n        return [0, 0, w, 0, w, h, 0, h];\n    var points;\n    switch (method) {\n        case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillMethod\"].Horizontal:\n            points = fillHorizontal(w, h, origin, amount);\n            break;\n        case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillMethod\"].Vertical:\n            points = fillVertical(w, h, origin, amount);\n            break;\n        case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillMethod\"].Radial90:\n            points = fillRadial90(w, h, origin, clockwise, amount);\n            break;\n        case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillMethod\"].Radial180:\n            points = fillRadial180(w, h, origin, clockwise, amount);\n            break;\n        case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillMethod\"].Radial360:\n            points = fillRadial360(w, h, origin, clockwise, amount);\n            break;\n    }\n    return points;\n}\nfunction fillHorizontal(w, h, origin, amount) {\n    var w2 = w * amount;\n    if (origin == _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].Left || origin == _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].Top)\n        return [0, 0, w2, 0, w2, h, 0, h];\n    else\n        return [w, 0, w, h, w - w2, h, w - w2, 0];\n}\nfunction fillVertical(w, h, origin, amount) {\n    var h2 = h * amount;\n    if (origin == _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].Left || origin == _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].Top)\n        return [0, 0, 0, h2, w, h2, w, 0];\n    else\n        return [0, h, w, h, w, h - h2, 0, h - h2];\n}\nfunction fillRadial90(w, h, origin, clockwise, amount) {\n    if (clockwise && (origin == _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].TopRight || origin == _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].BottomLeft)\n        || !clockwise && (origin == _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].TopLeft || origin == _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].BottomRight)) {\n        amount = 1 - amount;\n    }\n    var v, v2, h2;\n    v = Math.tan(Math.PI / 2 * amount);\n    h2 = w * v;\n    v2 = (h2 - h) / h2;\n    var points;\n    switch (origin) {\n        case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].TopLeft:\n            if (clockwise) {\n                if (h2 <= h)\n                    points = [0, 0, w, h2, w, 0];\n                else\n                    points = [0, 0, w * (1 - v2), h, w, h, w, 0];\n            }\n            else {\n                if (h2 <= h)\n                    points = [0, 0, w, h2, w, h, 0, h];\n                else\n                    points = [0, 0, w * (1 - v2), h, 0, h];\n            }\n            break;\n        case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].TopRight:\n            if (clockwise) {\n                if (h2 <= h)\n                    points = [w, 0, 0, h2, 0, h, w, h];\n                else\n                    points = [w, 0, w * v2, h, w, h];\n            }\n            else {\n                if (h2 <= h)\n                    points = [w, 0, 0, h2, 0, 0];\n                else\n                    points = [w, 0, w * v2, h, 0, h, 0, 0];\n            }\n            break;\n        case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].BottomLeft:\n            if (clockwise) {\n                if (h2 <= h)\n                    points = [0, h, w, h - h2, w, 0, 0, 0];\n                else\n                    points = [0, h, w * (1 - v2), 0, 0, 0];\n            }\n            else {\n                if (h2 <= h)\n                    points = [0, h, w, h - h2, w, h];\n                else\n                    points = [0, h, w * (1 - v2), 0, w, 0, w, h];\n            }\n            break;\n        case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].BottomRight:\n            if (clockwise) {\n                if (h2 <= h)\n                    points = [w, h, 0, h - h2, 0, h];\n                else\n                    points = [w, h, w * v2, 0, 0, 0, 0, h];\n            }\n            else {\n                if (h2 <= h)\n                    points = [w, h, 0, h - h2, 0, 0, w, 0];\n                else\n                    points = [w, h, w * v2, 0, w, 0];\n            }\n            break;\n    }\n    return points;\n}\nfunction movePoints(points, offsetX, offsetY) {\n    var cnt = points.length;\n    for (var i = 0; i < cnt; i += 2) {\n        points[i] += offsetX;\n        points[i + 1] += offsetY;\n    }\n}\nfunction fillRadial180(w, h, origin, clockwise, amount) {\n    var points;\n    switch (origin) {\n        case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].Top:\n            if (amount <= 0.5) {\n                amount = amount / 0.5;\n                points = fillRadial90(w / 2, h, clockwise ? _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].TopLeft : _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].TopRight, clockwise, amount);\n                if (clockwise)\n                    movePoints(points, w / 2, 0);\n            }\n            else {\n                amount = (amount - 0.5) / 0.5;\n                points = fillRadial90(w / 2, h, clockwise ? _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].TopRight : _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].TopLeft, clockwise, amount);\n                if (clockwise)\n                    points.push(w, h, w, 0);\n                else {\n                    movePoints(points, w / 2, 0);\n                    points.push(0, h, 0, 0);\n                }\n            }\n            break;\n        case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].Bottom:\n            if (amount <= 0.5) {\n                amount = amount / 0.5;\n                points = fillRadial90(w / 2, h, clockwise ? _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].BottomRight : _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].BottomLeft, clockwise, amount);\n                if (!clockwise)\n                    movePoints(points, w / 2, 0);\n            }\n            else {\n                amount = (amount - 0.5) / 0.5;\n                points = fillRadial90(w / 2, h, clockwise ? _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].BottomLeft : _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].BottomRight, clockwise, amount);\n                if (clockwise) {\n                    movePoints(points, w / 2, 0);\n                    points.push(0, 0, 0, h);\n                }\n                else\n                    points.push(w, 0, w, h);\n            }\n            break;\n        case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].Left:\n            if (amount <= 0.5) {\n                amount = amount / 0.5;\n                points = fillRadial90(w, h / 2, clockwise ? _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].BottomLeft : _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].TopLeft, clockwise, amount);\n                if (!clockwise)\n                    movePoints(points, 0, h / 2);\n            }\n            else {\n                amount = (amount - 0.5) / 0.5;\n                points = fillRadial90(w, h / 2, clockwise ? _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].TopLeft : _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].BottomLeft, clockwise, amount);\n                if (clockwise) {\n                    movePoints(points, 0, h / 2);\n                    points.push(w, 0, 0, 0);\n                }\n                else\n                    points.push(w, h, 0, h);\n            }\n            break;\n        case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].Right:\n            if (amount <= 0.5) {\n                amount = amount / 0.5;\n                points = fillRadial90(w, h / 2, clockwise ? _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].TopRight : _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].BottomRight, clockwise, amount);\n                if (clockwise)\n                    movePoints(points, 0, h / 2);\n            }\n            else {\n                amount = (amount - 0.5) / 0.5;\n                points = fillRadial90(w, h / 2, clockwise ? _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].BottomRight : _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].TopRight, clockwise, amount);\n                if (clockwise)\n                    points.push(0, h, w, h);\n                else {\n                    movePoints(points, 0, h / 2);\n                    points.push(0, 0, w, 0);\n                }\n            }\n            break;\n    }\n    return points;\n}\nfunction fillRadial360(w, h, origin, clockwise, amount) {\n    var points;\n    switch (origin) {\n        case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].Top:\n            if (amount <= 0.5) {\n                amount = amount / 0.5;\n                points = fillRadial180(w / 2, h, clockwise ? _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].Left : _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].Right, clockwise, amount);\n                if (clockwise)\n                    movePoints(points, w / 2, 0);\n            }\n            else {\n                amount = (amount - 0.5) / 0.5;\n                points = fillRadial180(w / 2, h, clockwise ? _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].Right : _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].Left, clockwise, amount);\n                if (clockwise)\n                    points.push(w, h, w, 0, w / 2, 0);\n                else {\n                    movePoints(points, w / 2, 0);\n                    points.push(0, h, 0, 0, w / 2, 0);\n                }\n            }\n            break;\n        case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].Bottom:\n            if (amount <= 0.5) {\n                amount = amount / 0.5;\n                points = fillRadial180(w / 2, h, clockwise ? _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].Right : _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].Left, clockwise, amount);\n                if (!clockwise)\n                    movePoints(points, w / 2, 0);\n            }\n            else {\n                amount = (amount - 0.5) / 0.5;\n                points = fillRadial180(w / 2, h, clockwise ? _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].Left : _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].Right, clockwise, amount);\n                if (clockwise) {\n                    movePoints(points, w / 2, 0);\n                    points.push(0, 0, 0, h, w / 2, h);\n                }\n                else\n                    points.push(w, 0, w, h, w / 2, h);\n            }\n            break;\n        case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].Left:\n            if (amount <= 0.5) {\n                amount = amount / 0.5;\n                points = fillRadial180(w, h / 2, clockwise ? _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].Bottom : _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].Top, clockwise, amount);\n                if (!clockwise)\n                    movePoints(points, 0, h / 2);\n            }\n            else {\n                amount = (amount - 0.5) / 0.5;\n                points = fillRadial180(w, h / 2, clockwise ? _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].Top : _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].Bottom, clockwise, amount);\n                if (clockwise) {\n                    movePoints(points, 0, h / 2);\n                    points.push(w, 0, 0, 0, 0, h / 2);\n                }\n                else\n                    points.push(w, h, 0, h, 0, h / 2);\n            }\n            break;\n        case _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].Right:\n            if (amount <= 0.5) {\n                amount = amount / 0.5;\n                points = fillRadial180(w, h / 2, clockwise ? _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].Top : _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].Bottom, clockwise, amount);\n                if (clockwise)\n                    movePoints(points, 0, h / 2);\n            }\n            else {\n                amount = (amount - 0.5) / 0.5;\n                points = fillRadial180(w, h / 2, clockwise ? _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].Bottom : _FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"FillOrigin\"].Top, clockwise, amount);\n                if (clockwise)\n                    points.push(0, h, w, h, w, h / 2);\n                else {\n                    movePoints(points, 0, h / 2);\n                    points.push(0, 0, w, 0, w, h / 2);\n                }\n            }\n            break;\n    }\n    return points;\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/display/FillUtils.ts?");

/***/ }),

/***/ "./src/display/Graphics.ts":
/*!*********************************!*\
  !*** ./src/display/Graphics.ts ***!
  \*********************************/
/*! exports provided: GRAPHICSTYPE, Graphics */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GRAPHICSTYPE\", function() { return GRAPHICSTYPE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Graphics\", function() { return Graphics; });\nvar GRAPHICSTYPE;\n(function (GRAPHICSTYPE) {\n    GRAPHICSTYPE[\"RECTANGLE\"] = \"rectangle\";\n    GRAPHICSTYPE[\"CIRCLE\"] = \"circle\";\n    GRAPHICSTYPE[\"POLY\"] = \"POLY\";\n    GRAPHICSTYPE[\"ELLIPSE\"] = \"ellipse\";\n})(GRAPHICSTYPE || (GRAPHICSTYPE = {}));\nclass Graphics extends Phaser.GameObjects.Graphics {\n    constructor(scene) {\n        super(scene);\n        // 默认矩形\n        this._graphicsType = GRAPHICSTYPE.RECTANGLE;\n        this._width = 0;\n        this._height = 0;\n        this._radius = 0;\n        this._points = [];\n    }\n    get width() {\n        return this._width;\n    }\n    get height() {\n        return this._height;\n    }\n    get radius() {\n        return this._radius;\n    }\n    get points() {\n        return this._points;\n    }\n    fillRect(x, y, width, height) {\n        this._graphicsType = GRAPHICSTYPE.RECTANGLE;\n        this._width = width;\n        this._height = height;\n        return super.fillRect(x, y, width, height);\n    }\n    fillCircle(x, y, radius) {\n        this._graphicsType = GRAPHICSTYPE.CIRCLE;\n        this._radius = radius;\n        return super.fillCircle(x, y, radius);\n    }\n    fillTriangle(x0, y0, x1, y1, x2, y2) {\n        // 三角形是多边形\n        // todo 扩展其他正多边形\n        this._graphicsType = GRAPHICSTYPE.POLY;\n        this._points = [new Phaser.Geom.Point(x0, y0), new Phaser.Geom.Point(x1, y1), new Phaser.Geom.Point(x2, y2)];\n        return super.fillTriangle(x0, y0, x1, y1, x2, y2);\n    }\n    fillEllipse(x, y, width, height, smoothness) {\n        this._graphicsType = GRAPHICSTYPE.ELLIPSE;\n        return super.fillEllipse(x, y, width, height, smoothness);\n    }\n    get graphicsType() {\n        return this._graphicsType;\n    }\n    set graphicsType(value) {\n        this._graphicsType = value;\n    }\n    clear() {\n        this._width = 0;\n        this._height = 0;\n        this._radius = 0;\n        this._points = [];\n        return super.clear();\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/display/Graphics.ts?");

/***/ }),

/***/ "./src/display/Image.ts":
/*!******************************!*\
  !*** ./src/display/Image.ts ***!
  \******************************/
/*! exports provided: Image */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Image\", function() { return Image; });\n/* harmony import */ var _utils_ToolSet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../utils/ToolSet */ \"./src/utils/ToolSet.ts\");\n/* harmony import */ var _FillUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FillUtils */ \"./src/display/FillUtils.ts\");\n/* harmony import */ var _Graphics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Graphics */ \"./src/display/Graphics.ts\");\n\n\n\nclass Image extends Phaser.GameObjects.Container {\n    constructor(scene) {\n        super(scene);\n        this._tileGridIndice = 0;\n        this._needRebuild = 0;\n        this._fillMethod = 0;\n        this._fillOrigin = 0;\n        this._fillAmount = 0;\n        // this.mouseEnabled = false;\n        this._color = \"#FFFFFF\";\n        this.width;\n    }\n    // public set width(value: number) {\n    //     if (this[\"_width\"] !== value) {\n    //         super.set_width(value);\n    //         this.markChanged(1);\n    //     }\n    // }\n    // public set height(value: number) {\n    //     if (this[\"_height\"] !== value) {\n    //         super.set_height(value);\n    //         this.markChanged(1);\n    //     }\n    // }\n    setSize(width, height) {\n        this.width = width;\n        this.height = height;\n        this.markChanged(1);\n        return this;\n    }\n    get texture() {\n        return this._source;\n    }\n    set texture(value) {\n        if (this._source != value) {\n            this._source = value;\n            if (this[\"_width\"] == 0) {\n                if (this._source)\n                    this.setSize(this._source.source[0].width, this._source.source[0].height);\n                else\n                    this.setSize(0, 0);\n            }\n            // todo 重绘\n            // this.repaint();\n            this.markChanged(1);\n        }\n    }\n    get scale9Grid() {\n        return this._scale9Grid;\n    }\n    set scale9Grid(value) {\n        this._scale9Grid = value;\n        this._sizeGrid = null;\n        this.markChanged(1);\n    }\n    get scaleByTile() {\n        return this._scaleByTile;\n    }\n    set scaleByTile(value) {\n        if (this._scaleByTile != value) {\n            this._scaleByTile = value;\n            this.markChanged(1);\n        }\n    }\n    get tileGridIndice() {\n        return this._tileGridIndice;\n    }\n    set tileGridIndice(value) {\n        if (this._tileGridIndice != value) {\n            this._tileGridIndice = value;\n            this.markChanged(1);\n        }\n    }\n    get fillMethod() {\n        return this._fillMethod;\n    }\n    set fillMethod(value) {\n        if (this._fillMethod != value) {\n            this._fillMethod = value;\n            if (this._fillMethod != 0) {\n                if (!this._mask) {\n                    this._mask = new _Graphics__WEBPACK_IMPORTED_MODULE_2__[\"Graphics\"](this.scene);\n                    // this._mask.mouseEnabled = false;\n                }\n                this.mask = this._mask.createGeometryMask();\n                this.markChanged(2);\n            }\n            else if (this.mask) {\n                this._mask.clear();\n                this.mask = null;\n            }\n        }\n    }\n    get fillOrigin() {\n        return this._fillOrigin;\n    }\n    set fillOrigin(value) {\n        if (this._fillOrigin != value) {\n            this._fillOrigin = value;\n            if (this._fillMethod != 0)\n                this.markChanged(2);\n        }\n    }\n    get fillClockwise() {\n        return this._fillClockwise;\n    }\n    set fillClockwise(value) {\n        if (this._fillClockwise != value) {\n            this._fillClockwise = value;\n            if (this._fillMethod != 0)\n                this.markChanged(2);\n        }\n    }\n    get fillAmount() {\n        return this._fillAmount;\n    }\n    set fillAmount(value) {\n        if (this._fillAmount != value) {\n            this._fillAmount = value;\n            if (this._fillMethod != 0)\n                this.markChanged(2);\n        }\n    }\n    get color() {\n        return this._color;\n    }\n    set color(value) {\n        if (this._color != value) {\n            this._color = value;\n            _utils_ToolSet__WEBPACK_IMPORTED_MODULE_0__[\"ToolSet\"].setColorFilter(this, value);\n        }\n    }\n    markChanged(flag) {\n        if (!this._needRebuild) {\n            this._needRebuild = flag;\n            // Laya.timer.callLater(this, this.rebuild);\n        }\n        else\n            this._needRebuild |= flag;\n    }\n    rebuild() {\n        if ((this._needRebuild & 1) != 0)\n            this.doDraw();\n        if ((this._needRebuild & 2) != 0 && this._fillMethod != 0)\n            this.doFill();\n        this._needRebuild = 0;\n    }\n    doDraw() {\n        var w = this[\"_width\"];\n        var h = this[\"_height\"];\n        var g = new _Graphics__WEBPACK_IMPORTED_MODULE_2__[\"Graphics\"](this.scene);\n        var tex = this._source;\n        g.clear();\n        if (tex == null || w == 0 || h == 0) {\n            return;\n        }\n        if (this._scaleByTile) {\n            // todo draw texture\n            //  g.fillTexture(tex, 0, 0, w, h);\n        }\n        else if (this._scale9Grid) {\n            if (!this._sizeGrid) {\n                var tw = tex.source[0].width;\n                var th = tex.source[0].height;\n                var left = this._scale9Grid.x;\n                var right = Math.max(tw - this._scale9Grid.right, 0);\n                var top = this._scale9Grid.y;\n                var bottom = Math.max(th - this._scale9Grid.bottom, 0);\n                this._sizeGrid = [top, right, bottom, left, this._tileGridIndice];\n            }\n            // todo draw9Grid\n            //g.draw9Grid(tex, 0, 0, w, h, this._sizeGrid);\n        }\n        else {\n            // todo drawImage\n            //g.drawImage(tex, 0, 0, w, h);\n        }\n    }\n    doFill() {\n        var w = this[\"_width\"];\n        var h = this[\"_height\"];\n        var g = this._mask;\n        g.clear();\n        if (w == 0 || h == 0)\n            return;\n        var points = Object(_FillUtils__WEBPACK_IMPORTED_MODULE_1__[\"fillImage\"])(w, h, this._fillMethod, this._fillOrigin, this._fillClockwise, this._fillAmount);\n        if (points == null) {\n            //不知道为什么，不这样操作一下空白的遮罩不能生效\n            this.mask = null;\n            this.mask = this._mask.createGeometryMask();\n            return;\n        }\n        // todo drawPoly\n        // g.drawPoly(0, 0, points, \"#FFFFFF\");\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/display/Image.ts?");

/***/ }),

/***/ "./src/display/MovieClip.ts":
/*!**********************************!*\
  !*** ./src/display/MovieClip.ts ***!
  \**********************************/
/*! exports provided: MovieClip */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MovieClip\", function() { return MovieClip; });\n/* harmony import */ var _Image__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Image */ \"./src/display/Image.ts\");\n\nclass MovieClip extends _Image__WEBPACK_IMPORTED_MODULE_0__[\"Image\"] {\n    constructor() {\n        super(undefined);\n        this.interval = 0;\n        this.repeatDelay = 0;\n        this.timeScale = 1;\n        this._playing = true;\n        this._frameCount = 0;\n        this._frame = 0;\n        this._start = 0;\n        this._end = 0;\n        this._times = 0;\n        this._endAt = 0;\n        this._status = 0; //0-none, 1-next loop, 2-ending, 3-ended\n        this._frameElapsed = 0; //当前帧延迟\n        this._repeatedCount = 0;\n        throw new Error(\"TODO\");\n        // this.mouseEnabled = false;\n        // this.setPlaySettings();\n        // this.on(Laya.Event.DISPLAY, this, this.__addToStage);\n        // this.on(Laya.Event.UNDISPLAY, this, this.__removeFromStage);\n    }\n    get frames() {\n        return this._frames;\n    }\n    set frames(value) {\n        this._frames = value;\n        this._scaleByTile = false;\n        this._scale9Grid = null;\n        if (this._frames) {\n            this._frameCount = this._frames.length;\n            if (this._end == -1 || this._end > this._frameCount - 1)\n                this._end = this._frameCount - 1;\n            if (this._endAt == -1 || this._endAt > this._frameCount - 1)\n                this._endAt = this._frameCount - 1;\n            if (this._frame < 0 || this._frame > this._frameCount - 1)\n                this._frame = this._frameCount - 1;\n            this._frameElapsed = 0;\n            this._repeatedCount = 0;\n            this._reversed = false;\n        }\n        else\n            this._frameCount = 0;\n        this.drawFrame();\n        this.checkTimer();\n    }\n    get frameCount() {\n        return this._frameCount;\n    }\n    get frame() {\n        return this._frame;\n    }\n    set frame(value) {\n        if (this._frame != value) {\n            if (this._frames && value >= this._frameCount)\n                value = this._frameCount - 1;\n            this._frame = value;\n            this._frameElapsed = 0;\n            this.drawFrame();\n        }\n    }\n    get playing() {\n        return this._playing;\n    }\n    set playing(value) {\n        if (this._playing != value) {\n            this._playing = value;\n            this.checkTimer();\n        }\n    }\n    //从start帧开始，播放到end帧（-1表示结尾），重复times次（0表示无限循环），循环结束后，停止在endAt帧（-1表示参数end）\n    rewind() {\n        this._frame = 0;\n        this._frameElapsed = 0;\n        this._reversed = false;\n        this._repeatedCount = 0;\n        this.drawFrame();\n    }\n    syncStatus(anotherMc) {\n        this._frame = anotherMc._frame;\n        this._frameElapsed = anotherMc._frameElapsed;\n        this._reversed = anotherMc._reversed;\n        this._repeatedCount = anotherMc._repeatedCount;\n        this.drawFrame();\n    }\n    advance(timeInMiniseconds) {\n        var beginFrame = this._frame;\n        var beginReversed = this._reversed;\n        var backupTime = timeInMiniseconds;\n        while (true) {\n            var tt = this.interval + this._frames[this._frame].addDelay;\n            if (this._frame == 0 && this._repeatedCount > 0)\n                tt += this.repeatDelay;\n            if (timeInMiniseconds < tt) {\n                this._frameElapsed = 0;\n                break;\n            }\n            timeInMiniseconds -= tt;\n            if (this.swing) {\n                if (this._reversed) {\n                    this._frame--;\n                    if (this._frame <= 0) {\n                        this._frame = 0;\n                        this._repeatedCount++;\n                        this._reversed = !this._reversed;\n                    }\n                }\n                else {\n                    this._frame++;\n                    if (this._frame > this._frameCount - 1) {\n                        this._frame = Math.max(0, this._frameCount - 2);\n                        this._repeatedCount++;\n                        this._reversed = !this._reversed;\n                    }\n                }\n            }\n            else {\n                this._frame++;\n                if (this._frame > this._frameCount - 1) {\n                    this._frame = 0;\n                    this._repeatedCount++;\n                }\n            }\n            if (this._frame == beginFrame && this._reversed == beginReversed) //走了一轮了\n             {\n                var roundTime = backupTime - timeInMiniseconds; //这就是一轮需要的时间\n                timeInMiniseconds -= Math.floor(timeInMiniseconds / roundTime) * roundTime; //跳过\n            }\n        }\n        this.drawFrame();\n    }\n    //从start帧开始，播放到end帧（-1表示结尾），重复times次（0表示无限循环），循环结束后，停止在endAt帧（-1表示参数end）\n    setPlaySettings(start, end, times, endAt, endHandler) {\n        if (start == undefined)\n            start = 0;\n        if (end == undefined)\n            end = -1;\n        if (times == undefined)\n            times = 0;\n        if (endAt == undefined)\n            endAt = -1;\n        this._start = start;\n        this._end = end;\n        if (this._end == -1 || this._end > this._frameCount - 1)\n            this._end = this._frameCount - 1;\n        this._times = times;\n        this._endAt = endAt;\n        if (this._endAt == -1)\n            this._endAt = this._end;\n        this._status = 0;\n        this._endHandler = endHandler;\n        this.frame = start;\n    }\n    update() {\n        throw new Error(\"TODO\");\n        // if (!this._playing || this._frameCount == 0 || this._status == 3)\n        //     return;\n        // var dt: number = Laya.timer.delta;\n        // if (dt > 100)\n        //     dt = 100;\n        // if (this.timeScale != 1)\n        //     dt *= this.timeScale;\n        // this._frameElapsed += dt;\n        // var tt: number = this.interval + this._frames[this._frame].addDelay;\n        // if (this._frame == 0 && this._repeatedCount > 0)\n        //     tt += this.repeatDelay;\n        // if (this._frameElapsed < tt)\n        //     return;\n        // this._frameElapsed -= tt;\n        // if (this._frameElapsed > this.interval)\n        //     this._frameElapsed = this.interval;\n        // if (this.swing) {\n        //     if (this._reversed) {\n        //         this._frame--;\n        //         if (this._frame <= 0) {\n        //             this._frame = 0;\n        //             this._repeatedCount++;\n        //             this._reversed = !this._reversed;\n        //         }\n        //     }\n        //     else {\n        //         this._frame++;\n        //         if (this._frame > this._frameCount - 1) {\n        //             this._frame = Math.max(0, this._frameCount - 2);\n        //             this._repeatedCount++;\n        //             this._reversed = !this._reversed;\n        //         }\n        //     }\n        // }\n        // else {\n        //     this._frame++;\n        //     if (this._frame > this._frameCount - 1) {\n        //         this._frame = 0;\n        //         this._repeatedCount++;\n        //     }\n        // }\n        // if (this._status == 1) //new loop\n        // {\n        //     this._frame = this._start;\n        //     this._frameElapsed = 0;\n        //     this._status = 0;\n        // }\n        // else if (this._status == 2) //ending\n        // {\n        //     this._frame = this._endAt;\n        //     this._frameElapsed = 0;\n        //     this._status = 3; //ended\n        //     //play end\n        //     if (this._endHandler) {\n        //         var handler = this._endHandler;\n        //         this._endHandler = null;\n        //         handler();\n        //     }\n        // }\n        // else {\n        //     if (this._frame == this._end) {\n        //         if (this._times > 0) {\n        //             this._times--;\n        //             if (this._times == 0)\n        //                 this._status = 2;  //ending\n        //             else\n        //                 this._status = 1; //new loop\n        //         }\n        //         else {\n        //             this._status = 1; //new loop\n        //         }\n        //     }\n        // }\n        // this.drawFrame();\n    }\n    drawFrame() {\n        if (this._frameCount > 0 && this._frame < this._frames.length) {\n            var frame = this._frames[this._frame];\n            this.texture = frame.texture;\n        }\n        else\n            this.texture = null;\n        this.rebuild();\n    }\n    checkTimer() {\n        throw new Error(\"TODO\");\n        // if (this._playing && this._frameCount > 0 && this.stage != null)\n        //     Laya.timer.frameLoop(1, this, this.update);\n        // else\n        //     Laya.timer.clear(this, this.update);\n    }\n    __addToStage() {\n        throw new Error(\"TODO\");\n        // if (this._playing && this._frameCount > 0)\n        //     Laya.timer.frameLoop(1, this, this.update);\n    }\n    __removeFromStage() {\n        throw new Error(\"TODO\");\n        // Laya.timer.clear(this, this.update);\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/display/MovieClip.ts?");

/***/ }),

/***/ "./src/display/UIStage.ts":
/*!********************************!*\
  !*** ./src/display/UIStage.ts ***!
  \********************************/
/*! exports provided: DefaultUIStageOptions, UIStage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DefaultUIStageOptions\", function() { return DefaultUIStageOptions; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UIStage\", function() { return UIStage; });\n/* harmony import */ var _event_DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../event/DisplayObjectEvent */ \"./src/event/DisplayObjectEvent.ts\");\n/* harmony import */ var _utils_DOMEventManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/DOMEventManager */ \"./src/utils/DOMEventManager.ts\");\n\n\nclass DefaultUIStageOptions {\n    constructor() {\n        this.scaleMode = \"showAll\" /* SHOW_ALL */;\n        this.orientation = \"auto\" /* AUTO */;\n        this.resolution = 1;\n        this.designWidth = 800;\n        this.designHeight = 600;\n        this.alignV = 4 /* MIDDLE */;\n        this.alignH = 1 /* CENTER */;\n        this.fallbackWidth = 0;\n        this.fallbackHeight = 0;\n    }\n}\nclass DefaultBoudingRectCalculator {\n    getRect(view, fallbackWidth, fallbackHeight) {\n        let p = view.parentElement;\n        if (!p)\n            //this should be impossible situation unless the user forget to append the view into the DOM.\n            throw new Error(\"Your view of Phaser are still in memory but not appended to DOM yet? it's necessary that there is a parent element to wrap your view up.\");\n        let rect = p.getBoundingClientRect();\n        let ret = {\n            x: 0,\n            y: 0,\n            width: 0,\n            height: 0\n        };\n        if (!rect || rect.width <= 0 || rect.height <= 0) {\n            console.warn(\"It seems that you did not set a explicit size for the parent element of your view, now fall back to window size instead.\");\n            ret.width = window.innerWidth;\n            ret.height = window.innerHeight;\n            ret.x = 0;\n            ret.y = 0;\n        }\n        else {\n            ret.x = rect.left;\n            ret.y = rect.top;\n            ret.width = rect.width;\n            ret.height = rect.height;\n        }\n        //consider the worst situation: window does not have size!!\n        if (ret.width <= 0 || ret.height <= 0) {\n            console.warn(\"fetch container size to initialize Phaser in all ways have failed, now use default size (fallbackWidth / fallbackHeight) specified in the options instead.\");\n            ret.width = fallbackWidth;\n            ret.height = fallbackHeight;\n        }\n        return ret;\n    }\n}\nclass UIStage extends Phaser.Events.EventEmitter {\n    constructor(scene) {\n        super();\n        this.scene = scene;\n        this.$width = 0;\n        this.$height = 0;\n        this.$scaleX = 1;\n        this.$scaleY = 1;\n        this.$canvasMatrix = new Phaser.GameObjects.Components.TransformMatrix();\n        this.offsetX = 0;\n        this.offsetY = 0;\n        this.$sizeCalcer = new DefaultBoudingRectCalculator();\n        UIStageInst.push(this);\n    }\n    get nativeStage() {\n        return this.scene.input;\n    }\n    get stageWidth() {\n        return this.$width;\n    }\n    get stageHeight() {\n        return this.$height;\n    }\n    addChild(child, type, index = -1) {\n        if (index < 0) {\n            this.scene.sys.displayList[type].addChild(child);\n        }\n        else {\n            this.scene.sys.displayList[type].addChildAt(child, index);\n        }\n    }\n    removeChild(child, type) {\n        this.scene.sys.displayList[type].removeChild(child);\n    }\n    /**@internal */\n    updateScreenSize() {\n        // todo resize screen\n        // if (HTMLInput.isTyping) return;\n        // let canvas = this.$appContext.view;\n        // let canvasStyle: any = canvas.style;\n        // let rect = this.$sizeCalcer.getRect(canvas, this.$options.fallbackWidth, this.$options.fallbackHeight);\n        // let shouldRotate = false;\n        // let orientation: string = this.$options.orientation;\n        // if (orientation != StageOrientation.AUTO) {\n        //     shouldRotate = orientation != StageOrientation.PORTRAIT && rect.height > rect.width\n        //         || orientation == StageOrientation.PORTRAIT && rect.width > rect.height;\n        // }\n        // let screenWidth = shouldRotate ? rect.height : rect.width;\n        // let screenHeight = shouldRotate ? rect.width : rect.height;\n        // let stageSize = this.calculateStageSize(this.$options.scaleMode, screenWidth, screenHeight, this.$options.designWidth, this.$options.designHeight);\n        // let stageWidth = stageSize.stageWidth;\n        // let stageHeight = stageSize.stageHeight;\n        // let displayWidth = stageSize.displayWidth;\n        // let displayHeight = stageSize.displayHeight;\n        // if (canvas.width !== stageWidth)\n        //     canvas.width = stageWidth;\n        // if (canvas.height !== stageHeight)\n        //     canvas.height = stageHeight;\n        // canvasStyle.transformOrigin = canvasStyle.webkitTransformOrigin = canvasStyle.msTransformOrigin = canvasStyle.mozTransformOrigin = canvasStyle.oTransformOrigin = \"0px 0px 0px\";\n        // canvasStyle.width = displayWidth + \"px\";\n        // canvasStyle.height = displayHeight + \"px\";\n        // //kevin add\n        // this.$appContext.renderer.resize(stageWidth, stageHeight);\n        // let mat = this.$canvasMatrix.identity();\n        // let dispWidth = shouldRotate ? displayHeight : displayWidth;\n        // let dispHeight = shouldRotate ? displayWidth : displayHeight;\n        // let offx: number, offy: number;\n        // if (this.$options.alignH == StageAlign.LEFT) offx = 0;\n        // else if (this.$options.alignH == StageAlign.RIGHT) offx = rect.width - dispWidth;\n        // else offx = (rect.width - dispWidth) * 0.5;\n        // if (this.$options.alignV == StageAlign.TOP) offy = 0;\n        // else if (this.$options.alignV == StageAlign.BOTTOM) offy = rect.height - dispHeight;\n        // else offy = (rect.height - dispHeight) * 0.5;\n        // let rotDeg = 0;\n        // if (shouldRotate) {\n        //     if (this.$options.orientation == StageOrientation.LANDSCAPE) {\n        //         mat.rotate(Math.PI / 2);\n        //         mat.translate(screenHeight - offx, offy);\n        //         rotDeg = 90;\n        //     }\n        //     else {\n        //         mat.rotate(-Math.PI / 2);\n        //         mat.translate(offx, screenWidth - offy);\n        //         rotDeg = -90;\n        //     }\n        // }\n        // else\n        //     mat.translate(offx, offy);\n        // if (shouldRotate) {\n        //     mat.tx += this.offsetY;\n        //     mat.ty += this.offsetX;\n        // }\n        // else {\n        //     mat.tx += this.offsetX;\n        //     mat.ty += this.offsetY;\n        // }\n        // mat.a = this.formatData(mat.a), mat.d = this.formatData(mat.d),\n        //     mat.tx = this.formatData(mat.tx), mat.ty = this.formatData(mat.ty);\n        // canvasStyle.transformOrigin = canvasStyle.webkitTransformOrigin = canvasStyle.msTransformOrigin = canvasStyle.mozTransformOrigin = canvasStyle.oTransformOrigin = \"0px 0px 0px\";\n        // canvasStyle.transform = canvasStyle.webkitTransform = canvasStyle.msTransform = canvasStyle.mozTransform = canvasStyle.oTransform = `matrix(${mat.a},${mat.b},${mat.c},${mat.d},${mat.tx},${mat.ty})`;\n        // this.$width = stageWidth;\n        // this.$height = stageHeight;\n        // this.$scaleX = stageWidth / displayWidth\n        // this.$scaleY = stageHeight / displayHeight;\n        // let im = this.$appContext.renderer.plugins.interaction as PIXI.extras.InteractionManager;\n        // im.stageRotation = rotDeg;\n        // im.stageScaleX = this.$scaleX;\n        // im.stageScaleY = this.$scaleY;\n        // this.$appContext.renderer.resize(stageWidth, stageHeight);\n        // HTMLInput.inst.updateSize(displayWidth / stageWidth, displayHeight / stageHeight);\n        this.emit(_event_DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_0__[\"DisplayObjectEvent\"].SIZE_CHANGED, this);\n    }\n}\nlet UIStageInst = [];\nlet resizeCheckTimer = NaN;\nfunction resizeHandler() {\n    UIStageInst.forEach(stage => {\n        stage.updateScreenSize();\n    });\n}\n_utils_DOMEventManager__WEBPACK_IMPORTED_MODULE_1__[\"DOMEventManager\"].inst.on(\"resize\", function () {\n    clearTimeout(resizeCheckTimer);\n    resizeCheckTimer = window.setTimeout(resizeHandler, 300);\n});\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/display/UIStage.ts?");

/***/ }),

/***/ "./src/display/index.ts":
/*!******************************!*\
  !*** ./src/display/index.ts ***!
  \******************************/
/*! exports provided: BitmapFont, fillImage, GRAPHICSTYPE, Graphics, Image, MovieClip, DefaultUIStageOptions, UIStage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _BitmapFont__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BitmapFont */ \"./src/display/BitmapFont.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"BitmapFont\", function() { return _BitmapFont__WEBPACK_IMPORTED_MODULE_0__[\"BitmapFont\"]; });\n\n/* harmony import */ var _FillUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FillUtils */ \"./src/display/FillUtils.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"fillImage\", function() { return _FillUtils__WEBPACK_IMPORTED_MODULE_1__[\"fillImage\"]; });\n\n/* harmony import */ var _Graphics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Graphics */ \"./src/display/Graphics.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GRAPHICSTYPE\", function() { return _Graphics__WEBPACK_IMPORTED_MODULE_2__[\"GRAPHICSTYPE\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Graphics\", function() { return _Graphics__WEBPACK_IMPORTED_MODULE_2__[\"Graphics\"]; });\n\n/* harmony import */ var _Image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Image */ \"./src/display/Image.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Image\", function() { return _Image__WEBPACK_IMPORTED_MODULE_3__[\"Image\"]; });\n\n/* harmony import */ var _MovieClip__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MovieClip */ \"./src/display/MovieClip.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"MovieClip\", function() { return _MovieClip__WEBPACK_IMPORTED_MODULE_4__[\"MovieClip\"]; });\n\n/* harmony import */ var _UIStage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./UIStage */ \"./src/display/UIStage.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DefaultUIStageOptions\", function() { return _UIStage__WEBPACK_IMPORTED_MODULE_5__[\"DefaultUIStageOptions\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"UIStage\", function() { return _UIStage__WEBPACK_IMPORTED_MODULE_5__[\"UIStage\"]; });\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/display/index.ts?");

/***/ }),

/***/ "./src/event/DisplayObjectEvent.ts":
/*!*****************************************!*\
  !*** ./src/event/DisplayObjectEvent.ts ***!
  \*****************************************/
/*! exports provided: DisplayObjectEvent, InteractiveEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DisplayObjectEvent\", function() { return DisplayObjectEvent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InteractiveEvent\", function() { return InteractiveEvent; });\nclass DisplayObjectEvent {\n}\nDisplayObjectEvent.XY_CHANGED = \"__xyChanged\";\nDisplayObjectEvent.SIZE_CHANGED = \"__sizeChanged\";\nDisplayObjectEvent.VISIBLE_CHANGED = \"__visibleChanged\";\nDisplayObjectEvent.SIZE_DELAY_CHANGE = \"__sizeDelayChange\";\nDisplayObjectEvent.MOUSE_WHEEL = \"__mouseWheel\";\nclass InteractiveEvent {\n}\nInteractiveEvent.POINTER_DOWN = \"pointerdown\";\nInteractiveEvent.POINTER_UP = \"pointerup\";\nInteractiveEvent.POINTER_OVER = \"pointerover\";\nInteractiveEvent.POINTER_OUT = \"pointerout\";\nInteractiveEvent.POINTER_MOVE = \"pointermove\";\nInteractiveEvent.GAMEOBJECT_DOWN = \"gameobjectdown\";\nInteractiveEvent.GAMEOBJECT_UP = \"gameobjectup\";\nInteractiveEvent.GAMEOBJECT_OVER = \"gameobjectover\";\nInteractiveEvent.GAMEOBJECT_OUT = \"gameobjectout\";\nInteractiveEvent.GAMEOBJECT_MOVE = \"gameobjectmove\";\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/event/DisplayObjectEvent.ts?");

/***/ }),

/***/ "./src/event/Event.ts":
/*!****************************!*\
  !*** ./src/event/Event.ts ***!
  \****************************/
/*! exports provided: Event */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Event\", function() { return Event; });\nclass Event {\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/event/Event.ts?");

/***/ }),

/***/ "./src/event/index.ts":
/*!****************************!*\
  !*** ./src/event/index.ts ***!
  \****************************/
/*! exports provided: DisplayObjectEvent, InteractiveEvent, Event */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DisplayObjectEvent */ \"./src/event/DisplayObjectEvent.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DisplayObjectEvent\", function() { return _DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_0__[\"DisplayObjectEvent\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"InteractiveEvent\", function() { return _DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_0__[\"InteractiveEvent\"]; });\n\n/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Event */ \"./src/event/Event.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Event\", function() { return _Event__WEBPACK_IMPORTED_MODULE_1__[\"Event\"]; });\n\n\n\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/event/index.ts?");

/***/ }),

/***/ "./src/gears/GearAnimation.ts":
/*!************************************!*\
  !*** ./src/gears/GearAnimation.ts ***!
  \************************************/
/*! exports provided: GearAnimation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GearAnimation\", function() { return GearAnimation; });\n/* harmony import */ var _FieldTypes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../FieldTypes */ \"./src/FieldTypes.ts\");\n/* harmony import */ var _GearBase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GearBase */ \"./src/gears/GearBase.ts\");\n\n\nclass GearAnimation extends _GearBase__WEBPACK_IMPORTED_MODULE_1__[\"GearBase\"] {\n    constructor(owner) {\n        super(owner);\n    }\n    init() {\n        this._default = {\n            playing: this._owner.getProp(_FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].Playing),\n            frame: this._owner.getProp(_FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].Frame)\n        };\n        this._storage = {};\n    }\n    addStatus(pageId, buffer) {\n        var gv;\n        if (pageId == null)\n            gv = this._default;\n        else\n            this._storage[pageId] = gv = {};\n        gv.playing = buffer.readBool();\n        gv.frame = buffer.readInt();\n    }\n    apply() {\n        this._owner._gearLocked = true;\n        var gv = this._storage[this._controller.selectedPageId];\n        if (!gv)\n            gv = this._default;\n        this._owner.setProp(_FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].Playing, gv.playing);\n        this._owner.setProp(_FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].Frame, gv.frame);\n        this._owner._gearLocked = false;\n    }\n    updateState() {\n        var gv = this._storage[this._controller.selectedPageId];\n        if (!gv)\n            this._storage[this._controller.selectedPageId] = gv = {};\n        gv.playing = this._owner.getProp(_FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].Playing);\n        gv.frame = this._owner.getProp(_FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].Frame);\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/gears/GearAnimation.ts?");

/***/ }),

/***/ "./src/gears/GearBase.ts":
/*!*******************************!*\
  !*** ./src/gears/GearBase.ts ***!
  \*******************************/
/*! exports provided: GearBase, GearTweenConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GearBase\", function() { return GearBase; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GearTweenConfig\", function() { return GearTweenConfig; });\n/* harmony import */ var _tween_EaseType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../tween/EaseType */ \"./src/tween/EaseType.ts\");\n/* harmony import */ var _GearDisplay2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GearDisplay2 */ \"./src/gears/GearDisplay2.ts\");\n/* harmony import */ var _GearIcon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GearIcon */ \"./src/gears/GearIcon.ts\");\n/* harmony import */ var _GearText__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./GearText */ \"./src/gears/GearText.ts\");\n/* harmony import */ var _GearAnimation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./GearAnimation */ \"./src/gears/GearAnimation.ts\");\n/* harmony import */ var _GearColor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./GearColor */ \"./src/gears/GearColor.ts\");\n/* harmony import */ var _GearLook__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./GearLook */ \"./src/gears/GearLook.ts\");\n/* harmony import */ var _GearSize__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./GearSize */ \"./src/gears/GearSize.ts\");\n/* harmony import */ var _GearXY__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./GearXY */ \"./src/gears/GearXY.ts\");\n/* harmony import */ var _GearDisplay__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./GearDisplay */ \"./src/gears/GearDisplay.ts\");\n/* harmony import */ var _GearFontSize__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./GearFontSize */ \"./src/gears/GearFontSize.ts\");\n\n\n\n\n\n\n\n\n\n\n\nclass GearBase {\n    constructor(owner) {\n        this._owner = owner;\n    }\n    static create(owner, index) {\n        if (!Classes)\n            Classes = [\n                _GearDisplay__WEBPACK_IMPORTED_MODULE_9__[\"GearDisplay\"], _GearXY__WEBPACK_IMPORTED_MODULE_8__[\"GearXY\"], _GearSize__WEBPACK_IMPORTED_MODULE_7__[\"GearSize\"], _GearLook__WEBPACK_IMPORTED_MODULE_6__[\"GearLook\"], _GearColor__WEBPACK_IMPORTED_MODULE_5__[\"GearColor\"],\n                _GearAnimation__WEBPACK_IMPORTED_MODULE_4__[\"GearAnimation\"], _GearText__WEBPACK_IMPORTED_MODULE_3__[\"GearText\"], _GearIcon__WEBPACK_IMPORTED_MODULE_2__[\"GearIcon\"], _GearDisplay2__WEBPACK_IMPORTED_MODULE_1__[\"GearDisplay2\"], _GearFontSize__WEBPACK_IMPORTED_MODULE_10__[\"GearFontSize\"]\n            ];\n        return new (Classes[index])(owner);\n    }\n    dispose() {\n        if (this._tweenConfig && this._tweenConfig._tweener) {\n            this._tweenConfig._tweener.kill();\n            this._tweenConfig._tweener = null;\n        }\n    }\n    get controller() {\n        return this._controller;\n    }\n    set controller(val) {\n        if (val != this._controller) {\n            this._controller = val;\n            if (this._controller)\n                this.init();\n        }\n    }\n    get tweenConfig() {\n        if (!this._tweenConfig)\n            this._tweenConfig = new GearTweenConfig();\n        return this._tweenConfig;\n    }\n    setup(buffer) {\n        this._controller = this._owner.parent.getControllerAt(buffer.readShort());\n        this.init();\n        var i;\n        var page;\n        var cnt = buffer.readShort();\n        if (this instanceof _GearDisplay__WEBPACK_IMPORTED_MODULE_9__[\"GearDisplay\"]) {\n            this.pages = buffer.readSArray(cnt);\n        }\n        else if (this instanceof _GearDisplay2__WEBPACK_IMPORTED_MODULE_1__[\"GearDisplay2\"]) {\n            this.pages = buffer.readSArray(cnt);\n        }\n        else {\n            for (i = 0; i < cnt; i++) {\n                page = buffer.readS();\n                if (page == null)\n                    continue;\n                this.addStatus(page, buffer);\n            }\n            if (buffer.readBool())\n                this.addStatus(null, buffer);\n        }\n        if (buffer.readBool()) {\n            this._tweenConfig = new GearTweenConfig();\n            this._tweenConfig.easeType = buffer.readByte();\n            this._tweenConfig.duration = buffer.readFloat();\n            this._tweenConfig.delay = buffer.readFloat();\n        }\n        if (buffer.version >= 2) {\n            if (this instanceof _GearXY__WEBPACK_IMPORTED_MODULE_8__[\"GearXY\"]) {\n                if (buffer.readBool()) {\n                    this.positionsInPercent = true;\n                    for (i = 0; i < cnt; i++) {\n                        page = buffer.readS();\n                        if (page == null)\n                            continue;\n                        this.addExtStatus(page, buffer);\n                    }\n                    if (buffer.readBool())\n                        this.addExtStatus(null, buffer);\n                }\n            }\n            else if (this instanceof _GearDisplay2__WEBPACK_IMPORTED_MODULE_1__[\"GearDisplay2\"])\n                this.condition = buffer.readByte();\n        }\n    }\n    updateFromRelations(dx, dy) {\n    }\n    addStatus(pageId, buffer) {\n    }\n    init() {\n    }\n    apply() {\n    }\n    updateState() {\n    }\n}\nvar Classes;\nclass GearTweenConfig {\n    constructor() {\n        this.tween = true;\n        this.easeType = _tween_EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].QuadOut;\n        this.duration = 0.3;\n        this.delay = 0;\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/gears/GearBase.ts?");

/***/ }),

/***/ "./src/gears/GearColor.ts":
/*!********************************!*\
  !*** ./src/gears/GearColor.ts ***!
  \********************************/
/*! exports provided: GearColor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GearColor\", function() { return GearColor; });\n/* harmony import */ var _FieldTypes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../FieldTypes */ \"./src/FieldTypes.ts\");\n/* harmony import */ var _GearBase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GearBase */ \"./src/gears/GearBase.ts\");\n\n\nclass GearColor extends _GearBase__WEBPACK_IMPORTED_MODULE_1__[\"GearBase\"] {\n    constructor(owner) {\n        super(owner);\n    }\n    init() {\n        this._default = {\n            color: this._owner.getProp(_FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].Color),\n            strokeColor: this._owner.getProp(_FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].OutlineColor)\n        };\n        this._storage = {};\n    }\n    addStatus(pageId, buffer) {\n        var gv;\n        if (pageId == null)\n            gv = this._default;\n        else\n            this._storage[pageId] = gv = {};\n        gv.color = buffer.readColorS();\n        gv.strokeColor = buffer.readColorS();\n    }\n    apply() {\n        this._owner._gearLocked = true;\n        var gv = this._storage[this._controller.selectedPageId];\n        if (!gv)\n            gv = this._default;\n        this._owner.setProp(_FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].Color, gv.color);\n        this._owner.setProp(_FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].OutlineColor, gv.strokeColor);\n        this._owner._gearLocked = false;\n    }\n    updateState() {\n        var gv = this._storage[this._controller.selectedPageId];\n        if (!gv)\n            this._storage[this._controller.selectedPageId] = gv = {};\n        gv.color = this._owner.getProp(_FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].Color);\n        gv.strokeColor = this._owner.getProp(_FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].OutlineColor);\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/gears/GearColor.ts?");

/***/ }),

/***/ "./src/gears/GearDisplay.ts":
/*!**********************************!*\
  !*** ./src/gears/GearDisplay.ts ***!
  \**********************************/
/*! exports provided: GearDisplay */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GearDisplay\", function() { return GearDisplay; });\n/* harmony import */ var _GearBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GearBase */ \"./src/gears/GearBase.ts\");\n\nclass GearDisplay extends _GearBase__WEBPACK_IMPORTED_MODULE_0__[\"GearBase\"] {\n    constructor(owner) {\n        super(owner);\n        this._displayLockToken = 1;\n        this._visible = 0;\n    }\n    init() {\n        this.pages = null;\n    }\n    apply() {\n        this._displayLockToken++;\n        if (this._displayLockToken == 0)\n            this._displayLockToken = 1;\n        if (this.pages == null || this.pages.length == 0\n            || this.pages.indexOf(this._controller.selectedPageId) != -1)\n            this._visible = 1;\n        else\n            this._visible = 0;\n    }\n    addLock() {\n        this._visible++;\n        return this._displayLockToken;\n    }\n    releaseLock(token) {\n        if (token == this._displayLockToken)\n            this._visible--;\n    }\n    get connected() {\n        return this._controller == null || this._visible > 0;\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/gears/GearDisplay.ts?");

/***/ }),

/***/ "./src/gears/GearDisplay2.ts":
/*!***********************************!*\
  !*** ./src/gears/GearDisplay2.ts ***!
  \***********************************/
/*! exports provided: GearDisplay2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GearDisplay2\", function() { return GearDisplay2; });\n/* harmony import */ var _GearBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GearBase */ \"./src/gears/GearBase.ts\");\n\nclass GearDisplay2 extends _GearBase__WEBPACK_IMPORTED_MODULE_0__[\"GearBase\"] {\n    constructor(owner) {\n        super(owner);\n        this._visible = 0;\n    }\n    init() {\n        this.pages = null;\n    }\n    apply() {\n        if (this.pages == null || this.pages.length == 0\n            || this.pages.indexOf(this._controller.selectedPageId) != -1)\n            this._visible = 1;\n        else\n            this._visible = 0;\n    }\n    evaluate(connected) {\n        var v = this._controller == null || this._visible > 0;\n        if (this.condition == 0)\n            v = v && connected;\n        else\n            v = v || connected;\n        return v;\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/gears/GearDisplay2.ts?");

/***/ }),

/***/ "./src/gears/GearFontSize.ts":
/*!***********************************!*\
  !*** ./src/gears/GearFontSize.ts ***!
  \***********************************/
/*! exports provided: GearFontSize */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GearFontSize\", function() { return GearFontSize; });\n/* harmony import */ var _FieldTypes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../FieldTypes */ \"./src/FieldTypes.ts\");\n/* harmony import */ var _GearBase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GearBase */ \"./src/gears/GearBase.ts\");\n\n\nclass GearFontSize extends _GearBase__WEBPACK_IMPORTED_MODULE_1__[\"GearBase\"] {\n    constructor(owner) {\n        super(owner);\n        this._default = 0;\n    }\n    init() {\n        this._default = this._owner.getProp(_FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].FontSize);\n        this._storage = {};\n    }\n    addStatus(pageId, buffer) {\n        if (pageId == null)\n            this._default = buffer.readInt();\n        else\n            this._storage[pageId] = buffer.readInt();\n    }\n    apply() {\n        this._owner._gearLocked = true;\n        var data = this._storage[this._controller.selectedPageId];\n        if (data != undefined)\n            this._owner.setProp(_FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].FontSize, data);\n        else\n            this._owner.setProp(_FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].FontSize, this._default);\n        this._owner._gearLocked = false;\n    }\n    updateState() {\n        this._storage[this._controller.selectedPageId] = this._owner.getProp(_FieldTypes__WEBPACK_IMPORTED_MODULE_0__[\"ObjectPropID\"].FontSize);\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/gears/GearFontSize.ts?");

/***/ }),

/***/ "./src/gears/GearIcon.ts":
/*!*******************************!*\
  !*** ./src/gears/GearIcon.ts ***!
  \*******************************/
/*! exports provided: GearIcon */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GearIcon\", function() { return GearIcon; });\n/* harmony import */ var _GearBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GearBase */ \"./src/gears/GearBase.ts\");\n\nclass GearIcon extends _GearBase__WEBPACK_IMPORTED_MODULE_0__[\"GearBase\"] {\n    constructor(owner) {\n        super(owner);\n    }\n    init() {\n        this._default = this._owner.icon;\n        this._storage = {};\n    }\n    addStatus(pageId, buffer) {\n        if (pageId == null)\n            this._default = buffer.readS();\n        else\n            this._storage[pageId] = buffer.readS();\n    }\n    apply() {\n        this._owner._gearLocked = true;\n        var data = this._storage[this._controller.selectedPageId];\n        if (data !== undefined)\n            this._owner.icon = data;\n        else\n            this._owner.icon = this._default;\n        this._owner._gearLocked = false;\n    }\n    updateState() {\n        this._storage[this._controller.selectedPageId] = this._owner.icon;\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/gears/GearIcon.ts?");

/***/ }),

/***/ "./src/gears/GearLook.ts":
/*!*******************************!*\
  !*** ./src/gears/GearLook.ts ***!
  \*******************************/
/*! exports provided: GearLook */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GearLook\", function() { return GearLook; });\n/* harmony import */ var _UIPackage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../UIPackage */ \"./src/UIPackage.ts\");\n/* harmony import */ var _GearBase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GearBase */ \"./src/gears/GearBase.ts\");\n/* harmony import */ var _tween_GTween__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tween/GTween */ \"./src/tween/GTween.ts\");\n\n\n\nclass GearLook extends _GearBase__WEBPACK_IMPORTED_MODULE_1__[\"GearBase\"] {\n    constructor(owner) {\n        super(owner);\n    }\n    init() {\n        this._default = {\n            alpha: this._owner.alpha,\n            rotation: this._owner.rotation,\n            grayed: this._owner.grayed,\n            touchable: this._owner.touchable\n        };\n        this._storage = {};\n    }\n    addStatus(pageId, buffer) {\n        var gv;\n        if (pageId == null)\n            gv = this._default;\n        else\n            this._storage[pageId] = gv = {};\n        gv.alpha = buffer.readFloat();\n        gv.rotation = buffer.readFloat();\n        gv.grayed = buffer.readBool();\n        gv.touchable = buffer.readBool();\n    }\n    apply() {\n        var gv = this._storage[this._controller.selectedPageId];\n        if (!gv)\n            gv = this._default;\n        if (this._tweenConfig && this._tweenConfig.tween && !_UIPackage__WEBPACK_IMPORTED_MODULE_0__[\"UIPackage\"]._constructing && !_GearBase__WEBPACK_IMPORTED_MODULE_1__[\"GearBase\"].disableAllTweenEffect) {\n            this._owner._gearLocked = true;\n            this._owner.grayed = gv.grayed;\n            this._owner.touchable = gv.touchable;\n            this._owner._gearLocked = false;\n            if (this._tweenConfig._tweener) {\n                if (this._tweenConfig._tweener.endValue.x != gv.alpha || this._tweenConfig._tweener.endValue.y != gv.rotation) {\n                    this._tweenConfig._tweener.kill(true);\n                    this._tweenConfig._tweener = null;\n                }\n                else\n                    return;\n            }\n            var a = gv.alpha != this._owner.alpha;\n            var b = gv.rotation != this._owner.rotation;\n            if (a || b) {\n                if (this._owner.checkGearController(0, this._controller))\n                    this._tweenConfig._displayLockToken = this._owner.addDisplayLock();\n                this._tweenConfig._tweener = _tween_GTween__WEBPACK_IMPORTED_MODULE_2__[\"GTween\"].to2(this._owner.alpha, this._owner.rotation, gv.alpha, gv.rotation, this._tweenConfig.duration)\n                    .setDelay(this._tweenConfig.delay)\n                    .setEase(this._tweenConfig.easeType)\n                    .setUserData((a ? 1 : 0) + (b ? 2 : 0))\n                    .setTarget(this)\n                    .onUpdate(this.__tweenUpdate, this)\n                    .onComplete(this.__tweenComplete, this);\n            }\n        }\n        else {\n            this._owner._gearLocked = true;\n            this._owner.grayed = gv.grayed;\n            this._owner.touchable = gv.touchable;\n            this._owner.alpha = gv.alpha;\n            this._owner.rotation = gv.rotation;\n            this._owner._gearLocked = false;\n        }\n    }\n    __tweenUpdate(tweener) {\n        var flag = tweener.userData;\n        this._owner._gearLocked = true;\n        if ((flag & 1) != 0)\n            this._owner.alpha = tweener.value.x;\n        if ((flag & 2) != 0)\n            this._owner.rotation = tweener.value.y;\n        this._owner._gearLocked = false;\n    }\n    __tweenComplete() {\n        if (this._tweenConfig._displayLockToken != 0) {\n            this._owner.releaseDisplayLock(this._tweenConfig._displayLockToken);\n            this._tweenConfig._displayLockToken = 0;\n        }\n        this._tweenConfig._tweener = null;\n    }\n    updateState() {\n        var gv = this._storage[this._controller.selectedPageId];\n        if (!gv)\n            this._storage[this._controller.selectedPageId] = gv = {};\n        gv.alpha = this._owner.alpha;\n        gv.rotation = this._owner.rotation;\n        gv.grayed = this._owner.grayed;\n        gv.touchable = this._owner.touchable;\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/gears/GearLook.ts?");

/***/ }),

/***/ "./src/gears/GearSize.ts":
/*!*******************************!*\
  !*** ./src/gears/GearSize.ts ***!
  \*******************************/
/*! exports provided: GearSize */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GearSize\", function() { return GearSize; });\n/* harmony import */ var _UIPackage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../UIPackage */ \"./src/UIPackage.ts\");\n/* harmony import */ var _GearBase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GearBase */ \"./src/gears/GearBase.ts\");\n/* harmony import */ var _tween_GTween__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tween/GTween */ \"./src/tween/GTween.ts\");\n\n\n\nclass GearSize extends _GearBase__WEBPACK_IMPORTED_MODULE_1__[\"GearBase\"] {\n    constructor(owner) {\n        super(owner);\n    }\n    init() {\n        this._default = {\n            width: this._owner.width,\n            height: this._owner.height,\n            scaleX: this._owner.scaleX,\n            scaleY: this._owner.scaleY\n        };\n        this._storage = {};\n    }\n    addStatus(pageId, buffer) {\n        var gv;\n        if (pageId == null)\n            gv = this._default;\n        else\n            this._storage[pageId] = gv = {};\n        gv.width = buffer.readInt();\n        gv.height = buffer.readInt();\n        gv.scaleX = buffer.readFloat();\n        gv.scaleY = buffer.readFloat();\n    }\n    apply() {\n        var gv = this._storage[this._controller.selectedPageId];\n        if (!gv)\n            gv = this._default;\n        if (this._tweenConfig && this._tweenConfig.tween && !_UIPackage__WEBPACK_IMPORTED_MODULE_0__[\"UIPackage\"]._constructing && !_GearBase__WEBPACK_IMPORTED_MODULE_1__[\"GearBase\"].disableAllTweenEffect) {\n            if (this._tweenConfig._tweener) {\n                if (this._tweenConfig._tweener.endValue.x != gv.width || this._tweenConfig._tweener.endValue.y != gv.height\n                    || this._tweenConfig._tweener.endValue.z != gv.scaleX || this._tweenConfig._tweener.endValue.w != gv.scaleY) {\n                    this._tweenConfig._tweener.kill(true);\n                    this._tweenConfig._tweener = null;\n                }\n                else\n                    return;\n            }\n            var a = gv.width != this._owner.width || gv.height != this._owner.height;\n            var b = gv.scaleX != this._owner.scaleX || gv.scaleY != this._owner.scaleY;\n            if (a || b) {\n                if (this._owner.checkGearController(0, this._controller))\n                    this._tweenConfig._displayLockToken = this._owner.addDisplayLock();\n                this._tweenConfig._tweener = _tween_GTween__WEBPACK_IMPORTED_MODULE_2__[\"GTween\"].to4(this._owner.width, this._owner.height, this._owner.scaleX, this._owner.scaleY, gv.width, gv.height, gv.scaleX, gv.scaleY, this._tweenConfig.duration)\n                    .setDelay(this._tweenConfig.delay)\n                    .setEase(this._tweenConfig.easeType)\n                    .setUserData((a ? 1 : 0) + (b ? 2 : 0))\n                    .setTarget(this)\n                    .onUpdate(this.__tweenUpdate, this)\n                    .onComplete(this.__tweenComplete, this);\n            }\n        }\n        else {\n            this._owner._gearLocked = true;\n            this._owner.setSize(gv.width, gv.height, this._owner.getGear(1).controller == this._controller);\n            this._owner.setScale(gv.scaleX, gv.scaleY);\n            this._owner._gearLocked = false;\n        }\n    }\n    __tweenUpdate(tweener) {\n        var flag = tweener.userData;\n        this._owner._gearLocked = true;\n        if ((flag & 1) != 0)\n            this._owner.setSize(tweener.value.x, tweener.value.y, this._owner.checkGearController(1, this._controller));\n        if ((flag & 2) != 0)\n            this._owner.setScale(tweener.value.z, tweener.value.w);\n        this._owner._gearLocked = false;\n    }\n    __tweenComplete() {\n        if (this._tweenConfig._displayLockToken != 0) {\n            this._owner.releaseDisplayLock(this._tweenConfig._displayLockToken);\n            this._tweenConfig._displayLockToken = 0;\n        }\n        this._tweenConfig._tweener = null;\n    }\n    updateState() {\n        var gv = this._storage[this._controller.selectedPageId];\n        if (!gv)\n            this._storage[this._controller.selectedPageId] = gv = {};\n        gv.width = this._owner.width;\n        gv.height = this._owner.height;\n        gv.scaleX = this._owner.scaleX;\n        gv.scaleY = this._owner.scaleY;\n    }\n    updateFromRelations(dx, dy) {\n        if (this._controller == null || this._storage == null)\n            return;\n        for (var key in this._storage) {\n            var gv = this._storage[key];\n            gv.width += dx;\n            gv.height += dy;\n        }\n        this._default.width += dx;\n        this._default.height += dy;\n        this.updateState();\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/gears/GearSize.ts?");

/***/ }),

/***/ "./src/gears/GearText.ts":
/*!*******************************!*\
  !*** ./src/gears/GearText.ts ***!
  \*******************************/
/*! exports provided: GearText */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GearText\", function() { return GearText; });\n/* harmony import */ var _GearBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GearBase */ \"./src/gears/GearBase.ts\");\n\nclass GearText extends _GearBase__WEBPACK_IMPORTED_MODULE_0__[\"GearBase\"] {\n    constructor(owner) {\n        super(owner);\n    }\n    init() {\n        this._default = this._owner.text;\n        this._storage = {};\n    }\n    addStatus(pageId, buffer) {\n        if (pageId == null)\n            this._default = buffer.readS();\n        else\n            this._storage[pageId] = buffer.readS();\n    }\n    apply() {\n        this._owner._gearLocked = true;\n        var data = this._storage[this._controller.selectedPageId];\n        if (data !== undefined)\n            this._owner.text = data;\n        else\n            this._owner.text = this._default;\n        this._owner._gearLocked = false;\n    }\n    updateState() {\n        this._storage[this._controller.selectedPageId] = this._owner.text;\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/gears/GearText.ts?");

/***/ }),

/***/ "./src/gears/GearXY.ts":
/*!*****************************!*\
  !*** ./src/gears/GearXY.ts ***!
  \*****************************/
/*! exports provided: GearXY */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GearXY\", function() { return GearXY; });\n/* harmony import */ var _UIPackage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../UIPackage */ \"./src/UIPackage.ts\");\n/* harmony import */ var _GearBase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GearBase */ \"./src/gears/GearBase.ts\");\n/* harmony import */ var _tween_GTween__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tween/GTween */ \"./src/tween/GTween.ts\");\n\n\n\nclass GearXY extends _GearBase__WEBPACK_IMPORTED_MODULE_1__[\"GearBase\"] {\n    constructor(owner) {\n        super(owner);\n    }\n    init() {\n        this._default = {\n            x: this._owner.x,\n            y: this._owner.y,\n            px: this._owner.x / this._owner.parent.width,\n            py: this._owner.y / this._owner.parent.height\n        };\n        this._storage = {};\n    }\n    addStatus(pageId, buffer) {\n        var gv;\n        if (pageId == null)\n            gv = this._default;\n        else\n            this._storage[pageId] = gv = {};\n        gv.x = buffer.readInt();\n        gv.y = buffer.readInt();\n    }\n    addExtStatus(pageId, buffer) {\n        var gv;\n        if (pageId == null)\n            gv = this._default;\n        else\n            gv = this._storage[pageId];\n        gv.px = buffer.readFloat();\n        gv.py = buffer.readFloat();\n    }\n    apply() {\n        var gv = this._storage[this._controller.selectedPageId];\n        if (!gv)\n            gv = this._default;\n        var ex;\n        var ey;\n        if (this.positionsInPercent && this._owner.parent) {\n            ex = gv.px * this._owner.parent.width;\n            ey = gv.py * this._owner.parent.height;\n        }\n        else {\n            ex = gv.x;\n            ey = gv.y;\n        }\n        if (this._tweenConfig && this._tweenConfig.tween && !_UIPackage__WEBPACK_IMPORTED_MODULE_0__[\"UIPackage\"]._constructing && !_GearBase__WEBPACK_IMPORTED_MODULE_1__[\"GearBase\"].disableAllTweenEffect) {\n            if (this._tweenConfig._tweener) {\n                if (this._tweenConfig._tweener.endValue.x != ex || this._tweenConfig._tweener.endValue.y != ey) {\n                    this._tweenConfig._tweener.kill(true);\n                    this._tweenConfig._tweener = null;\n                }\n                else\n                    return;\n            }\n            var ox = this._owner.x;\n            var oy = this._owner.y;\n            if (ox != ex || oy != ey) {\n                if (this._owner.checkGearController(0, this._controller))\n                    this._tweenConfig._displayLockToken = this._owner.addDisplayLock();\n                this._tweenConfig._tweener = _tween_GTween__WEBPACK_IMPORTED_MODULE_2__[\"GTween\"].to2(ox, oy, ex, ey, this._tweenConfig.duration)\n                    .setDelay(this._tweenConfig.delay)\n                    .setEase(this._tweenConfig.easeType)\n                    .setTarget(this)\n                    .onUpdate(this.__tweenUpdate, this)\n                    .onComplete(this.__tweenComplete, this);\n            }\n        }\n        else {\n            this._owner._gearLocked = true;\n            this._owner.setXY(ex, ey);\n            this._owner._gearLocked = false;\n        }\n    }\n    __tweenUpdate(tweener) {\n        this._owner._gearLocked = true;\n        this._owner.setXY(tweener.value.x, tweener.value.y);\n        this._owner._gearLocked = false;\n    }\n    __tweenComplete() {\n        if (this._tweenConfig._displayLockToken != 0) {\n            this._owner.releaseDisplayLock(this._tweenConfig._displayLockToken);\n            this._tweenConfig._displayLockToken = 0;\n        }\n        this._tweenConfig._tweener = null;\n    }\n    updateState() {\n        var gv = this._storage[this._controller.selectedPageId];\n        if (!gv)\n            this._storage[this._controller.selectedPageId] = gv = {};\n        gv.x = this._owner.x;\n        gv.y = this._owner.y;\n        gv.px = this._owner.x / this._owner.parent.width;\n        gv.py = this._owner.y / this._owner.parent.height;\n    }\n    updateFromRelations(dx, dy) {\n        if (this._controller == null || this._storage == null || this.positionsInPercent)\n            return;\n        for (var key in this._storage) {\n            var pt = this._storage[key];\n            pt.x += dx;\n            pt.y += dy;\n        }\n        this._default.x += dx;\n        this._default.y += dy;\n        this.updateState();\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/gears/GearXY.ts?");

/***/ }),

/***/ "./src/gears/index.ts":
/*!****************************!*\
  !*** ./src/gears/index.ts ***!
  \****************************/
/*! exports provided: GearAnimation, GearBase, GearTweenConfig, GearColor, GearDisplay, GearDisplay2, GearFontSize, GearIcon, GearLook, GearSize, GearText, GearXY */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _GearAnimation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GearAnimation */ \"./src/gears/GearAnimation.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GearAnimation\", function() { return _GearAnimation__WEBPACK_IMPORTED_MODULE_0__[\"GearAnimation\"]; });\n\n/* harmony import */ var _GearBase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GearBase */ \"./src/gears/GearBase.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GearBase\", function() { return _GearBase__WEBPACK_IMPORTED_MODULE_1__[\"GearBase\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GearTweenConfig\", function() { return _GearBase__WEBPACK_IMPORTED_MODULE_1__[\"GearTweenConfig\"]; });\n\n/* harmony import */ var _GearColor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GearColor */ \"./src/gears/GearColor.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GearColor\", function() { return _GearColor__WEBPACK_IMPORTED_MODULE_2__[\"GearColor\"]; });\n\n/* harmony import */ var _GearDisplay__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./GearDisplay */ \"./src/gears/GearDisplay.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GearDisplay\", function() { return _GearDisplay__WEBPACK_IMPORTED_MODULE_3__[\"GearDisplay\"]; });\n\n/* harmony import */ var _GearDisplay2__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./GearDisplay2 */ \"./src/gears/GearDisplay2.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GearDisplay2\", function() { return _GearDisplay2__WEBPACK_IMPORTED_MODULE_4__[\"GearDisplay2\"]; });\n\n/* harmony import */ var _GearFontSize__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./GearFontSize */ \"./src/gears/GearFontSize.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GearFontSize\", function() { return _GearFontSize__WEBPACK_IMPORTED_MODULE_5__[\"GearFontSize\"]; });\n\n/* harmony import */ var _GearIcon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./GearIcon */ \"./src/gears/GearIcon.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GearIcon\", function() { return _GearIcon__WEBPACK_IMPORTED_MODULE_6__[\"GearIcon\"]; });\n\n/* harmony import */ var _GearLook__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./GearLook */ \"./src/gears/GearLook.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GearLook\", function() { return _GearLook__WEBPACK_IMPORTED_MODULE_7__[\"GearLook\"]; });\n\n/* harmony import */ var _GearSize__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./GearSize */ \"./src/gears/GearSize.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GearSize\", function() { return _GearSize__WEBPACK_IMPORTED_MODULE_8__[\"GearSize\"]; });\n\n/* harmony import */ var _GearText__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./GearText */ \"./src/gears/GearText.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GearText\", function() { return _GearText__WEBPACK_IMPORTED_MODULE_9__[\"GearText\"]; });\n\n/* harmony import */ var _GearXY__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./GearXY */ \"./src/gears/GearXY.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GearXY\", function() { return _GearXY__WEBPACK_IMPORTED_MODULE_10__[\"GearXY\"]; });\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/gears/index.ts?");

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _GRoot__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GRoot */ \"./src/GRoot.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GRootMouseStatus\", function() { return _GRoot__WEBPACK_IMPORTED_MODULE_0__[\"GRootMouseStatus\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"UISceneDisplay\", function() { return _GRoot__WEBPACK_IMPORTED_MODULE_0__[\"UISceneDisplay\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GRoot\", function() { return _GRoot__WEBPACK_IMPORTED_MODULE_0__[\"GRoot\"]; });\n\n/* harmony import */ var _GObject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GObject */ \"./src/GObject.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DisplayStyle\", function() { return _GObject__WEBPACK_IMPORTED_MODULE_1__[\"DisplayStyle\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GObject\", function() { return _GObject__WEBPACK_IMPORTED_MODULE_1__[\"GObject\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"BlendMode\", function() { return _GObject__WEBPACK_IMPORTED_MODULE_1__[\"BlendMode\"]; });\n\n/* harmony import */ var _GComponent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GComponent */ \"./src/GComponent.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GComponent\", function() { return _GComponent__WEBPACK_IMPORTED_MODULE_2__[\"GComponent\"]; });\n\n/* harmony import */ var _Window__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Window */ \"./src/Window.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Window\", function() { return _Window__WEBPACK_IMPORTED_MODULE_3__[\"Window\"]; });\n\n/* harmony import */ var _UIPackage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./UIPackage */ \"./src/UIPackage.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"UIPackage\", function() { return _UIPackage__WEBPACK_IMPORTED_MODULE_4__[\"UIPackage\"]; });\n\n/* harmony import */ var _UIObjectFactory__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./UIObjectFactory */ \"./src/UIObjectFactory.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"UIObjectFactory\", function() { return _UIObjectFactory__WEBPACK_IMPORTED_MODULE_5__[\"UIObjectFactory\"]; });\n\n/* harmony import */ var _UIConfig__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./UIConfig */ \"./src/UIConfig.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"UIConfig\", function() { return _UIConfig__WEBPACK_IMPORTED_MODULE_6__[\"UIConfig\"]; });\n\n/* harmony import */ var _TranslationHelper__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./TranslationHelper */ \"./src/TranslationHelper.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"TranslationHelper\", function() { return _TranslationHelper__WEBPACK_IMPORTED_MODULE_7__[\"TranslationHelper\"]; });\n\n/* harmony import */ var _Transition__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Transition */ \"./src/Transition.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Transition\", function() { return _Transition__WEBPACK_IMPORTED_MODULE_8__[\"Transition\"]; });\n\n/* harmony import */ var _ScrollPane__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ScrollPane */ \"./src/ScrollPane.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ScrollPane\", function() { return _ScrollPane__WEBPACK_IMPORTED_MODULE_9__[\"ScrollPane\"]; });\n\n/* harmony import */ var _Relations__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Relations */ \"./src/Relations.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Relations\", function() { return _Relations__WEBPACK_IMPORTED_MODULE_10__[\"Relations\"]; });\n\n/* harmony import */ var _RelationItem__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./RelationItem */ \"./src/RelationItem.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"RelationItem\", function() { return _RelationItem__WEBPACK_IMPORTED_MODULE_11__[\"RelationItem\"]; });\n\n/* harmony import */ var _PopupMenu__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./PopupMenu */ \"./src/PopupMenu.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"PopupMenu\", function() { return _PopupMenu__WEBPACK_IMPORTED_MODULE_12__[\"PopupMenu\"]; });\n\n/* harmony import */ var _PackageItem__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./PackageItem */ \"./src/PackageItem.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"PackageItem\", function() { return _PackageItem__WEBPACK_IMPORTED_MODULE_13__[\"PackageItem\"]; });\n\n/* harmony import */ var _Margin__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Margin */ \"./src/Margin.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Margin\", function() { return _Margin__WEBPACK_IMPORTED_MODULE_14__[\"Margin\"]; });\n\n/* harmony import */ var _IUISource__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./IUISource */ \"./src/IUISource.ts\");\n/* harmony import */ var _IUISource__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_IUISource__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _IUISource__WEBPACK_IMPORTED_MODULE_15__) if([\"default\",\"GRootMouseStatus\",\"UISceneDisplay\",\"GRoot\",\"DisplayStyle\",\"GObject\",\"BlendMode\",\"GComponent\",\"Window\",\"UIPackage\",\"UIObjectFactory\",\"UIConfig\",\"TranslationHelper\",\"Transition\",\"ScrollPane\",\"Relations\",\"RelationItem\",\"PopupMenu\",\"PackageItem\",\"Margin\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _IUISource__WEBPACK_IMPORTED_MODULE_15__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n/* harmony import */ var _GTreeNode__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./GTreeNode */ \"./src/GTreeNode.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GTreeNode\", function() { return _GTreeNode__WEBPACK_IMPORTED_MODULE_16__[\"GTreeNode\"]; });\n\n/* harmony import */ var _GTree__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./GTree */ \"./src/GTree.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GTree\", function() { return _GTree__WEBPACK_IMPORTED_MODULE_17__[\"GTree\"]; });\n\n/* harmony import */ var _GTextInput__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./GTextInput */ \"./src/GTextInput.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GTextInput\", function() { return _GTextInput__WEBPACK_IMPORTED_MODULE_18__[\"GTextInput\"]; });\n\n/* harmony import */ var _GTextField__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./GTextField */ \"./src/GTextField.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GTextField\", function() { return _GTextField__WEBPACK_IMPORTED_MODULE_19__[\"GTextField\"]; });\n\n/* harmony import */ var _GSlider__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./GSlider */ \"./src/GSlider.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GSlider\", function() { return _GSlider__WEBPACK_IMPORTED_MODULE_20__[\"GSlider\"]; });\n\n/* harmony import */ var _GScrollBar__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./GScrollBar */ \"./src/GScrollBar.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GScrollBar\", function() { return _GScrollBar__WEBPACK_IMPORTED_MODULE_21__[\"GScrollBar\"]; });\n\n/* harmony import */ var _GRichTextField__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./GRichTextField */ \"./src/GRichTextField.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GRichTextField\", function() { return _GRichTextField__WEBPACK_IMPORTED_MODULE_22__[\"GRichTextField\"]; });\n\n/* harmony import */ var _GProgressBar__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./GProgressBar */ \"./src/GProgressBar.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GProgressBar\", function() { return _GProgressBar__WEBPACK_IMPORTED_MODULE_23__[\"GProgressBar\"]; });\n\n/* harmony import */ var _GObjectPool__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./GObjectPool */ \"./src/GObjectPool.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GObjectPool\", function() { return _GObjectPool__WEBPACK_IMPORTED_MODULE_24__[\"GObjectPool\"]; });\n\n/* harmony import */ var _GMovieClip__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./GMovieClip */ \"./src/GMovieClip.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GMovieClip\", function() { return _GMovieClip__WEBPACK_IMPORTED_MODULE_25__[\"GMovieClip\"]; });\n\n/* harmony import */ var _GLoader__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./GLoader */ \"./src/GLoader.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GLoader\", function() { return _GLoader__WEBPACK_IMPORTED_MODULE_26__[\"GLoader\"]; });\n\n/* harmony import */ var _GList__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./GList */ \"./src/GList.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GList\", function() { return _GList__WEBPACK_IMPORTED_MODULE_27__[\"GList\"]; });\n\n/* harmony import */ var _GLabel__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./GLabel */ \"./src/GLabel.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GLabel\", function() { return _GLabel__WEBPACK_IMPORTED_MODULE_28__[\"GLabel\"]; });\n\n/* harmony import */ var _GImage__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./GImage */ \"./src/GImage.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GImage\", function() { return _GImage__WEBPACK_IMPORTED_MODULE_29__[\"GImage\"]; });\n\n/* harmony import */ var _GGroup__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./GGroup */ \"./src/GGroup.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GGroup\", function() { return _GGroup__WEBPACK_IMPORTED_MODULE_30__[\"GGroup\"]; });\n\n/* harmony import */ var _GGraph__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./GGraph */ \"./src/GGraph.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GGraph\", function() { return _GGraph__WEBPACK_IMPORTED_MODULE_31__[\"GGraph\"]; });\n\n/* harmony import */ var _GComboBox__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./GComboBox */ \"./src/GComboBox.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GComboBox\", function() { return _GComboBox__WEBPACK_IMPORTED_MODULE_32__[\"GComboBox\"]; });\n\n/* harmony import */ var _GButton__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./GButton */ \"./src/GButton.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GButton\", function() { return _GButton__WEBPACK_IMPORTED_MODULE_33__[\"GButton\"]; });\n\n/* harmony import */ var _GBasicTextField__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./GBasicTextField */ \"./src/GBasicTextField.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GBasicTextField\", function() { return _GBasicTextField__WEBPACK_IMPORTED_MODULE_34__[\"GBasicTextField\"]; });\n\n/* harmony import */ var _FieldTypes__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./FieldTypes */ \"./src/FieldTypes.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ButtonMode\", function() { return _FieldTypes__WEBPACK_IMPORTED_MODULE_35__[\"ButtonMode\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"AutoSizeType\", function() { return _FieldTypes__WEBPACK_IMPORTED_MODULE_35__[\"AutoSizeType\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"AlignType\", function() { return _FieldTypes__WEBPACK_IMPORTED_MODULE_35__[\"AlignType\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"VertAlignType\", function() { return _FieldTypes__WEBPACK_IMPORTED_MODULE_35__[\"VertAlignType\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"LoaderFillType\", function() { return _FieldTypes__WEBPACK_IMPORTED_MODULE_35__[\"LoaderFillType\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ListLayoutType\", function() { return _FieldTypes__WEBPACK_IMPORTED_MODULE_35__[\"ListLayoutType\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ListSelectionMode\", function() { return _FieldTypes__WEBPACK_IMPORTED_MODULE_35__[\"ListSelectionMode\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"OverflowType\", function() { return _FieldTypes__WEBPACK_IMPORTED_MODULE_35__[\"OverflowType\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"PackageItemType\", function() { return _FieldTypes__WEBPACK_IMPORTED_MODULE_35__[\"PackageItemType\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ObjectType\", function() { return _FieldTypes__WEBPACK_IMPORTED_MODULE_35__[\"ObjectType\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ProgressTitleType\", function() { return _FieldTypes__WEBPACK_IMPORTED_MODULE_35__[\"ProgressTitleType\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ScrollBarDisplayType\", function() { return _FieldTypes__WEBPACK_IMPORTED_MODULE_35__[\"ScrollBarDisplayType\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ScrollType\", function() { return _FieldTypes__WEBPACK_IMPORTED_MODULE_35__[\"ScrollType\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FlipType\", function() { return _FieldTypes__WEBPACK_IMPORTED_MODULE_35__[\"FlipType\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ChildrenRenderOrder\", function() { return _FieldTypes__WEBPACK_IMPORTED_MODULE_35__[\"ChildrenRenderOrder\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GroupLayoutType\", function() { return _FieldTypes__WEBPACK_IMPORTED_MODULE_35__[\"GroupLayoutType\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"PopupDirection\", function() { return _FieldTypes__WEBPACK_IMPORTED_MODULE_35__[\"PopupDirection\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"RelationType\", function() { return _FieldTypes__WEBPACK_IMPORTED_MODULE_35__[\"RelationType\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FillMethod\", function() { return _FieldTypes__WEBPACK_IMPORTED_MODULE_35__[\"FillMethod\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FillOrigin\", function() { return _FieldTypes__WEBPACK_IMPORTED_MODULE_35__[\"FillOrigin\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FillOrigin90\", function() { return _FieldTypes__WEBPACK_IMPORTED_MODULE_35__[\"FillOrigin90\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ObjectPropID\", function() { return _FieldTypes__WEBPACK_IMPORTED_MODULE_35__[\"ObjectPropID\"]; });\n\n/* harmony import */ var _Events__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./Events */ \"./src/Events.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Events\", function() { return _Events__WEBPACK_IMPORTED_MODULE_36__[\"Events\"]; });\n\n/* harmony import */ var _DragDropManager__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./DragDropManager */ \"./src/DragDropManager.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DragDropManager\", function() { return _DragDropManager__WEBPACK_IMPORTED_MODULE_37__[\"DragDropManager\"]; });\n\n/* harmony import */ var _Controller__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./Controller */ \"./src/Controller.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Controller\", function() { return _Controller__WEBPACK_IMPORTED_MODULE_38__[\"Controller\"]; });\n\n/* harmony import */ var _AsyncOperation__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./AsyncOperation */ \"./src/AsyncOperation.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"AsyncOperation\", function() { return _AsyncOperation__WEBPACK_IMPORTED_MODULE_39__[\"AsyncOperation\"]; });\n\n/* harmony import */ var _AssetProxy__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./AssetProxy */ \"./src/AssetProxy.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"LoaderType\", function() { return _AssetProxy__WEBPACK_IMPORTED_MODULE_40__[\"LoaderType\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"AssetProxy\", function() { return _AssetProxy__WEBPACK_IMPORTED_MODULE_40__[\"AssetProxy\"]; });\n\n/* harmony import */ var _action__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./action */ \"./src/action/index.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ChangePageAction\", function() { return _action__WEBPACK_IMPORTED_MODULE_41__[\"ChangePageAction\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ControllerAction\", function() { return _action__WEBPACK_IMPORTED_MODULE_41__[\"ControllerAction\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"PlayTransitionAction\", function() { return _action__WEBPACK_IMPORTED_MODULE_41__[\"PlayTransitionAction\"]; });\n\n/* harmony import */ var _display__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./display */ \"./src/display/index.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"BitmapFont\", function() { return _display__WEBPACK_IMPORTED_MODULE_42__[\"BitmapFont\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"fillImage\", function() { return _display__WEBPACK_IMPORTED_MODULE_42__[\"fillImage\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GRAPHICSTYPE\", function() { return _display__WEBPACK_IMPORTED_MODULE_42__[\"GRAPHICSTYPE\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Graphics\", function() { return _display__WEBPACK_IMPORTED_MODULE_42__[\"Graphics\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Image\", function() { return _display__WEBPACK_IMPORTED_MODULE_42__[\"Image\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"MovieClip\", function() { return _display__WEBPACK_IMPORTED_MODULE_42__[\"MovieClip\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DefaultUIStageOptions\", function() { return _display__WEBPACK_IMPORTED_MODULE_42__[\"DefaultUIStageOptions\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"UIStage\", function() { return _display__WEBPACK_IMPORTED_MODULE_42__[\"UIStage\"]; });\n\n/* harmony import */ var _event__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./event */ \"./src/event/index.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DisplayObjectEvent\", function() { return _event__WEBPACK_IMPORTED_MODULE_43__[\"DisplayObjectEvent\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"InteractiveEvent\", function() { return _event__WEBPACK_IMPORTED_MODULE_43__[\"InteractiveEvent\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Event\", function() { return _event__WEBPACK_IMPORTED_MODULE_43__[\"Event\"]; });\n\n/* harmony import */ var _gears__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./gears */ \"./src/gears/index.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GearAnimation\", function() { return _gears__WEBPACK_IMPORTED_MODULE_44__[\"GearAnimation\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GearBase\", function() { return _gears__WEBPACK_IMPORTED_MODULE_44__[\"GearBase\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GearTweenConfig\", function() { return _gears__WEBPACK_IMPORTED_MODULE_44__[\"GearTweenConfig\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GearColor\", function() { return _gears__WEBPACK_IMPORTED_MODULE_44__[\"GearColor\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GearDisplay\", function() { return _gears__WEBPACK_IMPORTED_MODULE_44__[\"GearDisplay\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GearDisplay2\", function() { return _gears__WEBPACK_IMPORTED_MODULE_44__[\"GearDisplay2\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GearFontSize\", function() { return _gears__WEBPACK_IMPORTED_MODULE_44__[\"GearFontSize\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GearIcon\", function() { return _gears__WEBPACK_IMPORTED_MODULE_44__[\"GearIcon\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GearLook\", function() { return _gears__WEBPACK_IMPORTED_MODULE_44__[\"GearLook\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GearSize\", function() { return _gears__WEBPACK_IMPORTED_MODULE_44__[\"GearSize\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GearText\", function() { return _gears__WEBPACK_IMPORTED_MODULE_44__[\"GearText\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GearXY\", function() { return _gears__WEBPACK_IMPORTED_MODULE_44__[\"GearXY\"]; });\n\n/* harmony import */ var _tween__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./tween */ \"./src/tween/index.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"evaluateEase\", function() { return _tween__WEBPACK_IMPORTED_MODULE_45__[\"evaluateEase\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"EaseType\", function() { return _tween__WEBPACK_IMPORTED_MODULE_45__[\"EaseType\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GPath\", function() { return _tween__WEBPACK_IMPORTED_MODULE_45__[\"GPath\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"CurveType\", function() { return _tween__WEBPACK_IMPORTED_MODULE_45__[\"CurveType\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GPathPoint\", function() { return _tween__WEBPACK_IMPORTED_MODULE_45__[\"GPathPoint\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GTween\", function() { return _tween__WEBPACK_IMPORTED_MODULE_45__[\"GTween\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GTweener\", function() { return _tween__WEBPACK_IMPORTED_MODULE_45__[\"GTweener\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"TweenManager\", function() { return _tween__WEBPACK_IMPORTED_MODULE_45__[\"TweenManager\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"TweenValue\", function() { return _tween__WEBPACK_IMPORTED_MODULE_45__[\"TweenValue\"]; });\n\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./utils */ \"./src/utils/index.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Byte\", function() { return _utils__WEBPACK_IMPORTED_MODULE_46__[\"Byte\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ByteBuffer\", function() { return _utils__WEBPACK_IMPORTED_MODULE_46__[\"ByteBuffer\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ChildHitArea\", function() { return _utils__WEBPACK_IMPORTED_MODULE_46__[\"ChildHitArea\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ColorMatrix\", function() { return _utils__WEBPACK_IMPORTED_MODULE_46__[\"ColorMatrix\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DOMEventManager\", function() { return _utils__WEBPACK_IMPORTED_MODULE_46__[\"DOMEventManager\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"HitArea\", function() { return _utils__WEBPACK_IMPORTED_MODULE_46__[\"HitArea\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"PixelHitTest\", function() { return _utils__WEBPACK_IMPORTED_MODULE_46__[\"PixelHitTest\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"PixelHitTestData\", function() { return _utils__WEBPACK_IMPORTED_MODULE_46__[\"PixelHitTestData\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ToolSet\", function() { return _utils__WEBPACK_IMPORTED_MODULE_46__[\"ToolSet\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"UBBParser\", function() { return _utils__WEBPACK_IMPORTED_MODULE_46__[\"UBBParser\"]; });\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/index.ts?");

/***/ }),

/***/ "./src/tween/EaseManager.ts":
/*!**********************************!*\
  !*** ./src/tween/EaseManager.ts ***!
  \**********************************/
/*! exports provided: evaluateEase */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"evaluateEase\", function() { return evaluateEase; });\n/* harmony import */ var _EaseType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EaseType */ \"./src/tween/EaseType.ts\");\n\n// Author: Daniele Giardini - http://www.demigiant.com\n// Created: 2014/07/19 14:11\n// \n// License Copyright (c) Daniele Giardini.\n// This work is subject to the terms at http://dotween.demigiant.com/license.php\n// \n// =============================================================\n// Contains Daniele Giardini's C# port of the easing equations created by Robert Penner\n// (all easing equations except for Flash, InFlash, OutFlash, InOutFlash,\n// which use some parts of Robert Penner's equations but were created by Daniele Giardini)\n// http://robertpenner.com/easing, see license below:\n// =============================================================\n//\n// TERMS OF USE - EASING EQUATIONS\n//\n// Open source under the BSD License.\n//\n// Copyright ? 2001 Robert Penner\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without modification,\n// are permitted provided that the following conditions are met:\n//\n// - Redistributions of source code must retain the above copyright notice,\n// this list of conditions and the following disclaimer.\n// - Redistributions in binary form must reproduce the above copyright notice,\n// this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n// - Neither the name of the author nor the names of contributors may be used to endorse\n// or promote products derived from this software without specific prior written permission.\n// - THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,\n// THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n// IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n// LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,\n// STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n// EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\nconst _PiOver2 = Math.PI * 0.5;\nconst _TwoPi = Math.PI * 2;\nfunction evaluateEase(easeType, time, duration, overshootOrAmplitude, period) {\n    switch (easeType) {\n        case _EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].Linear:\n            return time / duration;\n        case _EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].SineIn:\n            return -Math.cos(time / duration * _PiOver2) + 1;\n        case _EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].SineOut:\n            return Math.sin(time / duration * _PiOver2);\n        case _EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].SineInOut:\n            return -0.5 * (Math.cos(Math.PI * time / duration) - 1);\n        case _EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].QuadIn:\n            return (time /= duration) * time;\n        case _EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].QuadOut:\n            return -(time /= duration) * (time - 2);\n        case _EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].QuadInOut:\n            if ((time /= duration * 0.5) < 1)\n                return 0.5 * time * time;\n            return -0.5 * ((--time) * (time - 2) - 1);\n        case _EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].CubicIn:\n            return (time /= duration) * time * time;\n        case _EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].CubicOut:\n            return ((time = time / duration - 1) * time * time + 1);\n        case _EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].CubicInOut:\n            if ((time /= duration * 0.5) < 1)\n                return 0.5 * time * time * time;\n            return 0.5 * ((time -= 2) * time * time + 2);\n        case _EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].QuartIn:\n            return (time /= duration) * time * time * time;\n        case _EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].QuartOut:\n            return -((time = time / duration - 1) * time * time * time - 1);\n        case _EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].QuartInOut:\n            if ((time /= duration * 0.5) < 1)\n                return 0.5 * time * time * time * time;\n            return -0.5 * ((time -= 2) * time * time * time - 2);\n        case _EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].QuintIn:\n            return (time /= duration) * time * time * time * time;\n        case _EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].QuintOut:\n            return ((time = time / duration - 1) * time * time * time * time + 1);\n        case _EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].QuintInOut:\n            if ((time /= duration * 0.5) < 1)\n                return 0.5 * time * time * time * time * time;\n            return 0.5 * ((time -= 2) * time * time * time * time + 2);\n        case _EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].ExpoIn:\n            return (time == 0) ? 0 : Math.pow(2, 10 * (time / duration - 1));\n        case _EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].ExpoOut:\n            if (time == duration)\n                return 1;\n            return (-Math.pow(2, -10 * time / duration) + 1);\n        case _EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].ExpoInOut:\n            if (time == 0)\n                return 0;\n            if (time == duration)\n                return 1;\n            if ((time /= duration * 0.5) < 1)\n                return 0.5 * Math.pow(2, 10 * (time - 1));\n            return 0.5 * (-Math.pow(2, -10 * --time) + 2);\n        case _EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].CircIn:\n            return -(Math.sqrt(1 - (time /= duration) * time) - 1);\n        case _EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].CircOut:\n            return Math.sqrt(1 - (time = time / duration - 1) * time);\n        case _EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].CircInOut:\n            if ((time /= duration * 0.5) < 1)\n                return -0.5 * (Math.sqrt(1 - time * time) - 1);\n            return 0.5 * (Math.sqrt(1 - (time -= 2) * time) + 1);\n        case _EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].ElasticIn:\n            var s0;\n            if (time == 0)\n                return 0;\n            if ((time /= duration) == 1)\n                return 1;\n            if (period == 0)\n                period = duration * 0.3;\n            if (overshootOrAmplitude < 1) {\n                overshootOrAmplitude = 1;\n                s0 = period / 4;\n            }\n            else\n                s0 = period / _TwoPi * Math.asin(1 / overshootOrAmplitude);\n            return -(overshootOrAmplitude * Math.pow(2, 10 * (time -= 1)) * Math.sin((time * duration - s0) * _TwoPi / period));\n        case _EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].ElasticOut:\n            var s1;\n            if (time == 0)\n                return 0;\n            if ((time /= duration) == 1)\n                return 1;\n            if (period == 0)\n                period = duration * 0.3;\n            if (overshootOrAmplitude < 1) {\n                overshootOrAmplitude = 1;\n                s1 = period / 4;\n            }\n            else\n                s1 = period / _TwoPi * Math.asin(1 / overshootOrAmplitude);\n            return (overshootOrAmplitude * Math.pow(2, -10 * time) * Math.sin((time * duration - s1) * _TwoPi / period) + 1);\n        case _EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].ElasticInOut:\n            var s;\n            if (time == 0)\n                return 0;\n            if ((time /= duration * 0.5) == 2)\n                return 1;\n            if (period == 0)\n                period = duration * (0.3 * 1.5);\n            if (overshootOrAmplitude < 1) {\n                overshootOrAmplitude = 1;\n                s = period / 4;\n            }\n            else\n                s = period / _TwoPi * Math.asin(1 / overshootOrAmplitude);\n            if (time < 1)\n                return -0.5 * (overshootOrAmplitude * Math.pow(2, 10 * (time -= 1)) * Math.sin((time * duration - s) * _TwoPi / period));\n            return overshootOrAmplitude * Math.pow(2, -10 * (time -= 1)) * Math.sin((time * duration - s) * _TwoPi / period) * 0.5 + 1;\n        case _EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].BackIn:\n            return (time /= duration) * time * ((overshootOrAmplitude + 1) * time - overshootOrAmplitude);\n        case _EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].BackOut:\n            return ((time = time / duration - 1) * time * ((overshootOrAmplitude + 1) * time + overshootOrAmplitude) + 1);\n        case _EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].BackInOut:\n            if ((time /= duration * 0.5) < 1)\n                return 0.5 * (time * time * (((overshootOrAmplitude *= (1.525)) + 1) * time - overshootOrAmplitude));\n            return 0.5 * ((time -= 2) * time * (((overshootOrAmplitude *= (1.525)) + 1) * time + overshootOrAmplitude) + 2);\n        case _EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].BounceIn:\n            return bounce_easeIn(time, duration);\n        case _EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].BounceOut:\n            return bounce_easeOut(time, duration);\n        case _EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].BounceInOut:\n            return bounce_easeInOut(time, duration);\n        default:\n            return -(time /= duration) * (time - 2);\n    }\n}\nfunction bounce_easeIn(time, duration) {\n    return 1 - bounce_easeOut(duration - time, duration);\n}\nfunction bounce_easeOut(time, duration) {\n    if ((time /= duration) < (1 / 2.75)) {\n        return (7.5625 * time * time);\n    }\n    if (time < (2 / 2.75)) {\n        return (7.5625 * (time -= (1.5 / 2.75)) * time + 0.75);\n    }\n    if (time < (2.5 / 2.75)) {\n        return (7.5625 * (time -= (2.25 / 2.75)) * time + 0.9375);\n    }\n    return (7.5625 * (time -= (2.625 / 2.75)) * time + 0.984375);\n}\nfunction bounce_easeInOut(time, duration) {\n    if (time < duration * 0.5) {\n        return bounce_easeIn(time * 2, duration) * 0.5;\n    }\n    return bounce_easeOut(time * 2 - duration, duration) * 0.5 + 0.5;\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/tween/EaseManager.ts?");

/***/ }),

/***/ "./src/tween/EaseType.ts":
/*!*******************************!*\
  !*** ./src/tween/EaseType.ts ***!
  \*******************************/
/*! exports provided: EaseType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EaseType\", function() { return EaseType; });\nclass EaseType {\n}\nEaseType.Linear = 0;\nEaseType.SineIn = 1;\nEaseType.SineOut = 2;\nEaseType.SineInOut = 3;\nEaseType.QuadIn = 4;\nEaseType.QuadOut = 5;\nEaseType.QuadInOut = 6;\nEaseType.CubicIn = 7;\nEaseType.CubicOut = 8;\nEaseType.CubicInOut = 9;\nEaseType.QuartIn = 10;\nEaseType.QuartOut = 11;\nEaseType.QuartInOut = 12;\nEaseType.QuintIn = 13;\nEaseType.QuintOut = 14;\nEaseType.QuintInOut = 15;\nEaseType.ExpoIn = 16;\nEaseType.ExpoOut = 17;\nEaseType.ExpoInOut = 18;\nEaseType.CircIn = 19;\nEaseType.CircOut = 20;\nEaseType.CircInOut = 21;\nEaseType.ElasticIn = 22;\nEaseType.ElasticOut = 23;\nEaseType.ElasticInOut = 24;\nEaseType.BackIn = 25;\nEaseType.BackOut = 26;\nEaseType.BackInOut = 27;\nEaseType.BounceIn = 28;\nEaseType.BounceOut = 29;\nEaseType.BounceInOut = 30;\nEaseType.Custom = 31;\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/tween/EaseType.ts?");

/***/ }),

/***/ "./src/tween/GPath.ts":
/*!****************************!*\
  !*** ./src/tween/GPath.ts ***!
  \****************************/
/*! exports provided: GPath */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GPath\", function() { return GPath; });\n/* harmony import */ var _utils_ToolSet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../utils/ToolSet */ \"./src/utils/ToolSet.ts\");\n/* harmony import */ var _GPathPoint__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GPathPoint */ \"./src/tween/GPathPoint.ts\");\n\n\nclass GPath {\n    constructor() {\n        this._segments = new Array();\n        this._points = new Array();\n    }\n    get length() {\n        return this._fullLength;\n    }\n    create(pt1, pt2, pt3, pt4) {\n        var points;\n        if (Array.isArray(pt1))\n            points = pt1;\n        else {\n            points = new Array();\n            points.push(pt1);\n            points.push(pt2);\n            if (pt3)\n                points.push(pt3);\n            if (pt4)\n                points.push(pt4);\n        }\n        this._segments.length = 0;\n        this._points.length = 0;\n        this._fullLength = 0;\n        var cnt = points.length;\n        if (cnt == 0)\n            return;\n        var splinePoints = s_points;\n        splinePoints.length = 0;\n        var prev = points[0];\n        if (prev.curveType == _GPathPoint__WEBPACK_IMPORTED_MODULE_1__[\"CurveType\"].CRSpline)\n            splinePoints.push(new Phaser.Geom.Point(prev.x, prev.y));\n        for (var i = 1; i < cnt; i++) {\n            var current = points[i];\n            if (prev.curveType != _GPathPoint__WEBPACK_IMPORTED_MODULE_1__[\"CurveType\"].CRSpline) {\n                var seg = {};\n                seg.type = prev.curveType;\n                seg.ptStart = this._points.length;\n                if (prev.curveType == _GPathPoint__WEBPACK_IMPORTED_MODULE_1__[\"CurveType\"].Straight) {\n                    seg.ptCount = 2;\n                    this._points.push(new Phaser.Geom.Point(prev.x, prev.y));\n                    this._points.push(new Phaser.Geom.Point(current.x, current.y));\n                }\n                else if (prev.curveType == _GPathPoint__WEBPACK_IMPORTED_MODULE_1__[\"CurveType\"].Bezier) {\n                    seg.ptCount = 3;\n                    this._points.push(new Phaser.Geom.Point(prev.x, prev.y));\n                    this._points.push(new Phaser.Geom.Point(current.x, current.y));\n                    this._points.push(new Phaser.Geom.Point(prev.control1_x, prev.control1_y));\n                }\n                else if (prev.curveType == _GPathPoint__WEBPACK_IMPORTED_MODULE_1__[\"CurveType\"].CubicBezier) {\n                    seg.ptCount = 4;\n                    this._points.push(new Phaser.Geom.Point(prev.x, prev.y));\n                    this._points.push(new Phaser.Geom.Point(current.x, current.y));\n                    this._points.push(new Phaser.Geom.Point(prev.control1_x, prev.control1_y));\n                    this._points.push(new Phaser.Geom.Point(prev.control2_x, prev.control2_y));\n                }\n                seg.length = _utils_ToolSet__WEBPACK_IMPORTED_MODULE_0__[\"ToolSet\"].distance(prev.x, prev.y, current.x, current.y);\n                this._fullLength += seg.length;\n                this._segments.push(seg);\n            }\n            if (current.curveType != _GPathPoint__WEBPACK_IMPORTED_MODULE_1__[\"CurveType\"].CRSpline) {\n                if (splinePoints.length > 0) {\n                    splinePoints.push(new Phaser.Geom.Point(current.x, current.y));\n                    this.createSplineSegment();\n                }\n            }\n            else\n                splinePoints.push(new Phaser.Geom.Point(current.x, current.y));\n            prev = current;\n        }\n        if (splinePoints.length > 1)\n            this.createSplineSegment();\n    }\n    createSplineSegment() {\n        var splinePoints = s_points;\n        var cnt = splinePoints.length;\n        splinePoints.splice(0, 0, splinePoints[0]);\n        splinePoints.push(splinePoints[cnt]);\n        splinePoints.push(splinePoints[cnt]);\n        cnt += 3;\n        var seg = {};\n        seg.type = _GPathPoint__WEBPACK_IMPORTED_MODULE_1__[\"CurveType\"].CRSpline;\n        seg.ptStart = this._points.length;\n        seg.ptCount = cnt;\n        this._points = this._points.concat(splinePoints);\n        seg.length = 0;\n        for (var i = 1; i < cnt; i++) {\n            seg.length += _utils_ToolSet__WEBPACK_IMPORTED_MODULE_0__[\"ToolSet\"].distance(splinePoints[i - 1].x, splinePoints[i - 1].y, splinePoints[i].x, splinePoints[i].y);\n        }\n        this._fullLength += seg.length;\n        this._segments.push(seg);\n        splinePoints.length = 0;\n    }\n    clear() {\n        this._segments.length = 0;\n        this._points.length = 0;\n    }\n    getPointAt(t, result) {\n        if (!result)\n            result = new Phaser.Geom.Point();\n        else\n            result.x = result.y = 0;\n        t = _utils_ToolSet__WEBPACK_IMPORTED_MODULE_0__[\"ToolSet\"].clamp01(t);\n        var cnt = this._segments.length;\n        if (cnt == 0) {\n            return result;\n        }\n        var seg;\n        if (t == 1) {\n            seg = this._segments[cnt - 1];\n            if (seg.type == _GPathPoint__WEBPACK_IMPORTED_MODULE_1__[\"CurveType\"].Straight) {\n                result.x = _utils_ToolSet__WEBPACK_IMPORTED_MODULE_0__[\"ToolSet\"].lerp(this._points[seg.ptStart].x, this._points[seg.ptStart + 1].x, t);\n                result.y = _utils_ToolSet__WEBPACK_IMPORTED_MODULE_0__[\"ToolSet\"].lerp(this._points[seg.ptStart].y, this._points[seg.ptStart + 1].y, t);\n                return result;\n            }\n            else if (seg.type == _GPathPoint__WEBPACK_IMPORTED_MODULE_1__[\"CurveType\"].Bezier || seg.type == _GPathPoint__WEBPACK_IMPORTED_MODULE_1__[\"CurveType\"].CubicBezier)\n                return this.onBezierCurve(seg.ptStart, seg.ptCount, t, result);\n            else\n                return this.onCRSplineCurve(seg.ptStart, seg.ptCount, t, result);\n        }\n        var len = t * this._fullLength;\n        for (var i = 0; i < cnt; i++) {\n            seg = this._segments[i];\n            len -= seg.length;\n            if (len < 0) {\n                t = 1 + len / seg.length;\n                if (seg.type == _GPathPoint__WEBPACK_IMPORTED_MODULE_1__[\"CurveType\"].Straight) {\n                    result.x = _utils_ToolSet__WEBPACK_IMPORTED_MODULE_0__[\"ToolSet\"].lerp(this._points[seg.ptStart].x, this._points[seg.ptStart + 1].x, t);\n                    result.y = _utils_ToolSet__WEBPACK_IMPORTED_MODULE_0__[\"ToolSet\"].lerp(this._points[seg.ptStart].y, this._points[seg.ptStart + 1].y, t);\n                }\n                else if (seg.type == _GPathPoint__WEBPACK_IMPORTED_MODULE_1__[\"CurveType\"].Bezier || seg.type == _GPathPoint__WEBPACK_IMPORTED_MODULE_1__[\"CurveType\"].CubicBezier)\n                    result = this.onBezierCurve(seg.ptStart, seg.ptCount, t, result);\n                else\n                    result = this.onCRSplineCurve(seg.ptStart, seg.ptCount, t, result);\n                break;\n            }\n        }\n        return result;\n    }\n    get segmentCount() {\n        return this._segments.length;\n    }\n    getAnchorsInSegment(segmentIndex, points) {\n        if (points == null)\n            points = new Array();\n        var seg = this._segments[segmentIndex];\n        for (var i = 0; i < seg.ptCount; i++)\n            points.push(new Phaser.Geom.Point(this._points[seg.ptStart + i].x, this._points[seg.ptStart + i].y));\n        return points;\n    }\n    getPointsInSegment(segmentIndex, t0, t1, points, ts, pointDensity) {\n        if (points == null)\n            points = new Array();\n        if (!pointDensity || isNaN(pointDensity))\n            pointDensity = 0.1;\n        if (ts)\n            ts.push(t0);\n        var seg = this._segments[segmentIndex];\n        if (seg.type == _GPathPoint__WEBPACK_IMPORTED_MODULE_1__[\"CurveType\"].Straight) {\n            points.push(new Phaser.Geom.Point(_utils_ToolSet__WEBPACK_IMPORTED_MODULE_0__[\"ToolSet\"].lerp(this._points[seg.ptStart].x, this._points[seg.ptStart + 1].x, t0), _utils_ToolSet__WEBPACK_IMPORTED_MODULE_0__[\"ToolSet\"].lerp(this._points[seg.ptStart].y, this._points[seg.ptStart + 1].y, t0)));\n            points.push(new Phaser.Geom.Point(_utils_ToolSet__WEBPACK_IMPORTED_MODULE_0__[\"ToolSet\"].lerp(this._points[seg.ptStart].x, this._points[seg.ptStart + 1].x, t1), _utils_ToolSet__WEBPACK_IMPORTED_MODULE_0__[\"ToolSet\"].lerp(this._points[seg.ptStart].y, this._points[seg.ptStart + 1].y, t1)));\n        }\n        else {\n            var func;\n            if (seg.type == _GPathPoint__WEBPACK_IMPORTED_MODULE_1__[\"CurveType\"].Bezier || seg.type == _GPathPoint__WEBPACK_IMPORTED_MODULE_1__[\"CurveType\"].CubicBezier)\n                func = this.onBezierCurve;\n            else\n                func = this.onCRSplineCurve;\n            points.push(func.call(this, seg.ptStart, seg.ptCount, t0, new Phaser.Geom.Point()));\n            var SmoothAmount = Math.min(seg.length * pointDensity, 50);\n            for (var j = 0; j <= SmoothAmount; j++) {\n                var t = j / SmoothAmount;\n                if (t > t0 && t < t1) {\n                    points.push(func.call(this, seg.ptStart, seg.ptCount, t, new Phaser.Geom.Point()));\n                    if (ts)\n                        ts.push(t);\n                }\n            }\n            points.push(func.call(this, seg.ptStart, seg.ptCount, t1, new Phaser.Geom.Point()));\n        }\n        if (ts)\n            ts.push(t1);\n        return points;\n    }\n    getAllPoints(points, ts, pointDensity) {\n        if (points == null)\n            points = new Array();\n        if (!pointDensity || isNaN(pointDensity))\n            pointDensity = 0.1;\n        var cnt = this._segments.length;\n        for (var i = 0; i < cnt; i++)\n            this.getPointsInSegment(i, 0, 1, points, ts, pointDensity);\n        return points;\n    }\n    onCRSplineCurve(ptStart, ptCount, t, result) {\n        var adjustedIndex = Math.floor(t * (ptCount - 4)) + ptStart; //Since the equation works with 4 points, we adjust the starting point depending on t to return a point on the specific segment\n        var p0x = this._points[adjustedIndex].x;\n        var p0y = this._points[adjustedIndex].y;\n        var p1x = this._points[adjustedIndex + 1].x;\n        var p1y = this._points[adjustedIndex + 1].y;\n        var p2x = this._points[adjustedIndex + 2].x;\n        var p2y = this._points[adjustedIndex + 2].y;\n        var p3x = this._points[adjustedIndex + 3].x;\n        var p3y = this._points[adjustedIndex + 3].y;\n        var adjustedT = (t == 1) ? 1 : _utils_ToolSet__WEBPACK_IMPORTED_MODULE_0__[\"ToolSet\"].repeat(t * (ptCount - 4), 1); // Then we adjust t to be that value on that new piece of segment... for t == 1f don't use repeat (that would return 0f);\n        var t0 = ((-adjustedT + 2) * adjustedT - 1) * adjustedT * 0.5;\n        var t1 = (((3 * adjustedT - 5) * adjustedT) * adjustedT + 2) * 0.5;\n        var t2 = ((-3 * adjustedT + 4) * adjustedT + 1) * adjustedT * 0.5;\n        var t3 = ((adjustedT - 1) * adjustedT * adjustedT) * 0.5;\n        result.x = p0x * t0 + p1x * t1 + p2x * t2 + p3x * t3;\n        result.y = p0y * t0 + p1y * t1 + p2y * t2 + p3y * t3;\n        return result;\n    }\n    onBezierCurve(ptStart, ptCount, t, result) {\n        var t2 = 1 - t;\n        var p0x = this._points[ptStart].x;\n        var p0y = this._points[ptStart].y;\n        var p1x = this._points[ptStart + 1].x;\n        var p1y = this._points[ptStart + 1].y;\n        var cp0x = this._points[ptStart + 2].x;\n        var cp0y = this._points[ptStart + 2].y;\n        if (ptCount == 4) {\n            var cp1x = this._points[ptStart + 3].x;\n            var cp1y = this._points[ptStart + 3].y;\n            result.x = t2 * t2 * t2 * p0x + 3 * t2 * t2 * t * cp0x + 3 * t2 * t * t * cp1x + t * t * t * p1x;\n            result.y = t2 * t2 * t2 * p0y + 3 * t2 * t2 * t * cp0y + 3 * t2 * t * t * cp1y + t * t * t * p1y;\n        }\n        else {\n            result.x = t2 * t2 * p0x + 2 * t2 * t * cp0x + t * t * p1x;\n            result.y = t2 * t2 * p0y + 2 * t2 * t * cp0y + t * t * p1y;\n        }\n        return result;\n    }\n}\nvar s_points = new Array();\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/tween/GPath.ts?");

/***/ }),

/***/ "./src/tween/GPathPoint.ts":
/*!*********************************!*\
  !*** ./src/tween/GPathPoint.ts ***!
  \*********************************/
/*! exports provided: CurveType, GPathPoint */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CurveType\", function() { return CurveType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GPathPoint\", function() { return GPathPoint; });\nvar CurveType;\n(function (CurveType) {\n    CurveType[CurveType[\"CRSpline\"] = 0] = \"CRSpline\";\n    CurveType[CurveType[\"Bezier\"] = 1] = \"Bezier\";\n    CurveType[CurveType[\"CubicBezier\"] = 2] = \"CubicBezier\";\n    CurveType[CurveType[\"Straight\"] = 3] = \"Straight\";\n})(CurveType || (CurveType = {}));\nclass GPathPoint {\n    constructor() {\n        this.x = 0;\n        this.y = 0;\n        this.control1_x = 0;\n        this.control1_y = 0;\n        this.control2_x = 0;\n        this.control2_y = 0;\n        this.curveType = 0;\n    }\n    static newPoint(x = 0, y = 0, curveType = 0) {\n        var pt = new GPathPoint();\n        pt.x = x;\n        pt.y = y;\n        pt.control1_x = 0;\n        pt.control1_y = 0;\n        pt.control2_x = 0;\n        pt.control2_y = 0;\n        pt.curveType = curveType;\n        return pt;\n    }\n    static newBezierPoint(x = 0, y = 0, control1_x = 0, control1_y = 0) {\n        var pt = new GPathPoint();\n        pt.x = x;\n        pt.y = y;\n        pt.control1_x = control1_x;\n        pt.control1_y = control1_y;\n        pt.control2_x = 0;\n        pt.control2_y = 0;\n        pt.curveType = CurveType.Bezier;\n        return pt;\n    }\n    static newCubicBezierPoint(x = 0, y = 0, control1_x = 0, control1_y = 0, control2_x = 0, control2_y = 0) {\n        var pt = new GPathPoint();\n        pt.x = x;\n        pt.y = y;\n        pt.control1_x = control1_x;\n        pt.control1_y = control1_y;\n        pt.control2_x = control2_x;\n        pt.control2_y = control2_y;\n        pt.curveType = CurveType.CubicBezier;\n        return pt;\n    }\n    clone() {\n        var ret = new GPathPoint();\n        ret.x = this.x;\n        ret.y = this.y;\n        ret.control1_x = this.control1_x;\n        ret.control1_y = this.control1_y;\n        ret.control2_x = this.control2_x;\n        ret.control2_y = this.control2_y;\n        ret.curveType = this.curveType;\n        return ret;\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/tween/GPathPoint.ts?");

/***/ }),

/***/ "./src/tween/GTween.ts":
/*!*****************************!*\
  !*** ./src/tween/GTween.ts ***!
  \*****************************/
/*! exports provided: GTween */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GTween\", function() { return GTween; });\n/* harmony import */ var _TweenManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TweenManager */ \"./src/tween/TweenManager.ts\");\n\nclass GTween {\n    static to(start, end, duration) {\n        return _TweenManager__WEBPACK_IMPORTED_MODULE_0__[\"TweenManager\"].createTween()._to(start, end, duration);\n    }\n    static to2(start, start2, end, end2, duration) {\n        return _TweenManager__WEBPACK_IMPORTED_MODULE_0__[\"TweenManager\"].createTween()._to2(start, start2, end, end2, duration);\n    }\n    static to3(start, start2, start3, end, end2, end3, duration) {\n        return _TweenManager__WEBPACK_IMPORTED_MODULE_0__[\"TweenManager\"].createTween()._to3(start, start2, start3, end, end2, end3, duration);\n    }\n    static to4(start, start2, start3, start4, end, end2, end3, end4, duration) {\n        return _TweenManager__WEBPACK_IMPORTED_MODULE_0__[\"TweenManager\"].createTween()._to4(start, start2, start3, start4, end, end2, end3, end4, duration);\n    }\n    static toColor(start, end, duration) {\n        return _TweenManager__WEBPACK_IMPORTED_MODULE_0__[\"TweenManager\"].createTween()._toColor(start, end, duration);\n    }\n    static delayedCall(delay) {\n        return _TweenManager__WEBPACK_IMPORTED_MODULE_0__[\"TweenManager\"].createTween().setDelay(delay);\n    }\n    static shake(startX, startY, amplitude, duration) {\n        return _TweenManager__WEBPACK_IMPORTED_MODULE_0__[\"TweenManager\"].createTween()._shake(startX, startY, amplitude, duration);\n    }\n    static isTweening(target, propType) {\n        return _TweenManager__WEBPACK_IMPORTED_MODULE_0__[\"TweenManager\"].isTweening(target, propType);\n    }\n    static kill(target, complete, propType) {\n        _TweenManager__WEBPACK_IMPORTED_MODULE_0__[\"TweenManager\"].killTweens(target, complete, propType);\n    }\n    static getTween(target, propType) {\n        return _TweenManager__WEBPACK_IMPORTED_MODULE_0__[\"TweenManager\"].getTween(target, propType);\n    }\n}\nGTween.catchCallbackExceptions = true;\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/tween/GTween.ts?");

/***/ }),

/***/ "./src/tween/GTweener.ts":
/*!*******************************!*\
  !*** ./src/tween/GTweener.ts ***!
  \*******************************/
/*! exports provided: GTweener */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GTweener\", function() { return GTweener; });\n/* harmony import */ var _EaseType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EaseType */ \"./src/tween/EaseType.ts\");\n/* harmony import */ var _TweenValue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TweenValue */ \"./src/tween/TweenValue.ts\");\n/* harmony import */ var _EaseManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./EaseManager */ \"./src/tween/EaseManager.ts\");\n\n\n\nclass GTweener {\n    constructor() {\n        this._startValue = new _TweenValue__WEBPACK_IMPORTED_MODULE_1__[\"TweenValue\"]();\n        this._endValue = new _TweenValue__WEBPACK_IMPORTED_MODULE_1__[\"TweenValue\"]();\n        this._value = new _TweenValue__WEBPACK_IMPORTED_MODULE_1__[\"TweenValue\"]();\n        this._deltaValue = new _TweenValue__WEBPACK_IMPORTED_MODULE_1__[\"TweenValue\"]();\n        this._reset();\n    }\n    setDelay(value) {\n        this._delay = value;\n        return this;\n    }\n    get delay() {\n        return this._delay;\n    }\n    setDuration(value) {\n        this._duration = value;\n        return this;\n    }\n    get duration() {\n        return this._duration;\n    }\n    setBreakpoint(value) {\n        this._breakpoint = value;\n        return this;\n    }\n    setEase(value) {\n        this._easeType = value;\n        return this;\n    }\n    setEasePeriod(value) {\n        this._easePeriod = value;\n        return this;\n    }\n    setEaseOvershootOrAmplitude(value) {\n        this._easeOvershootOrAmplitude = value;\n        return this;\n    }\n    setRepeat(repeat, yoyo = false) {\n        this._repeat = repeat;\n        this._yoyo = yoyo;\n        return this;\n    }\n    get repeat() {\n        return this._repeat;\n    }\n    setTimeScale(value) {\n        this._timeScale = value;\n        return this;\n    }\n    setSnapping(value) {\n        this._snapping = value;\n        return this;\n    }\n    setTarget(value, propType) {\n        this._target = value;\n        this._propType = propType;\n        return this;\n    }\n    get target() {\n        return this._target;\n    }\n    setPath(value) {\n        this._path = value;\n        return this;\n    }\n    setUserData(value) {\n        this._userData = value;\n        return this;\n    }\n    get userData() {\n        return this._userData;\n    }\n    onUpdate(callback, caller) {\n        this._onUpdate = callback;\n        this._onUpdateCaller = caller;\n        return this;\n    }\n    onStart(callback, caller) {\n        this._onStart = callback;\n        this._onStartCaller = caller;\n        return this;\n    }\n    onComplete(callback, caller) {\n        this._onComplete = callback;\n        this._onCompleteCaller = caller;\n        return this;\n    }\n    get startValue() {\n        return this._startValue;\n    }\n    get endValue() {\n        return this._endValue;\n    }\n    get value() {\n        return this._value;\n    }\n    get deltaValue() {\n        return this._deltaValue;\n    }\n    get normalizedTime() {\n        return this._normalizedTime;\n    }\n    get completed() {\n        return this._ended != 0;\n    }\n    get allCompleted() {\n        return this._ended == 1;\n    }\n    setPaused(paused) {\n        this._paused = paused;\n        return this;\n    }\n    /**\n     * seek position of the tween, in seconds.\n     */\n    seek(time) {\n        if (this._killed)\n            return;\n        this._elapsedTime = time;\n        if (this._elapsedTime < this._delay) {\n            if (this._started)\n                this._elapsedTime = this._delay;\n            else\n                return;\n        }\n        this.update();\n    }\n    kill(complete) {\n        if (this._killed)\n            return;\n        if (complete) {\n            if (this._ended == 0) {\n                if (this._breakpoint >= 0)\n                    this._elapsedTime = this._delay + this._breakpoint;\n                else if (this._repeat >= 0)\n                    this._elapsedTime = this._delay + this._duration * (this._repeat + 1);\n                else\n                    this._elapsedTime = this._delay + this._duration * 2;\n                this.update();\n            }\n            this.callCompleteCallback();\n        }\n        this._killed = true;\n    }\n    _to(start, end, duration) {\n        this._valueSize = 1;\n        this._startValue.x = start;\n        this._endValue.x = end;\n        this._value.x = start;\n        this._duration = duration;\n        return this;\n    }\n    _to2(start, start2, end, end2, duration) {\n        this._valueSize = 2;\n        this._startValue.x = start;\n        this._endValue.x = end;\n        this._startValue.y = start2;\n        this._endValue.y = end2;\n        this._value.x = start;\n        this._value.y = start2;\n        this._duration = duration;\n        return this;\n    }\n    _to3(start, start2, start3, end, end2, end3, duration) {\n        this._valueSize = 3;\n        this._startValue.x = start;\n        this._endValue.x = end;\n        this._startValue.y = start2;\n        this._endValue.y = end2;\n        this._startValue.z = start3;\n        this._endValue.z = end3;\n        this._value.x = start;\n        this._value.y = start2;\n        this._value.z = start3;\n        this._duration = duration;\n        return this;\n    }\n    _to4(start, start2, start3, start4, end, end2, end3, end4, duration) {\n        this._valueSize = 4;\n        this._startValue.x = start;\n        this._endValue.x = end;\n        this._startValue.y = start2;\n        this._endValue.y = end2;\n        this._startValue.z = start3;\n        this._endValue.z = end3;\n        this._startValue.w = start4;\n        this._endValue.w = end4;\n        this._value.x = start;\n        this._value.y = start2;\n        this._value.z = start3;\n        this._value.w = start4;\n        this._duration = duration;\n        return this;\n    }\n    _toColor(start, end, duration) {\n        this._valueSize = 5;\n        this._startValue.color = start;\n        this._endValue.color = end;\n        this._value.color = start;\n        this._duration = duration;\n        return this;\n    }\n    _shake(startX, startY, amplitude, duration) {\n        this._valueSize = 6;\n        this._startValue.x = startX;\n        this._startValue.y = startY;\n        this._startValue.w = amplitude;\n        this._duration = duration;\n        return this;\n    }\n    _init() {\n        this._delay = 0;\n        this._duration = 0;\n        this._breakpoint = -1;\n        this._easeType = _EaseType__WEBPACK_IMPORTED_MODULE_0__[\"EaseType\"].QuadOut;\n        this._timeScale = 1;\n        this._easePeriod = 0;\n        this._easeOvershootOrAmplitude = 1.70158;\n        this._snapping = false;\n        this._repeat = 0;\n        this._yoyo = false;\n        this._valueSize = 0;\n        this._started = false;\n        this._paused = false;\n        this._killed = false;\n        this._elapsedTime = 0;\n        this._normalizedTime = 0;\n        this._ended = 0;\n    }\n    _reset() {\n        this._target = null;\n        this._propType = null;\n        this._userData = null;\n        this._path = null;\n        this._onStart = this._onUpdate = this._onComplete = null;\n        this._onStartCaller = this._onUpdateCaller = this._onCompleteCaller = null;\n    }\n    _update(dt) {\n        if (this._timeScale != 1)\n            dt *= this._timeScale;\n        if (dt == 0)\n            return;\n        if (this._ended != 0) //Maybe completed by seek\n         {\n            this.callCompleteCallback();\n            this._killed = true;\n            return;\n        }\n        this._elapsedTime += dt;\n        this.update();\n        if (this._ended != 0) {\n            if (!this._killed) {\n                this.callCompleteCallback();\n                this._killed = true;\n            }\n        }\n    }\n    update() {\n        this._ended = 0;\n        if (this._valueSize == 0) //DelayedCall\n         {\n            if (this._elapsedTime >= this._delay + this._duration)\n                this._ended = 1;\n            return;\n        }\n        if (!this._started) {\n            if (this._elapsedTime < this._delay)\n                return;\n            this._started = true;\n            this.callStartCallback();\n            if (this._killed)\n                return;\n        }\n        var reversed = false;\n        var tt = this._elapsedTime - this._delay;\n        if (this._breakpoint >= 0 && tt >= this._breakpoint) {\n            tt = this._breakpoint;\n            this._ended = 2;\n        }\n        if (this._repeat != 0) {\n            var round = Math.floor(tt / this._duration);\n            tt -= this._duration * round;\n            if (this._yoyo)\n                reversed = round % 2 == 1;\n            if (this._repeat > 0 && this._repeat - round < 0) {\n                if (this._yoyo)\n                    reversed = this._repeat % 2 == 1;\n                tt = this._duration;\n                this._ended = 1;\n            }\n        }\n        else if (tt >= this._duration) {\n            tt = this._duration;\n            this._ended = 1;\n        }\n        this._normalizedTime = Object(_EaseManager__WEBPACK_IMPORTED_MODULE_2__[\"evaluateEase\"])(this._easeType, reversed ? (this._duration - tt) : tt, this._duration, this._easeOvershootOrAmplitude, this._easePeriod);\n        this._value.setZero();\n        this._deltaValue.setZero();\n        if (this._valueSize == 6) {\n            if (this._ended == 0) {\n                var r = this._startValue.w * (1 - this._normalizedTime);\n                var rx = r * (Math.random() > 0.5 ? 1 : -1);\n                var ry = r * (Math.random() > 0.5 ? 1 : -1);\n                this._deltaValue.x = rx;\n                this._deltaValue.y = ry;\n                this._value.x = this._startValue.x + rx;\n                this._value.y = this._startValue.y + ry;\n            }\n            else {\n                this._value.x = this._startValue.x;\n                this._value.y = this._startValue.y;\n            }\n        }\n        else if (this._path) {\n            var pt = s_vec2;\n            this._path.getPointAt(this._normalizedTime, pt);\n            if (this._snapping) {\n                pt.x = Math.round(pt.x);\n                pt.y = Math.round(pt.y);\n            }\n            this._deltaValue.x = pt.x - this._value.x;\n            this._deltaValue.y = pt.y - this._value.y;\n            this._value.x = pt.x;\n            this._value.y = pt.y;\n        }\n        else {\n            for (var i = 0; i < this._valueSize; i++) {\n                var n1 = this._startValue.getField(i);\n                var n2 = this._endValue.getField(i);\n                var f = n1 + (n2 - n1) * this._normalizedTime;\n                if (this._snapping)\n                    f = Math.round(f);\n                this._deltaValue.setField(i, f - this._value.getField(i));\n                this._value.setField(i, f);\n            }\n        }\n        if (this._target && this._propType) {\n            if (this._propType instanceof Function) {\n                switch (this._valueSize) {\n                    case 1:\n                        this._propType.call(this._target, this._value.x);\n                        break;\n                    case 2:\n                        this._propType.call(this._target, this._value.x, this._value.y);\n                        break;\n                    case 3:\n                        this._propType.call(this._target, this._value.x, this._value.y, this._value.z);\n                        break;\n                    case 4:\n                        this._propType.call(this._target, this._value.x, this._value.y, this._value.z, this._value.w);\n                        break;\n                    case 5:\n                        this._propType.call(this._target, this._value.color);\n                        break;\n                    case 6:\n                        this._propType.call(this._target, this._value.x, this._value.y);\n                        break;\n                }\n            }\n            else {\n                if (this._valueSize == 5)\n                    this._target[this._propType] = this._value.color;\n                else\n                    this._target[this._propType] = this._value.x;\n            }\n        }\n        this.callUpdateCallback();\n    }\n    callStartCallback() {\n        if (this._onStart != null) {\n            try {\n                this._onStart.call(this._onStartCaller, this);\n            }\n            catch (err) {\n                console.log(\"FairyGUI: error in start callback > \" + err);\n            }\n        }\n    }\n    callUpdateCallback() {\n        if (this._onUpdate != null) {\n            try {\n                this._onUpdate.call(this._onUpdateCaller, this);\n            }\n            catch (err) {\n                console.log(\"FairyGUI: error in update callback > \" + err);\n            }\n        }\n    }\n    callCompleteCallback() {\n        if (this._onComplete != null) {\n            try {\n                this._onComplete.call(this._onCompleteCaller, this);\n            }\n            catch (err) {\n                console.log(\"FairyGUI: error in complete callback > \" + err);\n            }\n        }\n    }\n}\nvar s_vec2 = new Phaser.Geom.Point();\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/tween/GTweener.ts?");

/***/ }),

/***/ "./src/tween/TweenManager.ts":
/*!***********************************!*\
  !*** ./src/tween/TweenManager.ts ***!
  \***********************************/
/*! exports provided: TweenManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TweenManager\", function() { return TweenManager; });\n/* harmony import */ var _GTweener__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GTweener */ \"./src/tween/GTweener.ts\");\n\nclass TweenManager {\n    static createTween() {\n        if (!_inited) {\n            // TODO\n            throw new Error(\"TODO\");\n            // Laya.timer.frameLoop(1, null, TweenManager.update);\n            _inited = true;\n        }\n        var tweener;\n        var cnt = _tweenerPool.length;\n        if (cnt > 0) {\n            tweener = _tweenerPool.pop();\n        }\n        else\n            tweener = new _GTweener__WEBPACK_IMPORTED_MODULE_0__[\"GTweener\"]();\n        tweener._init();\n        _activeTweens[_totalActiveTweens++] = tweener;\n        return tweener;\n    }\n    static isTweening(target, propType) {\n        if (target == null)\n            return false;\n        var anyType = !propType;\n        for (var i = 0; i < _totalActiveTweens; i++) {\n            var tweener = _activeTweens[i];\n            if (tweener && tweener.target == target && !tweener._killed\n                && (anyType || tweener._propType == propType))\n                return true;\n        }\n        return false;\n    }\n    static killTweens(target, completed, propType) {\n        if (target == null)\n            return false;\n        var flag = false;\n        var cnt = _totalActiveTweens;\n        var anyType = !propType;\n        for (var i = 0; i < cnt; i++) {\n            var tweener = _activeTweens[i];\n            if (tweener && tweener.target == target && !tweener._killed\n                && (anyType || tweener._propType == propType)) {\n                tweener.kill(completed);\n                flag = true;\n            }\n        }\n        return flag;\n    }\n    static getTween(target, propType) {\n        if (target == null)\n            return null;\n        var cnt = _totalActiveTweens;\n        var anyType = !propType;\n        for (var i = 0; i < cnt; i++) {\n            var tweener = _activeTweens[i];\n            if (tweener && tweener.target == target && !tweener._killed\n                && (anyType || tweener._propType == propType)) {\n                return tweener;\n            }\n        }\n        return null;\n    }\n    static update() {\n        // var dt: number = Laya.timer.delta / 1000;\n        throw new Error(\"TODO\");\n        // var cnt: number = _totalActiveTweens;\n        // var freePosStart: number = -1;\n        // for (var i: number = 0; i < cnt; i++) {\n        //     var tweener: GTweener = _activeTweens[i];\n        //     if (tweener == null) {\n        //         if (freePosStart == -1)\n        //             freePosStart = i;\n        //     }\n        //     else if (tweener._killed) {\n        //         tweener._reset();\n        //         _tweenerPool.push(tweener);\n        //         _activeTweens[i] = null;\n        //         if (freePosStart == -1)\n        //             freePosStart = i;\n        //     }\n        //     else {\n        //         if ((tweener._target instanceof GObject) && tweener._target.isDisposed)\n        //             tweener._killed = true;\n        //         else if (!tweener._paused)\n        //             tweener._update(dt);\n        //         if (freePosStart != -1) {\n        //             _activeTweens[freePosStart] = tweener;\n        //             _activeTweens[i] = null;\n        //             freePosStart++;\n        //         }\n        //     }\n        // }\n        // if (freePosStart >= 0) {\n        //     if (_totalActiveTweens != cnt) //new tweens added\n        //     {\n        //         var j: number = cnt;\n        //         cnt = _totalActiveTweens - cnt;\n        //         for (i = 0; i < cnt; i++)\n        //             _activeTweens[freePosStart++] = _activeTweens[j++];\n        //     }\n        //     _totalActiveTweens = freePosStart;\n        // }\n    }\n}\nvar _activeTweens = [];\nvar _tweenerPool = [];\nvar _totalActiveTweens = 0;\nvar _inited = false;\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/tween/TweenManager.ts?");

/***/ }),

/***/ "./src/tween/TweenValue.ts":
/*!*********************************!*\
  !*** ./src/tween/TweenValue.ts ***!
  \*********************************/
/*! exports provided: TweenValue */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TweenValue\", function() { return TweenValue; });\nclass TweenValue {\n    constructor() {\n        this.x = this.y = this.z = this.w = 0;\n    }\n    get color() {\n        return (this.w << 24) + (this.x << 16) + (this.y << 8) + this.z;\n    }\n    set color(value) {\n        this.x = (value & 0xFF0000) >> 16;\n        this.y = (value & 0x00FF00) >> 8;\n        this.z = (value & 0x0000FF);\n        this.w = (value & 0xFF000000) >> 24;\n    }\n    getField(index) {\n        switch (index) {\n            case 0:\n                return this.x;\n            case 1:\n                return this.y;\n            case 2:\n                return this.z;\n            case 3:\n                return this.w;\n            default:\n                throw new Error(\"Index out of bounds: \" + index);\n        }\n    }\n    setField(index, value) {\n        switch (index) {\n            case 0:\n                this.x = value;\n                break;\n            case 1:\n                this.y = value;\n                break;\n            case 2:\n                this.z = value;\n                break;\n            case 3:\n                this.w = value;\n                break;\n            default:\n                throw new Error(\"Index out of bounds: \" + index);\n        }\n    }\n    setZero() {\n        this.x = this.y = this.z = this.w = 0;\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/tween/TweenValue.ts?");

/***/ }),

/***/ "./src/tween/index.ts":
/*!****************************!*\
  !*** ./src/tween/index.ts ***!
  \****************************/
/*! exports provided: evaluateEase, EaseType, GPath, CurveType, GPathPoint, GTween, GTweener, TweenManager, TweenValue */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _EaseManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EaseManager */ \"./src/tween/EaseManager.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"evaluateEase\", function() { return _EaseManager__WEBPACK_IMPORTED_MODULE_0__[\"evaluateEase\"]; });\n\n/* harmony import */ var _EaseType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EaseType */ \"./src/tween/EaseType.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"EaseType\", function() { return _EaseType__WEBPACK_IMPORTED_MODULE_1__[\"EaseType\"]; });\n\n/* harmony import */ var _GPath__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GPath */ \"./src/tween/GPath.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GPath\", function() { return _GPath__WEBPACK_IMPORTED_MODULE_2__[\"GPath\"]; });\n\n/* harmony import */ var _GPathPoint__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./GPathPoint */ \"./src/tween/GPathPoint.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"CurveType\", function() { return _GPathPoint__WEBPACK_IMPORTED_MODULE_3__[\"CurveType\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GPathPoint\", function() { return _GPathPoint__WEBPACK_IMPORTED_MODULE_3__[\"GPathPoint\"]; });\n\n/* harmony import */ var _GTween__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./GTween */ \"./src/tween/GTween.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GTween\", function() { return _GTween__WEBPACK_IMPORTED_MODULE_4__[\"GTween\"]; });\n\n/* harmony import */ var _GTweener__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./GTweener */ \"./src/tween/GTweener.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GTweener\", function() { return _GTweener__WEBPACK_IMPORTED_MODULE_5__[\"GTweener\"]; });\n\n/* harmony import */ var _TweenManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./TweenManager */ \"./src/tween/TweenManager.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"TweenManager\", function() { return _TweenManager__WEBPACK_IMPORTED_MODULE_6__[\"TweenManager\"]; });\n\n/* harmony import */ var _TweenValue__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./TweenValue */ \"./src/tween/TweenValue.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"TweenValue\", function() { return _TweenValue__WEBPACK_IMPORTED_MODULE_7__[\"TweenValue\"]; });\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/tween/index.ts?");

/***/ }),

/***/ "./src/utils/Byte.ts":
/*!***************************!*\
  !*** ./src/utils/Byte.ts ***!
  \***************************/
/*! exports provided: Byte */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Byte\", function() { return Byte; });\n/**\n * <p> <code>Byte</code> 类提供用于优化读取、写入以及处理二进制数据的方法和属性。</p>\n * <p> <code>Byte</code> 类适用于需要在字节层访问数据的高级开发人员。</p>\n */\nclass Byte {\n    /**\n     * 创建一个 <code>Byte</code> 类的实例。\n     * @param\tdata\t用于指定初始化的元素数目，或者用于初始化的TypedArray对象、ArrayBuffer对象。如果为 null ，则预分配一定的内存空间，当可用空间不足时，优先使用这部分内存，如果还不够，则重新分配所需内存。\n     */\n    constructor(data = null) {\n        /**@private 是否为小端数据。*/\n        this._xd_ = true;\n        /**@private */\n        this._allocated_ = 8;\n        /**@private */\n        this._pos_ = 0;\n        /**@private */\n        this._length = 0;\n        if (data) {\n            this._u8d_ = new Uint8Array(data);\n            this._d_ = new DataView(this._u8d_.buffer);\n            this._length = this._d_.byteLength;\n        }\n        else {\n            this._resizeBuffer(this._allocated_);\n        }\n    }\n    /**\n     * <p>获取当前主机的字节序。</p>\n     * <p>主机字节序，是 CPU 存放数据的两种不同顺序，包括小端字节序和大端字节序。</p>\n     * <p> <code>BIG_ENDIAN</code> ：大端字节序，地址低位存储值的高位，地址高位存储值的低位。有时也称之为网络字节序。<br/>\n     * <code>LITTLE_ENDIAN</code> ：小端字节序，地址低位存储值的低位，地址高位存储值的高位。</p>\n     * @return 当前系统的字节序。\n     */\n    static getSystemEndian() {\n        if (!Byte._sysEndian) {\n            var buffer = new ArrayBuffer(2);\n            new DataView(buffer).setInt16(0, 256, true);\n            Byte._sysEndian = (new Int16Array(buffer))[0] === 256 ? Byte.LITTLE_ENDIAN : Byte.BIG_ENDIAN;\n        }\n        return Byte._sysEndian;\n    }\n    /**\n     * 获取此对象的 ArrayBuffer 数据，数据只包含有效数据部分。\n     */\n    get buffer() {\n        var rstBuffer = this._d_.buffer;\n        if (rstBuffer.byteLength === this._length)\n            return rstBuffer;\n        return rstBuffer.slice(0, this._length);\n    }\n    /**\n     * <p> <code>Byte</code> 实例的字节序。取值为：<code>BIG_ENDIAN</code> 或 <code>BIG_ENDIAN</code> 。</p>\n     * <p>主机字节序，是 CPU 存放数据的两种不同顺序，包括小端字节序和大端字节序。通过 <code>getSystemEndian</code> 可以获取当前系统的字节序。</p>\n     * <p> <code>BIG_ENDIAN</code> ：大端字节序，地址低位存储值的高位，地址高位存储值的低位。有时也称之为网络字节序。<br/>\n     *  <code>LITTLE_ENDIAN</code> ：小端字节序，地址低位存储值的低位，地址高位存储值的高位。</p>\n     */\n    get endian() {\n        return this._xd_ ? Byte.LITTLE_ENDIAN : Byte.BIG_ENDIAN;\n    }\n    set endian(value) {\n        this._xd_ = (value === Byte.LITTLE_ENDIAN);\n    }\n    /**\n     * <p> <code>Byte</code> 对象的长度（以字节为单位）。</p>\n     * <p>如果将长度设置为大于当前长度的值，则用零填充字节数组的右侧；如果将长度设置为小于当前长度的值，将会截断该字节数组。</p>\n     * <p>如果要设置的长度大于当前已分配的内存空间的字节长度，则重新分配内存空间，大小为以下两者较大者：要设置的长度、当前已分配的长度的2倍，并将原有数据拷贝到新的内存空间中；如果要设置的长度小于当前已分配的内存空间的字节长度，也会重新分配内存空间，大小为要设置的长度，并将原有数据从头截断为要设置的长度存入新的内存空间中。</p>\n     */\n    set length(value) {\n        if (this._allocated_ < value)\n            this._resizeBuffer(this._allocated_ = Math.floor(Math.max(value, this._allocated_ * 2)));\n        else if (this._allocated_ > value)\n            this._resizeBuffer(this._allocated_ = value);\n        this._length = value;\n    }\n    get length() {\n        return this._length;\n    }\n    /**@private */\n    _resizeBuffer(len) {\n        try {\n            var newByteView = new Uint8Array(len);\n            if (this._u8d_ != null) {\n                if (this._u8d_.length <= len)\n                    newByteView.set(this._u8d_);\n                else\n                    newByteView.set(this._u8d_.subarray(0, len));\n            }\n            this._u8d_ = newByteView;\n            this._d_ = new DataView(newByteView.buffer);\n        }\n        catch (err) {\n            throw \"Invalid typed array length:\" + len;\n        }\n    }\n    /**\n     * @private\n     * <p>常用于解析固定格式的字节流。</p>\n     * <p>先从字节流的当前字节偏移位置处读取一个 <code>Uint16</code> 值，然后以此值为长度，读取此长度的字符串。</p>\n     * @return 读取的字符串。\n     */\n    getString() {\n        return this.readString();\n    }\n    /**\n     * <p>常用于解析固定格式的字节流。</p>\n     * <p>先从字节流的当前字节偏移位置处读取一个 <code>Uint16</code> 值，然后以此值为长度，读取此长度的字符串。</p>\n     * @return 读取的字符串。\n     */\n    readString() {\n        return this._rUTF(this.getUint16());\n    }\n    /**\n     * @private\n     * <p>从字节流中 <code>start</code> 参数指定的位置开始，读取 <code>len</code> 参数指定的字节数的数据，用于创建一个 <code>Float32Array</code> 对象并返回此对象。</p>\n     * <p><b>注意：</b>返回的 Float32Array 对象，在 JavaScript 环境下，是原生的 HTML5 Float32Array 对象，对此对象的读取操作都是基于运行此程序的当前主机字节序，此顺序可能与实际数据的字节序不同，如果使用此对象进行读取，需要用户知晓实际数据的字节序和当前主机字节序，如果相同，可正常读取，否则需要用户对实际数据(Float32Array.buffer)包装一层 DataView ，使用 DataView 对象可按照指定的字节序进行读取。</p>\n     * @param\tstart\t开始位置。\n     * @param\tlen\t\t需要读取的字节长度。如果要读取的长度超过可读取范围，则只返回可读范围内的值。\n     * @return  读取的 Float32Array 对象。\n     */\n    getFloat32Array(start, len) {\n        return this.readFloat32Array(start, len);\n    }\n    /**\n     * 从字节流中 <code>start</code> 参数指定的位置开始，读取 <code>len</code> 参数指定的字节数的数据，用于创建一个 <code>Float32Array</code> 对象并返回此对象。\n     * @param\tstart\t开始位置。\n     * @param\tlen\t\t需要读取的字节长度。如果要读取的长度超过可读取范围，则只返回可读范围内的值。\n     * @return  读取的 Float32Array 对象。\n     */\n    readFloat32Array(start, len) {\n        var end = start + len;\n        end = (end > this._length) ? this._length : end;\n        var v = new Float32Array(this._d_.buffer.slice(start, end));\n        this._pos_ = end;\n        return v;\n    }\n    /**\n     * @private\n     * 从字节流中 <code>start</code> 参数指定的位置开始，读取 <code>len</code> 参数指定的字节数的数据，用于创建一个 <code>Uint8Array</code> 对象并返回此对象。\n     * @param\tstart\t开始位置。\n     * @param\tlen\t\t需要读取的字节长度。如果要读取的长度超过可读取范围，则只返回可读范围内的值。\n     * @return  读取的 Uint8Array 对象。\n     */\n    getUint8Array(start, len) {\n        return this.readUint8Array(start, len);\n    }\n    /**\n     * 从字节流中 <code>start</code> 参数指定的位置开始，读取 <code>len</code> 参数指定的字节数的数据，用于创建一个 <code>Uint8Array</code> 对象并返回此对象。\n     * @param\tstart\t开始位置。\n     * @param\tlen\t\t需要读取的字节长度。如果要读取的长度超过可读取范围，则只返回可读范围内的值。\n     * @return  读取的 Uint8Array 对象。\n     */\n    readUint8Array(start, len) {\n        var end = start + len;\n        end = (end > this._length) ? this._length : end;\n        var v = new Uint8Array(this._d_.buffer.slice(start, end));\n        this._pos_ = end;\n        return v;\n    }\n    /**\n     * @private\n     * <p>从字节流中 <code>start</code> 参数指定的位置开始，读取 <code>len</code> 参数指定的字节数的数据，用于创建一个 <code>Int16Array</code> 对象并返回此对象。</p>\n     * <p><b>注意：</b>返回的 Int16Array 对象，在 JavaScript 环境下，是原生的 HTML5 Int16Array 对象，对此对象的读取操作都是基于运行此程序的当前主机字节序，此顺序可能与实际数据的字节序不同，如果使用此对象进行读取，需要用户知晓实际数据的字节序和当前主机字节序，如果相同，可正常读取，否则需要用户对实际数据(Int16Array.buffer)包装一层 DataView ，使用 DataView 对象可按照指定的字节序进行读取。</p>\n     * @param\tstart\t开始读取的字节偏移量位置。\n     * @param\tlen\t\t需要读取的字节长度。如果要读取的长度超过可读取范围，则只返回可读范围内的值。\n     * @return  读取的 Int16Array 对象。\n     */\n    getInt16Array(start, len) {\n        return this.readInt16Array(start, len);\n    }\n    /**\n     * 从字节流中 <code>start</code> 参数指定的位置开始，读取 <code>len</code> 参数指定的字节数的数据，用于创建一个 <code>Int16Array</code> 对象并返回此对象。\n     * @param\tstart\t开始读取的字节偏移量位置。\n     * @param\tlen\t\t需要读取的字节长度。如果要读取的长度超过可读取范围，则只返回可读范围内的值。\n     * @return  读取的 Uint8Array 对象。\n     */\n    readInt16Array(start, len) {\n        var end = start + len;\n        end = (end > this._length) ? this._length : end;\n        var v = new Int16Array(this._d_.buffer.slice(start, end));\n        this._pos_ = end;\n        return v;\n    }\n    /**\n     * @private\n     * 从字节流的当前字节偏移位置处读取一个 IEEE 754 单精度（32 位）浮点数。\n     * @return 单精度（32 位）浮点数。\n     */\n    getFloat32() {\n        return this.readFloat32();\n    }\n    /**\n     * 从字节流的当前字节偏移位置处读取一个 IEEE 754 单精度（32 位）浮点数。\n     * @return 单精度（32 位）浮点数。\n     */\n    readFloat32() {\n        if (this._pos_ + 4 > this._length)\n            throw \"getFloat32 error - Out of bounds\";\n        var v = this._d_.getFloat32(this._pos_, this._xd_);\n        this._pos_ += 4;\n        return v;\n    }\n    /**\n     * @private\n     * 从字节流的当前字节偏移量位置处读取一个 IEEE 754 双精度（64 位）浮点数。\n     * @return 双精度（64 位）浮点数。\n     */\n    getFloat64() {\n        return this.readFloat64();\n    }\n    /**\n     * 从字节流的当前字节偏移量位置处读取一个 IEEE 754 双精度（64 位）浮点数。\n     * @return 双精度（64 位）浮点数。\n     */\n    readFloat64() {\n        if (this._pos_ + 8 > this._length)\n            throw \"getFloat64 error - Out of bounds\";\n        var v = this._d_.getFloat64(this._pos_, this._xd_);\n        this._pos_ += 8;\n        return v;\n    }\n    /**\n     * 在字节流的当前字节偏移量位置处写入一个 IEEE 754 单精度（32 位）浮点数。\n     * @param\tvalue\t单精度（32 位）浮点数。\n     */\n    writeFloat32(value) {\n        this._ensureWrite(this._pos_ + 4);\n        this._d_.setFloat32(this._pos_, value, this._xd_);\n        this._pos_ += 4;\n    }\n    /**\n     * 在字节流的当前字节偏移量位置处写入一个 IEEE 754 双精度（64 位）浮点数。\n     * @param\tvalue\t双精度（64 位）浮点数。\n     */\n    writeFloat64(value) {\n        this._ensureWrite(this._pos_ + 8);\n        this._d_.setFloat64(this._pos_, value, this._xd_);\n        this._pos_ += 8;\n    }\n    /**\n     * @private\n     * 从字节流的当前字节偏移量位置处读取一个 Int32 值。\n     * @return Int32 值。\n     */\n    getInt32() {\n        return this.readInt32();\n    }\n    /**\n     * 从字节流的当前字节偏移量位置处读取一个 Int32 值。\n     * @return Int32 值。\n     */\n    readInt32() {\n        if (this._pos_ + 4 > this._length)\n            throw \"getInt32 error - Out of bounds\";\n        var float = this._d_.getInt32(this._pos_, this._xd_);\n        this._pos_ += 4;\n        return float;\n    }\n    /**\n     * @private\n     * 从字节流的当前字节偏移量位置处读取一个 Uint32 值。\n     * @return Uint32 值。\n     */\n    getUint32() {\n        return this.readUint32();\n    }\n    /**\n     * 从字节流的当前字节偏移量位置处读取一个 Uint32 值。\n     * @return Uint32 值。\n     */\n    readUint32() {\n        if (this._pos_ + 4 > this._length)\n            throw \"getUint32 error - Out of bounds\";\n        var v = this._d_.getUint32(this._pos_, this._xd_);\n        this._pos_ += 4;\n        return v;\n    }\n    /**\n     * 在字节流的当前字节偏移量位置处写入指定的 Int32 值。\n     * @param\tvalue\t需要写入的 Int32 值。\n     */\n    writeInt32(value) {\n        this._ensureWrite(this._pos_ + 4);\n        this._d_.setInt32(this._pos_, value, this._xd_);\n        this._pos_ += 4;\n    }\n    /**\n     * 在字节流的当前字节偏移量位置处写入 Uint32 值。\n     * @param\tvalue\t需要写入的 Uint32 值。\n     */\n    writeUint32(value) {\n        this._ensureWrite(this._pos_ + 4);\n        this._d_.setUint32(this._pos_, value, this._xd_);\n        this._pos_ += 4;\n    }\n    /**\n     * @private\n     * 从字节流的当前字节偏移量位置处读取一个 Int16 值。\n     * @return Int16 值。\n     */\n    getInt16() {\n        return this.readInt16();\n    }\n    /**\n     * 从字节流的当前字节偏移量位置处读取一个 Int16 值。\n     * @return Int16 值。\n     */\n    readInt16() {\n        if (this._pos_ + 2 > this._length)\n            throw \"getInt16 error - Out of bounds\";\n        var us = this._d_.getInt16(this._pos_, this._xd_);\n        this._pos_ += 2;\n        return us;\n    }\n    /**\n     * @private\n     * 从字节流的当前字节偏移量位置处读取一个 Uint16 值。\n     * @return Uint16 值。\n     */\n    getUint16() {\n        return this.readUint16();\n    }\n    /**\n     * 从字节流的当前字节偏移量位置处读取一个 Uint16 值。\n     * @return Uint16 值。\n     */\n    readUint16() {\n        if (this._pos_ + 2 > this._length)\n            throw \"getUint16 error - Out of bounds\";\n        var us = this._d_.getUint16(this._pos_, this._xd_);\n        this._pos_ += 2;\n        return us;\n    }\n    /**\n     * 在字节流的当前字节偏移量位置处写入指定的 Uint16 值。\n     * @param\tvalue\t需要写入的Uint16 值。\n     */\n    writeUint16(value) {\n        this._ensureWrite(this._pos_ + 2);\n        this._d_.setUint16(this._pos_, value, this._xd_);\n        this._pos_ += 2;\n    }\n    /**\n     * 在字节流的当前字节偏移量位置处写入指定的 Int16 值。\n     * @param\tvalue\t需要写入的 Int16 值。\n     */\n    writeInt16(value) {\n        this._ensureWrite(this._pos_ + 2);\n        this._d_.setInt16(this._pos_, value, this._xd_);\n        this._pos_ += 2;\n    }\n    /**\n     * @private\n     * 从字节流的当前字节偏移量位置处读取一个 Uint8 值。\n     * @return Uint8 值。\n     */\n    getUint8() {\n        return this.readUint8();\n    }\n    /**\n     * 从字节流的当前字节偏移量位置处读取一个 Uint8 值。\n     * @return Uint8 值。\n     */\n    readUint8() {\n        if (this._pos_ + 1 > this._length)\n            throw \"getUint8 error - Out of bounds\";\n        return this._u8d_[this._pos_++];\n    }\n    /**\n     * 在字节流的当前字节偏移量位置处写入指定的 Uint8 值。\n     * @param\tvalue\t需要写入的 Uint8 值。\n     */\n    writeUint8(value) {\n        this._ensureWrite(this._pos_ + 1);\n        this._d_.setUint8(this._pos_, value);\n        this._pos_++;\n    }\n    /**\n     * @internal\n     * 从字节流的指定字节偏移量位置处读取一个 Uint8 值。\n     * @param\tpos\t字节读取位置。\n     * @return Uint8 值。\n     */\n    //TODO:coverage\n    _getUInt8(pos) {\n        return this._readUInt8(pos);\n    }\n    /**\n     * @internal\n     * 从字节流的指定字节偏移量位置处读取一个 Uint8 值。\n     * @param\tpos\t字节读取位置。\n     * @return Uint8 值。\n     */\n    //TODO:coverage\n    _readUInt8(pos) {\n        return this._d_.getUint8(pos);\n    }\n    /**\n     * @internal\n     * 从字节流的指定字节偏移量位置处读取一个 Uint16 值。\n     * @param\tpos\t字节读取位置。\n     * @return Uint16 值。\n     */\n    //TODO:coverage\n    _getUint16(pos) {\n        return this._readUint16(pos);\n    }\n    /**\n     * @internal\n     * 从字节流的指定字节偏移量位置处读取一个 Uint16 值。\n     * @param\tpos\t字节读取位置。\n     * @return Uint16 值。\n     */\n    //TODO:coverage\n    _readUint16(pos) {\n        return this._d_.getUint16(pos, this._xd_);\n    }\n    /**\n     * @internal\n     * 使用 getFloat32() 读取6个值，用于创建并返回一个 Matrix 对象。\n     * @return  Matrix 对象。\n     */\n    //TODO:coverage\n    _getMatrix() {\n        return this._readMatrix();\n    }\n    /**\n     * @internal\n     * 使用 getFloat32() 读取6个值，用于创建并返回一个 Matrix 对象。\n     * @return  Matrix 对象。\n     */\n    //TODO:coverage\n    _readMatrix() {\n        var rst = new Phaser.GameObjects.Components.TransformMatrix(this.getFloat32(), this.getFloat32(), this.getFloat32(), this.getFloat32(), this.getFloat32(), this.getFloat32());\n        return rst;\n    }\n    /**\n     * @private\n     * 读取指定长度的 UTF 型字符串。\n     * @param\tlen 需要读取的长度。\n     * @return 读取的字符串。\n     */\n    _rUTF(len) {\n        var v = \"\", max = this._pos_ + len, c, c2, c3, f = String.fromCharCode;\n        var u = this._u8d_, i = 0;\n        var strs = [];\n        var n = 0;\n        strs.length = 1000;\n        while (this._pos_ < max) {\n            c = u[this._pos_++];\n            if (c < 0x80) {\n                if (c != 0)\n                    //v += f(c);\\\n                    strs[n++] = f(c);\n            }\n            else if (c < 0xE0) {\n                //v += f(((c & 0x3F) << 6) | (u[_pos_++] & 0x7F));\n                strs[n++] = f(((c & 0x3F) << 6) | (u[this._pos_++] & 0x7F));\n            }\n            else if (c < 0xF0) {\n                c2 = u[this._pos_++];\n                //v += f(((c & 0x1F) << 12) | ((c2 & 0x7F) << 6) | (u[_pos_++] & 0x7F));\n                strs[n++] = f(((c & 0x1F) << 12) | ((c2 & 0x7F) << 6) | (u[this._pos_++] & 0x7F));\n            }\n            else {\n                c2 = u[this._pos_++];\n                c3 = u[this._pos_++];\n                //v += f(((c & 0x0F) << 18) | ((c2 & 0x7F) << 12) | ((c3 << 6) & 0x7F) | (u[_pos_++] & 0x7F));\n                const _code = ((c & 0x0F) << 18) | ((c2 & 0x7F) << 12) | ((c3 & 0x7F) << 6) | (u[this._pos_++] & 0x7F);\n                if (_code >= 0x10000) {\n                    const _offset = _code - 0x10000;\n                    const _lead = 0xd800 | (_offset >> 10);\n                    const _trail = 0xdc00 | (_offset & 0x3ff);\n                    strs[n++] = f(_lead);\n                    strs[n++] = f(_trail);\n                }\n                else {\n                    strs[n++] = f(_code);\n                }\n            }\n            i++;\n        }\n        strs.length = n;\n        return strs.join('');\n        //return v;\n    }\n    /**\n     * @private\n     * 读取 <code>len</code> 参数指定的长度的字符串。\n     * @param\tlen\t要读取的字符串的长度。\n     * @return 指定长度的字符串。\n     */\n    //TODO:coverage\n    getCustomString(len) {\n        return this.readCustomString(len);\n    }\n    /**\n     * @private\n     * 读取 <code>len</code> 参数指定的长度的字符串。\n     * @param\tlen\t要读取的字符串的长度。\n     * @return 指定长度的字符串。\n     */\n    //TODO:coverage\n    readCustomString(len) {\n        var v = \"\", ulen = 0, c, c2, f = String.fromCharCode;\n        var u = this._u8d_, i = 0;\n        while (len > 0) {\n            c = u[this._pos_];\n            if (c < 0x80) {\n                v += f(c);\n                this._pos_++;\n                len--;\n            }\n            else {\n                ulen = c - 0x80;\n                this._pos_++;\n                len -= ulen;\n                while (ulen > 0) {\n                    c = u[this._pos_++];\n                    c2 = u[this._pos_++];\n                    v += f((c2 << 8) | c);\n                    ulen--;\n                }\n            }\n        }\n        return v;\n    }\n    /**\n     * 移动或返回 Byte 对象的读写指针的当前位置（以字节为单位）。下一次调用读取方法时将在此位置开始读取，或者下一次调用写入方法时将在此位置开始写入。\n     */\n    get pos() {\n        return this._pos_;\n    }\n    set pos(value) {\n        this._pos_ = value;\n        //$MOD byteOffset是只读的，这里进行赋值没有意义。\n        //_d_.byteOffset = value;\n    }\n    /**\n     * 可从字节流的当前位置到末尾读取的数据的字节数。\n     */\n    get bytesAvailable() {\n        return this._length - this._pos_;\n    }\n    /**\n     * 清除字节数组的内容，并将 length 和 pos 属性重置为 0。调用此方法将释放 Byte 实例占用的内存。\n     */\n    clear() {\n        this._pos_ = 0;\n        this.length = 0;\n    }\n    /**\n     * @internal\n     * 获取此对象的 ArrayBuffer 引用。\n     * @return\n     */\n    __getBuffer() {\n        //this._d_.buffer.byteLength = this.length;\n        return this._d_.buffer;\n    }\n    /**\n     * <p>将 UTF-8 字符串写入字节流。类似于 writeUTF() 方法，但 writeUTFBytes() 不使用 16 位长度的字为字符串添加前缀。</p>\n     * <p>对应的读取方法为： getUTFBytes 。</p>\n     * @param value 要写入的字符串。\n     */\n    writeUTFBytes(value) {\n        // utf8-decode\n        value = value + \"\";\n        for (var i = 0, sz = value.length; i < sz; i++) {\n            var c = value.charCodeAt(i);\n            if (c <= 0x7F) {\n                this.writeByte(c);\n            }\n            else if (c <= 0x7FF) {\n                //优化为直接写入多个字节，而不必重复调用writeByte，免去额外的调用和逻辑开销。\n                this._ensureWrite(this._pos_ + 2);\n                this._u8d_.set([0xC0 | (c >> 6), 0x80 | (c & 0x3F)], this._pos_);\n                this._pos_ += 2;\n            }\n            else if (c >= 0xD800 && c <= 0xDBFF) {\n                i++;\n                const c2 = value.charCodeAt(i);\n                if (!Number.isNaN(c2) && c2 >= 0xDC00 && c2 <= 0xDFFF) {\n                    const _p1 = (c & 0x3FF) + 0x40;\n                    const _p2 = c2 & 0x3FF;\n                    const _b1 = 0xF0 | ((_p1 >> 8) & 0x3F);\n                    const _b2 = 0x80 | ((_p1 >> 2) & 0x3F);\n                    const _b3 = 0x80 | ((_p1 & 0x3) << 4) | ((_p2 >> 6) & 0xF);\n                    const _b4 = 0x80 | (_p2 & 0x3F);\n                    this._ensureWrite(this._pos_ + 4);\n                    this._u8d_.set([_b1, _b2, _b3, _b4], this._pos_);\n                    this._pos_ += 4;\n                }\n            }\n            else if (c <= 0xFFFF) {\n                this._ensureWrite(this._pos_ + 3);\n                this._u8d_.set([0xE0 | (c >> 12), 0x80 | ((c >> 6) & 0x3F), 0x80 | (c & 0x3F)], this._pos_);\n                this._pos_ += 3;\n            }\n            else {\n                this._ensureWrite(this._pos_ + 4);\n                this._u8d_.set([0xF0 | (c >> 18), 0x80 | ((c >> 12) & 0x3F), 0x80 | ((c >> 6) & 0x3F), 0x80 | (c & 0x3F)], this._pos_);\n                this._pos_ += 4;\n            }\n        }\n    }\n    /**\n     * <p>将 UTF-8 字符串写入字节流。先写入以字节表示的 UTF-8 字符串长度（作为 16 位整数），然后写入表示字符串字符的字节。</p>\n     * <p>对应的读取方法为： getUTFString 。</p>\n     * @param\tvalue 要写入的字符串值。\n     */\n    writeUTFString(value) {\n        var tPos = this.pos;\n        this.writeUint16(1);\n        this.writeUTFBytes(value);\n        var dPos = this.pos - tPos - 2;\n        //trace(\"writeLen:\",dPos,\"pos:\",tPos);\n        this._d_.setUint16(tPos, dPos, this._xd_);\n    }\n    /**\n     * <p>将 UTF-8 字符串写入字节流。先写入以字节表示的 UTF-8 字符串长度（作为 32 位整数），然后写入表示字符串字符的字节。</p>\n     * @param\tvalue 要写入的字符串值。\n     */\n    writeUTFString32(value) {\n        var tPos = this.pos;\n        this.writeUint32(1);\n        this.writeUTFBytes(value);\n        var dPos = this.pos - tPos - 4;\n        //trace(\"writeLen:\",dPos,\"pos:\",tPos);\n        this._d_.setUint32(tPos, dPos, this._xd_);\n    }\n    /**\n     * @private\n     * 读取 UTF-8 字符串。\n     * @return 读取的字符串。\n     */\n    readUTFString() {\n        //var tPos:int = pos;\n        //var len:int = getUint16();\n        ////trace(\"readLen:\"+len,\"pos,\",tPos);\n        return this.readUTFBytes(this.getUint16());\n    }\n    /**\n     * @private\n     */\n    readUTFString32() {\n        return this.readUTFBytes(this.getUint32());\n    }\n    /**\n     * <p>从字节流中读取一个 UTF-8 字符串。假定字符串的前缀是一个无符号的短整型（以此字节表示要读取的长度）。</p>\n     * <p>对应的写入方法为： writeUTFString 。</p>\n     * @return 读取的字符串。\n     */\n    getUTFString() {\n        return this.readUTFString();\n    }\n    /**\n     * @private\n     * 读字符串，必须是 writeUTFBytes 方法写入的字符串。\n     * @param len\t要读的buffer长度，默认将读取缓冲区全部数据。\n     * @return 读取的字符串。\n     */\n    readUTFBytes(len = -1) {\n        if (len === 0)\n            return \"\";\n        var lastBytes = this.bytesAvailable;\n        if (len > lastBytes)\n            throw \"readUTFBytes error - Out of bounds\";\n        len = len > 0 ? len : lastBytes;\n        return this._rUTF(len);\n    }\n    /**\n     * <p>从字节流中读取一个由 length 参数指定的长度的 UTF-8 字节序列，并返回一个字符串。</p>\n     * <p>一般读取的是由 writeUTFBytes 方法写入的字符串。</p>\n     * @param len\t要读的buffer长度，默认将读取缓冲区全部数据。\n     * @return 读取的字符串。\n     */\n    getUTFBytes(len = -1) {\n        return this.readUTFBytes(len);\n    }\n    /**\n     * <p>在字节流中写入一个字节。</p>\n     * <p>使用参数的低 8 位。忽略高 24 位。</p>\n     * @param\tvalue\n     */\n    writeByte(value) {\n        this._ensureWrite(this._pos_ + 1);\n        this._d_.setInt8(this._pos_, value);\n        this._pos_ += 1;\n    }\n    /**\n     * <p>从字节流中读取带符号的字节。</p>\n     * <p>返回值的范围是从 -128 到 127。</p>\n     * @return 介于 -128 和 127 之间的整数。\n     */\n    readByte() {\n        if (this._pos_ + 1 > this._length)\n            throw \"readByte error - Out of bounds\";\n        return this._d_.getInt8(this._pos_++);\n    }\n    /**\n     * @private\n     * 从字节流中读取带符号的字节。\n     */\n    getByte() {\n        return this.readByte();\n    }\n    /**\n     * @internal\n     * <p>保证该字节流的可用长度不小于 <code>lengthToEnsure</code> 参数指定的值。</p>\n     * @param\tlengthToEnsure\t指定的长度。\n     */\n    _ensureWrite(lengthToEnsure) {\n        if (this._length < lengthToEnsure)\n            this._length = lengthToEnsure;\n        if (this._allocated_ < lengthToEnsure)\n            this.length = lengthToEnsure;\n    }\n    /**\n     * <p>将指定 arraybuffer 对象中的以 offset 为起始偏移量， length 为长度的字节序列写入字节流。</p>\n     * <p>如果省略 length 参数，则使用默认长度 0，该方法将从 offset 开始写入整个缓冲区；如果还省略了 offset 参数，则写入整个缓冲区。</p>\n     * <p>如果 offset 或 length 小于0，本函数将抛出异常。</p>\n     * @param\tarraybuffer\t需要写入的 Arraybuffer 对象。\n     * @param\toffset\t\tArraybuffer 对象的索引的偏移量（以字节为单位）\n     * @param\tlength\t\t从 Arraybuffer 对象写入到 Byte 对象的长度（以字节为单位）\n     */\n    writeArrayBuffer(arraybuffer, offset = 0, length = 0) {\n        if (offset < 0 || length < 0)\n            throw \"writeArrayBuffer error - Out of bounds\";\n        if (length == 0)\n            length = arraybuffer.byteLength - offset;\n        this._ensureWrite(this._pos_ + length);\n        var uint8array = new Uint8Array(arraybuffer);\n        this._u8d_.set(uint8array.subarray(offset, offset + length), this._pos_);\n        this._pos_ += length;\n    }\n    /**\n     * 读取ArrayBuffer数据\n     * @param\tlength\n     * @return\n     */\n    readArrayBuffer(length) {\n        var rst;\n        rst = this._u8d_.buffer.slice(this._pos_, this._pos_ + length);\n        this._pos_ = this._pos_ + length;\n        return rst;\n    }\n}\n/**\n * <p>主机字节序，是 CPU 存放数据的两种不同顺序，包括小端字节序和大端字节序。通过 <code>getSystemEndian</code> 可以获取当前系统的字节序。</p>\n * <p> <code>BIG_ENDIAN</code> ：大端字节序，地址低位存储值的高位，地址高位存储值的低位。有时也称之为网络字节序。<br/>\n * <code>LITTLE_ENDIAN</code> ：小端字节序，地址低位存储值的低位，地址高位存储值的高位。</p>\n */\nByte.BIG_ENDIAN = \"bigEndian\";\n/**\n * <p>主机字节序，是 CPU 存放数据的两种不同顺序，包括小端字节序和大端字节序。通过 <code>getSystemEndian</code> 可以获取当前系统的字节序。</p>\n * <p> <code>LITTLE_ENDIAN</code> ：小端字节序，地址低位存储值的低位，地址高位存储值的高位。<br/>\n * <code>BIG_ENDIAN</code> ：大端字节序，地址低位存储值的高位，地址高位存储值的低位。有时也称之为网络字节序。</p>\n */\nByte.LITTLE_ENDIAN = \"littleEndian\";\n/**@private */\nByte._sysEndian = null;\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/utils/Byte.ts?");

/***/ }),

/***/ "./src/utils/ByteBuffer.ts":
/*!*********************************!*\
  !*** ./src/utils/ByteBuffer.ts ***!
  \*********************************/
/*! exports provided: ByteBuffer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ByteBuffer\", function() { return ByteBuffer; });\nclass ByteBuffer {\n    constructor(buffer, offset = 0, length = -1) {\n        this.version = 0;\n        if (length == -1)\n            length = buffer.byteLength - offset;\n        this._bytes = new Uint8Array(buffer, offset, length);\n        this._view = new DataView(this._bytes.buffer, offset, length);\n        this._pos = 0;\n        this._length = length;\n    }\n    get data() {\n        return this._bytes;\n    }\n    get position() {\n        return this._pos;\n    }\n    set position(value) {\n        if (value > this._length)\n            throw \"Out of bounds\";\n        this._pos = value;\n    }\n    skip(count) {\n        this._pos += count;\n    }\n    validate(forward) {\n        if (this._pos + forward > this._length)\n            throw \"Out of bounds\";\n    }\n    readByte() {\n        this.validate(1);\n        return this._view.getInt8(this._pos++);\n    }\n    readUbyte() {\n        return this._bytes[this._pos++];\n    }\n    readBool() {\n        return this.readByte() == 1;\n    }\n    readShort() {\n        this.validate(2);\n        let ret = this._view.getInt16(this._pos, this.littleEndian);\n        this._pos += 2;\n        return ret;\n    }\n    readUshort() {\n        this.validate(2);\n        let ret = this._view.getUint16(this._pos, this.littleEndian);\n        this._pos += 2;\n        return ret;\n    }\n    readInt() {\n        this.validate(4);\n        let ret = this._view.getInt32(this._pos, this.littleEndian);\n        this._pos += 4;\n        return ret;\n    }\n    readUint() {\n        this.validate(4);\n        let ret = this._view.getUint32(this._pos, this.littleEndian);\n        this._pos += 4;\n        return ret;\n    }\n    readFloat() {\n        this.validate(4);\n        let ret = this._view.getFloat32(this._pos, this.littleEndian);\n        this._pos += 4;\n        return ret;\n    }\n    readString(len) {\n        if (len == undefined)\n            len = this.readUshort();\n        this.validate(len);\n        let v = \"\", max = this._pos + len, c = 0, c2 = 0, c3 = 0, f = String.fromCharCode;\n        let u = this._bytes, i = 0;\n        let pos = this._pos;\n        while (pos < max) {\n            c = u[pos++];\n            if (c < 0x80) {\n                if (c != 0) {\n                    v += f(c);\n                }\n            }\n            else if (c < 0xE0) {\n                v += f(((c & 0x3F) << 6) | (u[pos++] & 0x7F));\n            }\n            else if (c < 0xF0) {\n                c2 = u[pos++];\n                v += f(((c & 0x1F) << 12) | ((c2 & 0x7F) << 6) | (u[pos++] & 0x7F));\n            }\n            else {\n                c2 = u[pos++];\n                c3 = u[pos++];\n                v += f(((c & 0x0F) << 18) | ((c2 & 0x7F) << 12) | ((c3 << 6) & 0x7F) | (u[pos++] & 0x7F));\n            }\n            i++;\n        }\n        this._pos += len;\n        return v;\n    }\n    readS() {\n        var index = this.readUshort();\n        if (index == 65534) //null\n            return null;\n        else if (index == 65533)\n            return \"\";\n        else\n            return this.stringTable[index];\n    }\n    readSArray(cnt) {\n        var ret = new Array(cnt);\n        for (var i = 0; i < cnt; i++)\n            ret[i] = this.readS();\n        return ret;\n    }\n    writeS(value) {\n        var index = this.readUshort();\n        if (index != 65534 && index != 65533)\n            this.stringTable[index] = value;\n    }\n    readColor(hasAlpha) {\n        const r = this.readUbyte();\n        const g = this.readUbyte();\n        const b = this.readUbyte();\n        const a = this.readUbyte();\n        return (hasAlpha ? (a << 24) : 0) + (r << 16) + (g << 8) + b;\n    }\n    readColorS(hasAlpha) {\n        const r = this.readUbyte();\n        const g = this.readUbyte();\n        const b = this.readUbyte();\n        const a = this.readUbyte();\n        if (hasAlpha && a != 255)\n            return \"rgba(\" + r + \",\" + g + \",\" + b + \",\" + (a / 255) + \")\";\n        else {\n            var sr = r.toString(16);\n            var sg = g.toString(16);\n            var sb = b.toString(16);\n            if (sr.length == 1)\n                sr = \"0\" + sr;\n            if (sg.length == 1)\n                sg = \"0\" + sg;\n            if (sb.length == 1)\n                sb = \"0\" + sb;\n            return \"#\" + sr + sg + sb;\n        }\n    }\n    readChar() {\n        var i = this.readUshort();\n        return String.fromCharCode(i);\n    }\n    readBuffer() {\n        var count = this.readUint();\n        this.validate(count);\n        var ba = new ByteBuffer(this._bytes.buffer, this._bytes.byteOffset + this._pos, count);\n        ba.stringTable = this.stringTable;\n        ba.version = this.version;\n        this._pos += count;\n        return ba;\n    }\n    seek(indexTablePos, blockIndex) {\n        var tmp = this._pos;\n        this._pos = indexTablePos;\n        var segCount = this.readByte();\n        if (blockIndex < segCount) {\n            var useShort = this.readByte() == 1;\n            var newPos;\n            if (useShort) {\n                this._pos += 2 * blockIndex;\n                newPos = this.readUshort();\n            }\n            else {\n                this._pos += 4 * blockIndex;\n                newPos = this.readUint();\n            }\n            if (newPos > 0) {\n                this._pos = indexTablePos + newPos;\n                return true;\n            }\n            else {\n                this._pos = tmp;\n                return false;\n            }\n        }\n        else {\n            this._pos = tmp;\n            return false;\n        }\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/utils/ByteBuffer.ts?");

/***/ }),

/***/ "./src/utils/ChildHitArea.ts":
/*!***********************************!*\
  !*** ./src/utils/ChildHitArea.ts ***!
  \***********************************/
/*! exports provided: ChildHitArea */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ChildHitArea\", function() { return ChildHitArea; });\n/* harmony import */ var _HitArea__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./HitArea */ \"./src/utils/HitArea.ts\");\n\nlet _func = _HitArea__WEBPACK_IMPORTED_MODULE_0__[\"HitArea\"][\"_isHitGraphic\"];\nclass ChildHitArea extends _HitArea__WEBPACK_IMPORTED_MODULE_0__[\"HitArea\"] {\n    constructor(child, reversed) {\n        super();\n        this._tPos = new Phaser.Geom.Point();\n        this._child = child;\n        this._reversed = reversed;\n        if (this._reversed)\n            this.unHit = child.hitArea.hit;\n        else\n            this.hit = child.hitArea.hit;\n    }\n    ;\n    contains(x, y) {\n        var tPos;\n        tPos = this._tPos;\n        tPos.setTo(0, 0);\n        tPos = this._child.toParentPoint(tPos);\n        if (this._reversed)\n            return !_func(x - tPos.x, y - tPos.y, this.unHit);\n        else\n            return _func(x - tPos.x, y - tPos.y, this.hit);\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/utils/ChildHitArea.ts?");

/***/ }),

/***/ "./src/utils/ColorMatrix.ts":
/*!**********************************!*\
  !*** ./src/utils/ColorMatrix.ts ***!
  \**********************************/
/*! exports provided: ColorMatrix */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ColorMatrix\", function() { return ColorMatrix; });\nclass ColorMatrix {\n    constructor(p_brightness, p_contrast, p_saturation, p_hue) {\n        this.matrix = new Array(LENGTH);\n        this.reset();\n        if (p_brightness !== undefined || p_contrast !== undefined || p_saturation !== undefined || p_hue !== undefined)\n            this.adjustColor(p_brightness, p_contrast, p_saturation, p_hue);\n    }\n    reset() {\n        for (var i = 0; i < LENGTH; i++) {\n            this.matrix[i] = IDENTITY_MATRIX[i];\n        }\n    }\n    invert() {\n        this.multiplyMatrix([-1, 0, 0, 0, 255,\n            0, -1, 0, 0, 255,\n            0, 0, -1, 0, 255,\n            0, 0, 0, 1, 0]);\n    }\n    adjustColor(p_brightness, p_contrast, p_saturation, p_hue) {\n        this.adjustHue(p_hue || 0);\n        this.adjustContrast(p_contrast || 0);\n        this.adjustBrightness(p_brightness || 0);\n        this.adjustSaturation(p_saturation || 0);\n    }\n    adjustBrightness(p_val) {\n        p_val = this.cleanValue(p_val, 1) * 255;\n        this.multiplyMatrix([\n            1, 0, 0, 0, p_val,\n            0, 1, 0, 0, p_val,\n            0, 0, 1, 0, p_val,\n            0, 0, 0, 1, 0\n        ]);\n    }\n    adjustContrast(p_val) {\n        p_val = this.cleanValue(p_val, 1);\n        var s = p_val + 1;\n        var o = 128 * (1 - s);\n        this.multiplyMatrix([\n            s, 0, 0, 0, o,\n            0, s, 0, 0, o,\n            0, 0, s, 0, o,\n            0, 0, 0, 1, 0\n        ]);\n    }\n    adjustSaturation(p_val) {\n        p_val = this.cleanValue(p_val, 1);\n        p_val += 1;\n        var invSat = 1 - p_val;\n        var invLumR = invSat * LUMA_R;\n        var invLumG = invSat * LUMA_G;\n        var invLumB = invSat * LUMA_B;\n        this.multiplyMatrix([\n            (invLumR + p_val), invLumG, invLumB, 0, 0,\n            invLumR, (invLumG + p_val), invLumB, 0, 0,\n            invLumR, invLumG, (invLumB + p_val), 0, 0,\n            0, 0, 0, 1, 0\n        ]);\n    }\n    adjustHue(p_val) {\n        p_val = this.cleanValue(p_val, 1);\n        p_val *= Math.PI;\n        var cos = Math.cos(p_val);\n        var sin = Math.sin(p_val);\n        this.multiplyMatrix([\n            ((LUMA_R + (cos * (1 - LUMA_R))) + (sin * -(LUMA_R))), ((LUMA_G + (cos * -(LUMA_G))) + (sin * -(LUMA_G))), ((LUMA_B + (cos * -(LUMA_B))) + (sin * (1 - LUMA_B))), 0, 0,\n            ((LUMA_R + (cos * -(LUMA_R))) + (sin * 0.143)), ((LUMA_G + (cos * (1 - LUMA_G))) + (sin * 0.14)), ((LUMA_B + (cos * -(LUMA_B))) + (sin * -0.283)), 0, 0,\n            ((LUMA_R + (cos * -(LUMA_R))) + (sin * -((1 - LUMA_R)))), ((LUMA_G + (cos * -(LUMA_G))) + (sin * LUMA_G)), ((LUMA_B + (cos * (1 - LUMA_B))) + (sin * LUMA_B)), 0, 0,\n            0, 0, 0, 1, 0\n        ]);\n    }\n    concat(p_matrix) {\n        if (p_matrix.length != LENGTH) {\n            return;\n        }\n        this.multiplyMatrix(p_matrix);\n    }\n    clone() {\n        var result = new ColorMatrix();\n        result.copyMatrix(this.matrix);\n        return result;\n    }\n    copyMatrix(p_matrix) {\n        var l = LENGTH;\n        for (var i = 0; i < l; i++) {\n            this.matrix[i] = p_matrix[i];\n        }\n    }\n    multiplyMatrix(p_matrix) {\n        var col = [];\n        var i = 0;\n        for (var y = 0; y < 4; ++y) {\n            for (var x = 0; x < 5; ++x) {\n                col[i + x] = p_matrix[i] * this.matrix[x] +\n                    p_matrix[i + 1] * this.matrix[x + 5] +\n                    p_matrix[i + 2] * this.matrix[x + 10] +\n                    p_matrix[i + 3] * this.matrix[x + 15] +\n                    (x == 4 ? p_matrix[i + 4] : 0);\n            }\n            i += 5;\n        }\n        this.copyMatrix(col);\n    }\n    cleanValue(p_val, p_limit) {\n        return Math.min(p_limit, Math.max(-p_limit, p_val));\n    }\n}\n// identity matrix constant:\nconst IDENTITY_MATRIX = [\n    1, 0, 0, 0, 0,\n    0, 1, 0, 0, 0,\n    0, 0, 1, 0, 0,\n    0, 0, 0, 1, 0\n];\nconst LENGTH = IDENTITY_MATRIX.length;\nconst LUMA_R = 0.299;\nconst LUMA_G = 0.587;\nconst LUMA_B = 0.114;\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/utils/ColorMatrix.ts?");

/***/ }),

/***/ "./src/utils/DOMEventManager.ts":
/*!**************************************!*\
  !*** ./src/utils/DOMEventManager.ts ***!
  \**************************************/
/*! exports provided: DOMEventManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DOMEventManager\", function() { return DOMEventManager; });\n/* harmony import */ var _event_DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../event/DisplayObjectEvent */ \"./src/event/DisplayObjectEvent.ts\");\n\nclass DOMEventManager extends Phaser.Events.EventEmitter {\n    constructor() {\n        super();\n        this.retEvent = {};\n        this.nullLowestDeltaTimeout = null;\n        /*******************keys*******************/\n        this.$pressedKeys = {};\n        this.$releasedKeys = {};\n        this.$downKeys = [];\n        //resize\n        window.addEventListener(\"resize\", e => this.notifyResizeEvents(e), false);\n        //modifer keys\n        window.addEventListener('keydown', e => this.onWindowKeyDown(e), false);\n        window.addEventListener('keyup', e => this.onWindowKeyUp(e), false);\n        //mouse wheel\n        const toBind = ('onwheel' in document || document[\"documentMode\"] >= 9) ?\n            ['wheel'] : ['mousewheel', 'DomMouseScroll', 'MozMousePixelScroll'];\n        for (let i = toBind.length; i;) {\n            window.addEventListener(toBind[--i], e => this.onMouseWheel(e), false);\n        }\n    }\n    //resize\n    notifyResizeEvents(e) {\n        this.emit('resize');\n    }\n    onMouseWheel(event) {\n        let orgEvent = (event || window.event), delta = 0, deltaX = 0, deltaY = 0, absDelta = 0;\n        if ('detail' in orgEvent) {\n            deltaY = orgEvent.detail * -1;\n        }\n        if ('wheelDelta' in orgEvent) {\n            deltaY = orgEvent.wheelDelta;\n        }\n        if ('wheelDeltaY' in orgEvent) {\n            deltaY = orgEvent.wheelDeltaY;\n        }\n        if ('wheelDeltaX' in orgEvent) {\n            deltaX = orgEvent.wheelDeltaX * -1;\n        }\n        //FF DOMMouseScroll\n        if ('axis' in orgEvent && orgEvent.axis === orgEvent.HORIZONTAL_AXIS) {\n            deltaX = deltaY * -1;\n            deltaY = 0;\n        }\n        delta = deltaY === 0 ? deltaX : deltaY;\n        if ('deltaY' in orgEvent) {\n            deltaY = orgEvent.deltaY * -1;\n            delta = deltaY;\n        }\n        if ('deltaX' in orgEvent) {\n            deltaX = orgEvent.deltaX;\n            if (deltaY === 0) {\n                delta = deltaX * -1;\n            }\n        }\n        if (deltaY === 0 && deltaX === 0) {\n            return;\n        }\n        // Delta modes:\n        //   * deltaMode 0 is by pixels, nothing to do\n        //   * deltaMode 1 is by lines\n        //   * deltaMode 2 is by pages\n        if (orgEvent.deltaMode === 1) {\n            const lineHeight = 16; //fontSize - line-height;\n            delta *= lineHeight;\n            deltaY *= lineHeight;\n            deltaX *= lineHeight;\n        }\n        else if (orgEvent.deltaMode === 2) {\n            const pageHeight = 16; //dom.clientHeight = page-height\n            delta *= pageHeight;\n            deltaY *= pageHeight;\n            deltaX *= pageHeight;\n        }\n        absDelta = Math.max(Math.abs(deltaY), Math.abs(deltaX));\n        if (!this.lowestDelta || absDelta < this.lowestDelta) {\n            this.lowestDelta = absDelta;\n            if (orgEvent.type === 'mousewheel' && absDelta % 120 === 0)\n                this.lowestDelta /= 40;\n        }\n        if (orgEvent.type === 'mousewheel' && absDelta % 120 === 0) {\n            delta /= 40;\n            deltaX /= 40;\n            deltaY /= 40;\n        }\n        delta = Math[delta >= 1 ? 'floor' : 'ceil'](delta / this.lowestDelta);\n        deltaX = Math[deltaX >= 1 ? 'floor' : 'ceil'](deltaX / this.lowestDelta);\n        deltaY = Math[deltaY >= 1 ? 'floor' : 'ceil'](deltaY / this.lowestDelta);\n        this.retEvent.delta = delta;\n        this.retEvent.deltaX = deltaX;\n        this.retEvent.deltaY = deltaY;\n        this.retEvent.deltaFactor = this.lowestDelta;\n        this.retEvent.deltaMode = 0;\n        if (this.nullLowestDeltaTimeout) {\n            clearTimeout(this.nullLowestDeltaTimeout);\n        }\n        this.nullLowestDeltaTimeout = setTimeout(() => this.nullLowestDelta(), 200);\n        this.emit(_event_DisplayObjectEvent__WEBPACK_IMPORTED_MODULE_0__[\"DisplayObjectEvent\"].MOUSE_WHEEL, this.retEvent);\n    }\n    nullLowestDelta() {\n        this.lowestDelta = null;\n    }\n    isKeyDown(key) {\n        return this.$downKeys.indexOf(key) >= 0;\n    }\n    isKeyPressed(key) {\n        return !!this.$pressedKeys[key];\n    }\n    isKeyReleased(key) {\n        return !!this.$releasedKeys[key];\n    }\n    onWindowKeyDown(evt) {\n        let key = evt.which || evt.keyCode;\n        if (!this.isKeyDown(key)) {\n            this.$downKeys.push(key);\n            this.$pressedKeys[key] = true;\n            this.emit('keyPressed', key);\n        }\n    }\n    onWindowKeyUp(evt) {\n        let key = evt.which || evt.keyCode;\n        if (this.isKeyDown(key)) {\n            this.$pressedKeys[key] = false;\n            this.$releasedKeys[key] = true;\n            let index = this.$downKeys.indexOf(key);\n            if (index >= 0)\n                this.$downKeys.splice(index, 1);\n            this.emit('keyReleased', key);\n        }\n    }\n}\nDOMEventManager.inst = new DOMEventManager();\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/utils/DOMEventManager.ts?");

/***/ }),

/***/ "./src/utils/HitArea.ts":
/*!******************************!*\
  !*** ./src/utils/HitArea.ts ***!
  \******************************/
/*! exports provided: HitArea */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HitArea\", function() { return HitArea; });\n/* harmony import */ var _GRoot__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../GRoot */ \"./src/GRoot.ts\");\n/* harmony import */ var _display_Graphics__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../display/Graphics */ \"./src/display/Graphics.ts\");\n\n\n/**\n * 鼠标点击区域，可以设置绘制一系列矢量图作为点击区域和非点击区域（目前只支持圆形，矩形，多边形）\n *\n */\nclass HitArea {\n    /**\n     * 检测对象是否包含指定的点。\n     * @param\tx\t点的 X 轴坐标值（水平位置）。\n     * @param\ty\t点的 Y 轴坐标值（垂直位置）。\n     * @return\t如果包含指定的点，则值为 true；否则为 false。\n     */\n    contains(x, y) {\n        if (!HitArea._isHitGraphic(x, y, this.hit))\n            return false;\n        return !HitArea._isHitGraphic(x, y, this.unHit);\n    }\n    /**\n     * @internal\n     * 是否击中Graphic\n     */\n    static _isHitGraphic(x, y, graphic) {\n        if (!graphic)\n            return false;\n        if (HitArea._isHitCmd(x, y, graphic))\n            return true;\n        return false;\n    }\n    /**\n     * @internal\n     * 是否击中绘图指令\n     */\n    static _isHitCmd(x, y, g) {\n        let rst = false;\n        const type = g.graphicsType;\n        switch (type) {\n            case _display_Graphics__WEBPACK_IMPORTED_MODULE_1__[\"GRAPHICSTYPE\"].CIRCLE:\n                var d;\n                x -= g.x;\n                y -= g.y;\n                d = x * x + y * y;\n                rst = d < g.radius * g.radius;\n                break;\n            case _display_Graphics__WEBPACK_IMPORTED_MODULE_1__[\"GRAPHICSTYPE\"].POLY:\n                x -= g.x;\n                y -= g.y;\n                rst = HitArea._ptInPolygon(x, y, g.points);\n                break;\n                break;\n            case _display_Graphics__WEBPACK_IMPORTED_MODULE_1__[\"GRAPHICSTYPE\"].RECTANGLE:\n            default:\n                HitArea._rect.setTo(g.x, g.y, g.width, g.height);\n                rst = HitArea._rect.contains(x, y);\n                break;\n        }\n        return rst;\n    }\n    /**\n     * @internal\n     * 坐标是否在多边形内\n     */\n    static _ptInPolygon(x, y, areaPoints) {\n        var p = HitArea._ptPoint;\n        p.setTo(x, y);\n        // 交点个数\n        var nCross = 0;\n        var p1x, p1y, p2x, p2y;\n        var len;\n        len = areaPoints.length;\n        for (var i = 0; i < len; i += 2) {\n            p1x = areaPoints[i];\n            p1y = areaPoints[i + 1];\n            p2x = areaPoints[(i + 2) % len];\n            p2y = areaPoints[(i + 3) % len];\n            //var p1:Point = areaPoints[i];\n            //var p2:Point = areaPoints[(i + 1) % areaPoints.length]; // 最后一个点与第一个点连线\n            if (p1y == p2y)\n                continue;\n            if (p.y < Math.min(p1y, p2y))\n                continue;\n            if (p.y >= Math.max(p1y, p2y))\n                continue;\n            // 求交点的x坐标\n            var tx = (p.y - p1y) * (p2x - p1x) / (p2y - p1y) + p1x;\n            // 只统计p1p2与p向右射线的交点\n            if (tx > p.x)\n                nCross++;\n        }\n        // 交点为偶数，点在多边形之外\n        return (nCross % 2 == 1);\n    }\n    /**\n     * 可点击区域，可以设置绘制一系列矢量图作为点击区域（目前只支持圆形，矩形，多边形）\n     */\n    get hit() {\n        if (!this._hit)\n            this._hit = new _display_Graphics__WEBPACK_IMPORTED_MODULE_1__[\"Graphics\"](_GRoot__WEBPACK_IMPORTED_MODULE_0__[\"GRoot\"].inst.scene);\n        return this._hit;\n    }\n    set hit(value) {\n        this._hit = value;\n    }\n    /**\n     * 不可点击区域，可以设置绘制一系列矢量图作为非点击区域（目前只支持圆形，矩形，多边形）\n     */\n    get unHit() {\n        if (!this._unHit)\n            this._unHit = new _display_Graphics__WEBPACK_IMPORTED_MODULE_1__[\"Graphics\"](_GRoot__WEBPACK_IMPORTED_MODULE_0__[\"GRoot\"].inst.scene);\n        return this._unHit;\n    }\n    set unHit(value) {\n        this._unHit = value;\n    }\n}\n/**@private */\nHitArea._rect = new Phaser.Geom.Rectangle();\n/**@private */\nHitArea._ptPoint = new Phaser.Geom.Point();\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/utils/HitArea.ts?");

/***/ }),

/***/ "./src/utils/PixelHitTest.ts":
/*!***********************************!*\
  !*** ./src/utils/PixelHitTest.ts ***!
  \***********************************/
/*! exports provided: PixelHitTest, PixelHitTestData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PixelHitTest\", function() { return PixelHitTest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PixelHitTestData\", function() { return PixelHitTestData; });\n/* harmony import */ var _HitArea__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./HitArea */ \"./src/utils/HitArea.ts\");\n\nclass PixelHitTest extends _HitArea__WEBPACK_IMPORTED_MODULE_0__[\"HitArea\"] {\n    constructor(data, offsetX, offsetY) {\n        super();\n        this._data = data;\n        this.offsetX = offsetX;\n        this.offsetY = offsetY;\n        this.scaleX = 1;\n        this.scaleY = 1;\n    }\n    contains(x, y) {\n        x = Math.floor((x / this.scaleX - this.offsetX) * this._data.scale);\n        y = Math.floor((y / this.scaleY - this.offsetY) * this._data.scale);\n        if (x < 0 || y < 0 || x >= this._data.pixelWidth)\n            return false;\n        var pos = y * this._data.pixelWidth + x;\n        var pos2 = Math.floor(pos / 8);\n        var pos3 = pos % 8;\n        if (pos2 >= 0 && pos2 < this._data.pixels.length)\n            return ((this._data.pixels[pos2] >> pos3) & 0x1) == 1;\n        else\n            return false;\n    }\n}\nclass PixelHitTestData {\n    constructor() {\n    }\n    load(ba) {\n        ba.getInt32();\n        this.pixelWidth = ba.getInt32();\n        this.scale = 1 / ba.readByte();\n        var len = ba.getInt32();\n        this.pixels = [];\n        for (var i = 0; i < len; i++) {\n            var j = ba.readByte();\n            if (j < 0)\n                j += 256;\n            this.pixels[i] = j;\n        }\n    }\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/utils/PixelHitTest.ts?");

/***/ }),

/***/ "./src/utils/ToolSet.ts":
/*!******************************!*\
  !*** ./src/utils/ToolSet.ts ***!
  \******************************/
/*! exports provided: ToolSet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ToolSet\", function() { return ToolSet; });\n/* harmony import */ var _ColorMatrix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ColorMatrix */ \"./src/utils/ColorMatrix.ts\");\n\nclass ToolSet {\n    static startsWith(source, str, ignoreCase) {\n        if (!source)\n            return false;\n        else if (source.length < str.length)\n            return false;\n        else {\n            source = source.substring(0, str.length);\n            if (!ignoreCase)\n                return source == str;\n            else\n                return source.toLowerCase() == str.toLowerCase();\n        }\n    }\n    static endsWith(source, str, ignoreCase) {\n        if (!source)\n            return false;\n        else if (source.length < str.length)\n            return false;\n        else {\n            source = source.substring(source.length - str.length);\n            if (!ignoreCase)\n                return source == str;\n            else\n                return source.toLowerCase() == str.toLowerCase();\n        }\n    }\n    static trimRight(targetString) {\n        var tempChar = \"\";\n        for (var i = targetString.length - 1; i >= 0; i--) {\n            tempChar = targetString.charAt(i);\n            if (tempChar != \" \" && tempChar != \"\\n\" && tempChar != \"\\r\") {\n                break;\n            }\n        }\n        return targetString.substring(0, i + 1);\n    }\n    static convertToHtmlColor(argb, hasAlpha) {\n        var alpha;\n        if (hasAlpha)\n            alpha = (argb >> 24 & 0xFF).toString(16);\n        else\n            alpha = \"\";\n        var red = (argb >> 16 & 0xFF).toString(16);\n        var green = (argb >> 8 & 0xFF).toString(16);\n        var blue = (argb & 0xFF).toString(16);\n        if (alpha.length == 1)\n            alpha = \"0\" + alpha;\n        if (red.length == 1)\n            red = \"0\" + red;\n        if (green.length == 1)\n            green = \"0\" + green;\n        if (blue.length == 1)\n            blue = \"0\" + blue;\n        return \"#\" + alpha + red + green + blue;\n    }\n    static convertFromHtmlColor(str, hasAlpha) {\n        if (str.length < 1)\n            return 0;\n        if (str.charAt(0) == \"#\")\n            str = str.substr(1);\n        if (str.length == 8)\n            return (parseInt(str.substr(0, 2), 16) << 24) + parseInt(str.substr(2), 16);\n        else if (hasAlpha)\n            return 0xFF000000 + parseInt(str, 16);\n        else\n            return parseInt(str, 16);\n    }\n    static displayObjectToGObject(obj) {\n        // public static displayObjectToGObject(obj: Laya.Node): GObject {\n        // while (obj && !(obj instanceof Laya.Stage)) {\n        //     if (obj[\"$owner\"])\n        //         return obj[\"$owner\"];\n        //     obj = obj.parent;\n        // }\n        // TODO\n        throw new Error(\"TODO\");\n        return null;\n    }\n    static encodeHTML(str) {\n        if (!str)\n            return \"\";\n        else\n            return str.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\")\n                .replace(/>/g, \"&gt;\").replace(/'/g, \"&apos;\").replace(/\"/g, \"&quot;\");\n    }\n    static clamp(value, min, max) {\n        if (value < min)\n            value = min;\n        else if (value > max)\n            value = max;\n        return value;\n    }\n    static clamp01(value) {\n        if (isNaN(value))\n            value = 0;\n        else if (value > 1)\n            value = 1;\n        else if (value < 0)\n            value = 0;\n        return value;\n    }\n    static lerp(start, end, percent) {\n        return (start + percent * (end - start));\n    }\n    static repeat(t, length) {\n        return t - Math.floor(t / length) * length;\n    }\n    static distance(x1, y1, x2, y2) {\n        return Math.sqrt(Math.pow(x1 - x2, 2) + Math.pow(y1 - y2, 2));\n    }\n    // public static setColorFilter(obj: Laya.Sprite, color?: string | number[] | boolean): void {\n    static setColorFilter(obj, color) {\n        // TODO\n        throw new Error(\"TODO\");\n        // var filter: Laya.ColorFilter = (<any>obj).$_colorFilter_; //cached instance\n        // var filters: any[] = obj.filters;\n        // var toApplyColor: any;\n        // var toApplyGray: boolean;\n        // var tp: string = typeof (color);\n        // if (tp == \"boolean\") //gray\n        // {\n        //     toApplyColor = filter ? (<any>filter).$_color_ : null;\n        //     toApplyGray = <boolean>color;\n        // }\n        // else {\n        //     if (tp == \"string\") {\n        //         var arr: any[] = Laya.ColorUtils.create(color).arrColor;\n        //         if (arr[0] == 1 && arr[1] == 1 && arr[2] == 1)\n        //             color = null;\n        //         else {\n        //             color = [arr[0], 0, 0, 0, 0,\n        //                 0, arr[1], 0, 0, 0,\n        //                 0, 0, arr[2], 0, 0,\n        //                 0, 0, 0, 1, 0];\n        //         }\n        //     }\n        //     toApplyColor = color;\n        //     toApplyGray = filter ? (<any>filter).$_grayed_ : false;\n        // }\n        // if ((!toApplyColor && toApplyColor != 0) && !toApplyGray) {\n        //     if (filters && filter) {\n        //         let i: number = filters.indexOf(filter);\n        //         if (i != -1) {\n        //             filters.splice(i, 1);\n        //             if (filters.length > 0)\n        //                 obj.filters = filters;\n        //             else\n        //                 obj.filters = null;\n        //         }\n        //     }\n        //     return;\n        // }\n        // if (!filter) {\n        //     filter = new Laya.ColorFilter();\n        //     (<any>obj).$_colorFilter_ = filter;\n        // }\n        // if (!filters)\n        //     filters = [filter];\n        // else {\n        //     let i: number = filters.indexOf(filter);\n        //     if (i == -1)\n        //         filters.push(filter);\n        // }\n        // obj.filters = filters;\n        // (<any>filter).$_color_ = toApplyColor;\n        // (<any>filter).$_grayed_ = toApplyGray;\n        // filter.reset();\n        // if (toApplyGray)\n        //     filter.gray();\n        // else if (toApplyColor.length == 20)\n        //     filter.setByMatrix(toApplyColor);\n        // else\n        //     filter.setByMatrix(getColorMatrix(toApplyColor[0], toApplyColor[1], toApplyColor[2], toApplyColor[3]));\n    }\n}\nlet helper = new _ColorMatrix__WEBPACK_IMPORTED_MODULE_0__[\"ColorMatrix\"]();\nfunction getColorMatrix(p_brightness, p_contrast, p_saturation, p_hue, result) {\n    result = result || new Array(_ColorMatrix__WEBPACK_IMPORTED_MODULE_0__[\"ColorMatrix\"].length);\n    helper.reset();\n    helper.adjustColor(p_brightness, p_contrast, p_saturation, p_hue);\n    helper.matrix.forEach((e, i) => result[i] = e);\n    return result;\n}\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/utils/ToolSet.ts?");

/***/ }),

/***/ "./src/utils/UBBParser.ts":
/*!********************************!*\
  !*** ./src/utils/UBBParser.ts ***!
  \********************************/
/*! exports provided: UBBParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UBBParser\", function() { return UBBParser; });\nclass UBBParser {\n    constructor() {\n        this._readPos = 0;\n        this.defaultImgWidth = 0;\n        this.defaultImgHeight = 0;\n        this._handlers = {};\n        this._handlers[\"url\"] = this.onTag_URL;\n        this._handlers[\"img\"] = this.onTag_IMG;\n        this._handlers[\"b\"] = this.onTag_B;\n        this._handlers[\"i\"] = this.onTag_I;\n        this._handlers[\"u\"] = this.onTag_U;\n        this._handlers[\"sup\"] = this.onTag_Simple;\n        this._handlers[\"sub\"] = this.onTag_Simple;\n        this._handlers[\"color\"] = this.onTag_COLOR;\n        this._handlers[\"font\"] = this.onTag_FONT;\n        this._handlers[\"size\"] = this.onTag_SIZE;\n    }\n    onTag_URL(tagName, end, attr) {\n        if (!end) {\n            if (attr != null)\n                return \"<a href=\\\"\" + attr + \"\\\" target=\\\"_blank\\\">\";\n            else {\n                var href = this.getTagText();\n                return \"<a href=\\\"\" + href + \"\\\" target=\\\"_blank\\\">\";\n            }\n        }\n        else\n            return \"</a>\";\n    }\n    onTag_IMG(tagName, end, attr) {\n        if (!end) {\n            var src = this.getTagText(true);\n            if (!src)\n                return null;\n            if (this.defaultImgWidth)\n                return \"<img src=\\\"\" + src + \"\\\" width=\\\"\" + this.defaultImgWidth + \"\\\" height=\\\"\" + this.defaultImgHeight + \"\\\"/>\";\n            else\n                return \"<img src=\\\"\" + src + \"\\\"/>\";\n        }\n        else\n            return null;\n    }\n    onTag_B(tagName, end, attr) {\n        return end ? (\"</span>\") : (\"<span style='font-weight:bold'>\");\n    }\n    onTag_I(tagName, end, attr) {\n        return end ? (\"</span>\") : (\"<span style='font-style:italic'>\");\n    }\n    onTag_U(tagName, end, attr) {\n        return end ? (\"</span>\") : (\"<span style='text-decoration:underline'>\");\n    }\n    onTag_Simple(tagName, end, attr) {\n        return end ? (\"</\" + tagName + \">\") : (\"<\" + tagName + \">\");\n    }\n    onTag_COLOR(tagName, end, attr) {\n        if (!end) {\n            this.lastColor = attr;\n            return \"<span style=\\\"color:\" + attr + \"\\\">\";\n        }\n        else\n            return \"</span>\";\n    }\n    onTag_FONT(tagName, end, attr) {\n        if (!end)\n            return \"<span style=\\\"font-family:\" + attr + \"\\\">\";\n        else\n            return \"</span>\";\n    }\n    onTag_SIZE(tagName, end, attr) {\n        if (!end) {\n            this.lastSize = attr;\n            return \"<span style=\\\"font-size:\" + attr + \"\\\">\";\n        }\n        else\n            return \"</span>\";\n    }\n    getTagText(remove) {\n        var pos1 = this._readPos;\n        var pos2;\n        var result = \"\";\n        while ((pos2 = this._text.indexOf(\"[\", pos1)) != -1) {\n            if (this._text.charCodeAt(pos2 - 1) == 92) //\\\n             {\n                result += this._text.substring(pos1, pos2 - 1);\n                result += \"[\";\n                pos1 = pos2 + 1;\n            }\n            else {\n                result += this._text.substring(pos1, pos2);\n                break;\n            }\n        }\n        if (pos2 == -1)\n            return null;\n        if (remove)\n            this._readPos = pos2;\n        return result;\n    }\n    parse(text, remove) {\n        this._text = text;\n        this.lastColor = null;\n        this.lastSize = null;\n        var pos1 = 0, pos2, pos3;\n        var end;\n        var tag, attr;\n        var repl;\n        var func;\n        var result = \"\";\n        while ((pos2 = this._text.indexOf(\"[\", pos1)) != -1) {\n            if (pos2 > 0 && this._text.charCodeAt(pos2 - 1) == 92) //\\\n             {\n                result += this._text.substring(pos1, pos2 - 1);\n                result += \"[\";\n                pos1 = pos2 + 1;\n                continue;\n            }\n            result += this._text.substring(pos1, pos2);\n            pos1 = pos2;\n            pos2 = this._text.indexOf(\"]\", pos1);\n            if (pos2 == -1)\n                break;\n            end = this._text.charAt(pos1 + 1) == '/';\n            tag = this._text.substring(end ? pos1 + 2 : pos1 + 1, pos2);\n            this._readPos = pos2 + 1;\n            attr = null;\n            repl = null;\n            pos3 = tag.indexOf(\"=\");\n            if (pos3 != -1) {\n                attr = tag.substring(pos3 + 1);\n                tag = tag.substring(0, pos3);\n            }\n            tag = tag.toLowerCase();\n            func = this._handlers[tag];\n            if (func != null) {\n                if (!remove) {\n                    repl = func.call(this, tag, end, attr);\n                    if (repl != null)\n                        result += repl;\n                }\n            }\n            else\n                result += this._text.substring(pos1, this._readPos);\n            pos1 = this._readPos;\n        }\n        if (pos1 < this._text.length)\n            result += this._text.substr(pos1);\n        this._text = null;\n        return result;\n    }\n}\nUBBParser.inst = new UBBParser();\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/utils/UBBParser.ts?");

/***/ }),

/***/ "./src/utils/index.ts":
/*!****************************!*\
  !*** ./src/utils/index.ts ***!
  \****************************/
/*! exports provided: Byte, ByteBuffer, ChildHitArea, ColorMatrix, DOMEventManager, HitArea, PixelHitTest, PixelHitTestData, ToolSet, UBBParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Byte__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Byte */ \"./src/utils/Byte.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Byte\", function() { return _Byte__WEBPACK_IMPORTED_MODULE_0__[\"Byte\"]; });\n\n/* harmony import */ var _ByteBuffer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ByteBuffer */ \"./src/utils/ByteBuffer.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ByteBuffer\", function() { return _ByteBuffer__WEBPACK_IMPORTED_MODULE_1__[\"ByteBuffer\"]; });\n\n/* harmony import */ var _ChildHitArea__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ChildHitArea */ \"./src/utils/ChildHitArea.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ChildHitArea\", function() { return _ChildHitArea__WEBPACK_IMPORTED_MODULE_2__[\"ChildHitArea\"]; });\n\n/* harmony import */ var _ColorMatrix__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ColorMatrix */ \"./src/utils/ColorMatrix.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ColorMatrix\", function() { return _ColorMatrix__WEBPACK_IMPORTED_MODULE_3__[\"ColorMatrix\"]; });\n\n/* harmony import */ var _DOMEventManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./DOMEventManager */ \"./src/utils/DOMEventManager.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DOMEventManager\", function() { return _DOMEventManager__WEBPACK_IMPORTED_MODULE_4__[\"DOMEventManager\"]; });\n\n/* harmony import */ var _HitArea__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./HitArea */ \"./src/utils/HitArea.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"HitArea\", function() { return _HitArea__WEBPACK_IMPORTED_MODULE_5__[\"HitArea\"]; });\n\n/* harmony import */ var _PixelHitTest__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./PixelHitTest */ \"./src/utils/PixelHitTest.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"PixelHitTest\", function() { return _PixelHitTest__WEBPACK_IMPORTED_MODULE_6__[\"PixelHitTest\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"PixelHitTestData\", function() { return _PixelHitTest__WEBPACK_IMPORTED_MODULE_6__[\"PixelHitTestData\"]; });\n\n/* harmony import */ var _ToolSet__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ToolSet */ \"./src/utils/ToolSet.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ToolSet\", function() { return _ToolSet__WEBPACK_IMPORTED_MODULE_7__[\"ToolSet\"]; });\n\n/* harmony import */ var _UBBParser__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./UBBParser */ \"./src/utils/UBBParser.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"UBBParser\", function() { return _UBBParser__WEBPACK_IMPORTED_MODULE_8__[\"UBBParser\"]; });\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack://fairygui-phaser/./src/utils/index.ts?");

/***/ }),

/***/ "tooqingphaser":
/*!********************************!*\
  !*** external "tooqingphaser" ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_tooqingphaser__;\n\n//# sourceURL=webpack://fairygui-phaser/external_%22tooqingphaser%22?");

/***/ })

/******/ });
});